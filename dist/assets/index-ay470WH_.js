(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function o(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=o(l);fetch(l.href,c)}})();var l0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ra(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jh={exports:{}},Ou={},zh={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function R2(){if(u0)return ht;u0=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,P={};function R(O,K,J){this.props=O,this.context=K,this.refs=P,this.updater=J||_}R.prototype.isReactComponent={},R.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},R.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function I(){}I.prototype=R.prototype;function k(O,K,J){this.props=O,this.context=K,this.refs=P,this.updater=J||_}var x=k.prototype=new I;x.constructor=k,C(x,R.prototype),x.isPureReactComponent=!0;var T=Array.isArray,A=Object.prototype.hasOwnProperty,M={current:null},Y={key:!0,ref:!0,__self:!0,__source:!0};function F(O,K,J){var ue,me={},se=null,X=null;if(K!=null)for(ue in K.ref!==void 0&&(X=K.ref),K.key!==void 0&&(se=""+K.key),K)A.call(K,ue)&&!Y.hasOwnProperty(ue)&&(me[ue]=K[ue]);var oe=arguments.length-2;if(oe===1)me.children=J;else if(1<oe){for(var ve=Array(oe),we=0;we<oe;we++)ve[we]=arguments[we+2];me.children=ve}if(O&&O.defaultProps)for(ue in oe=O.defaultProps,oe)me[ue]===void 0&&(me[ue]=oe[ue]);return{$$typeof:e,type:O,key:se,ref:X,props:me,_owner:M.current}}function z(O,K){return{$$typeof:e,type:O.type,key:K,ref:O.ref,props:O.props,_owner:O._owner}}function j(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function $(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(J){return K[J]})}var Q=/\/+/g;function te(O,K){return typeof O=="object"&&O!==null&&O.key!=null?$(""+O.key):K.toString(36)}function re(O,K,J,ue,me){var se=typeof O;(se==="undefined"||se==="boolean")&&(O=null);var X=!1;if(O===null)X=!0;else switch(se){case"string":case"number":X=!0;break;case"object":switch(O.$$typeof){case e:case n:X=!0}}if(X)return X=O,me=me(X),O=ue===""?"."+te(X,0):ue,T(me)?(J="",O!=null&&(J=O.replace(Q,"$&/")+"/"),re(me,K,J,"",function(we){return we})):me!=null&&(j(me)&&(me=z(me,J+(!me.key||X&&X.key===me.key?"":(""+me.key).replace(Q,"$&/")+"/")+O)),K.push(me)),1;if(X=0,ue=ue===""?".":ue+":",T(O))for(var oe=0;oe<O.length;oe++){se=O[oe];var ve=ue+te(se,oe);X+=re(se,K,J,ve,me)}else if(ve=v(O),typeof ve=="function")for(O=ve.call(O),oe=0;!(se=O.next()).done;)se=se.value,ve=ue+te(se,oe++),X+=re(se,K,J,ve,me);else if(se==="object")throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return X}function ee(O,K,J){if(O==null)return O;var ue=[],me=0;return re(O,ue,"","",function(se){return K.call(J,se,me++)}),ue}function ge(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(J){(O._status===0||O._status===-1)&&(O._status=1,O._result=J)},function(J){(O._status===0||O._status===-1)&&(O._status=2,O._result=J)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var L={current:null},B={transition:null},V={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:B,ReactCurrentOwner:M};function H(){throw Error("act(...) is not supported in production builds of React.")}return ht.Children={map:ee,forEach:function(O,K,J){ee(O,function(){K.apply(this,arguments)},J)},count:function(O){var K=0;return ee(O,function(){K++}),K},toArray:function(O){return ee(O,function(K){return K})||[]},only:function(O){if(!j(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},ht.Component=R,ht.Fragment=o,ht.Profiler=l,ht.PureComponent=k,ht.StrictMode=a,ht.Suspense=h,ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,ht.act=H,ht.cloneElement=function(O,K,J){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ue=C({},O.props),me=O.key,se=O.ref,X=O._owner;if(K!=null){if(K.ref!==void 0&&(se=K.ref,X=M.current),K.key!==void 0&&(me=""+K.key),O.type&&O.type.defaultProps)var oe=O.type.defaultProps;for(ve in K)A.call(K,ve)&&!Y.hasOwnProperty(ve)&&(ue[ve]=K[ve]===void 0&&oe!==void 0?oe[ve]:K[ve])}var ve=arguments.length-2;if(ve===1)ue.children=J;else if(1<ve){oe=Array(ve);for(var we=0;we<ve;we++)oe[we]=arguments[we+2];ue.children=oe}return{$$typeof:e,type:O.type,key:me,ref:se,props:ue,_owner:X}},ht.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:c,_context:O},O.Consumer=O},ht.createElement=F,ht.createFactory=function(O){var K=F.bind(null,O);return K.type=O,K},ht.createRef=function(){return{current:null}},ht.forwardRef=function(O){return{$$typeof:f,render:O}},ht.isValidElement=j,ht.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:ge}},ht.memo=function(O,K){return{$$typeof:m,type:O,compare:K===void 0?null:K}},ht.startTransition=function(O){var K=B.transition;B.transition={};try{O()}finally{B.transition=K}},ht.unstable_act=H,ht.useCallback=function(O,K){return L.current.useCallback(O,K)},ht.useContext=function(O){return L.current.useContext(O)},ht.useDebugValue=function(){},ht.useDeferredValue=function(O){return L.current.useDeferredValue(O)},ht.useEffect=function(O,K){return L.current.useEffect(O,K)},ht.useId=function(){return L.current.useId()},ht.useImperativeHandle=function(O,K,J){return L.current.useImperativeHandle(O,K,J)},ht.useInsertionEffect=function(O,K){return L.current.useInsertionEffect(O,K)},ht.useLayoutEffect=function(O,K){return L.current.useLayoutEffect(O,K)},ht.useMemo=function(O,K){return L.current.useMemo(O,K)},ht.useReducer=function(O,K,J){return L.current.useReducer(O,K,J)},ht.useRef=function(O){return L.current.useRef(O)},ht.useState=function(O){return L.current.useState(O)},ht.useSyncExternalStore=function(O,K,J){return L.current.useSyncExternalStore(O,K,J)},ht.useTransition=function(){return L.current.useTransition()},ht.version="18.3.1",ht}var c0;function Ml(){return c0||(c0=1,zh.exports=R2()),zh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function N2(){if(d0)return Ou;d0=1;var e=Ml(),n=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(f,h,m){var y,S={},v=null,_=null;m!==void 0&&(v=""+m),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(_=h.ref);for(y in h)a.call(h,y)&&!c.hasOwnProperty(y)&&(S[y]=h[y]);if(f&&f.defaultProps)for(y in h=f.defaultProps,h)S[y]===void 0&&(S[y]=h[y]);return{$$typeof:n,type:f,key:v,ref:_,props:S,_owner:l.current}}return Ou.Fragment=o,Ou.jsx=d,Ou.jsxs=d,Ou}var f0;function T2(){return f0||(f0=1,jh.exports=N2()),jh.exports}var G=T2(),W=Ml();const Ye=Ra(W);var uf={},Uh={exports:{}},Br={},Gh={exports:{}},Hh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function I2(){return h0||(h0=1,(function(e){function n(B,V){var H=B.length;B.push(V);e:for(;0<H;){var O=H-1>>>1,K=B[O];if(0<l(K,V))B[O]=V,B[H]=K,H=O;else break e}}function o(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var V=B[0],H=B.pop();if(H!==V){B[0]=H;e:for(var O=0,K=B.length,J=K>>>1;O<J;){var ue=2*(O+1)-1,me=B[ue],se=ue+1,X=B[se];if(0>l(me,H))se<K&&0>l(X,me)?(B[O]=X,B[se]=H,O=se):(B[O]=me,B[ue]=H,O=ue);else if(se<K&&0>l(X,H))B[O]=X,B[se]=H,O=se;else break e}}return V}function l(B,V){var H=B.sortIndex-V.sortIndex;return H!==0?H:B.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var h=[],m=[],y=1,S=null,v=3,_=!1,C=!1,P=!1,R=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(B){for(var V=o(m);V!==null;){if(V.callback===null)a(m);else if(V.startTime<=B)a(m),V.sortIndex=V.expirationTime,n(h,V);else break;V=o(m)}}function T(B){if(P=!1,x(B),!C)if(o(h)!==null)C=!0,ge(A);else{var V=o(m);V!==null&&L(T,V.startTime-B)}}function A(B,V){C=!1,P&&(P=!1,I(F),F=-1),_=!0;var H=v;try{for(x(V),S=o(h);S!==null&&(!(S.expirationTime>V)||B&&!$());){var O=S.callback;if(typeof O=="function"){S.callback=null,v=S.priorityLevel;var K=O(S.expirationTime<=V);V=e.unstable_now(),typeof K=="function"?S.callback=K:S===o(h)&&a(h),x(V)}else a(h);S=o(h)}if(S!==null)var J=!0;else{var ue=o(m);ue!==null&&L(T,ue.startTime-V),J=!1}return J}finally{S=null,v=H,_=!1}}var M=!1,Y=null,F=-1,z=5,j=-1;function $(){return!(e.unstable_now()-j<z)}function Q(){if(Y!==null){var B=e.unstable_now();j=B;var V=!0;try{V=Y(!0,B)}finally{V?te():(M=!1,Y=null)}}else M=!1}var te;if(typeof k=="function")te=function(){k(Q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ee=re.port2;re.port1.onmessage=Q,te=function(){ee.postMessage(null)}}else te=function(){R(Q,0)};function ge(B){Y=B,M||(M=!0,te())}function L(B,V){F=R(function(){B(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){C||_||(C=!0,ge(A))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return o(h)},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var H=v;v=V;try{return B()}finally{v=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=v;v=B;try{return V()}finally{v=H}},e.unstable_scheduleCallback=function(B,V,H){var O=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?O+H:O):H=O,B){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=H+K,B={id:y++,callback:V,priorityLevel:B,startTime:H,expirationTime:K,sortIndex:-1},H>O?(B.sortIndex=H,n(m,B),o(h)===null&&B===o(m)&&(P?(I(F),F=-1):P=!0,L(T,H-O))):(B.sortIndex=K,n(h,B),C||_||(C=!0,ge(A))),B},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(B){var V=v;return function(){var H=v;v=V;try{return B.apply(this,arguments)}finally{v=H}}}})(Hh)),Hh}var p0;function $p(){return p0||(p0=1,Gh.exports=I2()),Gh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function D2(){if(g0)return Br;g0=1;var e=Ml(),n=$p();function o(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,u=1;u<arguments.length;u++)r+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function c(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(l[t]=r,t=0;t<r.length;t++)a.add(r[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},S={};function v(t){return h.call(S,t)?!0:h.call(y,t)?!1:m.test(t)?S[t]=!0:(y[t]=!0,!1)}function _(t,r,u,g){if(u!==null&&u.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function C(t,r,u,g){if(r===null||typeof r>"u"||_(t,r,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function P(t,r,u,g,E,N,U){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=g,this.attributeNamespace=E,this.mustUseProperty=u,this.propertyName=t,this.type=r,this.sanitizeURL=N,this.removeEmptyString=U}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){R[t]=new P(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];R[r]=new P(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){R[t]=new P(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){R[t]=new P(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){R[t]=new P(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){R[t]=new P(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){R[t]=new P(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){R[t]=new P(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){R[t]=new P(t,5,!1,t.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function k(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(I,k);R[r]=new P(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(I,k);R[r]=new P(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(I,k);R[r]=new P(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){R[t]=new P(t,1,!1,t.toLowerCase(),null,!1,!1)}),R.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){R[t]=new P(t,1,!1,t.toLowerCase(),null,!0,!0)});function x(t,r,u,g){var E=R.hasOwnProperty(r)?R[r]:null;(E!==null?E.type!==0:g||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(C(r,u,E,g)&&(u=null),g||E===null?v(r)&&(u===null?t.removeAttribute(r):t.setAttribute(r,""+u)):E.mustUseProperty?t[E.propertyName]=u===null?E.type===3?!1:"":u:(r=E.attributeName,g=E.attributeNamespace,u===null?t.removeAttribute(r):(E=E.type,u=E===3||E===4&&u===!0?"":""+u,g?t.setAttributeNS(g,r,u):t.setAttribute(r,u))))}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),M=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),$=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),B=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=B&&t[B]||t["@@iterator"],typeof t=="function"?t:null)}var H=Object.assign,O;function K(t){if(O===void 0)try{throw Error()}catch(u){var r=u.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+t}var J=!1;function ue(t,r){if(!t||J)return"";J=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(he){var g=he}Reflect.construct(t,[],r)}else{try{r.call()}catch(he){g=he}t.call(r.prototype)}else{try{throw Error()}catch(he){g=he}t()}}catch(he){if(he&&g&&typeof he.stack=="string"){for(var E=he.stack.split(`
`),N=g.stack.split(`
`),U=E.length-1,Z=N.length-1;1<=U&&0<=Z&&E[U]!==N[Z];)Z--;for(;1<=U&&0<=Z;U--,Z--)if(E[U]!==N[Z]){if(U!==1||Z!==1)do if(U--,Z--,0>Z||E[U]!==N[Z]){var ne=`
`+E[U].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=U&&0<=Z);break}}}finally{J=!1,Error.prepareStackTrace=u}return(t=t?t.displayName||t.name:"")?K(t):""}function me(t){switch(t.tag){case 5:return K(t.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return t=ue(t.type,!1),t;case 11:return t=ue(t.type.render,!1),t;case 1:return t=ue(t.type,!0),t;default:return""}}function se(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case M:return"Portal";case z:return"Profiler";case F:return"StrictMode";case te:return"Suspense";case re:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $:return(t.displayName||"Context")+".Consumer";case j:return(t._context.displayName||"Context")+".Provider";case Q:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ee:return r=t.displayName||null,r!==null?r:se(t.type)||"Memo";case ge:r=t._payload,t=t._init;try{return se(t(r))}catch{}}return null}function X(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(r);case 8:return r===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function oe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ve(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function we(t){var r=ve(t)?"checked":"value",u=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),g=""+t[r];if(!t.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var E=u.get,N=u.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return E.call(this)},set:function(U){g=""+U,N.call(this,U)}}),Object.defineProperty(t,r,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(U){g=""+U},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Te(t){t._valueTracker||(t._valueTracker=we(t))}function Le(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var u=r.getValue(),g="";return t&&(g=ve(t)?t.checked?"true":"false":t.value),t=g,t!==u?(r.setValue(t),!0):!1}function Oe(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ut(t,r){var u=r.checked;return H({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??t._wrapperState.initialChecked})}function Qe(t,r){var u=r.defaultValue==null?"":r.defaultValue,g=r.checked!=null?r.checked:r.defaultChecked;u=oe(r.value!=null?r.value:u),t._wrapperState={initialChecked:g,initialValue:u,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Se(t,r){r=r.checked,r!=null&&x(t,"checked",r,!1)}function xe(t,r){Se(t,r);var u=oe(r.value),g=r.type;if(u!=null)g==="number"?(u===0&&t.value===""||t.value!=u)&&(t.value=""+u):t.value!==""+u&&(t.value=""+u);else if(g==="submit"||g==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?ot(t,r.type,u):r.hasOwnProperty("defaultValue")&&ot(t,r.type,oe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Fe(t,r,u){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var g=r.type;if(!(g!=="submit"&&g!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,u||r===t.value||(t.value=r),t.defaultValue=r}u=t.name,u!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,u!==""&&(t.name=u)}function ot(t,r,u){(r!=="number"||Oe(t.ownerDocument)!==t)&&(u==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+u&&(t.defaultValue=""+u))}var at=Array.isArray;function mt(t,r,u,g){if(t=t.options,r){r={};for(var E=0;E<u.length;E++)r["$"+u[E]]=!0;for(u=0;u<t.length;u++)E=r.hasOwnProperty("$"+t[u].value),t[u].selected!==E&&(t[u].selected=E),E&&g&&(t[u].defaultSelected=!0)}else{for(u=""+oe(u),r=null,E=0;E<t.length;E++){if(t[E].value===u){t[E].selected=!0,g&&(t[E].defaultSelected=!0);return}r!==null||t[E].disabled||(r=t[E])}r!==null&&(r.selected=!0)}}function $e(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(o(91));return H({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nt(t,r){var u=r.value;if(u==null){if(u=r.children,r=r.defaultValue,u!=null){if(r!=null)throw Error(o(92));if(at(u)){if(1<u.length)throw Error(o(93));u=u[0]}r=u}r==null&&(r=""),u=r}t._wrapperState={initialValue:oe(u)}}function _t(t,r){var u=oe(r.value),g=oe(r.defaultValue);u!=null&&(u=""+u,u!==t.value&&(t.value=u),r.defaultValue==null&&t.defaultValue!==u&&(t.defaultValue=u)),g!=null&&(t.defaultValue=""+g)}function Pt(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function It(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ir(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?It(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vn,Vn=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,u,g,E){MSApp.execUnsafeLocalFunction(function(){return t(r,u,g,E)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(vn=vn||document.createElement("div"),vn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=vn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Yt(t,r){if(r){var u=t.firstChild;if(u&&u===t.lastChild&&u.nodeType===3){u.nodeValue=r;return}}t.textContent=r}var Xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jr=["Webkit","ms","Moz","O"];Object.keys(Xt).forEach(function(t){Jr.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Xt[r]=Xt[t]})});function Mi(t,r,u){return r==null||typeof r=="boolean"||r===""?"":u||typeof r!="number"||r===0||Xt.hasOwnProperty(t)&&Xt[t]?(""+r).trim():r+"px"}function ke(t,r){t=t.style;for(var u in r)if(r.hasOwnProperty(u)){var g=u.indexOf("--")===0,E=Mi(u,r[u],g);u==="float"&&(u="cssFloat"),g?t.setProperty(u,E):t[u]=E}}var _e=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function De(t,r){if(r){if(_e[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(o(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(o(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(o(61))}if(r.style!=null&&typeof r.style!="object")throw Error(o(62))}}function Ie(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var je=null;function Xe(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yt=null,Je=null,kt=null;function Sn(t){if(t=aa(t)){if(typeof yt!="function")throw Error(o(280));var r=t.stateNode;r&&(r=Cn(r),yt(t.stateNode,t.type,r))}}function Rt(t){Je?kt?kt.push(t):kt=[t]:Je=t}function wt(){if(Je){var t=Je,r=kt;if(kt=Je=null,Sn(t),r)for(t=0;t<r.length;t++)Sn(r[t])}}function Nr(t,r){return t(r)}function Zr(){}var or=!1;function ei(t,r,u){if(or)return t(r,u);or=!0;try{return Nr(t,r,u)}finally{or=!1,(Je!==null||kt!==null)&&(Zr(),wt())}}function Hs(t,r){var u=t.stateNode;if(u===null)return null;var g=Cn(u);if(g===null)return null;u=g[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(t=t.type,g=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!g;break e;default:t=!1}if(t)return null;if(u&&typeof u!="function")throw Error(o(231,r,typeof u));return u}var Gl=!1;if(f)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){Gl=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{Gl=!1}function Zc(t,r,u,g,E,N,U,Z,ne){var he=Array.prototype.slice.call(arguments,3);try{r.apply(u,he)}catch(Ee){this.onError(Ee)}}var co=!1,Ta=null,Ia=!1,$o=null,th={onError:function(t){co=!0,Ta=t}};function nh(t,r,u,g,E,N,U,Z,ne){co=!1,Ta=null,Zc.apply(th,arguments)}function rh(t,r,u,g,E,N,U,Z,ne){if(nh.apply(this,arguments),co){if(co){var he=Ta;co=!1,Ta=null}else throw Error(o(198));Ia||(Ia=!0,$o=he)}}function fo(t){var r=t,u=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(u=r.return),t=r.return;while(t)}return r.tag===3?u:null}function ed(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function td(t){if(fo(t)!==t)throw Error(o(188))}function ih(t){var r=t.alternate;if(!r){if(r=fo(t),r===null)throw Error(o(188));return r!==t?null:t}for(var u=t,g=r;;){var E=u.return;if(E===null)break;var N=E.alternate;if(N===null){if(g=E.return,g!==null){u=g;continue}break}if(E.child===N.child){for(N=E.child;N;){if(N===u)return td(E),t;if(N===g)return td(E),r;N=N.sibling}throw Error(o(188))}if(u.return!==g.return)u=E,g=N;else{for(var U=!1,Z=E.child;Z;){if(Z===u){U=!0,u=E,g=N;break}if(Z===g){U=!0,g=E,u=N;break}Z=Z.sibling}if(!U){for(Z=N.child;Z;){if(Z===u){U=!0,u=N,g=E;break}if(Z===g){U=!0,g=N,u=E;break}Z=Z.sibling}if(!U)throw Error(o(189))}}if(u.alternate!==g)throw Error(o(190))}if(u.tag!==3)throw Error(o(188));return u.stateNode.current===u?t:r}function nd(t){return t=ih(t),t!==null?rd(t):null}function rd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=rd(t);if(r!==null)return r;t=t.sibling}return null}var id=n.unstable_scheduleCallback,od=n.unstable_cancelCallback,oh=n.unstable_shouldYield,sh=n.unstable_requestPaint,en=n.unstable_now,Hl=n.unstable_getCurrentPriorityLevel,ho=n.unstable_ImmediatePriority,Da=n.unstable_UserBlockingPriority,qo=n.unstable_NormalPriority,ah=n.unstable_LowPriority,Aa=n.unstable_IdlePriority,vi=null,bn=null;function zt(t){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(vi,t,void 0,(t.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:sr,Fi=Math.log,An=Math.LN2;function sr(t){return t>>>=0,t===0?32:31-(Fi(t)/An|0)|0}var ti=64,Si=4194304;function _n(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function po(t,r){var u=t.pendingLanes;if(u===0)return 0;var g=0,E=t.suspendedLanes,N=t.pingedLanes,U=u&268435455;if(U!==0){var Z=U&~E;Z!==0?g=_n(Z):(N&=U,N!==0&&(g=_n(N)))}else U=u&~E,U!==0?g=_n(U):N!==0&&(g=_n(N));if(g===0)return 0;if(r!==0&&r!==g&&(r&E)===0&&(E=g&-g,N=r&-r,E>=N||E===16&&(N&4194240)!==0))return r;if((g&4)!==0&&(g|=u&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=g;0<r;)u=31-dt(r),E=1<<u,g|=t[u],r&=~E;return g}function sd(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ad(t,r){for(var u=t.suspendedLanes,g=t.pingedLanes,E=t.expirationTimes,N=t.pendingLanes;0<N;){var U=31-dt(N),Z=1<<U,ne=E[U];ne===-1?((Z&u)===0||(Z&g)!==0)&&(E[U]=sd(Z,r)):ne<=r&&(t.expiredLanes|=Z),N&=~Z}}function Ko(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Wl(){var t=ti;return ti<<=1,(ti&4194240)===0&&(ti=64),t}function hr(t){for(var r=[],u=0;31>u;u++)r.push(t);return r}function Vs(t,r,u){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-dt(r),t[r]=u}function lh(t,r){var u=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var g=t.eventTimes;for(t=t.expirationTimes;0<u;){var E=31-dt(u),N=1<<E;r[E]=0,g[E]=-1,t[E]=-1,u&=~N}}function Vl(t,r){var u=t.entangledLanes|=r;for(t=t.entanglements;u;){var g=31-dt(u),E=1<<g;E&r|t[g]&r&&(t[g]|=r),u&=~E}}var xt=0;function $s(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Yo,Xo,ld,ud,La,Oa=!1,Qo=[],Tr=null,Bi=null,ni=null,ft=new Map,Jo=new Map,ri=[],cd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dd(t,r){switch(t){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":ft.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(r.pointerId)}}function qs(t,r,u,g,E,N){return t===null||t.nativeEvent!==N?(t={blockedOn:r,domEventName:u,eventSystemFlags:g,nativeEvent:N,targetContainers:[E]},r!==null&&(r=aa(r),r!==null&&Xo(r)),t):(t.eventSystemFlags|=g,r=t.targetContainers,E!==null&&r.indexOf(E)===-1&&r.push(E),t)}function wn(t,r,u,g,E){switch(r){case"focusin":return Tr=qs(Tr,t,r,u,g,E),!0;case"dragenter":return Bi=qs(Bi,t,r,u,g,E),!0;case"mouseover":return ni=qs(ni,t,r,u,g,E),!0;case"pointerover":var N=E.pointerId;return ft.set(N,qs(ft.get(N)||null,t,r,u,g,E)),!0;case"gotpointercapture":return N=E.pointerId,Jo.set(N,qs(Jo.get(N)||null,t,r,u,g,E)),!0}return!1}function Ma(t){var r=Ki(t.target);if(r!==null){var u=fo(r);if(u!==null){if(r=u.tag,r===13){if(r=ed(u),r!==null){t.blockedOn=r,La(t.priority,function(){ld(u)});return}}else if(r===3&&u.stateNode.current.memoizedState.isDehydrated){t.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fa(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var u=za(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(u===null){u=t.nativeEvent;var g=new u.constructor(u.type,u);je=g,u.target.dispatchEvent(g),je=null}else return r=aa(u),r!==null&&Xo(r),t.blockedOn=u,!1;r.shift()}return!0}function Ba(t,r,u){Fa(t)&&u.delete(r)}function uh(){Oa=!1,Tr!==null&&Fa(Tr)&&(Tr=null),Bi!==null&&Fa(Bi)&&(Bi=null),ni!==null&&Fa(ni)&&(ni=null),ft.forEach(Ba),Jo.forEach(Ba)}function ji(t,r){t.blockedOn===r&&(t.blockedOn=null,Oa||(Oa=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,uh)))}function ar(t){function r(E){return ji(E,t)}if(0<Qo.length){ji(Qo[0],t);for(var u=1;u<Qo.length;u++){var g=Qo[u];g.blockedOn===t&&(g.blockedOn=null)}}for(Tr!==null&&ji(Tr,t),Bi!==null&&ji(Bi,t),ni!==null&&ji(ni,t),ft.forEach(r),Jo.forEach(r),u=0;u<ri.length;u++)g=ri[u],g.blockedOn===t&&(g.blockedOn=null);for(;0<ri.length&&(u=ri[0],u.blockedOn===null);)Ma(u),u.blockedOn===null&&ri.shift()}var Zo=T.ReactCurrentBatchConfig,ja=!0;function Ur(t,r,u,g){var E=xt,N=Zo.transition;Zo.transition=null;try{xt=1,es(t,r,u,g)}finally{xt=E,Zo.transition=N}}function _i(t,r,u,g){var E=xt,N=Zo.transition;Zo.transition=null;try{xt=4,es(t,r,u,g)}finally{xt=E,Zo.transition=N}}function es(t,r,u,g){if(ja){var E=za(t,r,u,g);if(E===null)nl(t,r,g,ts,u),dd(t,g);else if(wn(E,t,r,u,g))g.stopPropagation();else if(dd(t,g),r&4&&-1<cd.indexOf(t)){for(;E!==null;){var N=aa(E);if(N!==null&&Yo(N),N=za(t,r,u,g),N===null&&nl(t,r,g,ts,u),N===E)break;E=N}E!==null&&g.stopPropagation()}else nl(t,r,g,null,u)}}var ts=null;function za(t,r,u,g){if(ts=null,t=Xe(g),t=Ki(t),t!==null)if(r=fo(t),r===null)t=null;else if(u=r.tag,u===13){if(t=ed(r),t!==null)return t;t=null}else if(u===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return ts=t,null}function fd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hl()){case ho:return 1;case Da:return 4;case qo:case ah:return 16;case Aa:return 536870912;default:return 16}default:return 16}}var Pn=null,zi=null,wi=null;function Ks(){if(wi)return wi;var t,r=zi,u=r.length,g,E="value"in Pn?Pn.value:Pn.textContent,N=E.length;for(t=0;t<u&&r[t]===E[t];t++);var U=u-t;for(g=1;g<=U&&r[u-g]===E[N-g];g++);return wi=E.slice(t,1<g?1-g:void 0)}function go(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function $n(){return!0}function pr(){return!1}function cn(t){function r(u,g,E,N,U){this._reactName=u,this._targetInst=E,this.type=g,this.nativeEvent=N,this.target=U,this.currentTarget=null;for(var Z in t)t.hasOwnProperty(Z)&&(u=t[Z],this[Z]=u?u(N):N[Z]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?$n:pr,this.isPropagationStopped=pr,this}return H(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),r}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=cn(lr),Hr=H({},lr,{view:0,detail:0}),hd=cn(Hr),Ys,Xs,Rn,qn=H({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rn&&(Rn&&t.type==="mousemove"?(Ys=t.screenX-Rn.screenX,Xs=t.screenY-Rn.screenY):Xs=Ys=0,Rn=t),Ys)},movementY:function(t){return"movementY"in t?t.movementY:Xs}}),Ut=cn(qn),Qs=H({},qn,{dataTransfer:0}),Wr=cn(Qs),pd=H({},Hr,{relatedTarget:0}),Ua=cn(pd),$l=H({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),ql=cn($l),gd=H({},lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ga=cn(gd),md=H({},lr,{data:0}),mo=cn(md),Kl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ha={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dh(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ha[t])?!!r[t]:!1}function yo(){return dh}var Wa=H({},Hr,{key:function(t){if(t.key){var r=Kl[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=go(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ch[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yo,charCode:function(t){return t.type==="keypress"?go(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?go(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yd=cn(Wa),vd=H({},qn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vo=cn(vd),Sd=H({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yo}),Va=cn(Sd),$a=H({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ns=cn($a),Yl=H({},qn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xl=cn(Yl),_d=[9,13,27,32],Js=f&&"CompositionEvent"in window,So=null;f&&"documentMode"in document&&(So=document.documentMode);var rs=f&&"TextEvent"in window&&!So,gr=f&&(!Js||So&&8<So&&11>=So),Ui=" ",qa=!1;function Ql(t,r){switch(t){case"keyup":return _d.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mr=!1;function Jl(t,r){switch(t){case"compositionend":return Vr(r);case"keypress":return r.which!==32?null:(qa=!0,Ui);case"textInput":return t=r.data,t===Ui&&qa?null:t;default:return null}}function wd(t,r){if(mr)return t==="compositionend"||!Js&&Ql(t,r)?(t=Ks(),wi=zi=Pn=null,mr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return gr&&r.locale!=="ko"?null:r.data;default:return null}}var xi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ci(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!xi[t.type]:r==="textarea"}function Zs(t,r,u,g){Rt(g),r=rl(r,"onChange"),0<r.length&&(u=new Gr("onChange","change",null,u,g),t.push({event:u,listeners:r}))}var is=null,Gi=null;function xd(t){uu(t,0)}function Hi(t){var r=fn(t);if(Le(r))return t}function Ir(t,r){if(t==="change")return r}var os=!1;if(f){var Wi;if(f){var Dr="oninput"in document;if(!Dr){var Ka=document.createElement("div");Ka.setAttribute("oninput","return;"),Dr=typeof Ka.oninput=="function"}Wi=Dr}else Wi=!1;os=Wi&&(!document.documentMode||9<document.documentMode)}function _o(){is&&(is.detachEvent("onpropertychange",Zl),Gi=is=null)}function Zl(t){if(t.propertyName==="value"&&Hi(Gi)){var r=[];Zs(r,Gi,t,Xe(t)),ei(xd,r)}}function eu(t,r,u){t==="focusin"?(_o(),is=r,Gi=u,is.attachEvent("onpropertychange",Zl)):t==="focusout"&&_o()}function Kt(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hi(Gi)}function Ya(t,r){if(t==="click")return Hi(r)}function tu(t,r){if(t==="input"||t==="change")return Hi(r)}function nu(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var ur=typeof Object.is=="function"?Object.is:nu;function wo(t,r){if(ur(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var u=Object.keys(t),g=Object.keys(r);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var E=u[g];if(!h.call(r,E)||!ur(t[E],r[E]))return!1}return!0}function Vi(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wt(t,r){var u=Vi(t);t=0;for(var g;u;){if(u.nodeType===3){if(g=t+u.textContent.length,t<=r&&g>=r)return{node:u,offset:r-t};t=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Vi(u)}}function on(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?on(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function dn(){for(var t=window,r=Oe();r instanceof t.HTMLIFrameElement;){try{var u=typeof r.contentWindow.location.href=="string"}catch{u=!1}if(u)t=r.contentWindow;else break;r=Oe(t.document)}return r}function ss(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function ea(t){var r=dn(),u=t.focusedElem,g=t.selectionRange;if(r!==u&&u&&u.ownerDocument&&on(u.ownerDocument.documentElement,u)){if(g!==null&&ss(u)){if(r=g.start,t=g.end,t===void 0&&(t=r),"selectionStart"in u)u.selectionStart=r,u.selectionEnd=Math.min(t,u.value.length);else if(t=(r=u.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var E=u.textContent.length,N=Math.min(g.start,E);g=g.end===void 0?N:Math.min(g.end,E),!t.extend&&N>g&&(E=g,g=N,N=E),E=Wt(u,N);var U=Wt(u,g);E&&U&&(t.rangeCount!==1||t.anchorNode!==E.node||t.anchorOffset!==E.offset||t.focusNode!==U.node||t.focusOffset!==U.offset)&&(r=r.createRange(),r.setStart(E.node,E.offset),t.removeAllRanges(),N>g?(t.addRange(r),t.extend(U.node,U.offset)):(r.setEnd(U.node,U.offset),t.addRange(r)))}}for(r=[],t=u;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<r.length;u++)t=r[u],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ta=f&&"documentMode"in document&&11>=document.documentMode,as=null,xn=null,xo=null,na=!1;function Xa(t,r,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;na||as==null||as!==Oe(g)||(g=as,"selectionStart"in g&&ss(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),xo&&wo(xo,g)||(xo=g,g=rl(xn,"onSelect"),0<g.length&&(r=new Gr("onSelect","select",null,r,u),t.push({event:r,listeners:g}),r.target=as)))}function yr(t,r){var u={};return u[t.toLowerCase()]=r.toLowerCase(),u["Webkit"+t]="webkit"+r,u["Moz"+t]="moz"+r,u}var Nn={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},Co={},Qa={};f&&(Qa=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function ls(t){if(Co[t])return Co[t];if(!Nn[t])return t;var r=Nn[t],u;for(u in r)if(r.hasOwnProperty(u)&&u in Qa)return Co[t]=r[u];return t}var ru=ls("animationend"),iu=ls("animationiteration"),ou=ls("animationstart"),su=ls("transitionend"),au=new Map,lu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(t,r){au.set(t,r),c(r,[t])}for(var Ja=0;Ja<lu.length;Ja++){var Eo=lu[Ja],Cd=Eo.toLowerCase(),Za=Eo[0].toUpperCase()+Eo.slice(1);Ei(Cd,"on"+Za)}Ei(ru,"onAnimationEnd"),Ei(iu,"onAnimationIteration"),Ei(ou,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(su,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ed=new Set("cancel close invalid load scroll toggle".split(" ").concat($i));function el(t,r,u){var g=t.type||"unknown-event";t.currentTarget=u,rh(g,r,void 0,t),t.currentTarget=null}function uu(t,r){r=(r&4)!==0;for(var u=0;u<t.length;u++){var g=t[u],E=g.event;g=g.listeners;e:{var N=void 0;if(r)for(var U=g.length-1;0<=U;U--){var Z=g[U],ne=Z.instance,he=Z.currentTarget;if(Z=Z.listener,ne!==N&&E.isPropagationStopped())break e;el(E,Z,he),N=ne}else for(U=0;U<g.length;U++){if(Z=g[U],ne=Z.instance,he=Z.currentTarget,Z=Z.listener,ne!==N&&E.isPropagationStopped())break e;el(E,Z,he),N=ne}}}if(Ia)throw t=$o,Ia=!1,$o=null,t}function Mt(t,r){var u=r[ol];u===void 0&&(u=r[ol]=new Set);var g=t+"__bubble";u.has(g)||(cu(r,t,2,!1),u.add(g))}function tl(t,r,u){var g=0;r&&(g|=4),cu(u,t,g,r)}var ra="_reactListening"+Math.random().toString(36).slice(2);function ko(t){if(!t[ra]){t[ra]=!0,a.forEach(function(u){u!=="selectionchange"&&(Ed.has(u)||tl(u,!1,t),tl(u,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ra]||(r[ra]=!0,tl("selectionchange",!1,r))}}function cu(t,r,u,g){switch(fd(r)){case 1:var E=Ur;break;case 4:E=_i;break;default:E=es}u=E.bind(null,r,u,t),E=void 0,!Gl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(E=!0),g?E!==void 0?t.addEventListener(r,u,{capture:!0,passive:E}):t.addEventListener(r,u,!0):E!==void 0?t.addEventListener(r,u,{passive:E}):t.addEventListener(r,u,!1)}function nl(t,r,u,g,E){var N=g;if((r&1)===0&&(r&2)===0&&g!==null)e:for(;;){if(g===null)return;var U=g.tag;if(U===3||U===4){var Z=g.stateNode.containerInfo;if(Z===E||Z.nodeType===8&&Z.parentNode===E)break;if(U===4)for(U=g.return;U!==null;){var ne=U.tag;if((ne===3||ne===4)&&(ne=U.stateNode.containerInfo,ne===E||ne.nodeType===8&&ne.parentNode===E))return;U=U.return}for(;Z!==null;){if(U=Ki(Z),U===null)return;if(ne=U.tag,ne===5||ne===6){g=N=U;continue e}Z=Z.parentNode}}g=g.return}ei(function(){var he=N,Ee=Xe(u),be=[];e:{var Ce=au.get(t);if(Ce!==void 0){var ze=Gr,He=t;switch(t){case"keypress":if(go(u)===0)break e;case"keydown":case"keyup":ze=yd;break;case"focusin":He="focus",ze=Ua;break;case"focusout":He="blur",ze=Ua;break;case"beforeblur":case"afterblur":ze=Ua;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=Ut;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=Wr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=Va;break;case ru:case iu:case ou:ze=ql;break;case su:ze=ns;break;case"scroll":ze=hd;break;case"wheel":ze=Xl;break;case"copy":case"cut":case"paste":ze=Ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=vo}var We=(r&4)!==0,mn=!We&&t==="scroll",ce=We?Ce!==null?Ce+"Capture":null:Ce;We=[];for(var ie=he,de;ie!==null;){de=ie;var Re=de.stateNode;if(de.tag===5&&Re!==null&&(de=Re,ce!==null&&(Re=Hs(ie,ce),Re!=null&&We.push(us(ie,Re,de)))),mn)break;ie=ie.return}0<We.length&&(Ce=new ze(Ce,He,null,u,Ee),be.push({event:Ce,listeners:We}))}}if((r&7)===0){e:{if(Ce=t==="mouseover"||t==="pointerover",ze=t==="mouseout"||t==="pointerout",Ce&&u!==je&&(He=u.relatedTarget||u.fromElement)&&(Ki(He)||He[oi]))break e;if((ze||Ce)&&(Ce=Ee.window===Ee?Ee:(Ce=Ee.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,ze?(He=u.relatedTarget||u.toElement,ze=he,He=He?Ki(He):null,He!==null&&(mn=fo(He),He!==mn||He.tag!==5&&He.tag!==6)&&(He=null)):(ze=null,He=he),ze!==He)){if(We=Ut,Re="onMouseLeave",ce="onMouseEnter",ie="mouse",(t==="pointerout"||t==="pointerover")&&(We=vo,Re="onPointerLeave",ce="onPointerEnter",ie="pointer"),mn=ze==null?Ce:fn(ze),de=He==null?Ce:fn(He),Ce=new We(Re,ie+"leave",ze,u,Ee),Ce.target=mn,Ce.relatedTarget=de,Re=null,Ki(Ee)===he&&(We=new We(ce,ie+"enter",He,u,Ee),We.target=de,We.relatedTarget=mn,Re=We),mn=Re,ze&&He)t:{for(We=ze,ce=He,ie=0,de=We;de;de=bo(de))ie++;for(de=0,Re=ce;Re;Re=bo(Re))de++;for(;0<ie-de;)We=bo(We),ie--;for(;0<de-ie;)ce=bo(ce),de--;for(;ie--;){if(We===ce||ce!==null&&We===ce.alternate)break t;We=bo(We),ce=bo(ce)}We=null}else We=null;ze!==null&&kd(be,Ce,ze,We,!1),He!==null&&mn!==null&&kd(be,mn,He,We,!0)}}e:{if(Ce=he?fn(he):window,ze=Ce.nodeName&&Ce.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Ce.type==="file")var Ve=Ir;else if(Ci(Ce))if(os)Ve=tu;else{Ve=Kt;var Ze=eu}else(ze=Ce.nodeName)&&ze.toLowerCase()==="input"&&(Ce.type==="checkbox"||Ce.type==="radio")&&(Ve=Ya);if(Ve&&(Ve=Ve(t,he))){Zs(be,Ve,u,Ee);break e}Ze&&Ze(t,Ce,he),t==="focusout"&&(Ze=Ce._wrapperState)&&Ze.controlled&&Ce.type==="number"&&ot(Ce,"number",Ce.value)}switch(Ze=he?fn(he):window,t){case"focusin":(Ci(Ze)||Ze.contentEditable==="true")&&(as=Ze,xn=he,xo=null);break;case"focusout":xo=xn=as=null;break;case"mousedown":na=!0;break;case"contextmenu":case"mouseup":case"dragend":na=!1,Xa(be,u,Ee);break;case"selectionchange":if(ta)break;case"keydown":case"keyup":Xa(be,u,Ee)}var et;if(Js)e:{switch(t){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else mr?Ql(t,u)&&(tt="onCompositionEnd"):t==="keydown"&&u.keyCode===229&&(tt="onCompositionStart");tt&&(gr&&u.locale!=="ko"&&(mr||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&mr&&(et=Ks()):(Pn=Ee,zi="value"in Pn?Pn.value:Pn.textContent,mr=!0)),Ze=rl(he,tt),0<Ze.length&&(tt=new mo(tt,t,null,u,Ee),be.push({event:tt,listeners:Ze}),et?tt.data=et:(et=Vr(u),et!==null&&(tt.data=et)))),(et=rs?Jl(t,u):wd(t,u))&&(he=rl(he,"onBeforeInput"),0<he.length&&(Ee=new mo("onBeforeInput","beforeinput",null,u,Ee),be.push({event:Ee,listeners:he}),Ee.data=et))}uu(be,r)})}function us(t,r,u){return{instance:t,listener:r,currentTarget:u}}function rl(t,r){for(var u=r+"Capture",g=[];t!==null;){var E=t,N=E.stateNode;E.tag===5&&N!==null&&(E=N,N=Hs(t,u),N!=null&&g.unshift(us(t,N,E)),N=Hs(t,r),N!=null&&g.push(us(t,N,E))),t=t.return}return g}function bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kd(t,r,u,g,E){for(var N=r._reactName,U=[];u!==null&&u!==g;){var Z=u,ne=Z.alternate,he=Z.stateNode;if(ne!==null&&ne===g)break;Z.tag===5&&he!==null&&(Z=he,E?(ne=Hs(u,N),ne!=null&&U.unshift(us(u,ne,Z))):E||(ne=Hs(u,N),ne!=null&&U.push(us(u,ne,Z)))),u=u.return}U.length!==0&&t.push({event:r,listeners:U})}var fh=/\r\n?/g,bd=/\u0000|\uFFFD/g;function du(t){return(typeof t=="string"?t:""+t).replace(fh,`
`).replace(bd,"")}function ia(t,r,u){if(r=du(r),du(t)!==r&&u)throw Error(o(425))}function Po(){}var fu=null,hu=null;function pu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var vr=typeof setTimeout=="function"?setTimeout:void 0,gu=typeof clearTimeout=="function"?clearTimeout:void 0,oa=typeof Promise=="function"?Promise:void 0,Pd=typeof queueMicrotask=="function"?queueMicrotask:typeof oa<"u"?function(t){return oa.resolve(null).then(t).catch(Rd)}:vr;function Rd(t){setTimeout(function(){throw t})}function il(t,r){var u=r,g=0;do{var E=u.nextSibling;if(t.removeChild(u),E&&E.nodeType===8)if(u=E.data,u==="/$"){if(g===0){t.removeChild(E),ar(r);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=E}while(u);ar(r)}function ii(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Ro(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var u=t.data;if(u==="$"||u==="$!"||u==="$?"){if(r===0)return t;r--}else u==="/$"&&r++}t=t.previousSibling}return null}var qi=Math.random().toString(36).slice(2),Ar="__reactFiber$"+qi,sa="__reactProps$"+qi,oi="__reactContainer$"+qi,ol="__reactEvents$"+qi,Nd="__reactListeners$"+qi,Td="__reactHandles$"+qi;function Ki(t){var r=t[Ar];if(r)return r;for(var u=t.parentNode;u;){if(r=u[oi]||u[Ar]){if(u=r.alternate,r.child!==null||u!==null&&u.child!==null)for(t=Ro(t);t!==null;){if(u=t[Ar])return u;t=Ro(t)}return r}t=u,u=t.parentNode}return null}function aa(t){return t=t[Ar]||t[oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(o(33))}function Cn(t){return t[sa]||null}var sl=[],No=-1;function ki(t){return{current:t}}function Ft(t){0>No||(t.current=sl[No],sl[No]=null,No--)}function Lt(t,r){No++,sl[No]=t.current,t.current=r}var si={},Tn=ki(si),Ln=ki(!1),Yi=si;function To(t,r){var u=t.type.contextTypes;if(!u)return si;var g=t.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===r)return g.__reactInternalMemoizedMaskedChildContext;var E={},N;for(N in u)E[N]=r[N];return g&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=E),E}function On(t){return t=t.childContextTypes,t!=null}function cs(){Ft(Ln),Ft(Tn)}function mu(t,r,u){if(Tn.current!==si)throw Error(o(168));Lt(Tn,r),Lt(Ln,u)}function al(t,r,u){var g=t.stateNode;if(r=r.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var E in g)if(!(E in r))throw Error(o(108,X(t)||"Unknown",E));return H({},u,g)}function Io(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||si,Yi=Tn.current,Lt(Tn,t),Lt(Ln,Ln.current),!0}function Id(t,r,u){var g=t.stateNode;if(!g)throw Error(o(169));u?(t=al(t,r,Yi),g.__reactInternalMemoizedMergedChildContext=t,Ft(Ln),Ft(Tn),Lt(Tn,t)):Ft(Ln),Lt(Ln,u)}var ai=null,ds=!1,ll=!1;function la(t){ai===null?ai=[t]:ai.push(t)}function bi(t){ds=!0,la(t)}function Xi(){if(!ll&&ai!==null){ll=!0;var t=0,r=xt;try{var u=ai;for(xt=1;t<u.length;t++){var g=u[t];do g=g(!0);while(g!==null)}ai=null,ds=!1}catch(E){throw ai!==null&&(ai=ai.slice(t+1)),id(ho,Xi),E}finally{xt=r,ll=!1}}return null}var Kn=[],Do=0,Qi=null,Ji=0,Yn=[],Xn=0,Zi=null,Sr=1,Vt="";function Ao(t,r){Kn[Do++]=Ji,Kn[Do++]=Qi,Qi=t,Ji=r}function Dd(t,r,u){Yn[Xn++]=Sr,Yn[Xn++]=Vt,Yn[Xn++]=Zi,Zi=t;var g=Sr;t=Vt;var E=32-dt(g)-1;g&=~(1<<E),u+=1;var N=32-dt(r)+E;if(30<N){var U=E-E%5;N=(g&(1<<U)-1).toString(32),g>>=U,E-=U,Sr=1<<32-dt(r)+E|u<<E|g,Vt=N+t}else Sr=1<<N|u<<E|g,Vt=t}function fs(t){t.return!==null&&(Ao(t,1),Dd(t,1,0))}function En(t){for(;t===Qi;)Qi=Kn[--Do],Kn[Do]=null,Ji=Kn[--Do],Kn[Do]=null;for(;t===Zi;)Zi=Yn[--Xn],Yn[Xn]=null,Vt=Yn[--Xn],Yn[Xn]=null,Sr=Yn[--Xn],Yn[Xn]=null}var _r=null,Ae=null,Nt=!1,wr=null;function yu(t,r){var u=pi(5,null,null,0);u.elementType="DELETED",u.stateNode=r,u.return=t,r=t.deletions,r===null?(t.deletions=[u],t.flags|=16):r.push(u)}function Ad(t,r){switch(t.tag){case 5:var u=t.type;return r=r.nodeType!==1||u.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,_r=t,Ae=ii(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,_r=t,Ae=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(u=Zi!==null?{id:Sr,overflow:Vt}:null,t.memoizedState={dehydrated:r,treeContext:u,retryLane:1073741824},u=pi(18,null,null,0),u.stateNode=r,u.return=t,t.child=u,_r=t,Ae=null,!0):!1;default:return!1}}function Lo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hs(t){if(Nt){var r=Ae;if(r){var u=r;if(!Ad(t,r)){if(Lo(t))throw Error(o(418));r=ii(u.nextSibling);var g=_r;r&&Ad(t,r)?yu(g,u):(t.flags=t.flags&-4097|2,Nt=!1,_r=t)}}else{if(Lo(t))throw Error(o(418));t.flags=t.flags&-4097|2,Nt=!1,_r=t}}}function ul(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_r=t}function ua(t){if(t!==_r)return!1;if(!Nt)return ul(t),Nt=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!pu(t.type,t.memoizedProps)),r&&(r=Ae)){if(Lo(t))throw vu(),Error(o(418));for(;r;)yu(t,r),r=ii(r.nextSibling)}if(ul(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var u=t.data;if(u==="/$"){if(r===0){Ae=ii(t.nextSibling);break e}r--}else u!=="$"&&u!=="$!"&&u!=="$?"||r++}t=t.nextSibling}Ae=null}}else Ae=_r?ii(t.stateNode.nextSibling):null;return!0}function vu(){for(var t=Ae;t;)t=ii(t.nextSibling)}function Oo(){Ae=_r=null,Nt=!1}function ca(t){wr===null?wr=[t]:wr.push(t)}var Su=T.ReactCurrentBatchConfig;function tn(t,r,u){if(t=u.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(o(309));var g=u.stateNode}if(!g)throw Error(o(147,t));var E=g,N=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===N?r.ref:(r=function(U){var Z=E.refs;U===null?delete Z[N]:Z[N]=U},r._stringRef=N,r)}if(typeof t!="string")throw Error(o(284));if(!u._owner)throw Error(o(290,t))}return t}function cr(t,r){throw t=Object.prototype.toString.call(r),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function $r(t){var r=t._init;return r(t._payload)}function cl(t){function r(ce,ie){if(t){var de=ce.deletions;de===null?(ce.deletions=[ie],ce.flags|=16):de.push(ie)}}function u(ce,ie){if(!t)return null;for(;ie!==null;)r(ce,ie),ie=ie.sibling;return null}function g(ce,ie){for(ce=new Map;ie!==null;)ie.key!==null?ce.set(ie.key,ie):ce.set(ie.index,ie),ie=ie.sibling;return ce}function E(ce,ie){return ce=As(ce,ie),ce.index=0,ce.sibling=null,ce}function N(ce,ie,de){return ce.index=de,t?(de=ce.alternate,de!==null?(de=de.index,de<ie?(ce.flags|=2,ie):de):(ce.flags|=2,ie)):(ce.flags|=1048576,ie)}function U(ce){return t&&ce.alternate===null&&(ce.flags|=2),ce}function Z(ce,ie,de,Re){return ie===null||ie.tag!==6?(ie=Ah(de,ce.mode,Re),ie.return=ce,ie):(ie=E(ie,de),ie.return=ce,ie)}function ne(ce,ie,de,Re){var Ve=de.type;return Ve===Y?Ee(ce,ie,de.props.children,Re,de.key):ie!==null&&(ie.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===ge&&$r(Ve)===ie.type)?(Re=E(ie,de.props),Re.ref=tn(ce,ie,de),Re.return=ce,Re):(Re=ef(de.type,de.key,de.props,null,ce.mode,Re),Re.ref=tn(ce,ie,de),Re.return=ce,Re)}function he(ce,ie,de,Re){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==de.containerInfo||ie.stateNode.implementation!==de.implementation?(ie=Lh(de,ce.mode,Re),ie.return=ce,ie):(ie=E(ie,de.children||[]),ie.return=ce,ie)}function Ee(ce,ie,de,Re,Ve){return ie===null||ie.tag!==7?(ie=wa(de,ce.mode,Re,Ve),ie.return=ce,ie):(ie=E(ie,de),ie.return=ce,ie)}function be(ce,ie,de){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=Ah(""+ie,ce.mode,de),ie.return=ce,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:return de=ef(ie.type,ie.key,ie.props,null,ce.mode,de),de.ref=tn(ce,null,ie),de.return=ce,de;case M:return ie=Lh(ie,ce.mode,de),ie.return=ce,ie;case ge:var Re=ie._init;return be(ce,Re(ie._payload),de)}if(at(ie)||V(ie))return ie=wa(ie,ce.mode,de,null),ie.return=ce,ie;cr(ce,ie)}return null}function Ce(ce,ie,de,Re){var Ve=ie!==null?ie.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return Ve!==null?null:Z(ce,ie,""+de,Re);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case A:return de.key===Ve?ne(ce,ie,de,Re):null;case M:return de.key===Ve?he(ce,ie,de,Re):null;case ge:return Ve=de._init,Ce(ce,ie,Ve(de._payload),Re)}if(at(de)||V(de))return Ve!==null?null:Ee(ce,ie,de,Re,null);cr(ce,de)}return null}function ze(ce,ie,de,Re,Ve){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return ce=ce.get(de)||null,Z(ie,ce,""+Re,Ve);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case A:return ce=ce.get(Re.key===null?de:Re.key)||null,ne(ie,ce,Re,Ve);case M:return ce=ce.get(Re.key===null?de:Re.key)||null,he(ie,ce,Re,Ve);case ge:var Ze=Re._init;return ze(ce,ie,de,Ze(Re._payload),Ve)}if(at(Re)||V(Re))return ce=ce.get(de)||null,Ee(ie,ce,Re,Ve,null);cr(ie,Re)}return null}function He(ce,ie,de,Re){for(var Ve=null,Ze=null,et=ie,tt=ie=0,Un=null;et!==null&&tt<de.length;tt++){et.index>tt?(Un=et,et=null):Un=et.sibling;var bt=Ce(ce,et,de[tt],Re);if(bt===null){et===null&&(et=Un);break}t&&et&&bt.alternate===null&&r(ce,et),ie=N(bt,ie,tt),Ze===null?Ve=bt:Ze.sibling=bt,Ze=bt,et=Un}if(tt===de.length)return u(ce,et),Nt&&Ao(ce,tt),Ve;if(et===null){for(;tt<de.length;tt++)et=be(ce,de[tt],Re),et!==null&&(ie=N(et,ie,tt),Ze===null?Ve=et:Ze.sibling=et,Ze=et);return Nt&&Ao(ce,tt),Ve}for(et=g(ce,et);tt<de.length;tt++)Un=ze(et,ce,tt,de[tt],Re),Un!==null&&(t&&Un.alternate!==null&&et.delete(Un.key===null?tt:Un.key),ie=N(Un,ie,tt),Ze===null?Ve=Un:Ze.sibling=Un,Ze=Un);return t&&et.forEach(function(Ls){return r(ce,Ls)}),Nt&&Ao(ce,tt),Ve}function We(ce,ie,de,Re){var Ve=V(de);if(typeof Ve!="function")throw Error(o(150));if(de=Ve.call(de),de==null)throw Error(o(151));for(var Ze=Ve=null,et=ie,tt=ie=0,Un=null,bt=de.next();et!==null&&!bt.done;tt++,bt=de.next()){et.index>tt?(Un=et,et=null):Un=et.sibling;var Ls=Ce(ce,et,bt.value,Re);if(Ls===null){et===null&&(et=Un);break}t&&et&&Ls.alternate===null&&r(ce,et),ie=N(Ls,ie,tt),Ze===null?Ve=Ls:Ze.sibling=Ls,Ze=Ls,et=Un}if(bt.done)return u(ce,et),Nt&&Ao(ce,tt),Ve;if(et===null){for(;!bt.done;tt++,bt=de.next())bt=be(ce,bt.value,Re),bt!==null&&(ie=N(bt,ie,tt),Ze===null?Ve=bt:Ze.sibling=bt,Ze=bt);return Nt&&Ao(ce,tt),Ve}for(et=g(ce,et);!bt.done;tt++,bt=de.next())bt=ze(et,ce,tt,bt.value,Re),bt!==null&&(t&&bt.alternate!==null&&et.delete(bt.key===null?tt:bt.key),ie=N(bt,ie,tt),Ze===null?Ve=bt:Ze.sibling=bt,Ze=bt);return t&&et.forEach(function(P2){return r(ce,P2)}),Nt&&Ao(ce,tt),Ve}function mn(ce,ie,de,Re){if(typeof de=="object"&&de!==null&&de.type===Y&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case A:e:{for(var Ve=de.key,Ze=ie;Ze!==null;){if(Ze.key===Ve){if(Ve=de.type,Ve===Y){if(Ze.tag===7){u(ce,Ze.sibling),ie=E(Ze,de.props.children),ie.return=ce,ce=ie;break e}}else if(Ze.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===ge&&$r(Ve)===Ze.type){u(ce,Ze.sibling),ie=E(Ze,de.props),ie.ref=tn(ce,Ze,de),ie.return=ce,ce=ie;break e}u(ce,Ze);break}else r(ce,Ze);Ze=Ze.sibling}de.type===Y?(ie=wa(de.props.children,ce.mode,Re,de.key),ie.return=ce,ce=ie):(Re=ef(de.type,de.key,de.props,null,ce.mode,Re),Re.ref=tn(ce,ie,de),Re.return=ce,ce=Re)}return U(ce);case M:e:{for(Ze=de.key;ie!==null;){if(ie.key===Ze)if(ie.tag===4&&ie.stateNode.containerInfo===de.containerInfo&&ie.stateNode.implementation===de.implementation){u(ce,ie.sibling),ie=E(ie,de.children||[]),ie.return=ce,ce=ie;break e}else{u(ce,ie);break}else r(ce,ie);ie=ie.sibling}ie=Lh(de,ce.mode,Re),ie.return=ce,ce=ie}return U(ce);case ge:return Ze=de._init,mn(ce,ie,Ze(de._payload),Re)}if(at(de))return He(ce,ie,de,Re);if(V(de))return We(ce,ie,de,Re);cr(ce,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,ie!==null&&ie.tag===6?(u(ce,ie.sibling),ie=E(ie,de),ie.return=ce,ce=ie):(u(ce,ie),ie=Ah(de,ce.mode,Re),ie.return=ce,ce=ie),U(ce)):u(ce,ie)}return mn}var Mo=cl(!0),Lr=cl(!1),da=ki(null),xr=null,ps=null,dl=null;function fl(){dl=ps=xr=null}function hl(t){var r=da.current;Ft(da),t._currentValue=r}function pl(t,r,u){for(;t!==null;){var g=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,g!==null&&(g.childLanes|=r)):g!==null&&(g.childLanes&r)!==r&&(g.childLanes|=r),t===u)break;t=t.return}}function Pi(t,r){xr=t,dl=ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(D=!0),t.firstContext=null)}function Qn(t){var r=t._currentValue;if(dl!==t)if(t={context:t,memoizedValue:r,next:null},ps===null){if(xr===null)throw Error(o(308));ps=t,xr.dependencies={lanes:0,firstContext:t}}else ps=ps.next=t;return r}var li=null;function gs(t){li===null?li=[t]:li.push(t)}function fa(t,r,u,g){var E=r.interleaved;return E===null?(u.next=u,gs(r)):(u.next=E.next,E.next=u),r.interleaved=u,Cr(t,g)}function Cr(t,r){t.lanes|=r;var u=t.alternate;for(u!==null&&(u.lanes|=r),u=t,t=t.return;t!==null;)t.childLanes|=r,u=t.alternate,u!==null&&(u.childLanes|=r),u=t,t=t.return;return u.tag===3?u.stateNode:null}var ui=!1;function ha(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gl(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ci(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function di(t,r,u){var g=t.updateQueue;if(g===null)return null;if(g=g.shared,(Et&2)!==0){var E=g.pending;return E===null?r.next=r:(r.next=E.next,E.next=r),g.pending=r,Cr(t,u)}return E=g.interleaved,E===null?(r.next=r,gs(g)):(r.next=E.next,E.next=r),g.interleaved=r,Cr(t,u)}function ml(t,r,u){if(r=r.updateQueue,r!==null&&(r=r.shared,(u&4194240)!==0)){var g=r.lanes;g&=t.pendingLanes,u|=g,r.lanes=u,Vl(t,u)}}function pa(t,r){var u=t.updateQueue,g=t.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var E=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var U={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};N===null?E=N=U:N=N.next=U,u=u.next}while(u!==null);N===null?E=N=r:N=N.next=r}else E=N=r;u={baseState:g.baseState,firstBaseUpdate:E,lastBaseUpdate:N,shared:g.shared,effects:g.effects},t.updateQueue=u;return}t=u.lastBaseUpdate,t===null?u.firstBaseUpdate=r:t.next=r,u.lastBaseUpdate=r}function ms(t,r,u,g){var E=t.updateQueue;ui=!1;var N=E.firstBaseUpdate,U=E.lastBaseUpdate,Z=E.shared.pending;if(Z!==null){E.shared.pending=null;var ne=Z,he=ne.next;ne.next=null,U===null?N=he:U.next=he,U=ne;var Ee=t.alternate;Ee!==null&&(Ee=Ee.updateQueue,Z=Ee.lastBaseUpdate,Z!==U&&(Z===null?Ee.firstBaseUpdate=he:Z.next=he,Ee.lastBaseUpdate=ne))}if(N!==null){var be=E.baseState;U=0,Ee=he=ne=null,Z=N;do{var Ce=Z.lane,ze=Z.eventTime;if((g&Ce)===Ce){Ee!==null&&(Ee=Ee.next={eventTime:ze,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var He=t,We=Z;switch(Ce=r,ze=u,We.tag){case 1:if(He=We.payload,typeof He=="function"){be=He.call(ze,be,Ce);break e}be=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=We.payload,Ce=typeof He=="function"?He.call(ze,be,Ce):He,Ce==null)break e;be=H({},be,Ce);break e;case 2:ui=!0}}Z.callback!==null&&Z.lane!==0&&(t.flags|=64,Ce=E.effects,Ce===null?E.effects=[Z]:Ce.push(Z))}else ze={eventTime:ze,lane:Ce,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ee===null?(he=Ee=ze,ne=be):Ee=Ee.next=ze,U|=Ce;if(Z=Z.next,Z===null){if(Z=E.shared.pending,Z===null)break;Ce=Z,Z=Ce.next,Ce.next=null,E.lastBaseUpdate=Ce,E.shared.pending=null}}while(!0);if(Ee===null&&(ne=be),E.baseState=ne,E.firstBaseUpdate=he,E.lastBaseUpdate=Ee,r=E.shared.interleaved,r!==null){E=r;do U|=E.lane,E=E.next;while(E!==r)}else N===null&&(E.shared.lanes=0);ya|=U,t.lanes=U,t.memoizedState=be}}function Qt(t,r,u){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var g=t[r],E=g.callback;if(E!==null){if(g.callback=null,g=u,typeof E!="function")throw Error(o(191,E));E.call(g)}}}var st={},Ot=ki(st),$t=ki(st),nn=ki(st);function hn(t){if(t===st)throw Error(o(174));return t}function eo(t,r){switch(Lt(nn,r),Lt($t,t),Lt(Ot,st),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ir(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ir(r,t)}Ft(Ot),Lt(Ot,r)}function qt(){Ft(Ot),Ft($t),Ft(nn)}function ys(t){hn(nn.current);var r=hn(Ot.current),u=ir(r,t.type);r!==u&&(Lt($t,t),Lt(Ot,u))}function Ri(t){$t.current===t&&(Ft(Ot),Ft($t))}var Bt=ki(0);function vs(t){for(var r=t;r!==null;){if(r.tag===13){var u=r.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Fo=[];function Mn(){for(var t=0;t<Fo.length;t++)Fo[t]._workInProgressVersionPrimary=null;Fo.length=0}var Ss=T.ReactCurrentDispatcher,ga=T.ReactCurrentBatchConfig,Jn=0,Dt=null,Jt=null,sn=null,qr=!1,to=!1,Or=0,yl=0;function an(){throw Error(o(321))}function ma(t,r){if(r===null)return!1;for(var u=0;u<r.length&&u<t.length;u++)if(!ur(t[u],r[u]))return!1;return!0}function _s(t,r,u,g,E,N){if(Jn=N,Dt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ss.current=t===null||t.memoizedState===null?ph:io,t=u(g,E),to){N=0;do{if(to=!1,Or=0,25<=N)throw Error(o(301));N+=1,sn=Jt=null,r.updateQueue=null,Ss.current=xl,t=u(g,E)}while(to)}if(Ss.current=Es,r=Jt!==null&&Jt.next!==null,Jn=0,sn=Jt=Dt=null,qr=!1,r)throw Error(o(300));return t}function ws(){var t=Or!==0;return Or=0,t}function Gt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Dt.memoizedState=sn=t:sn=sn.next=t,sn}function pn(){if(Jt===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var r=sn===null?Dt.memoizedState:sn.next;if(r!==null)sn=r,Jt=t;else{if(t===null)throw Error(o(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},sn===null?Dt.memoizedState=sn=t:sn=sn.next=t}return sn}function Fn(t,r){return typeof r=="function"?r(t):r}function Bn(t){var r=pn(),u=r.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=t;var g=Jt,E=g.baseQueue,N=u.pending;if(N!==null){if(E!==null){var U=E.next;E.next=N.next,N.next=U}g.baseQueue=E=N,u.pending=null}if(E!==null){N=E.next,g=g.baseState;var Z=U=null,ne=null,he=N;do{var Ee=he.lane;if((Jn&Ee)===Ee)ne!==null&&(ne=ne.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),g=he.hasEagerState?he.eagerState:t(g,he.action);else{var be={lane:Ee,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};ne===null?(Z=ne=be,U=g):ne=ne.next=be,Dt.lanes|=Ee,ya|=Ee}he=he.next}while(he!==null&&he!==N);ne===null?U=g:ne.next=Z,ur(g,r.memoizedState)||(D=!0),r.memoizedState=g,r.baseState=U,r.baseQueue=ne,u.lastRenderedState=g}if(t=u.interleaved,t!==null){E=t;do N=E.lane,Dt.lanes|=N,ya|=N,E=E.next;while(E!==t)}else E===null&&(u.lanes=0);return[r.memoizedState,u.dispatch]}function vl(t){var r=pn(),u=r.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=t;var g=u.dispatch,E=u.pending,N=r.memoizedState;if(E!==null){u.pending=null;var U=E=E.next;do N=t(N,U.action),U=U.next;while(U!==E);ur(N,r.memoizedState)||(D=!0),r.memoizedState=N,r.baseQueue===null&&(r.baseState=N),u.lastRenderedState=N}return[N,g]}function Sl(){}function _l(t,r){var u=Dt,g=pn(),E=r(),N=!ur(g.memoizedState,E);if(N&&(g.memoizedState=E,D=!0),g=g.queue,Cu(_u.bind(null,u,g,t),[t]),g.getSnapshot!==r||N||sn!==null&&sn.memoizedState.tag&1){if(u.flags|=2048,xs(9,Ni.bind(null,u,g,E,r),void 0,null),zn===null)throw Error(o(349));(Jn&30)!==0||Ld(u,r,E)}return E}function Ld(t,r,u){t.flags|=16384,t={getSnapshot:r,value:u},r=Dt.updateQueue,r===null?(r={lastEffect:null,stores:null},Dt.updateQueue=r,r.stores=[t]):(u=r.stores,u===null?r.stores=[t]:u.push(t))}function Ni(t,r,u,g){r.value=u,r.getSnapshot=g,wu(r)&&wl(t)}function _u(t,r,u){return u(function(){wu(r)&&wl(t)})}function wu(t){var r=t.getSnapshot;t=t.value;try{var u=r();return!ur(t,u)}catch{return!0}}function wl(t){var r=Cr(t,1);r!==null&&Ai(r,t,1,-1)}function no(t){var r=Gt();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:t},r.queue=t,t=t.dispatch=zd.bind(null,Dt,t),[r.memoizedState,t]}function xs(t,r,u,g){return t={tag:t,create:r,destroy:u,deps:g,next:null},r=Dt.updateQueue,r===null?(r={lastEffect:null,stores:null},Dt.updateQueue=r,r.lastEffect=t.next=t):(u=r.lastEffect,u===null?r.lastEffect=t.next=t:(g=u.next,u.next=t,t.next=g,r.lastEffect=t)),t}function xu(){return pn().memoizedState}function Cs(t,r,u,g){var E=Gt();Dt.flags|=t,E.memoizedState=xs(1|r,u,void 0,g===void 0?null:g)}function Bo(t,r,u,g){var E=pn();g=g===void 0?null:g;var N=void 0;if(Jt!==null){var U=Jt.memoizedState;if(N=U.destroy,g!==null&&ma(g,U.deps)){E.memoizedState=xs(r,u,N,g);return}}Dt.flags|=t,E.memoizedState=xs(1|r,u,N,g)}function Od(t,r){return Cs(8390656,8,t,r)}function Cu(t,r){return Bo(2048,8,t,r)}function Eu(t,r){return Bo(4,2,t,r)}function ku(t,r){return Bo(4,4,t,r)}function ro(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Md(t,r,u){return u=u!=null?u.concat([t]):null,Bo(4,4,ro.bind(null,r,t),u)}function Ti(){}function bu(t,r){var u=pn();r=r===void 0?null:r;var g=u.memoizedState;return g!==null&&r!==null&&ma(r,g[1])?g[0]:(u.memoizedState=[t,r],t)}function Ht(t,r){var u=pn();r=r===void 0?null:r;var g=u.memoizedState;return g!==null&&r!==null&&ma(r,g[1])?g[0]:(t=t(),u.memoizedState=[t,r],t)}function Fd(t,r,u){return(Jn&21)===0?(t.baseState&&(t.baseState=!1,D=!0),t.memoizedState=u):(ur(u,r)||(u=Wl(),Dt.lanes|=u,ya|=u,t.baseState=!0),r)}function Bd(t,r){var u=xt;xt=u!==0&&4>u?u:4,t(!0);var g=ga.transition;ga.transition={};try{t(!1),r()}finally{xt=u,ga.transition=g}}function jd(){return pn().memoizedState}function hh(t,r,u){var g=Is(t);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},Pu(t))Ud(r,u);else if(u=fa(t,r,u,g),u!==null){var E=kr();Ai(u,t,g,E),Er(u,r,g)}}function zd(t,r,u){var g=Is(t),E={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(Pu(t))Ud(r,E);else{var N=t.alternate;if(t.lanes===0&&(N===null||N.lanes===0)&&(N=r.lastRenderedReducer,N!==null))try{var U=r.lastRenderedState,Z=N(U,u);if(E.hasEagerState=!0,E.eagerState=Z,ur(Z,U)){var ne=r.interleaved;ne===null?(E.next=E,gs(r)):(E.next=ne.next,ne.next=E),r.interleaved=E;return}}catch{}finally{}u=fa(t,r,E,g),u!==null&&(E=kr(),Ai(u,t,g,E),Er(u,r,g))}}function Pu(t){var r=t.alternate;return t===Dt||r!==null&&r===Dt}function Ud(t,r){to=qr=!0;var u=t.pending;u===null?r.next=r:(r.next=u.next,u.next=r),t.pending=r}function Er(t,r,u){if((u&4194240)!==0){var g=r.lanes;g&=t.pendingLanes,u|=g,r.lanes=u,Vl(t,u)}}var Es={readContext:Qn,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},ph={readContext:Qn,useCallback:function(t,r){return Gt().memoizedState=[t,r===void 0?null:r],t},useContext:Qn,useEffect:Od,useImperativeHandle:function(t,r,u){return u=u!=null?u.concat([t]):null,Cs(4194308,4,ro.bind(null,r,t),u)},useLayoutEffect:function(t,r){return Cs(4194308,4,t,r)},useInsertionEffect:function(t,r){return Cs(4,2,t,r)},useMemo:function(t,r){var u=Gt();return r=r===void 0?null:r,t=t(),u.memoizedState=[t,r],t},useReducer:function(t,r,u){var g=Gt();return r=u!==void 0?u(r):r,g.memoizedState=g.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},g.queue=t,t=t.dispatch=hh.bind(null,Dt,t),[g.memoizedState,t]},useRef:function(t){var r=Gt();return t={current:t},r.memoizedState=t},useState:no,useDebugValue:Ti,useDeferredValue:function(t){return Gt().memoizedState=t},useTransition:function(){var t=no(!1),r=t[0];return t=Bd.bind(null,t[1]),Gt().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,u){var g=Dt,E=Gt();if(Nt){if(u===void 0)throw Error(o(407));u=u()}else{if(u=r(),zn===null)throw Error(o(349));(Jn&30)!==0||Ld(g,r,u)}E.memoizedState=u;var N={value:u,getSnapshot:r};return E.queue=N,Od(_u.bind(null,g,N,t),[t]),g.flags|=2048,xs(9,Ni.bind(null,g,N,u,r),void 0,null),u},useId:function(){var t=Gt(),r=zn.identifierPrefix;if(Nt){var u=Vt,g=Sr;u=(g&~(1<<32-dt(g)-1)).toString(32)+u,r=":"+r+"R"+u,u=Or++,0<u&&(r+="H"+u.toString(32)),r+=":"}else u=yl++,r=":"+r+"r"+u.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},io={readContext:Qn,useCallback:bu,useContext:Qn,useEffect:Cu,useImperativeHandle:Md,useInsertionEffect:Eu,useLayoutEffect:ku,useMemo:Ht,useReducer:Bn,useRef:xu,useState:function(){return Bn(Fn)},useDebugValue:Ti,useDeferredValue:function(t){var r=pn();return Fd(r,Jt.memoizedState,t)},useTransition:function(){var t=Bn(Fn)[0],r=pn().memoizedState;return[t,r]},useMutableSource:Sl,useSyncExternalStore:_l,useId:jd,unstable_isNewReconciler:!1},xl={readContext:Qn,useCallback:bu,useContext:Qn,useEffect:Cu,useImperativeHandle:Md,useInsertionEffect:Eu,useLayoutEffect:ku,useMemo:Ht,useReducer:vl,useRef:xu,useState:function(){return vl(Fn)},useDebugValue:Ti,useDeferredValue:function(t){var r=pn();return Jt===null?r.memoizedState=t:Fd(r,Jt.memoizedState,t)},useTransition:function(){var t=vl(Fn)[0],r=pn().memoizedState;return[t,r]},useMutableSource:Sl,useSyncExternalStore:_l,useId:jd,unstable_isNewReconciler:!1};function In(t,r){if(t&&t.defaultProps){r=H({},r),t=t.defaultProps;for(var u in t)r[u]===void 0&&(r[u]=t[u]);return r}return r}function ks(t,r,u,g){r=t.memoizedState,u=u(g,r),u=u==null?r:H({},r,u),t.memoizedState=u,t.lanes===0&&(t.updateQueue.baseState=u)}var bs={isMounted:function(t){return(t=t._reactInternals)?fo(t)===t:!1},enqueueSetState:function(t,r,u){t=t._reactInternals;var g=kr(),E=Is(t),N=ci(g,E);N.payload=r,u!=null&&(N.callback=u),r=di(t,N,E),r!==null&&(Ai(r,t,E,g),ml(r,t,E))},enqueueReplaceState:function(t,r,u){t=t._reactInternals;var g=kr(),E=Is(t),N=ci(g,E);N.tag=1,N.payload=r,u!=null&&(N.callback=u),r=di(t,N,E),r!==null&&(Ai(r,t,E,g),ml(r,t,E))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var u=kr(),g=Is(t),E=ci(u,g);E.tag=2,r!=null&&(E.callback=r),r=di(t,E,g),r!==null&&(Ai(r,t,g,u),ml(r,t,g))}};function Cl(t,r,u,g,E,N,U){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(g,N,U):r.prototype&&r.prototype.isPureReactComponent?!wo(u,g)||!wo(E,N):!0}function Gd(t,r,u){var g=!1,E=si,N=r.contextType;return typeof N=="object"&&N!==null?N=Qn(N):(E=On(r)?Yi:Tn.current,g=r.contextTypes,N=(g=g!=null)?To(t,E):si),r=new r(u,N),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=bs,t.stateNode=r,r._reactInternals=t,g&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=E,t.__reactInternalMemoizedMaskedChildContext=N),r}function Ru(t,r,u,g){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(u,g),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(u,g),r.state!==t&&bs.enqueueReplaceState(r,r.state,null)}function El(t,r,u,g){var E=t.stateNode;E.props=u,E.state=t.memoizedState,E.refs={},ha(t);var N=r.contextType;typeof N=="object"&&N!==null?E.context=Qn(N):(N=On(r)?Yi:Tn.current,E.context=To(t,N)),E.state=t.memoizedState,N=r.getDerivedStateFromProps,typeof N=="function"&&(ks(t,r,N,u),E.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(r=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),r!==E.state&&bs.enqueueReplaceState(E,E.state,null),ms(t,u,E,g),E.state=t.memoizedState),typeof E.componentDidMount=="function"&&(t.flags|=4194308)}function jo(t,r){try{var u="",g=r;do u+=me(g),g=g.return;while(g);var E=u}catch(N){E=`
Error generating stack: `+N.message+`
`+N.stack}return{value:t,source:r,stack:E,digest:null}}function kl(t,r,u){return{value:t,source:null,stack:u??null,digest:r??null}}function Ps(t,r){try{console.error(r.value)}catch(u){setTimeout(function(){throw u})}}var gh=typeof WeakMap=="function"?WeakMap:Map;function Hd(t,r,u){u=ci(-1,u),u.tag=3,u.payload={element:null};var g=r.value;return u.callback=function(){Kd||(Kd=!0,kh=g),Ps(t,r)},u}function i(t,r,u){u=ci(-1,u),u.tag=3;var g=t.type.getDerivedStateFromError;if(typeof g=="function"){var E=r.value;u.payload=function(){return g(E)},u.callback=function(){Ps(t,r)}}var N=t.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(u.callback=function(){Ps(t,r),typeof g!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var U=r.stack;this.componentDidCatch(r.value,{componentStack:U!==null?U:""})}),u}function s(t,r,u){var g=t.pingCache;if(g===null){g=t.pingCache=new gh;var E=new Set;g.set(r,E)}else E=g.get(r),E===void 0&&(E=new Set,g.set(r,E));E.has(u)||(E.add(u),t=m2.bind(null,t,r,u),r.then(t,t))}function p(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function w(t,r,u,g,E){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(r=ci(-1,1),r.tag=2,di(u,r,1))),u.lanes|=1),t):(t.flags|=65536,t.lanes=E,t)}var b=T.ReactCurrentOwner,D=!1;function q(t,r,u,g){r.child=t===null?Lr(r,null,u,g):Mo(r,t.child,u,g)}function ae(t,r,u,g,E){u=u.render;var N=r.ref;return Pi(r,E),g=_s(t,r,u,g,N,E),u=ws(),t!==null&&!D?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~E,jn(t,r,E)):(Nt&&u&&fs(r),r.flags|=1,q(t,r,g,E),r.child)}function pe(t,r,u,g,E){if(t===null){var N=u.type;return typeof N=="function"&&!Dh(N)&&N.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(r.tag=15,r.type=N,Pe(t,r,N,g,E)):(t=ef(u.type,null,g,r,r.mode,E),t.ref=r.ref,t.return=r,r.child=t)}if(N=t.child,(t.lanes&E)===0){var U=N.memoizedProps;if(u=u.compare,u=u!==null?u:wo,u(U,g)&&t.ref===r.ref)return jn(t,r,E)}return r.flags|=1,t=As(N,g),t.ref=r.ref,t.return=r,r.child=t}function Pe(t,r,u,g,E){if(t!==null){var N=t.memoizedProps;if(wo(N,g)&&t.ref===r.ref)if(D=!1,r.pendingProps=g=N,(t.lanes&E)!==0)(t.flags&131072)!==0&&(D=!0);else return r.lanes=t.lanes,jn(t,r,E)}return Me(t,r,u,g,E)}function Ue(t,r,u){var g=r.pendingProps,E=g.children,N=t!==null?t.memoizedState:null;if(g.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lt(Pl,Kr),Kr|=u;else{if((u&1073741824)===0)return t=N!==null?N.baseLanes|u:u,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Lt(Pl,Kr),Kr|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=N!==null?N.baseLanes:u,Lt(Pl,Kr),Kr|=g}else N!==null?(g=N.baseLanes|u,r.memoizedState=null):g=u,Lt(Pl,Kr),Kr|=g;return q(t,r,E,u),r.child}function rt(t,r){var u=r.ref;(t===null&&u!==null||t!==null&&t.ref!==u)&&(r.flags|=512,r.flags|=2097152)}function Me(t,r,u,g,E){var N=On(u)?Yi:Tn.current;return N=To(r,N),Pi(r,E),u=_s(t,r,u,g,N,E),g=ws(),t!==null&&!D?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~E,jn(t,r,E)):(Nt&&g&&fs(r),r.flags|=1,q(t,r,u,E),r.child)}function jt(t,r,u,g,E){if(On(u)){var N=!0;Io(r)}else N=!1;if(Pi(r,E),r.stateNode===null)pt(t,r),Gd(r,u,g),El(r,u,g,E),g=!0;else if(t===null){var U=r.stateNode,Z=r.memoizedProps;U.props=Z;var ne=U.context,he=u.contextType;typeof he=="object"&&he!==null?he=Qn(he):(he=On(u)?Yi:Tn.current,he=To(r,he));var Ee=u.getDerivedStateFromProps,be=typeof Ee=="function"||typeof U.getSnapshotBeforeUpdate=="function";be||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Z!==g||ne!==he)&&Ru(r,U,g,he),ui=!1;var Ce=r.memoizedState;U.state=Ce,ms(r,g,U,E),ne=r.memoizedState,Z!==g||Ce!==ne||Ln.current||ui?(typeof Ee=="function"&&(ks(r,u,Ee,g),ne=r.memoizedState),(Z=ui||Cl(r,u,Z,g,Ce,ne,he))?(be||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(r.flags|=4194308)):(typeof U.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=g,r.memoizedState=ne),U.props=g,U.state=ne,U.context=he,g=Z):(typeof U.componentDidMount=="function"&&(r.flags|=4194308),g=!1)}else{U=r.stateNode,gl(t,r),Z=r.memoizedProps,he=r.type===r.elementType?Z:In(r.type,Z),U.props=he,be=r.pendingProps,Ce=U.context,ne=u.contextType,typeof ne=="object"&&ne!==null?ne=Qn(ne):(ne=On(u)?Yi:Tn.current,ne=To(r,ne));var ze=u.getDerivedStateFromProps;(Ee=typeof ze=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Z!==be||Ce!==ne)&&Ru(r,U,g,ne),ui=!1,Ce=r.memoizedState,U.state=Ce,ms(r,g,U,E);var He=r.memoizedState;Z!==be||Ce!==He||Ln.current||ui?(typeof ze=="function"&&(ks(r,u,ze,g),He=r.memoizedState),(he=ui||Cl(r,u,he,g,Ce,He,ne)||!1)?(Ee||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(g,He,ne),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(g,He,ne)),typeof U.componentDidUpdate=="function"&&(r.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof U.componentDidUpdate!="function"||Z===t.memoizedProps&&Ce===t.memoizedState||(r.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Z===t.memoizedProps&&Ce===t.memoizedState||(r.flags|=1024),r.memoizedProps=g,r.memoizedState=He),U.props=g,U.state=He,U.context=ne,g=he):(typeof U.componentDidUpdate!="function"||Z===t.memoizedProps&&Ce===t.memoizedState||(r.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Z===t.memoizedProps&&Ce===t.memoizedState||(r.flags|=1024),g=!1)}return Tt(t,r,u,g,N,E)}function Tt(t,r,u,g,E,N){rt(t,r);var U=(r.flags&128)!==0;if(!g&&!U)return E&&Id(r,u,!1),jn(t,r,N);g=r.stateNode,b.current=r;var Z=U&&typeof u.getDerivedStateFromError!="function"?null:g.render();return r.flags|=1,t!==null&&U?(r.child=Mo(r,t.child,null,N),r.child=Mo(r,null,Z,N)):q(t,r,Z,N),r.memoizedState=g.state,E&&Id(r,u,!0),r.child}function Zn(t){var r=t.stateNode;r.pendingContext?mu(t,r.pendingContext,r.pendingContext!==r.context):r.context&&mu(t,r.context,!1),eo(t,r.containerInfo)}function fi(t,r,u,g,E){return Oo(),ca(E),r.flags|=256,q(t,r,u,g),r.child}var fe={dehydrated:null,treeContext:null,retryLane:0};function le(t){return{baseLanes:t,cachePool:null,transitions:null}}function ye(t,r,u){var g=r.pendingProps,E=Bt.current,N=!1,U=(r.flags&128)!==0,Z;if((Z=U)||(Z=t!==null&&t.memoizedState===null?!1:(E&2)!==0),Z?(N=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(E|=1),Lt(Bt,E&1),t===null)return hs(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(U=g.children,t=g.fallback,N?(g=r.mode,N=r.child,U={mode:"hidden",children:U},(g&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=U):N=tf(U,g,0,null),t=wa(t,g,u,null),N.return=r,t.return=r,N.sibling=t,r.child=N,r.child.memoizedState=le(u),r.memoizedState=fe,t):Be(r,U));if(E=t.memoizedState,E!==null&&(Z=E.dehydrated,Z!==null))return lt(t,r,U,g,Z,E,u);if(N){N=g.fallback,U=r.mode,E=t.child,Z=E.sibling;var ne={mode:"hidden",children:g.children};return(U&1)===0&&r.child!==E?(g=r.child,g.childLanes=0,g.pendingProps=ne,r.deletions=null):(g=As(E,ne),g.subtreeFlags=E.subtreeFlags&14680064),Z!==null?N=As(Z,N):(N=wa(N,U,u,null),N.flags|=2),N.return=r,g.return=r,g.sibling=N,r.child=g,g=N,N=r.child,U=t.child.memoizedState,U=U===null?le(u):{baseLanes:U.baseLanes|u,cachePool:null,transitions:U.transitions},N.memoizedState=U,N.childLanes=t.childLanes&~u,r.memoizedState=fe,g}return N=t.child,t=N.sibling,g=As(N,{mode:"visible",children:g.children}),(r.mode&1)===0&&(g.lanes=u),g.return=r,g.sibling=null,t!==null&&(u=r.deletions,u===null?(r.deletions=[t],r.flags|=16):u.push(t)),r.child=g,r.memoizedState=null,g}function Be(t,r){return r=tf({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function qe(t,r,u,g){return g!==null&&ca(g),Mo(r,t.child,null,u),t=Be(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function lt(t,r,u,g,E,N,U){if(u)return r.flags&256?(r.flags&=-257,g=kl(Error(o(422))),qe(t,r,U,g)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(N=g.fallback,E=r.mode,g=tf({mode:"visible",children:g.children},E,0,null),N=wa(N,E,U,null),N.flags|=2,g.return=r,N.return=r,g.sibling=N,r.child=g,(r.mode&1)!==0&&Mo(r,t.child,null,U),r.child.memoizedState=le(U),r.memoizedState=fe,N);if((r.mode&1)===0)return qe(t,r,U,null);if(E.data==="$!"){if(g=E.nextSibling&&E.nextSibling.dataset,g)var Z=g.dgst;return g=Z,N=Error(o(419)),g=kl(N,g,void 0),qe(t,r,U,g)}if(Z=(U&t.childLanes)!==0,D||Z){if(g=zn,g!==null){switch(U&-U){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(g.suspendedLanes|U))!==0?0:E,E!==0&&E!==N.retryLane&&(N.retryLane=E,Cr(t,E),Ai(g,t,E,-1))}return Ih(),g=kl(Error(o(421))),qe(t,r,U,g)}return E.data==="$?"?(r.flags|=128,r.child=t.child,r=y2.bind(null,t),E._reactRetry=r,null):(t=N.treeContext,Ae=ii(E.nextSibling),_r=r,Nt=!0,wr=null,t!==null&&(Yn[Xn++]=Sr,Yn[Xn++]=Vt,Yn[Xn++]=Zi,Sr=t.id,Vt=t.overflow,Zi=r),r=Be(r,g.children),r.flags|=4096,r)}function it(t,r,u){t.lanes|=r;var g=t.alternate;g!==null&&(g.lanes|=r),pl(t.return,r,u)}function vt(t,r,u,g,E){var N=t.memoizedState;N===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:E}:(N.isBackwards=r,N.rendering=null,N.renderingStartTime=0,N.last=g,N.tail=u,N.tailMode=E)}function gn(t,r,u){var g=r.pendingProps,E=g.revealOrder,N=g.tail;if(q(t,r,g.children,u),g=Bt.current,(g&2)!==0)g=g&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&it(t,u,r);else if(t.tag===19)it(t,u,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}g&=1}if(Lt(Bt,g),(r.mode&1)===0)r.memoizedState=null;else switch(E){case"forwards":for(u=r.child,E=null;u!==null;)t=u.alternate,t!==null&&vs(t)===null&&(E=u),u=u.sibling;u=E,u===null?(E=r.child,r.child=null):(E=u.sibling,u.sibling=null),vt(r,!1,E,u,N);break;case"backwards":for(u=null,E=r.child,r.child=null;E!==null;){if(t=E.alternate,t!==null&&vs(t)===null){r.child=E;break}t=E.sibling,E.sibling=u,u=E,E=t}vt(r,!0,u,null,N);break;case"together":vt(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function pt(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function jn(t,r,u){if(t!==null&&(r.dependencies=t.dependencies),ya|=r.lanes,(u&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(o(153));if(r.child!==null){for(t=r.child,u=As(t,t.pendingProps),r.child=u,u.return=r;t.sibling!==null;)t=t.sibling,u=u.sibling=As(t,t.pendingProps),u.return=r;u.sibling=null}return r.child}function mh(t,r,u){switch(r.tag){case 3:Zn(r),Oo();break;case 5:ys(r);break;case 1:On(r.type)&&Io(r);break;case 4:eo(r,r.stateNode.containerInfo);break;case 10:var g=r.type._context,E=r.memoizedProps.value;Lt(da,g._currentValue),g._currentValue=E;break;case 13:if(g=r.memoizedState,g!==null)return g.dehydrated!==null?(Lt(Bt,Bt.current&1),r.flags|=128,null):(u&r.child.childLanes)!==0?ye(t,r,u):(Lt(Bt,Bt.current&1),t=jn(t,r,u),t!==null?t.sibling:null);Lt(Bt,Bt.current&1);break;case 19:if(g=(u&r.childLanes)!==0,(t.flags&128)!==0){if(g)return gn(t,r,u);r.flags|=128}if(E=r.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Lt(Bt,Bt.current),g)break;return null;case 22:case 23:return r.lanes=0,Ue(t,r,u)}return jn(t,r,u)}var Ag,yh,Lg,Og;Ag=function(t,r){for(var u=r.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break;for(;u.sibling===null;){if(u.return===null||u.return===r)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},yh=function(){},Lg=function(t,r,u,g){var E=t.memoizedProps;if(E!==g){t=r.stateNode,hn(Ot.current);var N=null;switch(u){case"input":E=ut(t,E),g=ut(t,g),N=[];break;case"select":E=H({},E,{value:void 0}),g=H({},g,{value:void 0}),N=[];break;case"textarea":E=$e(t,E),g=$e(t,g),N=[];break;default:typeof E.onClick!="function"&&typeof g.onClick=="function"&&(t.onclick=Po)}De(u,g);var U;u=null;for(he in E)if(!g.hasOwnProperty(he)&&E.hasOwnProperty(he)&&E[he]!=null)if(he==="style"){var Z=E[he];for(U in Z)Z.hasOwnProperty(U)&&(u||(u={}),u[U]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(l.hasOwnProperty(he)?N||(N=[]):(N=N||[]).push(he,null));for(he in g){var ne=g[he];if(Z=E!=null?E[he]:void 0,g.hasOwnProperty(he)&&ne!==Z&&(ne!=null||Z!=null))if(he==="style")if(Z){for(U in Z)!Z.hasOwnProperty(U)||ne&&ne.hasOwnProperty(U)||(u||(u={}),u[U]="");for(U in ne)ne.hasOwnProperty(U)&&Z[U]!==ne[U]&&(u||(u={}),u[U]=ne[U])}else u||(N||(N=[]),N.push(he,u)),u=ne;else he==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,Z=Z?Z.__html:void 0,ne!=null&&Z!==ne&&(N=N||[]).push(he,ne)):he==="children"?typeof ne!="string"&&typeof ne!="number"||(N=N||[]).push(he,""+ne):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(l.hasOwnProperty(he)?(ne!=null&&he==="onScroll"&&Mt("scroll",t),N||Z===ne||(N=[])):(N=N||[]).push(he,ne))}u&&(N=N||[]).push("style",u);var he=N;(r.updateQueue=he)&&(r.flags|=4)}},Og=function(t,r,u,g){u!==g&&(r.flags|=4)};function Nu(t,r){if(!Nt)switch(t.tailMode){case"hidden":r=t.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?t.tail=null:u.sibling=null;break;case"collapsed":u=t.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:g.sibling=null}}function dr(t){var r=t.alternate!==null&&t.alternate.child===t.child,u=0,g=0;if(r)for(var E=t.child;E!==null;)u|=E.lanes|E.childLanes,g|=E.subtreeFlags&14680064,g|=E.flags&14680064,E.return=t,E=E.sibling;else for(E=t.child;E!==null;)u|=E.lanes|E.childLanes,g|=E.subtreeFlags,g|=E.flags,E.return=t,E=E.sibling;return t.subtreeFlags|=g,t.childLanes=u,r}function s2(t,r,u){var g=r.pendingProps;switch(En(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(r),null;case 1:return On(r.type)&&cs(),dr(r),null;case 3:return g=r.stateNode,qt(),Ft(Ln),Ft(Tn),Mn(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(t===null||t.child===null)&&(ua(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,wr!==null&&(Rh(wr),wr=null))),yh(t,r),dr(r),null;case 5:Ri(r);var E=hn(nn.current);if(u=r.type,t!==null&&r.stateNode!=null)Lg(t,r,u,g,E),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!g){if(r.stateNode===null)throw Error(o(166));return dr(r),null}if(t=hn(Ot.current),ua(r)){g=r.stateNode,u=r.type;var N=r.memoizedProps;switch(g[Ar]=r,g[sa]=N,t=(r.mode&1)!==0,u){case"dialog":Mt("cancel",g),Mt("close",g);break;case"iframe":case"object":case"embed":Mt("load",g);break;case"video":case"audio":for(E=0;E<$i.length;E++)Mt($i[E],g);break;case"source":Mt("error",g);break;case"img":case"image":case"link":Mt("error",g),Mt("load",g);break;case"details":Mt("toggle",g);break;case"input":Qe(g,N),Mt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!N.multiple},Mt("invalid",g);break;case"textarea":nt(g,N),Mt("invalid",g)}De(u,N),E=null;for(var U in N)if(N.hasOwnProperty(U)){var Z=N[U];U==="children"?typeof Z=="string"?g.textContent!==Z&&(N.suppressHydrationWarning!==!0&&ia(g.textContent,Z,t),E=["children",Z]):typeof Z=="number"&&g.textContent!==""+Z&&(N.suppressHydrationWarning!==!0&&ia(g.textContent,Z,t),E=["children",""+Z]):l.hasOwnProperty(U)&&Z!=null&&U==="onScroll"&&Mt("scroll",g)}switch(u){case"input":Te(g),Fe(g,N,!0);break;case"textarea":Te(g),Pt(g);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(g.onclick=Po)}g=E,r.updateQueue=g,g!==null&&(r.flags|=4)}else{U=E.nodeType===9?E:E.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=It(u)),t==="http://www.w3.org/1999/xhtml"?u==="script"?(t=U.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof g.is=="string"?t=U.createElement(u,{is:g.is}):(t=U.createElement(u),u==="select"&&(U=t,g.multiple?U.multiple=!0:g.size&&(U.size=g.size))):t=U.createElementNS(t,u),t[Ar]=r,t[sa]=g,Ag(t,r,!1,!1),r.stateNode=t;e:{switch(U=Ie(u,g),u){case"dialog":Mt("cancel",t),Mt("close",t),E=g;break;case"iframe":case"object":case"embed":Mt("load",t),E=g;break;case"video":case"audio":for(E=0;E<$i.length;E++)Mt($i[E],t);E=g;break;case"source":Mt("error",t),E=g;break;case"img":case"image":case"link":Mt("error",t),Mt("load",t),E=g;break;case"details":Mt("toggle",t),E=g;break;case"input":Qe(t,g),E=ut(t,g),Mt("invalid",t);break;case"option":E=g;break;case"select":t._wrapperState={wasMultiple:!!g.multiple},E=H({},g,{value:void 0}),Mt("invalid",t);break;case"textarea":nt(t,g),E=$e(t,g),Mt("invalid",t);break;default:E=g}De(u,E),Z=E;for(N in Z)if(Z.hasOwnProperty(N)){var ne=Z[N];N==="style"?ke(t,ne):N==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Vn(t,ne)):N==="children"?typeof ne=="string"?(u!=="textarea"||ne!=="")&&Yt(t,ne):typeof ne=="number"&&Yt(t,""+ne):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(l.hasOwnProperty(N)?ne!=null&&N==="onScroll"&&Mt("scroll",t):ne!=null&&x(t,N,ne,U))}switch(u){case"input":Te(t),Fe(t,g,!1);break;case"textarea":Te(t),Pt(t);break;case"option":g.value!=null&&t.setAttribute("value",""+oe(g.value));break;case"select":t.multiple=!!g.multiple,N=g.value,N!=null?mt(t,!!g.multiple,N,!1):g.defaultValue!=null&&mt(t,!!g.multiple,g.defaultValue,!0);break;default:typeof E.onClick=="function"&&(t.onclick=Po)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return dr(r),null;case 6:if(t&&r.stateNode!=null)Og(t,r,t.memoizedProps,g);else{if(typeof g!="string"&&r.stateNode===null)throw Error(o(166));if(u=hn(nn.current),hn(Ot.current),ua(r)){if(g=r.stateNode,u=r.memoizedProps,g[Ar]=r,(N=g.nodeValue!==u)&&(t=_r,t!==null))switch(t.tag){case 3:ia(g.nodeValue,u,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ia(g.nodeValue,u,(t.mode&1)!==0)}N&&(r.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[Ar]=r,r.stateNode=g}return dr(r),null;case 13:if(Ft(Bt),g=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Nt&&Ae!==null&&(r.mode&1)!==0&&(r.flags&128)===0)vu(),Oo(),r.flags|=98560,N=!1;else if(N=ua(r),g!==null&&g.dehydrated!==null){if(t===null){if(!N)throw Error(o(318));if(N=r.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(o(317));N[Ar]=r}else Oo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;dr(r),N=!1}else wr!==null&&(Rh(wr),wr=null),N=!0;if(!N)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=u,r):(g=g!==null,g!==(t!==null&&t.memoizedState!==null)&&g&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Bt.current&1)!==0?Dn===0&&(Dn=3):Ih())),r.updateQueue!==null&&(r.flags|=4),dr(r),null);case 4:return qt(),yh(t,r),t===null&&ko(r.stateNode.containerInfo),dr(r),null;case 10:return hl(r.type._context),dr(r),null;case 17:return On(r.type)&&cs(),dr(r),null;case 19:if(Ft(Bt),N=r.memoizedState,N===null)return dr(r),null;if(g=(r.flags&128)!==0,U=N.rendering,U===null)if(g)Nu(N,!1);else{if(Dn!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(U=vs(t),U!==null){for(r.flags|=128,Nu(N,!1),g=U.updateQueue,g!==null&&(r.updateQueue=g,r.flags|=4),r.subtreeFlags=0,g=u,u=r.child;u!==null;)N=u,t=g,N.flags&=14680066,U=N.alternate,U===null?(N.childLanes=0,N.lanes=t,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=U.childLanes,N.lanes=U.lanes,N.child=U.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=U.memoizedProps,N.memoizedState=U.memoizedState,N.updateQueue=U.updateQueue,N.type=U.type,t=U.dependencies,N.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),u=u.sibling;return Lt(Bt,Bt.current&1|2),r.child}t=t.sibling}N.tail!==null&&en()>Rl&&(r.flags|=128,g=!0,Nu(N,!1),r.lanes=4194304)}else{if(!g)if(t=vs(U),t!==null){if(r.flags|=128,g=!0,u=t.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),Nu(N,!0),N.tail===null&&N.tailMode==="hidden"&&!U.alternate&&!Nt)return dr(r),null}else 2*en()-N.renderingStartTime>Rl&&u!==1073741824&&(r.flags|=128,g=!0,Nu(N,!1),r.lanes=4194304);N.isBackwards?(U.sibling=r.child,r.child=U):(u=N.last,u!==null?u.sibling=U:r.child=U,N.last=U)}return N.tail!==null?(r=N.tail,N.rendering=r,N.tail=r.sibling,N.renderingStartTime=en(),r.sibling=null,u=Bt.current,Lt(Bt,g?u&1|2:u&1),r):(dr(r),null);case 22:case 23:return Th(),g=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==g&&(r.flags|=8192),g&&(r.mode&1)!==0?(Kr&1073741824)!==0&&(dr(r),r.subtreeFlags&6&&(r.flags|=8192)):dr(r),null;case 24:return null;case 25:return null}throw Error(o(156,r.tag))}function a2(t,r){switch(En(r),r.tag){case 1:return On(r.type)&&cs(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return qt(),Ft(Ln),Ft(Tn),Mn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Ri(r),null;case 13:if(Ft(Bt),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(o(340));Oo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ft(Bt),null;case 4:return qt(),null;case 10:return hl(r.type._context),null;case 22:case 23:return Th(),null;case 24:return null;default:return null}}var Wd=!1,fr=!1,l2=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function bl(t,r){var u=t.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){ln(t,r,g)}else u.current=null}function vh(t,r,u){try{u()}catch(g){ln(t,r,g)}}var Mg=!1;function u2(t,r){if(fu=ja,t=dn(),ss(t)){if("selectionStart"in t)var u={start:t.selectionStart,end:t.selectionEnd};else e:{u=(u=t.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var E=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var U=0,Z=-1,ne=-1,he=0,Ee=0,be=t,Ce=null;t:for(;;){for(var ze;be!==u||E!==0&&be.nodeType!==3||(Z=U+E),be!==N||g!==0&&be.nodeType!==3||(ne=U+g),be.nodeType===3&&(U+=be.nodeValue.length),(ze=be.firstChild)!==null;)Ce=be,be=ze;for(;;){if(be===t)break t;if(Ce===u&&++he===E&&(Z=U),Ce===N&&++Ee===g&&(ne=U),(ze=be.nextSibling)!==null)break;be=Ce,Ce=be.parentNode}be=ze}u=Z===-1||ne===-1?null:{start:Z,end:ne}}else u=null}u=u||{start:0,end:0}}else u=null;for(hu={focusedElem:t,selectionRange:u},ja=!1,Ge=r;Ge!==null;)if(r=Ge,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ge=t;else for(;Ge!==null;){r=Ge;try{var He=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(He!==null){var We=He.memoizedProps,mn=He.memoizedState,ce=r.stateNode,ie=ce.getSnapshotBeforeUpdate(r.elementType===r.type?We:In(r.type,We),mn);ce.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var de=r.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Re){ln(r,r.return,Re)}if(t=r.sibling,t!==null){t.return=r.return,Ge=t;break}Ge=r.return}return He=Mg,Mg=!1,He}function Tu(t,r,u){var g=r.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var E=g=g.next;do{if((E.tag&t)===t){var N=E.destroy;E.destroy=void 0,N!==void 0&&vh(r,u,N)}E=E.next}while(E!==g)}}function Vd(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var u=r=r.next;do{if((u.tag&t)===t){var g=u.create;u.destroy=g()}u=u.next}while(u!==r)}}function Sh(t){var r=t.ref;if(r!==null){var u=t.stateNode;switch(t.tag){case 5:t=u;break;default:t=u}typeof r=="function"?r(t):r.current=t}}function Fg(t){var r=t.alternate;r!==null&&(t.alternate=null,Fg(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Ar],delete r[sa],delete r[ol],delete r[Nd],delete r[Td])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Bg(t){return t.tag===5||t.tag===3||t.tag===4}function jg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _h(t,r,u){var g=t.tag;if(g===5||g===6)t=t.stateNode,r?u.nodeType===8?u.parentNode.insertBefore(t,r):u.insertBefore(t,r):(u.nodeType===8?(r=u.parentNode,r.insertBefore(t,u)):(r=u,r.appendChild(t)),u=u._reactRootContainer,u!=null||r.onclick!==null||(r.onclick=Po));else if(g!==4&&(t=t.child,t!==null))for(_h(t,r,u),t=t.sibling;t!==null;)_h(t,r,u),t=t.sibling}function wh(t,r,u){var g=t.tag;if(g===5||g===6)t=t.stateNode,r?u.insertBefore(t,r):u.appendChild(t);else if(g!==4&&(t=t.child,t!==null))for(wh(t,r,u),t=t.sibling;t!==null;)wh(t,r,u),t=t.sibling}var er=null,Ii=!1;function Rs(t,r,u){for(u=u.child;u!==null;)zg(t,r,u),u=u.sibling}function zg(t,r,u){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(vi,u)}catch{}switch(u.tag){case 5:fr||bl(u,r);case 6:var g=er,E=Ii;er=null,Rs(t,r,u),er=g,Ii=E,er!==null&&(Ii?(t=er,u=u.stateNode,t.nodeType===8?t.parentNode.removeChild(u):t.removeChild(u)):er.removeChild(u.stateNode));break;case 18:er!==null&&(Ii?(t=er,u=u.stateNode,t.nodeType===8?il(t.parentNode,u):t.nodeType===1&&il(t,u),ar(t)):il(er,u.stateNode));break;case 4:g=er,E=Ii,er=u.stateNode.containerInfo,Ii=!0,Rs(t,r,u),er=g,Ii=E;break;case 0:case 11:case 14:case 15:if(!fr&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){E=g=g.next;do{var N=E,U=N.destroy;N=N.tag,U!==void 0&&((N&2)!==0||(N&4)!==0)&&vh(u,r,U),E=E.next}while(E!==g)}Rs(t,r,u);break;case 1:if(!fr&&(bl(u,r),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(Z){ln(u,r,Z)}Rs(t,r,u);break;case 21:Rs(t,r,u);break;case 22:u.mode&1?(fr=(g=fr)||u.memoizedState!==null,Rs(t,r,u),fr=g):Rs(t,r,u);break;default:Rs(t,r,u)}}function Ug(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var u=t.stateNode;u===null&&(u=t.stateNode=new l2),r.forEach(function(g){var E=v2.bind(null,t,g);u.has(g)||(u.add(g),g.then(E,E))})}}function Di(t,r){var u=r.deletions;if(u!==null)for(var g=0;g<u.length;g++){var E=u[g];try{var N=t,U=r,Z=U;e:for(;Z!==null;){switch(Z.tag){case 5:er=Z.stateNode,Ii=!1;break e;case 3:er=Z.stateNode.containerInfo,Ii=!0;break e;case 4:er=Z.stateNode.containerInfo,Ii=!0;break e}Z=Z.return}if(er===null)throw Error(o(160));zg(N,U,E),er=null,Ii=!1;var ne=E.alternate;ne!==null&&(ne.return=null),E.return=null}catch(he){ln(E,r,he)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Gg(r,t),r=r.sibling}function Gg(t,r){var u=t.alternate,g=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Di(r,t),oo(t),g&4){try{Tu(3,t,t.return),Vd(3,t)}catch(We){ln(t,t.return,We)}try{Tu(5,t,t.return)}catch(We){ln(t,t.return,We)}}break;case 1:Di(r,t),oo(t),g&512&&u!==null&&bl(u,u.return);break;case 5:if(Di(r,t),oo(t),g&512&&u!==null&&bl(u,u.return),t.flags&32){var E=t.stateNode;try{Yt(E,"")}catch(We){ln(t,t.return,We)}}if(g&4&&(E=t.stateNode,E!=null)){var N=t.memoizedProps,U=u!==null?u.memoizedProps:N,Z=t.type,ne=t.updateQueue;if(t.updateQueue=null,ne!==null)try{Z==="input"&&N.type==="radio"&&N.name!=null&&Se(E,N),Ie(Z,U);var he=Ie(Z,N);for(U=0;U<ne.length;U+=2){var Ee=ne[U],be=ne[U+1];Ee==="style"?ke(E,be):Ee==="dangerouslySetInnerHTML"?Vn(E,be):Ee==="children"?Yt(E,be):x(E,Ee,be,he)}switch(Z){case"input":xe(E,N);break;case"textarea":_t(E,N);break;case"select":var Ce=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!N.multiple;var ze=N.value;ze!=null?mt(E,!!N.multiple,ze,!1):Ce!==!!N.multiple&&(N.defaultValue!=null?mt(E,!!N.multiple,N.defaultValue,!0):mt(E,!!N.multiple,N.multiple?[]:"",!1))}E[sa]=N}catch(We){ln(t,t.return,We)}}break;case 6:if(Di(r,t),oo(t),g&4){if(t.stateNode===null)throw Error(o(162));E=t.stateNode,N=t.memoizedProps;try{E.nodeValue=N}catch(We){ln(t,t.return,We)}}break;case 3:if(Di(r,t),oo(t),g&4&&u!==null&&u.memoizedState.isDehydrated)try{ar(r.containerInfo)}catch(We){ln(t,t.return,We)}break;case 4:Di(r,t),oo(t);break;case 13:Di(r,t),oo(t),E=t.child,E.flags&8192&&(N=E.memoizedState!==null,E.stateNode.isHidden=N,!N||E.alternate!==null&&E.alternate.memoizedState!==null||(Eh=en())),g&4&&Ug(t);break;case 22:if(Ee=u!==null&&u.memoizedState!==null,t.mode&1?(fr=(he=fr)||Ee,Di(r,t),fr=he):Di(r,t),oo(t),g&8192){if(he=t.memoizedState!==null,(t.stateNode.isHidden=he)&&!Ee&&(t.mode&1)!==0)for(Ge=t,Ee=t.child;Ee!==null;){for(be=Ge=Ee;Ge!==null;){switch(Ce=Ge,ze=Ce.child,Ce.tag){case 0:case 11:case 14:case 15:Tu(4,Ce,Ce.return);break;case 1:bl(Ce,Ce.return);var He=Ce.stateNode;if(typeof He.componentWillUnmount=="function"){g=Ce,u=Ce.return;try{r=g,He.props=r.memoizedProps,He.state=r.memoizedState,He.componentWillUnmount()}catch(We){ln(g,u,We)}}break;case 5:bl(Ce,Ce.return);break;case 22:if(Ce.memoizedState!==null){Vg(be);continue}}ze!==null?(ze.return=Ce,Ge=ze):Vg(be)}Ee=Ee.sibling}e:for(Ee=null,be=t;;){if(be.tag===5){if(Ee===null){Ee=be;try{E=be.stateNode,he?(N=E.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(Z=be.stateNode,ne=be.memoizedProps.style,U=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,Z.style.display=Mi("display",U))}catch(We){ln(t,t.return,We)}}}else if(be.tag===6){if(Ee===null)try{be.stateNode.nodeValue=he?"":be.memoizedProps}catch(We){ln(t,t.return,We)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===t)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===t)break e;for(;be.sibling===null;){if(be.return===null||be.return===t)break e;Ee===be&&(Ee=null),be=be.return}Ee===be&&(Ee=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:Di(r,t),oo(t),g&4&&Ug(t);break;case 21:break;default:Di(r,t),oo(t)}}function oo(t){var r=t.flags;if(r&2){try{e:{for(var u=t.return;u!==null;){if(Bg(u)){var g=u;break e}u=u.return}throw Error(o(160))}switch(g.tag){case 5:var E=g.stateNode;g.flags&32&&(Yt(E,""),g.flags&=-33);var N=jg(t);wh(t,N,E);break;case 3:case 4:var U=g.stateNode.containerInfo,Z=jg(t);_h(t,Z,U);break;default:throw Error(o(161))}}catch(ne){ln(t,t.return,ne)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function c2(t,r,u){Ge=t,Hg(t)}function Hg(t,r,u){for(var g=(t.mode&1)!==0;Ge!==null;){var E=Ge,N=E.child;if(E.tag===22&&g){var U=E.memoizedState!==null||Wd;if(!U){var Z=E.alternate,ne=Z!==null&&Z.memoizedState!==null||fr;Z=Wd;var he=fr;if(Wd=U,(fr=ne)&&!he)for(Ge=E;Ge!==null;)U=Ge,ne=U.child,U.tag===22&&U.memoizedState!==null?$g(E):ne!==null?(ne.return=U,Ge=ne):$g(E);for(;N!==null;)Ge=N,Hg(N),N=N.sibling;Ge=E,Wd=Z,fr=he}Wg(t)}else(E.subtreeFlags&8772)!==0&&N!==null?(N.return=E,Ge=N):Wg(t)}}function Wg(t){for(;Ge!==null;){var r=Ge;if((r.flags&8772)!==0){var u=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:fr||Vd(5,r);break;case 1:var g=r.stateNode;if(r.flags&4&&!fr)if(u===null)g.componentDidMount();else{var E=r.elementType===r.type?u.memoizedProps:In(r.type,u.memoizedProps);g.componentDidUpdate(E,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var N=r.updateQueue;N!==null&&Qt(r,N,g);break;case 3:var U=r.updateQueue;if(U!==null){if(u=null,r.child!==null)switch(r.child.tag){case 5:u=r.child.stateNode;break;case 1:u=r.child.stateNode}Qt(r,U,u)}break;case 5:var Z=r.stateNode;if(u===null&&r.flags&4){u=Z;var ne=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&u.focus();break;case"img":ne.src&&(u.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var he=r.alternate;if(he!==null){var Ee=he.memoizedState;if(Ee!==null){var be=Ee.dehydrated;be!==null&&ar(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}fr||r.flags&512&&Sh(r)}catch(Ce){ln(r,r.return,Ce)}}if(r===t){Ge=null;break}if(u=r.sibling,u!==null){u.return=r.return,Ge=u;break}Ge=r.return}}function Vg(t){for(;Ge!==null;){var r=Ge;if(r===t){Ge=null;break}var u=r.sibling;if(u!==null){u.return=r.return,Ge=u;break}Ge=r.return}}function $g(t){for(;Ge!==null;){var r=Ge;try{switch(r.tag){case 0:case 11:case 15:var u=r.return;try{Vd(4,r)}catch(ne){ln(r,u,ne)}break;case 1:var g=r.stateNode;if(typeof g.componentDidMount=="function"){var E=r.return;try{g.componentDidMount()}catch(ne){ln(r,E,ne)}}var N=r.return;try{Sh(r)}catch(ne){ln(r,N,ne)}break;case 5:var U=r.return;try{Sh(r)}catch(ne){ln(r,U,ne)}}}catch(ne){ln(r,r.return,ne)}if(r===t){Ge=null;break}var Z=r.sibling;if(Z!==null){Z.return=r.return,Ge=Z;break}Ge=r.return}}var d2=Math.ceil,$d=T.ReactCurrentDispatcher,xh=T.ReactCurrentOwner,hi=T.ReactCurrentBatchConfig,Et=0,zn=null,kn=null,tr=0,Kr=0,Pl=ki(0),Dn=0,Iu=null,ya=0,qd=0,Ch=0,Du=null,Mr=null,Eh=0,Rl=1/0,zo=null,Kd=!1,kh=null,Ns=null,Yd=!1,Ts=null,Xd=0,Au=0,bh=null,Qd=-1,Jd=0;function kr(){return(Et&6)!==0?en():Qd!==-1?Qd:Qd=en()}function Is(t){return(t.mode&1)===0?1:(Et&2)!==0&&tr!==0?tr&-tr:Su.transition!==null?(Jd===0&&(Jd=Wl()),Jd):(t=xt,t!==0||(t=window.event,t=t===void 0?16:fd(t.type)),t)}function Ai(t,r,u,g){if(50<Au)throw Au=0,bh=null,Error(o(185));Vs(t,u,g),((Et&2)===0||t!==zn)&&(t===zn&&((Et&2)===0&&(qd|=u),Dn===4&&Ds(t,tr)),Fr(t,g),u===1&&Et===0&&(r.mode&1)===0&&(Rl=en()+500,ds&&Xi()))}function Fr(t,r){var u=t.callbackNode;ad(t,r);var g=po(t,t===zn?tr:0);if(g===0)u!==null&&od(u),t.callbackNode=null,t.callbackPriority=0;else if(r=g&-g,t.callbackPriority!==r){if(u!=null&&od(u),r===1)t.tag===0?bi(Kg.bind(null,t)):la(Kg.bind(null,t)),Pd(function(){(Et&6)===0&&Xi()}),u=null;else{switch($s(g)){case 1:u=ho;break;case 4:u=Da;break;case 16:u=qo;break;case 536870912:u=Aa;break;default:u=qo}u=n0(u,qg.bind(null,t))}t.callbackPriority=r,t.callbackNode=u}}function qg(t,r){if(Qd=-1,Jd=0,(Et&6)!==0)throw Error(o(327));var u=t.callbackNode;if(Nl()&&t.callbackNode!==u)return null;var g=po(t,t===zn?tr:0);if(g===0)return null;if((g&30)!==0||(g&t.expiredLanes)!==0||r)r=Zd(t,g);else{r=g;var E=Et;Et|=2;var N=Xg();(zn!==t||tr!==r)&&(zo=null,Rl=en()+500,Sa(t,r));do try{p2();break}catch(Z){Yg(t,Z)}while(!0);fl(),$d.current=N,Et=E,kn!==null?r=0:(zn=null,tr=0,r=Dn)}if(r!==0){if(r===2&&(E=Ko(t),E!==0&&(g=E,r=Ph(t,E))),r===1)throw u=Iu,Sa(t,0),Ds(t,g),Fr(t,en()),u;if(r===6)Ds(t,g);else{if(E=t.current.alternate,(g&30)===0&&!f2(E)&&(r=Zd(t,g),r===2&&(N=Ko(t),N!==0&&(g=N,r=Ph(t,N))),r===1))throw u=Iu,Sa(t,0),Ds(t,g),Fr(t,en()),u;switch(t.finishedWork=E,t.finishedLanes=g,r){case 0:case 1:throw Error(o(345));case 2:_a(t,Mr,zo);break;case 3:if(Ds(t,g),(g&130023424)===g&&(r=Eh+500-en(),10<r)){if(po(t,0)!==0)break;if(E=t.suspendedLanes,(E&g)!==g){kr(),t.pingedLanes|=t.suspendedLanes&E;break}t.timeoutHandle=vr(_a.bind(null,t,Mr,zo),r);break}_a(t,Mr,zo);break;case 4:if(Ds(t,g),(g&4194240)===g)break;for(r=t.eventTimes,E=-1;0<g;){var U=31-dt(g);N=1<<U,U=r[U],U>E&&(E=U),g&=~N}if(g=E,g=en()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*d2(g/1960))-g,10<g){t.timeoutHandle=vr(_a.bind(null,t,Mr,zo),g);break}_a(t,Mr,zo);break;case 5:_a(t,Mr,zo);break;default:throw Error(o(329))}}}return Fr(t,en()),t.callbackNode===u?qg.bind(null,t):null}function Ph(t,r){var u=Du;return t.current.memoizedState.isDehydrated&&(Sa(t,r).flags|=256),t=Zd(t,r),t!==2&&(r=Mr,Mr=u,r!==null&&Rh(r)),t}function Rh(t){Mr===null?Mr=t:Mr.push.apply(Mr,t)}function f2(t){for(var r=t;;){if(r.flags&16384){var u=r.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var E=u[g],N=E.getSnapshot;E=E.value;try{if(!ur(N(),E))return!1}catch{return!1}}}if(u=r.child,r.subtreeFlags&16384&&u!==null)u.return=r,r=u;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ds(t,r){for(r&=~Ch,r&=~qd,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var u=31-dt(r),g=1<<u;t[u]=-1,r&=~g}}function Kg(t){if((Et&6)!==0)throw Error(o(327));Nl();var r=po(t,0);if((r&1)===0)return Fr(t,en()),null;var u=Zd(t,r);if(t.tag!==0&&u===2){var g=Ko(t);g!==0&&(r=g,u=Ph(t,g))}if(u===1)throw u=Iu,Sa(t,0),Ds(t,r),Fr(t,en()),u;if(u===6)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,_a(t,Mr,zo),Fr(t,en()),null}function Nh(t,r){var u=Et;Et|=1;try{return t(r)}finally{Et=u,Et===0&&(Rl=en()+500,ds&&Xi())}}function va(t){Ts!==null&&Ts.tag===0&&(Et&6)===0&&Nl();var r=Et;Et|=1;var u=hi.transition,g=xt;try{if(hi.transition=null,xt=1,t)return t()}finally{xt=g,hi.transition=u,Et=r,(Et&6)===0&&Xi()}}function Th(){Kr=Pl.current,Ft(Pl)}function Sa(t,r){t.finishedWork=null,t.finishedLanes=0;var u=t.timeoutHandle;if(u!==-1&&(t.timeoutHandle=-1,gu(u)),kn!==null)for(u=kn.return;u!==null;){var g=u;switch(En(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&cs();break;case 3:qt(),Ft(Ln),Ft(Tn),Mn();break;case 5:Ri(g);break;case 4:qt();break;case 13:Ft(Bt);break;case 19:Ft(Bt);break;case 10:hl(g.type._context);break;case 22:case 23:Th()}u=u.return}if(zn=t,kn=t=As(t.current,null),tr=Kr=r,Dn=0,Iu=null,Ch=qd=ya=0,Mr=Du=null,li!==null){for(r=0;r<li.length;r++)if(u=li[r],g=u.interleaved,g!==null){u.interleaved=null;var E=g.next,N=u.pending;if(N!==null){var U=N.next;N.next=E,g.next=U}u.pending=g}li=null}return t}function Yg(t,r){do{var u=kn;try{if(fl(),Ss.current=Es,qr){for(var g=Dt.memoizedState;g!==null;){var E=g.queue;E!==null&&(E.pending=null),g=g.next}qr=!1}if(Jn=0,sn=Jt=Dt=null,to=!1,Or=0,xh.current=null,u===null||u.return===null){Dn=1,Iu=r,kn=null;break}e:{var N=t,U=u.return,Z=u,ne=r;if(r=tr,Z.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var he=ne,Ee=Z,be=Ee.tag;if((Ee.mode&1)===0&&(be===0||be===11||be===15)){var Ce=Ee.alternate;Ce?(Ee.updateQueue=Ce.updateQueue,Ee.memoizedState=Ce.memoizedState,Ee.lanes=Ce.lanes):(Ee.updateQueue=null,Ee.memoizedState=null)}var ze=p(U);if(ze!==null){ze.flags&=-257,w(ze,U,Z,N,r),ze.mode&1&&s(N,he,r),r=ze,ne=he;var He=r.updateQueue;if(He===null){var We=new Set;We.add(ne),r.updateQueue=We}else He.add(ne);break e}else{if((r&1)===0){s(N,he,r),Ih();break e}ne=Error(o(426))}}else if(Nt&&Z.mode&1){var mn=p(U);if(mn!==null){(mn.flags&65536)===0&&(mn.flags|=256),w(mn,U,Z,N,r),ca(jo(ne,Z));break e}}N=ne=jo(ne,Z),Dn!==4&&(Dn=2),Du===null?Du=[N]:Du.push(N),N=U;do{switch(N.tag){case 3:N.flags|=65536,r&=-r,N.lanes|=r;var ce=Hd(N,ne,r);pa(N,ce);break e;case 1:Z=ne;var ie=N.type,de=N.stateNode;if((N.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(Ns===null||!Ns.has(de)))){N.flags|=65536,r&=-r,N.lanes|=r;var Re=i(N,Z,r);pa(N,Re);break e}}N=N.return}while(N!==null)}Jg(u)}catch(Ve){r=Ve,kn===u&&u!==null&&(kn=u=u.return);continue}break}while(!0)}function Xg(){var t=$d.current;return $d.current=Es,t===null?Es:t}function Ih(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),zn===null||(ya&268435455)===0&&(qd&268435455)===0||Ds(zn,tr)}function Zd(t,r){var u=Et;Et|=2;var g=Xg();(zn!==t||tr!==r)&&(zo=null,Sa(t,r));do try{h2();break}catch(E){Yg(t,E)}while(!0);if(fl(),Et=u,$d.current=g,kn!==null)throw Error(o(261));return zn=null,tr=0,Dn}function h2(){for(;kn!==null;)Qg(kn)}function p2(){for(;kn!==null&&!oh();)Qg(kn)}function Qg(t){var r=t0(t.alternate,t,Kr);t.memoizedProps=t.pendingProps,r===null?Jg(t):kn=r,xh.current=null}function Jg(t){var r=t;do{var u=r.alternate;if(t=r.return,(r.flags&32768)===0){if(u=s2(u,r,Kr),u!==null){kn=u;return}}else{if(u=a2(u,r),u!==null){u.flags&=32767,kn=u;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dn=6,kn=null;return}}if(r=r.sibling,r!==null){kn=r;return}kn=r=t}while(r!==null);Dn===0&&(Dn=5)}function _a(t,r,u){var g=xt,E=hi.transition;try{hi.transition=null,xt=1,g2(t,r,u,g)}finally{hi.transition=E,xt=g}return null}function g2(t,r,u,g){do Nl();while(Ts!==null);if((Et&6)!==0)throw Error(o(327));u=t.finishedWork;var E=t.finishedLanes;if(u===null)return null;if(t.finishedWork=null,t.finishedLanes=0,u===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var N=u.lanes|u.childLanes;if(lh(t,N),t===zn&&(kn=zn=null,tr=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Yd||(Yd=!0,n0(qo,function(){return Nl(),null})),N=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||N){N=hi.transition,hi.transition=null;var U=xt;xt=1;var Z=Et;Et|=4,xh.current=null,u2(t,u),Gg(u,t),ea(hu),ja=!!fu,hu=fu=null,t.current=u,c2(u),sh(),Et=Z,xt=U,hi.transition=N}else t.current=u;if(Yd&&(Yd=!1,Ts=t,Xd=E),N=t.pendingLanes,N===0&&(Ns=null),zt(u.stateNode),Fr(t,en()),r!==null)for(g=t.onRecoverableError,u=0;u<r.length;u++)E=r[u],g(E.value,{componentStack:E.stack,digest:E.digest});if(Kd)throw Kd=!1,t=kh,kh=null,t;return(Xd&1)!==0&&t.tag!==0&&Nl(),N=t.pendingLanes,(N&1)!==0?t===bh?Au++:(Au=0,bh=t):Au=0,Xi(),null}function Nl(){if(Ts!==null){var t=$s(Xd),r=hi.transition,u=xt;try{if(hi.transition=null,xt=16>t?16:t,Ts===null)var g=!1;else{if(t=Ts,Ts=null,Xd=0,(Et&6)!==0)throw Error(o(331));var E=Et;for(Et|=4,Ge=t.current;Ge!==null;){var N=Ge,U=N.child;if((Ge.flags&16)!==0){var Z=N.deletions;if(Z!==null){for(var ne=0;ne<Z.length;ne++){var he=Z[ne];for(Ge=he;Ge!==null;){var Ee=Ge;switch(Ee.tag){case 0:case 11:case 15:Tu(8,Ee,N)}var be=Ee.child;if(be!==null)be.return=Ee,Ge=be;else for(;Ge!==null;){Ee=Ge;var Ce=Ee.sibling,ze=Ee.return;if(Fg(Ee),Ee===he){Ge=null;break}if(Ce!==null){Ce.return=ze,Ge=Ce;break}Ge=ze}}}var He=N.alternate;if(He!==null){var We=He.child;if(We!==null){He.child=null;do{var mn=We.sibling;We.sibling=null,We=mn}while(We!==null)}}Ge=N}}if((N.subtreeFlags&2064)!==0&&U!==null)U.return=N,Ge=U;else e:for(;Ge!==null;){if(N=Ge,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:Tu(9,N,N.return)}var ce=N.sibling;if(ce!==null){ce.return=N.return,Ge=ce;break e}Ge=N.return}}var ie=t.current;for(Ge=ie;Ge!==null;){U=Ge;var de=U.child;if((U.subtreeFlags&2064)!==0&&de!==null)de.return=U,Ge=de;else e:for(U=ie;Ge!==null;){if(Z=Ge,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:Vd(9,Z)}}catch(Ve){ln(Z,Z.return,Ve)}if(Z===U){Ge=null;break e}var Re=Z.sibling;if(Re!==null){Re.return=Z.return,Ge=Re;break e}Ge=Z.return}}if(Et=E,Xi(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(vi,t)}catch{}g=!0}return g}finally{xt=u,hi.transition=r}}return!1}function Zg(t,r,u){r=jo(u,r),r=Hd(t,r,1),t=di(t,r,1),r=kr(),t!==null&&(Vs(t,1,r),Fr(t,r))}function ln(t,r,u){if(t.tag===3)Zg(t,t,u);else for(;r!==null;){if(r.tag===3){Zg(r,t,u);break}else if(r.tag===1){var g=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ns===null||!Ns.has(g))){t=jo(u,t),t=i(r,t,1),r=di(r,t,1),t=kr(),r!==null&&(Vs(r,1,t),Fr(r,t));break}}r=r.return}}function m2(t,r,u){var g=t.pingCache;g!==null&&g.delete(r),r=kr(),t.pingedLanes|=t.suspendedLanes&u,zn===t&&(tr&u)===u&&(Dn===4||Dn===3&&(tr&130023424)===tr&&500>en()-Eh?Sa(t,0):Ch|=u),Fr(t,r)}function e0(t,r){r===0&&((t.mode&1)===0?r=1:(r=Si,Si<<=1,(Si&130023424)===0&&(Si=4194304)));var u=kr();t=Cr(t,r),t!==null&&(Vs(t,r,u),Fr(t,u))}function y2(t){var r=t.memoizedState,u=0;r!==null&&(u=r.retryLane),e0(t,u)}function v2(t,r){var u=0;switch(t.tag){case 13:var g=t.stateNode,E=t.memoizedState;E!==null&&(u=E.retryLane);break;case 19:g=t.stateNode;break;default:throw Error(o(314))}g!==null&&g.delete(r),e0(t,u)}var t0;t0=function(t,r,u){if(t!==null)if(t.memoizedProps!==r.pendingProps||Ln.current)D=!0;else{if((t.lanes&u)===0&&(r.flags&128)===0)return D=!1,mh(t,r,u);D=(t.flags&131072)!==0}else D=!1,Nt&&(r.flags&1048576)!==0&&Dd(r,Ji,r.index);switch(r.lanes=0,r.tag){case 2:var g=r.type;pt(t,r),t=r.pendingProps;var E=To(r,Tn.current);Pi(r,u),E=_s(null,r,g,t,E,u);var N=ws();return r.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,On(g)?(N=!0,Io(r)):N=!1,r.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,ha(r),E.updater=bs,r.stateNode=E,E._reactInternals=r,El(r,g,t,u),r=Tt(null,r,g,!0,N,u)):(r.tag=0,Nt&&N&&fs(r),q(null,r,E,u),r=r.child),r;case 16:g=r.elementType;e:{switch(pt(t,r),t=r.pendingProps,E=g._init,g=E(g._payload),r.type=g,E=r.tag=_2(g),t=In(g,t),E){case 0:r=Me(null,r,g,t,u);break e;case 1:r=jt(null,r,g,t,u);break e;case 11:r=ae(null,r,g,t,u);break e;case 14:r=pe(null,r,g,In(g.type,t),u);break e}throw Error(o(306,g,""))}return r;case 0:return g=r.type,E=r.pendingProps,E=r.elementType===g?E:In(g,E),Me(t,r,g,E,u);case 1:return g=r.type,E=r.pendingProps,E=r.elementType===g?E:In(g,E),jt(t,r,g,E,u);case 3:e:{if(Zn(r),t===null)throw Error(o(387));g=r.pendingProps,N=r.memoizedState,E=N.element,gl(t,r),ms(r,g,null,u);var U=r.memoizedState;if(g=U.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},r.updateQueue.baseState=N,r.memoizedState=N,r.flags&256){E=jo(Error(o(423)),r),r=fi(t,r,g,u,E);break e}else if(g!==E){E=jo(Error(o(424)),r),r=fi(t,r,g,u,E);break e}else for(Ae=ii(r.stateNode.containerInfo.firstChild),_r=r,Nt=!0,wr=null,u=Lr(r,null,g,u),r.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Oo(),g===E){r=jn(t,r,u);break e}q(t,r,g,u)}r=r.child}return r;case 5:return ys(r),t===null&&hs(r),g=r.type,E=r.pendingProps,N=t!==null?t.memoizedProps:null,U=E.children,pu(g,E)?U=null:N!==null&&pu(g,N)&&(r.flags|=32),rt(t,r),q(t,r,U,u),r.child;case 6:return t===null&&hs(r),null;case 13:return ye(t,r,u);case 4:return eo(r,r.stateNode.containerInfo),g=r.pendingProps,t===null?r.child=Mo(r,null,g,u):q(t,r,g,u),r.child;case 11:return g=r.type,E=r.pendingProps,E=r.elementType===g?E:In(g,E),ae(t,r,g,E,u);case 7:return q(t,r,r.pendingProps,u),r.child;case 8:return q(t,r,r.pendingProps.children,u),r.child;case 12:return q(t,r,r.pendingProps.children,u),r.child;case 10:e:{if(g=r.type._context,E=r.pendingProps,N=r.memoizedProps,U=E.value,Lt(da,g._currentValue),g._currentValue=U,N!==null)if(ur(N.value,U)){if(N.children===E.children&&!Ln.current){r=jn(t,r,u);break e}}else for(N=r.child,N!==null&&(N.return=r);N!==null;){var Z=N.dependencies;if(Z!==null){U=N.child;for(var ne=Z.firstContext;ne!==null;){if(ne.context===g){if(N.tag===1){ne=ci(-1,u&-u),ne.tag=2;var he=N.updateQueue;if(he!==null){he=he.shared;var Ee=he.pending;Ee===null?ne.next=ne:(ne.next=Ee.next,Ee.next=ne),he.pending=ne}}N.lanes|=u,ne=N.alternate,ne!==null&&(ne.lanes|=u),pl(N.return,u,r),Z.lanes|=u;break}ne=ne.next}}else if(N.tag===10)U=N.type===r.type?null:N.child;else if(N.tag===18){if(U=N.return,U===null)throw Error(o(341));U.lanes|=u,Z=U.alternate,Z!==null&&(Z.lanes|=u),pl(U,u,r),U=N.sibling}else U=N.child;if(U!==null)U.return=N;else for(U=N;U!==null;){if(U===r){U=null;break}if(N=U.sibling,N!==null){N.return=U.return,U=N;break}U=U.return}N=U}q(t,r,E.children,u),r=r.child}return r;case 9:return E=r.type,g=r.pendingProps.children,Pi(r,u),E=Qn(E),g=g(E),r.flags|=1,q(t,r,g,u),r.child;case 14:return g=r.type,E=In(g,r.pendingProps),E=In(g.type,E),pe(t,r,g,E,u);case 15:return Pe(t,r,r.type,r.pendingProps,u);case 17:return g=r.type,E=r.pendingProps,E=r.elementType===g?E:In(g,E),pt(t,r),r.tag=1,On(g)?(t=!0,Io(r)):t=!1,Pi(r,u),Gd(r,g,E),El(r,g,E,u),Tt(null,r,g,!0,t,u);case 19:return gn(t,r,u);case 22:return Ue(t,r,u)}throw Error(o(156,r.tag))};function n0(t,r){return id(t,r)}function S2(t,r,u,g){this.tag=t,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(t,r,u,g){return new S2(t,r,u,g)}function Dh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _2(t){if(typeof t=="function")return Dh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Q)return 11;if(t===ee)return 14}return 2}function As(t,r){var u=t.alternate;return u===null?(u=pi(t.tag,r,t.key,t.mode),u.elementType=t.elementType,u.type=t.type,u.stateNode=t.stateNode,u.alternate=t,t.alternate=u):(u.pendingProps=r,u.type=t.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=t.flags&14680064,u.childLanes=t.childLanes,u.lanes=t.lanes,u.child=t.child,u.memoizedProps=t.memoizedProps,u.memoizedState=t.memoizedState,u.updateQueue=t.updateQueue,r=t.dependencies,u.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},u.sibling=t.sibling,u.index=t.index,u.ref=t.ref,u}function ef(t,r,u,g,E,N){var U=2;if(g=t,typeof t=="function")Dh(t)&&(U=1);else if(typeof t=="string")U=5;else e:switch(t){case Y:return wa(u.children,E,N,r);case F:U=8,E|=8;break;case z:return t=pi(12,u,r,E|2),t.elementType=z,t.lanes=N,t;case te:return t=pi(13,u,r,E),t.elementType=te,t.lanes=N,t;case re:return t=pi(19,u,r,E),t.elementType=re,t.lanes=N,t;case L:return tf(u,E,N,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j:U=10;break e;case $:U=9;break e;case Q:U=11;break e;case ee:U=14;break e;case ge:U=16,g=null;break e}throw Error(o(130,t==null?t:typeof t,""))}return r=pi(U,u,r,E),r.elementType=t,r.type=g,r.lanes=N,r}function wa(t,r,u,g){return t=pi(7,t,g,r),t.lanes=u,t}function tf(t,r,u,g){return t=pi(22,t,g,r),t.elementType=L,t.lanes=u,t.stateNode={isHidden:!1},t}function Ah(t,r,u){return t=pi(6,t,null,r),t.lanes=u,t}function Lh(t,r,u){return r=pi(4,t.children!==null?t.children:[],t.key,r),r.lanes=u,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function w2(t,r,u,g,E){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hr(0),this.expirationTimes=hr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hr(0),this.identifierPrefix=g,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function Oh(t,r,u,g,E,N,U,Z,ne){return t=new w2(t,r,u,Z,ne),r===1?(r=1,N===!0&&(r|=8)):r=0,N=pi(3,null,null,r),t.current=N,N.stateNode=t,N.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},ha(N),t}function x2(t,r,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:g==null?null:""+g,children:t,containerInfo:r,implementation:u}}function r0(t){if(!t)return si;t=t._reactInternals;e:{if(fo(t)!==t||t.tag!==1)throw Error(o(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(On(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(o(171))}if(t.tag===1){var u=t.type;if(On(u))return al(t,u,r)}return r}function i0(t,r,u,g,E,N,U,Z,ne){return t=Oh(u,g,!0,t,E,N,U,Z,ne),t.context=r0(null),u=t.current,g=kr(),E=Is(u),N=ci(g,E),N.callback=r??null,di(u,N,E),t.current.lanes=E,Vs(t,E,g),Fr(t,g),t}function nf(t,r,u,g){var E=r.current,N=kr(),U=Is(E);return u=r0(u),r.context===null?r.context=u:r.pendingContext=u,r=ci(N,U),r.payload={element:t},g=g===void 0?null:g,g!==null&&(r.callback=g),t=di(E,r,U),t!==null&&(Ai(t,E,U,N),ml(t,E,U)),U}function rf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function o0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var u=t.retryLane;t.retryLane=u!==0&&u<r?u:r}}function Mh(t,r){o0(t,r),(t=t.alternate)&&o0(t,r)}function C2(){return null}var s0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fh(t){this._internalRoot=t}of.prototype.render=Fh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(o(409));nf(t,r,null,null)},of.prototype.unmount=Fh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;va(function(){nf(null,t,null,null)}),r[oi]=null}};function of(t){this._internalRoot=t}of.prototype.unstable_scheduleHydration=function(t){if(t){var r=ud();t={blockedOn:null,target:t,priority:r};for(var u=0;u<ri.length&&r!==0&&r<ri[u].priority;u++);ri.splice(u,0,t),u===0&&Ma(t)}};function Bh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a0(){}function E2(t,r,u,g,E){if(E){if(typeof g=="function"){var N=g;g=function(){var he=rf(U);N.call(he)}}var U=i0(r,g,t,0,null,!1,!1,"",a0);return t._reactRootContainer=U,t[oi]=U.current,ko(t.nodeType===8?t.parentNode:t),va(),U}for(;E=t.lastChild;)t.removeChild(E);if(typeof g=="function"){var Z=g;g=function(){var he=rf(ne);Z.call(he)}}var ne=Oh(t,0,!1,null,null,!1,!1,"",a0);return t._reactRootContainer=ne,t[oi]=ne.current,ko(t.nodeType===8?t.parentNode:t),va(function(){nf(r,ne,u,g)}),ne}function af(t,r,u,g,E){var N=u._reactRootContainer;if(N){var U=N;if(typeof E=="function"){var Z=E;E=function(){var ne=rf(U);Z.call(ne)}}nf(r,U,t,E)}else U=E2(u,r,t,E,g);return rf(U)}Yo=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var u=_n(r.pendingLanes);u!==0&&(Vl(r,u|1),Fr(r,en()),(Et&6)===0&&(Rl=en()+500,Xi()))}break;case 13:va(function(){var g=Cr(t,1);if(g!==null){var E=kr();Ai(g,t,1,E)}}),Mh(t,1)}},Xo=function(t){if(t.tag===13){var r=Cr(t,134217728);if(r!==null){var u=kr();Ai(r,t,134217728,u)}Mh(t,134217728)}},ld=function(t){if(t.tag===13){var r=Is(t),u=Cr(t,r);if(u!==null){var g=kr();Ai(u,t,r,g)}Mh(t,r)}},ud=function(){return xt},La=function(t,r){var u=xt;try{return xt=t,r()}finally{xt=u}},yt=function(t,r,u){switch(r){case"input":if(xe(t,u),r=u.name,u.type==="radio"&&r!=null){for(u=t;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<u.length;r++){var g=u[r];if(g!==t&&g.form===t.form){var E=Cn(g);if(!E)throw Error(o(90));Le(g),xe(g,E)}}}break;case"textarea":_t(t,u);break;case"select":r=u.value,r!=null&&mt(t,!!u.multiple,r,!1)}},Nr=Nh,Zr=va;var k2={usingClientEntryPoint:!1,Events:[aa,fn,Cn,Rt,wt,Nh]},Lu={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b2={bundleType:Lu.bundleType,version:Lu.version,rendererPackageName:Lu.rendererPackageName,rendererConfig:Lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nd(t),t===null?null:t.stateNode},findFiberByHostInstance:Lu.findFiberByHostInstance||C2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{vi=lf.inject(b2),bn=lf}catch{}}return Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k2,Br.createPortal=function(t,r){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bh(r))throw Error(o(200));return x2(t,r,null,u)},Br.createRoot=function(t,r){if(!Bh(t))throw Error(o(299));var u=!1,g="",E=s0;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(g=r.identifierPrefix),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=Oh(t,1,!1,null,null,u,!1,g,E),t[oi]=r.current,ko(t.nodeType===8?t.parentNode:t),new Fh(r)},Br.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=nd(r),t=t===null?null:t.stateNode,t},Br.flushSync=function(t){return va(t)},Br.hydrate=function(t,r,u){if(!sf(r))throw Error(o(200));return af(null,t,r,!0,u)},Br.hydrateRoot=function(t,r,u){if(!Bh(t))throw Error(o(405));var g=u!=null&&u.hydratedSources||null,E=!1,N="",U=s0;if(u!=null&&(u.unstable_strictMode===!0&&(E=!0),u.identifierPrefix!==void 0&&(N=u.identifierPrefix),u.onRecoverableError!==void 0&&(U=u.onRecoverableError)),r=i0(r,null,t,1,u??null,E,!1,N,U),t[oi]=r.current,ko(t),g)for(t=0;t<g.length;t++)u=g[t],E=u._getVersion,E=E(u._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[u,E]:r.mutableSourceEagerHydrationData.push(u,E);return new of(r)},Br.render=function(t,r,u){if(!sf(r))throw Error(o(200));return af(null,t,r,!1,u)},Br.unmountComponentAtNode=function(t){if(!sf(t))throw Error(o(40));return t._reactRootContainer?(va(function(){af(null,null,t,!1,function(){t._reactRootContainer=null,t[oi]=null})}),!0):!1},Br.unstable_batchedUpdates=Nh,Br.unstable_renderSubtreeIntoContainer=function(t,r,u,g){if(!sf(u))throw Error(o(200));if(t==null||t._reactInternals===void 0)throw Error(o(38));return af(t,r,u,!1,g)},Br.version="18.3.1-next-f1338f8080-20240426",Br}var m0;function q1(){if(m0)return Uh.exports;m0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Uh.exports=D2(),Uh.exports}var y0;function A2(){if(y0)return uf;y0=1;var e=q1();return uf.createRoot=e.createRoot,uf.hydrateRoot=e.hydrateRoot,uf}var K1=A2();const L2=Ra(K1);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var v0="popstate";function O2(e={}){function n(a,l){let{pathname:c,search:d,hash:f}=a.location;return Ep("",{pathname:c,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function o(a,l){return typeof l=="string"?l:Mc(l)}return F2(n,o,null,e)}function rn(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function ao(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function M2(){return Math.random().toString(36).substring(2,10)}function S0(e,n){return{usr:e.state,key:e.key,idx:n}}function Ep(e,n,o=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?Fl(n):n,state:o,key:n&&n.key||a||M2()}}function Mc({pathname:e="/",search:n="",hash:o=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function Fl(e){let n={};if(e){let o=e.indexOf("#");o>=0&&(n.hash=e.substring(o),e=e.substring(0,o));let a=e.indexOf("?");a>=0&&(n.search=e.substring(a),e=e.substring(0,a)),e&&(n.pathname=e)}return n}function F2(e,n,o,a={}){let{window:l=document.defaultView,v5Compat:c=!1}=a,d=l.history,f="POP",h=null,m=y();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function y(){return(d.state||{idx:null}).idx}function S(){f="POP";let R=y(),I=R==null?null:R-m;m=R,h&&h({action:f,location:P.location,delta:I})}function v(R,I){f="PUSH";let k=Ep(P.location,R,I);m=y()+1;let x=S0(k,m),T=P.createHref(k);try{d.pushState(x,"",T)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;l.location.assign(T)}c&&h&&h({action:f,location:P.location,delta:1})}function _(R,I){f="REPLACE";let k=Ep(P.location,R,I);m=y();let x=S0(k,m),T=P.createHref(k);d.replaceState(x,"",T),c&&h&&h({action:f,location:P.location,delta:0})}function C(R){return B2(R)}let P={get action(){return f},get location(){return e(l,d)},listen(R){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(v0,S),h=R,()=>{l.removeEventListener(v0,S),h=null}},createHref(R){return n(l,R)},createURL:C,encodeLocation(R){let I=C(R);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:v,replace:_,go(R){return d.go(R)}};return P}function B2(e,n=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),rn(o,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Mc(e);return a=a.replace(/ $/,"%20"),!n&&a.startsWith("//")&&(a=o+a),new URL(a,o)}function Y1(e,n,o="/"){return j2(e,n,o,!1)}function j2(e,n,o,a){let l=typeof n=="string"?Fl(n):n,c=Vo(l.pathname||"/",o);if(c==null)return null;let d=X1(e);z2(d);let f=null;for(let h=0;f==null&&h<d.length;++h){let m=Q2(c);f=Y2(d[h],m,a)}return f}function X1(e,n=[],o=[],a="",l=!1){let c=(d,f,h=l,m)=>{let y={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&h)return;rn(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let S=Wo([a,y.relativePath]),v=o.concat(y);d.children&&d.children.length>0&&(rn(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),X1(d.children,n,v,S,h)),!(d.path==null&&!d.index)&&n.push({path:S,score:q2(S,d.index),routesMeta:v})};return e.forEach((d,f)=>{var h;if(d.path===""||!((h=d.path)!=null&&h.includes("?")))c(d,f);else for(let m of Q1(d.path))c(d,f,!0,m)}),n}function Q1(e){let n=e.split("/");if(n.length===0)return[];let[o,...a]=n,l=o.endsWith("?"),c=o.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let d=Q1(a.join("/")),f=[];return f.push(...d.map(h=>h===""?c:[c,h].join("/"))),l&&f.push(...d),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function z2(e){e.sort((n,o)=>n.score!==o.score?o.score-n.score:K2(n.routesMeta.map(a=>a.childrenIndex),o.routesMeta.map(a=>a.childrenIndex)))}var U2=/^:[\w-]+$/,G2=3,H2=2,W2=1,V2=10,$2=-2,_0=e=>e==="*";function q2(e,n){let o=e.split("/"),a=o.length;return o.some(_0)&&(a+=$2),n&&(a+=H2),o.filter(l=>!_0(l)).reduce((l,c)=>l+(U2.test(c)?G2:c===""?W2:V2),a)}function K2(e,n){return e.length===n.length&&e.slice(0,-1).every((a,l)=>a===n[l])?e[e.length-1]-n[n.length-1]:0}function Y2(e,n,o=!1){let{routesMeta:a}=e,l={},c="/",d=[];for(let f=0;f<a.length;++f){let h=a[f],m=f===a.length-1,y=c==="/"?n:n.slice(c.length)||"/",S=bf({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),v=h.route;if(!S&&m&&o&&!a[a.length-1].route.index&&(S=bf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!S)return null;Object.assign(l,S.params),d.push({params:l,pathname:Wo([c,S.pathname]),pathnameBase:t3(Wo([c,S.pathnameBase])),route:v}),S.pathnameBase!=="/"&&(c=Wo([c,S.pathnameBase]))}return d}function bf(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[o,a]=X2(e.path,e.caseSensitive,e.end),l=n.match(o);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:a.reduce((m,{paramName:y,isOptional:S},v)=>{if(y==="*"){let C=f[v]||"";d=c.slice(0,c.length-C.length).replace(/(.)\/+$/,"$1")}const _=f[v];return S&&!_?m[y]=void 0:m[y]=(_||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:d,pattern:e}}function X2(e,n=!1,o=!0){ao(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,h)=>(a.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),a]}function Q2(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ao(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function Vo(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let o=n.endsWith("/")?n.length-1:n.length,a=e.charAt(o);return a&&a!=="/"?null:e.slice(o)||"/"}function J2(e,n="/"){let{pathname:o,search:a="",hash:l=""}=typeof e=="string"?Fl(e):e;return{pathname:o?o.startsWith("/")?o:Z2(o,n):n,search:n3(a),hash:r3(l)}}function Z2(e,n){let o=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?o.length>1&&o.pop():l!=="."&&o.push(l)}),o.length>1?o.join("/"):"/"}function Wh(e,n,o,a){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e3(e){return e.filter((n,o)=>o===0||n.route.path&&n.route.path.length>0)}function J1(e){let n=e3(e);return n.map((o,a)=>a===n.length-1?o.pathname:o.pathnameBase)}function Z1(e,n,o,a=!1){let l;typeof e=="string"?l=Fl(e):(l={...e},rn(!l.pathname||!l.pathname.includes("?"),Wh("?","pathname","search",l)),rn(!l.pathname||!l.pathname.includes("#"),Wh("#","pathname","hash",l)),rn(!l.search||!l.search.includes("#"),Wh("#","search","hash",l)));let c=e===""||l.pathname==="",d=c?"/":l.pathname,f;if(d==null)f=o;else{let S=n.length-1;if(!a&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),S-=1;l.pathname=v.join("/")}f=S>=0?n[S]:"/"}let h=J2(l,f),m=d&&d!=="/"&&d.endsWith("/"),y=(c||d===".")&&o.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var Wo=e=>e.join("/").replace(/\/\/+/g,"/"),t3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),n3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,r3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function i3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var ey=["POST","PUT","PATCH","DELETE"];new Set(ey);var o3=["GET",...ey];new Set(o3);var Bl=W.createContext(null);Bl.displayName="DataRouter";var zf=W.createContext(null);zf.displayName="DataRouterState";W.createContext(!1);var ty=W.createContext({isTransitioning:!1});ty.displayName="ViewTransition";var s3=W.createContext(new Map);s3.displayName="Fetchers";var a3=W.createContext(null);a3.displayName="Await";var lo=W.createContext(null);lo.displayName="Navigation";var Kc=W.createContext(null);Kc.displayName="Location";var uo=W.createContext({outlet:null,matches:[],isDataRoute:!1});uo.displayName="Route";var qp=W.createContext(null);qp.displayName="RouteError";function l3(e,{relative:n}={}){rn(Yc(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:a}=W.useContext(lo),{hash:l,pathname:c,search:d}=Xc(e,{relative:n}),f=c;return o!=="/"&&(f=c==="/"?o:Wo([o,c])),a.createHref({pathname:f,search:d,hash:l})}function Yc(){return W.useContext(Kc)!=null}function Na(){return rn(Yc(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Kc).location}var ny="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ry(e){W.useContext(lo).static||W.useLayoutEffect(e)}function Uf(){let{isDataRoute:e}=W.useContext(uo);return e?w3():u3()}function u3(){rn(Yc(),"useNavigate() may be used only in the context of a <Router> component.");let e=W.useContext(Bl),{basename:n,navigator:o}=W.useContext(lo),{matches:a}=W.useContext(uo),{pathname:l}=Na(),c=JSON.stringify(J1(a)),d=W.useRef(!1);return ry(()=>{d.current=!0}),W.useCallback((h,m={})=>{if(ao(d.current,ny),!d.current)return;if(typeof h=="number"){o.go(h);return}let y=Z1(h,JSON.parse(c),l,m.relative==="path");e==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:Wo([n,y.pathname])),(m.replace?o.replace:o.push)(y,m.state,m)},[n,o,c,l,e])}W.createContext(null);function Kp(){let{matches:e}=W.useContext(uo),n=e[e.length-1];return n?n.params:{}}function Xc(e,{relative:n}={}){let{matches:o}=W.useContext(uo),{pathname:a}=Na(),l=JSON.stringify(J1(o));return W.useMemo(()=>Z1(e,JSON.parse(l),a,n==="path"),[e,l,a,n])}function c3(e,n){return iy(e,n)}function iy(e,n,o,a,l){var k;rn(Yc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=W.useContext(lo),{matches:d}=W.useContext(uo),f=d[d.length-1],h=f?f.params:{},m=f?f.pathname:"/",y=f?f.pathnameBase:"/",S=f&&f.route;{let x=S&&S.path||"";oy(m,!S||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let v=Na(),_;if(n){let x=typeof n=="string"?Fl(n):n;rn(y==="/"||((k=x.pathname)==null?void 0:k.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${x.pathname}" was given in the \`location\` prop.`),_=x}else _=v;let C=_.pathname||"/",P=C;if(y!=="/"){let x=y.replace(/^\//,"").split("/");P="/"+C.replace(/^\//,"").split("/").slice(x.length).join("/")}let R=Y1(e,{pathname:P});ao(S||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ao(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=g3(R&&R.map(x=>Object.assign({},x,{params:Object.assign({},h,x.params),pathname:Wo([y,c.encodeLocation?c.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?y:Wo([y,c.encodeLocation?c.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),d,o,a,l);return n&&I?W.createElement(Kc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},I):I}function d3(){let e=_3(),n=i3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),o=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:c},"ErrorBoundary")," or"," ",W.createElement("code",{style:c},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},n),o?W.createElement("pre",{style:l},o):null,d)}var f3=W.createElement(d3,null),h3=class extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){this.props.unstable_onError?this.props.unstable_onError(e,n):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?W.createElement(uo.Provider,{value:this.props.routeContext},W.createElement(qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p3({routeContext:e,match:n,children:o}){let a=W.useContext(Bl);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement(uo.Provider,{value:e},o)}function g3(e,n=[],o=null,a=null,l=null){if(e==null){if(!o)return null;if(o.errors)e=o.matches;else if(n.length===0&&!o.initialized&&o.matches.length>0)e=o.matches;else return null}let c=e,d=o==null?void 0:o.errors;if(d!=null){let m=c.findIndex(y=>y.route.id&&(d==null?void 0:d[y.route.id])!==void 0);rn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,m+1))}let f=!1,h=-1;if(o)for(let m=0;m<c.length;m++){let y=c[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=m),y.route.id){let{loaderData:S,errors:v}=o,_=y.route.loader&&!S.hasOwnProperty(y.route.id)&&(!v||v[y.route.id]===void 0);if(y.route.lazy||_){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((m,y,S)=>{let v,_=!1,C=null,P=null;o&&(v=d&&y.route.id?d[y.route.id]:void 0,C=y.route.errorElement||f3,f&&(h<0&&S===0?(oy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,P=null):h===S&&(_=!0,P=y.route.hydrateFallbackElement||null)));let R=n.concat(c.slice(0,S+1)),I=()=>{let k;return v?k=C:_?k=P:y.route.Component?k=W.createElement(y.route.Component,null):y.route.element?k=y.route.element:k=m,W.createElement(p3,{match:y,routeContext:{outlet:m,matches:R,isDataRoute:o!=null},children:k})};return o&&(y.route.ErrorBoundary||y.route.errorElement||S===0)?W.createElement(h3,{location:o.location,revalidation:o.revalidation,component:C,error:v,children:I(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:a}):I()},null)}function Yp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m3(e){let n=W.useContext(Bl);return rn(n,Yp(e)),n}function y3(e){let n=W.useContext(zf);return rn(n,Yp(e)),n}function v3(e){let n=W.useContext(uo);return rn(n,Yp(e)),n}function Xp(e){let n=v3(e),o=n.matches[n.matches.length-1];return rn(o.route.id,`${e} can only be used on routes that contain a unique "id"`),o.route.id}function S3(){return Xp("useRouteId")}function _3(){var a;let e=W.useContext(qp),n=y3("useRouteError"),o=Xp("useRouteError");return e!==void 0?e:(a=n.errors)==null?void 0:a[o]}function w3(){let{router:e}=m3("useNavigate"),n=Xp("useNavigate"),o=W.useRef(!1);return ry(()=>{o.current=!0}),W.useCallback(async(l,c={})=>{ao(o.current,ny),o.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:n,...c}))},[e,n])}var w0={};function oy(e,n,o){!n&&!w0[e]&&(w0[e]=!0,ao(!1,o))}W.memo(x3);function x3({routes:e,future:n,state:o,unstable_onError:a}){return iy(e,void 0,o,a,n)}function Sf(e){rn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function C3({basename:e="/",children:n=null,location:o,navigationType:a="POP",navigator:l,static:c=!1}){rn(!Yc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=W.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);typeof o=="string"&&(o=Fl(o));let{pathname:h="/",search:m="",hash:y="",state:S=null,key:v="default"}=o,_=W.useMemo(()=>{let C=Vo(h,d);return C==null?null:{location:{pathname:C,search:m,hash:y,state:S,key:v},navigationType:a}},[d,h,m,y,S,v,a]);return ao(_!=null,`<Router basename="${d}"> is not able to match the URL "${h}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:W.createElement(lo.Provider,{value:f},W.createElement(Kc.Provider,{children:n,value:_}))}function E3({children:e,location:n}){return c3(kp(e),n)}function kp(e,n=[]){let o=[];return W.Children.forEach(e,(a,l)=>{if(!W.isValidElement(a))return;let c=[...n,l];if(a.type===W.Fragment){o.push.apply(o,kp(a.props.children,c));return}rn(a.type===Sf,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rn(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=kp(a.props.children,c)),o.push(d)}),o}var _f="get",wf="application/x-www-form-urlencoded";function Gf(e){return e!=null&&typeof e.tagName=="string"}function k3(e){return Gf(e)&&e.tagName.toLowerCase()==="button"}function b3(e){return Gf(e)&&e.tagName.toLowerCase()==="form"}function P3(e){return Gf(e)&&e.tagName.toLowerCase()==="input"}function R3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function N3(e,n){return e.button===0&&(!n||n==="_self")&&!R3(e)}var cf=null;function T3(){if(cf===null)try{new FormData(document.createElement("form"),0),cf=!1}catch{cf=!0}return cf}var I3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vh(e){return e!=null&&!I3.has(e)?(ao(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wf}"`),null):e}function D3(e,n){let o,a,l,c,d;if(b3(e)){let f=e.getAttribute("action");a=f?Vo(f,n):null,o=e.getAttribute("method")||_f,l=Vh(e.getAttribute("enctype"))||wf,c=new FormData(e)}else if(k3(e)||P3(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(a=h?Vo(h,n):null,o=e.getAttribute("formmethod")||f.getAttribute("method")||_f,l=Vh(e.getAttribute("formenctype"))||Vh(f.getAttribute("enctype"))||wf,c=new FormData(f,e),!T3()){let{name:m,type:y,value:S}=e;if(y==="image"){let v=m?`${m}.`:"";c.append(`${v}x`,"0"),c.append(`${v}y`,"0")}else m&&c.append(m,S)}}else{if(Gf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=_f,a=null,l=wf,d=e}return c&&l==="text/plain"&&(d=c,c=void 0),{action:a,method:o.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qp(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function A3(e,n,o){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${o}`:n&&Vo(a.pathname,n)==="/"?a.pathname=`${n.replace(/\/$/,"")}/_root.${o}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${o}`,a}async function L3(e,n){if(e.id in n)return n[e.id];try{let o=await import(e.module);return n[e.id]=o,o}catch(o){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function M3(e,n,o){let a=await Promise.all(e.map(async l=>{let c=n.routes[l.route.id];if(c){let d=await L3(c,o);return d.links?d.links():[]}return[]}));return z3(a.flat(1).filter(O3).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function x0(e,n,o,a,l,c){let d=(h,m)=>o[m]?h.route.id!==o[m].route.id:!0,f=(h,m)=>{var y;return o[m].pathname!==h.pathname||((y=o[m].route.path)==null?void 0:y.endsWith("*"))&&o[m].params["*"]!==h.params["*"]};return c==="assets"?n.filter((h,m)=>d(h,m)||f(h,m)):c==="data"?n.filter((h,m)=>{var S;let y=a.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(d(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((S=o[0])==null?void 0:S.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function F3(e,n,{includeHydrateFallback:o}={}){return B3(e.map(a=>{let l=n.routes[a.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),o&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function B3(e){return[...new Set(e)]}function j3(e){let n={},o=Object.keys(e).sort();for(let a of o)n[a]=e[a];return n}function z3(e,n){let o=new Set;return new Set(n),e.reduce((a,l)=>{let c=JSON.stringify(j3(l));return o.has(c)||(o.add(c),a.push({key:c,link:l})),a},[])}function sy(){let e=W.useContext(Bl);return Qp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function U3(){let e=W.useContext(zf);return Qp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Jp=W.createContext(void 0);Jp.displayName="FrameworkContext";function ay(){let e=W.useContext(Jp);return Qp(e,"You must render this element inside a <HydratedRouter> element"),e}function G3(e,n){let o=W.useContext(Jp),[a,l]=W.useState(!1),[c,d]=W.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:S}=n,v=W.useRef(null);W.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let P=I=>{I.forEach(k=>{d(k.isIntersecting)})},R=new IntersectionObserver(P,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[e]),W.useEffect(()=>{if(a){let P=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(P)}}},[a]);let _=()=>{l(!0)},C=()=>{l(!1),d(!1)};return o?e!=="intent"?[c,v,{}]:[c,v,{onFocus:Mu(f,_),onBlur:Mu(h,C),onMouseEnter:Mu(m,_),onMouseLeave:Mu(y,C),onTouchStart:Mu(S,_)}]:[!1,v,{}]}function Mu(e,n){return o=>{e&&e(o),o.defaultPrevented||n(o)}}function H3({page:e,...n}){let{router:o}=sy(),a=W.useMemo(()=>Y1(o.routes,e,o.basename),[o.routes,e,o.basename]);return a?W.createElement(V3,{page:e,matches:a,...n}):null}function W3(e){let{manifest:n,routeModules:o}=ay(),[a,l]=W.useState([]);return W.useEffect(()=>{let c=!1;return M3(e,n,o).then(d=>{c||l(d)}),()=>{c=!0}},[e,n,o]),a}function V3({page:e,matches:n,...o}){let a=Na(),{manifest:l,routeModules:c}=ay(),{basename:d}=sy(),{loaderData:f,matches:h}=U3(),m=W.useMemo(()=>x0(e,n,h,l,a,"data"),[e,n,h,l,a]),y=W.useMemo(()=>x0(e,n,h,l,a,"assets"),[e,n,h,l,a]),S=W.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let C=new Set,P=!1;if(n.forEach(I=>{var x;let k=l.routes[I.route.id];!k||!k.hasLoader||(!m.some(T=>T.route.id===I.route.id)&&I.route.id in f&&((x=c[I.route.id])!=null&&x.shouldRevalidate)||k.hasClientLoader?P=!0:C.add(I.route.id))}),C.size===0)return[];let R=A3(e,d,"data");return P&&C.size>0&&R.searchParams.set("_routes",n.filter(I=>C.has(I.route.id)).map(I=>I.route.id).join(",")),[R.pathname+R.search]},[d,f,a,l,m,n,e,c]),v=W.useMemo(()=>F3(y,l),[y,l]),_=W3(y);return W.createElement(W.Fragment,null,S.map(C=>W.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...o})),v.map(C=>W.createElement("link",{key:C,rel:"modulepreload",href:C,...o})),_.map(({key:C,link:P})=>W.createElement("link",{key:C,nonce:o.nonce,...P})))}function $3(...e){return n=>{e.forEach(o=>{typeof o=="function"?o(n):o!=null&&(o.current=n)})}}var ly=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ly&&(window.__reactRouterVersion="7.9.1")}catch{}function q3({basename:e,children:n,window:o}){let a=W.useRef();a.current==null&&(a.current=O2({window:o,v5Compat:!0}));let l=a.current,[c,d]=W.useState({action:l.action,location:l.location}),f=W.useCallback(h=>{W.startTransition(()=>d(h))},[d]);return W.useLayoutEffect(()=>l.listen(f),[l,f]),W.createElement(C3,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l})}var uy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cy=W.forwardRef(function({onClick:n,discover:o="render",prefetch:a="none",relative:l,reloadDocument:c,replace:d,state:f,target:h,to:m,preventScrollReset:y,viewTransition:S,...v},_){let{basename:C}=W.useContext(lo),P=typeof m=="string"&&uy.test(m),R,I=!1;if(typeof m=="string"&&P&&(R=m,ly))try{let z=new URL(window.location.href),j=m.startsWith("//")?new URL(z.protocol+m):new URL(m),$=Vo(j.pathname,C);j.origin===z.origin&&$!=null?m=$+j.search+j.hash:I=!0}catch{ao(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=l3(m,{relative:l}),[x,T,A]=G3(a,v),M=Q3(m,{replace:d,state:f,target:h,preventScrollReset:y,relative:l,viewTransition:S});function Y(z){n&&n(z),z.defaultPrevented||M(z)}let F=W.createElement("a",{...v,...A,href:R||k,onClick:I||c?n:Y,ref:$3(_,T),target:h,"data-discover":!P&&o==="render"?"true":void 0});return x&&!P?W.createElement(W.Fragment,null,F,W.createElement(H3,{page:k})):F});cy.displayName="Link";var K3=W.forwardRef(function({"aria-current":n="page",caseSensitive:o=!1,className:a="",end:l=!1,style:c,to:d,viewTransition:f,children:h,...m},y){let S=Xc(d,{relative:m.relative}),v=Na(),_=W.useContext(zf),{navigator:C,basename:P}=W.useContext(lo),R=_!=null&&n4(S)&&f===!0,I=C.encodeLocation?C.encodeLocation(S).pathname:S.pathname,k=v.pathname,x=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;o||(k=k.toLowerCase(),x=x?x.toLowerCase():null,I=I.toLowerCase()),x&&P&&(x=Vo(x,P)||x);const T=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let A=k===I||!l&&k.startsWith(I)&&k.charAt(T)==="/",M=x!=null&&(x===I||!l&&x.startsWith(I)&&x.charAt(I.length)==="/"),Y={isActive:A,isPending:M,isTransitioning:R},F=A?n:void 0,z;typeof a=="function"?z=a(Y):z=[a,A?"active":null,M?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let j=typeof c=="function"?c(Y):c;return W.createElement(cy,{...m,"aria-current":F,className:z,ref:y,style:j,to:d,viewTransition:f},typeof h=="function"?h(Y):h)});K3.displayName="NavLink";var Y3=W.forwardRef(({discover:e="render",fetcherKey:n,navigate:o,reloadDocument:a,replace:l,state:c,method:d=_f,action:f,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:S,...v},_)=>{let C=e4(),P=t4(f,{relative:m}),R=d.toLowerCase()==="get"?"get":"post",I=typeof f=="string"&&uy.test(f),k=x=>{if(h&&h(x),x.defaultPrevented)return;x.preventDefault();let T=x.nativeEvent.submitter,A=(T==null?void 0:T.getAttribute("formmethod"))||d;C(T||x.currentTarget,{fetcherKey:n,method:A,navigate:o,replace:l,state:c,relative:m,preventScrollReset:y,viewTransition:S})};return W.createElement("form",{ref:_,method:R,action:P,onSubmit:a?h:k,...v,"data-discover":!I&&e==="render"?"true":void 0})});Y3.displayName="Form";function X3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dy(e){let n=W.useContext(Bl);return rn(n,X3(e)),n}function Q3(e,{target:n,replace:o,state:a,preventScrollReset:l,relative:c,viewTransition:d}={}){let f=Uf(),h=Na(),m=Xc(e,{relative:c});return W.useCallback(y=>{if(N3(y,n)){y.preventDefault();let S=o!==void 0?o:Mc(h)===Mc(m);f(e,{replace:S,state:a,preventScrollReset:l,relative:c,viewTransition:d})}},[h,f,m,o,a,n,e,l,c,d])}var J3=0,Z3=()=>`__${String(++J3)}__`;function e4(){let{router:e}=dy("useSubmit"),{basename:n}=W.useContext(lo),o=S3();return W.useCallback(async(a,l={})=>{let{action:c,method:d,encType:f,formData:h,body:m}=D3(a,n);if(l.navigate===!1){let y=l.fetcherKey||Z3();await e.fetch(y,o,l.action||c,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await e.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:o,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,n,o])}function t4(e,{relative:n}={}){let{basename:o}=W.useContext(lo),a=W.useContext(uo);rn(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),c={...Xc(e||".",{relative:n})},d=Na();if(e==null){c.search=d.search;let f=new URLSearchParams(c.search),h=f.getAll("index");if(h.some(y=>y==="")){f.delete("index"),h.filter(S=>S).forEach(S=>f.append("index",S));let y=f.toString();c.search=y?`?${y}`:""}}return(!e||e===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(c.pathname=c.pathname==="/"?o:Wo([o,c.pathname])),Mc(c)}function n4(e,{relative:n}={}){let o=W.useContext(ty);rn(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=dy("useViewTransitionState"),l=Xc(e,{relative:n});if(!o.isTransitioning)return!1;let c=Vo(o.currentLocation.pathname,a)||o.currentLocation.pathname,d=Vo(o.nextLocation.pathname,a)||o.nextLocation.pathname;return bf(l.pathname,d)!=null||bf(l.pathname,c)!=null}var Zp=q1();const r4=Ra(Zp),fy=W.createContext(void 0),i4={user:null,isAuthenticated:!1,isLoading:!1,error:null},o4=(e,n)=>{switch(n.type){case"LOGIN_START":case"REGISTER_START":return{...e,isLoading:!0,error:null};case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":case"LOAD_USER":return{...e,user:n.payload,isAuthenticated:!0,isLoading:!1,error:null};case"LOGIN_FAILURE":case"REGISTER_FAILURE":return{...e,user:null,isAuthenticated:!1,isLoading:!1,error:n.payload};case"LOGOUT":return{...e,user:null,isAuthenticated:!1,isLoading:!1,error:null};case"CLEAR_ERROR":return{...e,error:null};default:return e}},s4=({children:e})=>{const[n,o]=W.useReducer(o4,i4),a=Ye.useRef(0),l="https://daisy.wisoft.io/kimbanana/app/api",c=W.useCallback(async()=>{const C=localStorage.getItem("accessToken");return C||(await f(!0)?localStorage.getItem("accessToken"):null)},[]);W.useEffect(()=>{const C=localStorage.getItem("accessToken");C&&d(C)},[c]);const d=async C=>{try{const P=await fetch(`${l}/auth/profile`,{headers:{Authorization:`Bearer ${C}`,Accept:"application/json"}});if(P.ok){const R=await P.json(),I={id:R.id,email:R.email,name:R.name,profileImage:void 0,createdAt:new Date().toISOString()};o({type:"LOAD_USER",payload:I})}else await f(!1)}catch(P){console.error("사용자 정보 로드 실패:",P),h()}},f=async C=>{const P=localStorage.getItem("refreshToken");if(!P)return h(),!1;try{const R=await fetch(`${l}/auth/refresh`,{method:"POST",headers:{Authorization:`Bearer ${P}`,Accept:"application/json"}});if(R.ok){const I=await R.json();return localStorage.setItem("accessToken",I.accessToken),localStorage.setItem("refreshToken",I.refreshToken),C||await d(I.accessToken),!0}else return h(),!1}catch(R){return console.error("토큰 재발급 실패:",R),h(),!1}},h=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),o({type:"LOGOUT"})},m=async C=>{o({type:"LOGIN_START"});try{console.log("🔐 로그인 시도:",{url:`${l}/auth/sign-in`,email:C.email,isDev:!1});const P=await fetch(`${l}/auth/sign-in`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(C)});if(console.log("🔐 로그인 응답:",{status:P.status,statusText:P.statusText,ok:P.ok}),P.ok){const R=await P.json();localStorage.setItem("accessToken",R.accessToken),localStorage.setItem("refreshToken",R.refreshToken),a.current=0;try{await d(R.accessToken)}catch{console.warn("프로필 조회 실패, 임시 사용자 정보 생성");const k={id:"temp_user_"+Date.now(),email:C.email,name:C.email.split("@")[0],profileImage:void 0,createdAt:new Date().toISOString()};o({type:"LOAD_USER",payload:k})}return{success:!0}}else{let R="";try{R=await P.text(),console.log("🔐 로그인 실패 응답 본문:",R)}catch(k){console.log("🔐 응답 본문 읽기 실패:",k)}let I="로그인에 실패했습니다.";return P.status===400?I="이메일 또는 비밀번호를 확인해주세요.":P.status===401&&(I="이메일 또는 비밀번호가 올바르지 않습니다."),o({type:"LOGIN_FAILURE",payload:I}),{success:!1,error:I}}}catch{const R="네트워크 오류가 발생했습니다.";return o({type:"LOGIN_FAILURE",payload:R}),{success:!1,error:R}}},y=async C=>{o({type:"REGISTER_START"});try{console.log("📝 회원가입 시도:",{url:`${l}/auth/sign-up`,email:C.email,name:C.name,isDev:!1});const P=await fetch(`${l}/auth/sign-up`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(C)});if(console.log("📝 회원가입 응답:",{status:P.status,statusText:P.statusText,ok:P.ok}),P.ok)return await m({email:C.email,password:C.password});{let R="";try{R=await P.text(),console.log("📝 회원가입 실패 응답 본문:",R)}catch(k){console.log("📝 응답 본문 읽기 실패:",k)}let I="회원가입에 실패했습니다.";return P.status===400?I="입력 정보를 확인해주세요. (이메일 형식, 이름 3자 이상, 비밀번호 6자 이상 영문+숫자)":P.status===409&&(I="이미 가입된 이메일입니다."),o({type:"REGISTER_FAILURE",payload:I}),{success:!1,error:I}}}catch(P){console.error("📝 회원가입 네트워크 오류:",P);const R="네트워크 오류가 발생했습니다.";return o({type:"REGISTER_FAILURE",payload:R}),{success:!1,error:R}}},S=async()=>{h()},v=W.useCallback(()=>{o({type:"CLEAR_ERROR"})},[]),_={...n,login:m,register:y,logout:S,clearError:v,getAuthToken:c};return G.jsx(fy.Provider,{value:_,children:e})},so=()=>{const e=W.useContext(fy);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function a4(e,n){e.terminate=function(){const o=()=>{};this.onerror=o,this.onmessage=o,this.onopen=o;const a=new Date,l=Math.random().toString().substring(2,8),c=this.onclose;this.onclose=d=>{const f=new Date().getTime()-a.getTime();n(`Discarded socket (#${l})  closed after ${f}ms, with code/reason: ${d.code}/${d.reason}`)},this.close(),c==null||c.call(e,{code:4001,reason:`Quick discarding socket (#${l}) without waiting for the shutdown sequence.`,wasClean:!1})}}const Nc={LF:`
`,NULL:"\0"};class Fs{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(n){const{command:o,headers:a,body:l,binaryBody:c,escapeHeaderValues:d,skipContentLengthHeader:f}=n;this.command=o,this.headers=Object.assign({},a||{}),c?(this._binaryBody=c,this.isBinaryBody=!0):(this._body=l||"",this.isBinaryBody=!1),this.escapeHeaderValues=d||!1,this.skipContentLengthHeader=f||!1}static fromRawFrame(n,o){const a={},l=c=>c.replace(/^\s+|\s+$/g,"");for(const c of n.headers.reverse()){c.indexOf(":");const d=l(c[0]);let f=l(c[1]);o&&n.command!=="CONNECT"&&n.command!=="CONNECTED"&&(f=Fs.hdrValueUnEscape(f)),a[d]=f}return new Fs({command:n.command,headers:a,binaryBody:n.binaryBody,escapeHeaderValues:o})}toString(){return this.serializeCmdAndHeaders()}serialize(){const n=this.serializeCmdAndHeaders();return this.isBinaryBody?Fs.toUnit8Array(n,this._binaryBody).buffer:n+this._body+Nc.NULL}serializeCmdAndHeaders(){const n=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const o of Object.keys(this.headers||{})){const a=this.headers[o];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?n.push(`${o}:${Fs.hdrValueEscape(`${a}`)}`):n.push(`${o}:${a}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&n.push(`content-length:${this.bodyLength()}`),n.join(Nc.LF)+Nc.LF+Nc.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const n=this.binaryBody;return n?n.length:0}static sizeOfUTF8(n){return n?new TextEncoder().encode(n).length:0}static toUnit8Array(n,o){const a=new TextEncoder().encode(n),l=new Uint8Array([0]),c=new Uint8Array(a.length+o.length+l.length);return c.set(a),c.set(o,a.length),c.set(l,a.length+o.length),c}static marshall(n){return new Fs(n).serialize()}static hdrValueEscape(n){return n.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(n){return n.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const C0=0,df=10,ff=13,l4=58;class u4{constructor(n,o){this.onFrame=n,this.onIncomingPing=o,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(n,o=!1){let a;if(typeof n=="string"?a=this._encoder.encode(n):a=new Uint8Array(n),o&&a[a.length-1]!==0){const l=new Uint8Array(a.length+1);l.set(a,0),l[a.length]=0,a=l}for(let l=0;l<a.length;l++){const c=a[l];this._onByte(c)}}_collectFrame(n){if(n!==C0&&n!==ff){if(n===df){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(n)}}_collectCommand(n){if(n!==ff){if(n===df){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(n)}}_collectHeaders(n){if(n!==ff){if(n===df){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(n)}}_reinjectByte(n){this._onByte(n)}_collectHeaderKey(n){if(n===l4){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(n)}_collectHeaderValue(n){if(n!==ff){if(n===df){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(n)}}_setupCollectBody(){const n=this._results.headers.filter(o=>o[0]==="content-length")[0];n?(this._bodyBytesRemaining=parseInt(n[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(n){if(n===C0){this._retrievedBody();return}this._consumeByte(n)}_collectBodyFixedSize(n){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(n)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(n){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",n)}this._initState()}_consumeByte(n){this._token.push(n)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const n=new Uint8Array(this._token);return this._token=[],n}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var Bs;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(Bs||(Bs={}));var Li;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(Li||(Li={}));var Pf;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(Pf||(Pf={}));var Fc;(function(e){e.Interval="interval",e.Worker="worker"})(Fc||(Fc={}));class c4{constructor(n,o=Fc.Interval,a){this._interval=n,this._strategy=o,this._debug=a,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(n){this.stop(),this.shouldUseWorker()?this.runWorker(n):this.runInterval(n)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Fc.Worker}runWorker(n){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=o=>n(o.data))}runInterval(n){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const o=Date.now();this._timer=setInterval(()=>{n(Date.now()-o)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class Rr{constructor(n){this.versions=n}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(n=>`v${n.replace(".","")}.stomp`)}}Rr.V1_0="1.0";Rr.V1_1="1.1";Rr.V1_2="1.2";Rr.default=new Rr([Rr.V1_2,Rr.V1_1,Rr.V1_0]);class d4{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(n,o,a){this._client=n,this._webSocket=o,this._connected=!1,this._serverFrameHandlers={CONNECTED:l=>{this.debug(`connected to server ${l.headers.server}`),this._connected=!0,this._connectedVersion=l.headers.version,this._connectedVersion===Rr.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(l.headers),this.onConnect(l)},MESSAGE:l=>{const c=l.headers.subscription,d=this._subscriptions[c]||this.onUnhandledMessage,f=l,h=this,m=this._connectedVersion===Rr.V1_2?f.headers.ack:f.headers["message-id"];f.ack=(y={})=>h.ack(m,c,y),f.nack=(y={})=>h.nack(m,c,y),d(f)},RECEIPT:l=>{const c=this._receiptWatchers[l.headers["receipt-id"]];c?(c(l),delete this._receiptWatchers[l.headers["receipt-id"]]):this.onUnhandledReceipt(l)},ERROR:l=>{this.onStompError(l)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=a.debug,this.stompVersions=a.stompVersions,this.connectHeaders=a.connectHeaders,this.disconnectHeaders=a.disconnectHeaders,this.heartbeatIncoming=a.heartbeatIncoming,this.heartbeatToleranceMultiplier=a.heartbeatGracePeriods,this.heartbeatOutgoing=a.heartbeatOutgoing,this.splitLargeFrames=a.splitLargeFrames,this.maxWebSocketChunkSize=a.maxWebSocketChunkSize,this.forceBinaryWSFrames=a.forceBinaryWSFrames,this.logRawCommunication=a.logRawCommunication,this.appendMissingNULLonIncoming=a.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=a.discardWebsocketOnCommFailure,this.onConnect=a.onConnect,this.onDisconnect=a.onDisconnect,this.onStompError=a.onStompError,this.onWebSocketClose=a.onWebSocketClose,this.onWebSocketError=a.onWebSocketError,this.onUnhandledMessage=a.onUnhandledMessage,this.onUnhandledReceipt=a.onUnhandledReceipt,this.onUnhandledFrame=a.onUnhandledFrame,this.onHeartbeatReceived=a.onHeartbeatReceived,this.onHeartbeatLost=a.onHeartbeatLost}start(){const n=new u4(o=>{const a=Fs.fromRawFrame(o,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${a}`),(this._serverFrameHandlers[a.command]||this.onUnhandledFrame)(a)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=o=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const a=o.data instanceof ArrayBuffer?new TextDecoder().decode(o.data):o.data;this.debug(`<<< ${a}`)}n.parseChunk(o.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=o=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(o)},this._webSocket.onerror=o=>{this.onWebSocketError(o)},this._webSocket.onopen=()=>{const o=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),o["accept-version"]=this.stompVersions.supportedVersions(),o["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:o})}}_setupHeartbeat(n){if(n.version!==Rr.V1_1&&n.version!==Rr.V1_2||!n["heart-beat"])return;const[o,a]=n["heart-beat"].split(",").map(l=>parseInt(l,10));if(this.heartbeatOutgoing!==0&&a!==0){const l=Math.max(this.heartbeatOutgoing,a);this.debug(`send PING every ${l}ms`),this._pinger=new c4(l,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===Bs.OPEN&&(this._webSocket.send(Nc.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&o!==0){const l=Math.max(this.heartbeatIncoming,o);this.debug(`check PONG every ${l}ms`),this._ponger=setInterval(()=>{const c=Date.now()-this._lastServerActivityTS;c>l*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${c}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},l)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Bs.CONNECTING||this._webSocket.readyState===Bs.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&a4(this._webSocket,n=>this.debug(n)),this._webSocket.terminate()}_transmit(n){const{command:o,headers:a,body:l,binaryBody:c,skipContentLengthHeader:d}=n,f=new Fs({command:o,headers:a,body:l,binaryBody:c,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:d});let h=f.serialize();if(this.logRawCommunication?this.debug(`>>> ${h}`):this.debug(`>>> ${f}`),this.forceBinaryWSFrames&&typeof h=="string"&&(h=new TextEncoder().encode(h)),typeof h!="string"||!this.splitLargeFrames)this._webSocket.send(h);else{let m=h;for(;m.length>0;){const y=m.substring(0,this.maxWebSocketChunkSize);m=m.substring(this.maxWebSocketChunkSize),this._webSocket.send(y),this.debug(`chunk sent = ${y.length}, remaining = ${m.length}`)}}}dispose(){if(this.connected)try{const n=Object.assign({},this.disconnectHeaders);n.receipt||(n.receipt=`close-${this._counter++}`),this.watchForReceipt(n.receipt,o=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(o)}),this._transmit({command:"DISCONNECT",headers:n})}catch(n){this.debug(`Ignoring error during disconnect ${n}`)}else(this._webSocket.readyState===Bs.CONNECTING||this._webSocket.readyState===Bs.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(n){const{destination:o,headers:a,body:l,binaryBody:c,skipContentLengthHeader:d}=n,f=Object.assign({destination:o},a);this._transmit({command:"SEND",headers:f,body:l,binaryBody:c,skipContentLengthHeader:d})}watchForReceipt(n,o){this._receiptWatchers[n]=o}subscribe(n,o,a={}){a=Object.assign({},a),a.id||(a.id=`sub-${this._counter++}`),a.destination=n,this._subscriptions[a.id]=o,this._transmit({command:"SUBSCRIBE",headers:a});const l=this;return{id:a.id,unsubscribe(c){return l.unsubscribe(a.id,c)}}}unsubscribe(n,o={}){o=Object.assign({},o),delete this._subscriptions[n],o.id=n,this._transmit({command:"UNSUBSCRIBE",headers:o})}begin(n){const o=n||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:o}});const a=this;return{id:o,commit(){a.commit(o)},abort(){a.abort(o)}}}commit(n){this._transmit({command:"COMMIT",headers:{transaction:n}})}abort(n){this._transmit({command:"ABORT",headers:{transaction:n}})}ack(n,o,a={}){a=Object.assign({},a),this._connectedVersion===Rr.V1_2?a.id=n:a["message-id"]=n,a.subscription=o,this._transmit({command:"ACK",headers:a})}nack(n,o,a={}){return a=Object.assign({},a),this._connectedVersion===Rr.V1_2?a.id=n:a["message-id"]=n,a.subscription=o,this._transmit({command:"NACK",headers:a})}}class f4{get webSocket(){var n;return(n=this._stompHandler)==null?void 0:n._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(n){this._disconnectHeaders=n,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Li.ACTIVE}_changeState(n){this.state=n,this.onChangeState(n)}constructor(n={}){this.stompVersions=Rr.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=900*1e3,this.reconnectTimeMode=Pf.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Fc.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=Li.INACTIVE;const o=()=>{};this.debug=o,this.beforeConnect=o,this.onConnect=o,this.onDisconnect=o,this.onUnhandledMessage=o,this.onUnhandledReceipt=o,this.onUnhandledFrame=o,this.onHeartbeatReceived=o,this.onHeartbeatLost=o,this.onStompError=o,this.onWebSocketClose=o,this.onWebSocketError=o,this.logRawCommunication=!1,this.onChangeState=o,this.connectHeaders={},this._disconnectHeaders={},this.configure(n)}configure(n){Object.assign(this,n),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const n=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(Li.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===Li.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{n()})):n()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const n=this._createWebSocket();this._stompHandler=new d4(this,n,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:o=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(o)},onDisconnect:o=>{this.onDisconnect(o)},onStompError:o=>{this.onStompError(o)},onWebSocketClose:o=>{this._stompHandler=void 0,this.state===Li.DEACTIVATING&&this._changeState(Li.INACTIVE),this.onWebSocketClose(o),this.active&&this._schedule_reconnect()},onWebSocketError:o=>{this.onWebSocketError(o)},onUnhandledMessage:o=>{this.onUnhandledMessage(o)},onUnhandledReceipt:o=>{this.onUnhandledReceipt(o)},onUnhandledFrame:o=>{this.onUnhandledFrame(o)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()}_createWebSocket(){let n;if(this.webSocketFactory)n=this.webSocketFactory();else if(this.brokerURL)n=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return n.binaryType="arraybuffer",n}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Pf.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(n={}){var c;const o=n.force||!1,a=this.active;let l;if(this.state===Li.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(Li.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==Bs.CLOSED){const d=this._stompHandler.onWebSocketClose;l=new Promise((f,h)=>{this._stompHandler.onWebSocketClose=m=>{d(m),f()}})}else return this._changeState(Li.INACTIVE),Promise.resolve();return o?(c=this._stompHandler)==null||c.discardWebsocket():a&&this._disposeStompHandler(),l}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(n){this._checkConnection(),this._stompHandler.publish(n)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(n,o){this._checkConnection(),this._stompHandler.watchForReceipt(n,o)}subscribe(n,o,a={}){return this._checkConnection(),this._stompHandler.subscribe(n,o,a)}unsubscribe(n,o={}){this._checkConnection(),this._stompHandler.unsubscribe(n,o)}begin(n){return this._checkConnection(),this._stompHandler.begin(n)}commit(n){this._checkConnection(),this._stompHandler.commit(n)}abort(n){this._checkConnection(),this._stompHandler.abort(n)}ack(n,o,a={}){this._checkConnection(),this._stompHandler.ack(n,o,a)}nack(n,o,a={}){this._checkConnection(),this._stompHandler.nack(n,o,a)}}function h4(e,n){const o=e.icons,a=e.aliases||Object.create(null),l=Object.create(null);function c(d){if(o[d])return l[d]=[];if(!(d in l)){l[d]=null;const f=a[d]&&a[d].parent,h=f&&c(f);h&&(l[d]=[f].concat(h))}return l[d]}return Object.keys(o).concat(Object.keys(a)).forEach(c),l}const hy=Object.freeze({left:0,top:0,width:16,height:16}),Rf=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),eg=Object.freeze({...hy,...Rf}),bp=Object.freeze({...eg,body:"",hidden:!1});function p4(e,n){const o={};!e.hFlip!=!n.hFlip&&(o.hFlip=!0),!e.vFlip!=!n.vFlip&&(o.vFlip=!0);const a=((e.rotate||0)+(n.rotate||0))%4;return a&&(o.rotate=a),o}function E0(e,n){const o=p4(e,n);for(const a in bp)a in Rf?a in e&&!(a in o)&&(o[a]=Rf[a]):a in n?o[a]=n[a]:a in e&&(o[a]=e[a]);return o}function g4(e,n,o){const a=e.icons,l=e.aliases||Object.create(null);let c={};function d(f){c=E0(a[f]||l[f],c)}return d(n),o.forEach(d),E0(e,c)}function py(e,n){const o=[];if(typeof e!="object"||typeof e.icons!="object")return o;e.not_found instanceof Array&&e.not_found.forEach(l=>{n(l,null),o.push(l)});const a=h4(e);for(const l in a){const c=a[l];c&&(n(l,g4(e,l,c)),o.push(l))}return o}const m4={provider:"",aliases:{},not_found:{},...hy};function $h(e,n){for(const o in n)if(o in e&&typeof e[o]!=typeof n[o])return!1;return!0}function gy(e){if(typeof e!="object"||e===null)return null;const n=e;if(typeof n.prefix!="string"||!e.icons||typeof e.icons!="object"||!$h(e,m4))return null;const o=n.icons;for(const l in o){const c=o[l];if(!l||typeof c.body!="string"||!$h(c,bp))return null}const a=n.aliases||Object.create(null);for(const l in a){const c=a[l],d=c.parent;if(!l||typeof d!="string"||!o[d]&&!a[d]||!$h(c,bp))return null}return n}const k0=Object.create(null);function y4(e,n){return{provider:e,prefix:n,icons:Object.create(null),missing:new Set}}function Dl(e,n){const o=k0[e]||(k0[e]=Object.create(null));return o[n]||(o[n]=y4(e,n))}function my(e,n){return gy(n)?py(n,(o,a)=>{a?e.icons[o]=a:e.missing.add(o)}):[]}function v4(e,n,o){try{if(typeof o.body=="string")return e.icons[n]={...o},!0}catch{}return!1}const yy=/^[a-z0-9]+(-[a-z0-9]+)*$/,Hf=(e,n,o,a="")=>{const l=e.split(":");if(e.slice(0,1)==="@"){if(l.length<2||l.length>3)return null;a=l.shift().slice(1)}if(l.length>3||!l.length)return null;if(l.length>1){const f=l.pop(),h=l.pop(),m={provider:l.length>0?l[0]:a,prefix:h,name:f};return n&&!xf(m)?null:m}const c=l[0],d=c.split("-");if(d.length>1){const f={provider:a,prefix:d.shift(),name:d.join("-")};return n&&!xf(f)?null:f}if(o&&a===""){const f={provider:a,prefix:"",name:c};return n&&!xf(f,o)?null:f}return null},xf=(e,n)=>e?!!((n&&e.prefix===""||e.prefix)&&e.name):!1;let Bc=!1;function vy(e){return typeof e=="boolean"&&(Bc=e),Bc}function b0(e){const n=typeof e=="string"?Hf(e,!0,Bc):e;if(n){const o=Dl(n.provider,n.prefix),a=n.name;return o.icons[a]||(o.missing.has(a)?null:void 0)}}function S4(e,n){const o=Hf(e,!0,Bc);if(!o)return!1;const a=Dl(o.provider,o.prefix);return n?v4(a,o.name,n):(a.missing.add(o.name),!0)}function _4(e,n){if(typeof e!="object")return!1;if(typeof n!="string"&&(n=e.provider||""),Bc&&!n&&!e.prefix){let l=!1;return gy(e)&&(e.prefix="",py(e,(c,d)=>{S4(c,d)&&(l=!0)})),l}const o=e.prefix;if(!xf({prefix:o,name:"a"}))return!1;const a=Dl(n,o);return!!my(a,e)}const Sy=Object.freeze({width:null,height:null}),_y=Object.freeze({...Sy,...Rf}),w4=/(-?[0-9.]*[0-9]+[0-9.]*)/g,x4=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function P0(e,n,o){if(n===1)return e;if(o=o||100,typeof e=="number")return Math.ceil(e*n*o)/o;if(typeof e!="string")return e;const a=e.split(w4);if(a===null||!a.length)return e;const l=[];let c=a.shift(),d=x4.test(c);for(;;){if(d){const f=parseFloat(c);isNaN(f)?l.push(c):l.push(Math.ceil(f*n*o)/o)}else l.push(c);if(c=a.shift(),c===void 0)return l.join("");d=!d}}function C4(e,n="defs"){let o="";const a=e.indexOf("<"+n);for(;a>=0;){const l=e.indexOf(">",a),c=e.indexOf("</"+n);if(l===-1||c===-1)break;const d=e.indexOf(">",c);if(d===-1)break;o+=e.slice(l+1,c).trim(),e=e.slice(0,a).trim()+e.slice(d+1)}return{defs:o,content:e}}function E4(e,n){return e?"<defs>"+e+"</defs>"+n:n}function k4(e,n,o){const a=C4(e);return E4(a.defs,n+a.content+o)}const b4=e=>e==="unset"||e==="undefined"||e==="none";function P4(e,n){const o={...eg,...e},a={..._y,...n},l={left:o.left,top:o.top,width:o.width,height:o.height};let c=o.body;[o,a].forEach(P=>{const R=[],I=P.hFlip,k=P.vFlip;let x=P.rotate;I?k?x+=2:(R.push("translate("+(l.width+l.left).toString()+" "+(0-l.top).toString()+")"),R.push("scale(-1 1)"),l.top=l.left=0):k&&(R.push("translate("+(0-l.left).toString()+" "+(l.height+l.top).toString()+")"),R.push("scale(1 -1)"),l.top=l.left=0);let T;switch(x<0&&(x-=Math.floor(x/4)*4),x=x%4,x){case 1:T=l.height/2+l.top,R.unshift("rotate(90 "+T.toString()+" "+T.toString()+")");break;case 2:R.unshift("rotate(180 "+(l.width/2+l.left).toString()+" "+(l.height/2+l.top).toString()+")");break;case 3:T=l.width/2+l.left,R.unshift("rotate(-90 "+T.toString()+" "+T.toString()+")");break}x%2===1&&(l.left!==l.top&&(T=l.left,l.left=l.top,l.top=T),l.width!==l.height&&(T=l.width,l.width=l.height,l.height=T)),R.length&&(c=k4(c,'<g transform="'+R.join(" ")+'">',"</g>"))});const d=a.width,f=a.height,h=l.width,m=l.height;let y,S;d===null?(S=f===null?"1em":f==="auto"?m:f,y=P0(S,h/m)):(y=d==="auto"?h:d,S=f===null?P0(y,m/h):f==="auto"?m:f);const v={},_=(P,R)=>{b4(R)||(v[P]=R.toString())};_("width",y),_("height",S);const C=[l.left,l.top,h,m];return v.viewBox=C.join(" "),{attributes:v,viewBox:C,body:c}}const R4=/\sid="(\S+)"/g,N4="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let T4=0;function I4(e,n=N4){const o=[];let a;for(;a=R4.exec(e);)o.push(a[1]);if(!o.length)return e;const l="suffix"+(Math.random()*16777216|Date.now()).toString(16);return o.forEach(c=>{const d=typeof n=="function"?n(c):n+(T4++).toString(),f=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+f+')([")]|\\.[a-z])',"g"),"$1"+d+l+"$3")}),e=e.replace(new RegExp(l,"g"),""),e}const Pp=Object.create(null);function D4(e,n){Pp[e]=n}function Rp(e){return Pp[e]||Pp[""]}function tg(e){let n;if(typeof e.resources=="string")n=[e.resources];else if(n=e.resources,!(n instanceof Array)||!n.length)return null;return{resources:n,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const ng=Object.create(null),Fu=["https://api.simplesvg.com","https://api.unisvg.com"],Cf=[];for(;Fu.length>0;)Fu.length===1||Math.random()>.5?Cf.push(Fu.shift()):Cf.push(Fu.pop());ng[""]=tg({resources:["https://api.iconify.design"].concat(Cf)});function A4(e,n){const o=tg(n);return o===null?!1:(ng[e]=o,!0)}function rg(e){return ng[e]}const L4=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let R0=L4();function O4(e,n){const o=rg(e);if(!o)return 0;let a;if(!o.maxURL)a=0;else{let l=0;o.resources.forEach(d=>{l=Math.max(l,d.length)});const c=n+".json?icons=";a=o.maxURL-l-o.path.length-c.length}return a}function M4(e){return e===404}const F4=(e,n,o)=>{const a=[],l=O4(e,n),c="icons";let d={type:c,provider:e,prefix:n,icons:[]},f=0;return o.forEach((h,m)=>{f+=h.length+1,f>=l&&m>0&&(a.push(d),d={type:c,provider:e,prefix:n,icons:[]},f=h.length),d.icons.push(h)}),a.push(d),a};function B4(e){if(typeof e=="string"){const n=rg(e);if(n)return n.path}return"/"}const j4=(e,n,o)=>{if(!R0){o("abort",424);return}let a=B4(n.provider);switch(n.type){case"icons":{const c=n.prefix,f=n.icons.join(","),h=new URLSearchParams({icons:f});a+=c+".json?"+h.toString();break}case"custom":{const c=n.uri;a+=c.slice(0,1)==="/"?c.slice(1):c;break}default:o("abort",400);return}let l=503;R0(e+a).then(c=>{const d=c.status;if(d!==200){setTimeout(()=>{o(M4(d)?"abort":"next",d)});return}return l=501,c.json()}).then(c=>{if(typeof c!="object"||c===null){setTimeout(()=>{c===404?o("abort",c):o("next",l)});return}setTimeout(()=>{o("success",c)})}).catch(()=>{o("next",l)})},z4={prepare:F4,send:j4};function wy(e,n){e.forEach(o=>{const a=o.loaderCallbacks;a&&(o.loaderCallbacks=a.filter(l=>l.id!==n))})}function U4(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const n=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!n.length)return;let o=!1;const a=e.provider,l=e.prefix;n.forEach(c=>{const d=c.icons,f=d.pending.length;d.pending=d.pending.filter(h=>{if(h.prefix!==l)return!0;const m=h.name;if(e.icons[m])d.loaded.push({provider:a,prefix:l,name:m});else if(e.missing.has(m))d.missing.push({provider:a,prefix:l,name:m});else return o=!0,!0;return!1}),d.pending.length!==f&&(o||wy([e],c.id),c.callback(d.loaded.slice(0),d.missing.slice(0),d.pending.slice(0),c.abort))})}))}let G4=0;function H4(e,n,o){const a=G4++,l=wy.bind(null,o,a);if(!n.pending.length)return l;const c={id:a,icons:n,callback:e,abort:l};return o.forEach(d=>{(d.loaderCallbacks||(d.loaderCallbacks=[])).push(c)}),l}function W4(e){const n={loaded:[],missing:[],pending:[]},o=Object.create(null);e.sort((l,c)=>l.provider!==c.provider?l.provider.localeCompare(c.provider):l.prefix!==c.prefix?l.prefix.localeCompare(c.prefix):l.name.localeCompare(c.name));let a={provider:"",prefix:"",name:""};return e.forEach(l=>{if(a.name===l.name&&a.prefix===l.prefix&&a.provider===l.provider)return;a=l;const c=l.provider,d=l.prefix,f=l.name,h=o[c]||(o[c]=Object.create(null)),m=h[d]||(h[d]=Dl(c,d));let y;f in m.icons?y=n.loaded:d===""||m.missing.has(f)?y=n.missing:y=n.pending;const S={provider:c,prefix:d,name:f};y.push(S)}),n}function V4(e,n=!0,o=!1){const a=[];return e.forEach(l=>{const c=typeof l=="string"?Hf(l,n,o):l;c&&a.push(c)}),a}const $4={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function q4(e,n,o,a){const l=e.resources.length,c=e.random?Math.floor(Math.random()*l):e.index;let d;if(e.random){let M=e.resources.slice(0);for(d=[];M.length>1;){const Y=Math.floor(Math.random()*M.length);d.push(M[Y]),M=M.slice(0,Y).concat(M.slice(Y+1))}d=d.concat(M)}else d=e.resources.slice(c).concat(e.resources.slice(0,c));const f=Date.now();let h="pending",m=0,y,S=null,v=[],_=[];typeof a=="function"&&_.push(a);function C(){S&&(clearTimeout(S),S=null)}function P(){h==="pending"&&(h="aborted"),C(),v.forEach(M=>{M.status==="pending"&&(M.status="aborted")}),v=[]}function R(M,Y){Y&&(_=[]),typeof M=="function"&&_.push(M)}function I(){return{startTime:f,payload:n,status:h,queriesSent:m,queriesPending:v.length,subscribe:R,abort:P}}function k(){h="failed",_.forEach(M=>{M(void 0,y)})}function x(){v.forEach(M=>{M.status==="pending"&&(M.status="aborted")}),v=[]}function T(M,Y,F){const z=Y!=="success";switch(v=v.filter(j=>j!==M),h){case"pending":break;case"failed":if(z||!e.dataAfterTimeout)return;break;default:return}if(Y==="abort"){y=F,k();return}if(z){y=F,v.length||(d.length?A():k());return}if(C(),x(),!e.random){const j=e.resources.indexOf(M.resource);j!==-1&&j!==e.index&&(e.index=j)}h="completed",_.forEach(j=>{j(F)})}function A(){if(h!=="pending")return;C();const M=d.shift();if(M===void 0){if(v.length){S=setTimeout(()=>{C(),h==="pending"&&(x(),k())},e.timeout);return}k();return}const Y={status:"pending",resource:M,callback:(F,z)=>{T(Y,F,z)}};v.push(Y),m++,S=setTimeout(A,e.rotate),o(M,n,Y.callback)}return setTimeout(A),I}function xy(e){const n={...$4,...e};let o=[];function a(){o=o.filter(f=>f().status==="pending")}function l(f,h,m){const y=q4(n,f,h,(S,v)=>{a(),m&&m(S,v)});return o.push(y),y}function c(f){return o.find(h=>f(h))||null}return{query:l,find:c,setIndex:f=>{n.index=f},getIndex:()=>n.index,cleanup:a}}function N0(){}const qh=Object.create(null);function K4(e){if(!qh[e]){const n=rg(e);if(!n)return;const o=xy(n),a={config:n,redundancy:o};qh[e]=a}return qh[e]}function Y4(e,n,o){let a,l;if(typeof e=="string"){const c=Rp(e);if(!c)return o(void 0,424),N0;l=c.send;const d=K4(e);d&&(a=d.redundancy)}else{const c=tg(e);if(c){a=xy(c);const d=e.resources?e.resources[0]:"",f=Rp(d);f&&(l=f.send)}}return!a||!l?(o(void 0,424),N0):a.query(n,l,o)().abort}function T0(){}function X4(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,U4(e)}))}function Q4(e){const n=[],o=[];return e.forEach(a=>{(a.match(yy)?n:o).push(a)}),{valid:n,invalid:o}}function Bu(e,n,o){function a(){const l=e.pendingIcons;n.forEach(c=>{l&&l.delete(c),e.icons[c]||e.missing.add(c)})}if(o&&typeof o=="object")try{if(!my(e,o).length){a();return}}catch(l){console.error(l)}a(),X4(e)}function I0(e,n){e instanceof Promise?e.then(o=>{n(o)}).catch(()=>{n(null)}):n(e)}function J4(e,n){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(n).sort():e.iconsToLoad=n,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:o,prefix:a}=e,l=e.iconsToLoad;if(delete e.iconsToLoad,!l||!l.length)return;const c=e.loadIcon;if(e.loadIcons&&(l.length>1||!c)){I0(e.loadIcons(l,a,o),y=>{Bu(e,l,y)});return}if(c){l.forEach(y=>{const S=c(y,a,o);I0(S,v=>{const _=v?{prefix:a,icons:{[y]:v}}:null;Bu(e,[y],_)})});return}const{valid:d,invalid:f}=Q4(l);if(f.length&&Bu(e,f,null),!d.length)return;const h=a.match(yy)?Rp(o):null;if(!h){Bu(e,d,null);return}h.prepare(o,a,d).forEach(y=>{Y4(o,y,S=>{Bu(e,y.icons,S)})})}))}const Z4=(e,n)=>{const o=V4(e,!0,vy()),a=W4(o);if(!a.pending.length){let h=!0;return n&&setTimeout(()=>{h&&n(a.loaded,a.missing,a.pending,T0)}),()=>{h=!1}}const l=Object.create(null),c=[];let d,f;return a.pending.forEach(h=>{const{provider:m,prefix:y}=h;if(y===f&&m===d)return;d=m,f=y,c.push(Dl(m,y));const S=l[m]||(l[m]=Object.create(null));S[y]||(S[y]=[])}),a.pending.forEach(h=>{const{provider:m,prefix:y,name:S}=h,v=Dl(m,y),_=v.pendingIcons||(v.pendingIcons=new Set);_.has(S)||(_.add(S),l[m][y].push(S))}),c.forEach(h=>{const m=l[h.provider][h.prefix];m.length&&J4(h,m)}),n?H4(n,a,c):T0};function e5(e,n){const o={...e};for(const a in n){const l=n[a],c=typeof l;a in Sy?(l===null||l&&(c==="string"||c==="number"))&&(o[a]=l):c===typeof o[a]&&(o[a]=a==="rotate"?l%4:l)}return o}const t5=/[\s,]+/;function n5(e,n){n.split(t5).forEach(o=>{switch(o.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function r5(e,n=0){const o=e.replace(/^-?[0-9.]*/,"");function a(l){for(;l<0;)l+=4;return l%4}if(o===""){const l=parseInt(e);return isNaN(l)?0:a(l)}else if(o!==e){let l=0;switch(o){case"%":l=25;break;case"deg":l=90}if(l){let c=parseFloat(e.slice(0,e.length-o.length));return isNaN(c)?0:(c=c/l,c%1===0?a(c):0)}}return n}function i5(e,n){let o=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const a in n)o+=" "+a+'="'+n[a]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+o+">"+e+"</svg>"}function o5(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function s5(e){return"data:image/svg+xml,"+o5(e)}function a5(e){return'url("'+s5(e)+'")'}let Ic;function l5(){try{Ic=window.trustedTypes.createPolicy("iconify",{createHTML:e=>e})}catch{Ic=null}}function u5(e){return Ic===void 0&&l5(),Ic?Ic.createHTML(e):e}const Cy={..._y,inline:!1},c5={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},d5={display:"inline-block"},Np={backgroundColor:"currentColor"},Ey={backgroundColor:"transparent"},D0={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},A0={WebkitMask:Np,mask:Np,background:Ey};for(const e in A0){const n=A0[e];for(const o in D0)n[e+o]=D0[o]}const f5={...Cy,inline:!0};function L0(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const h5=(e,n,o)=>{const a=n.inline?f5:Cy,l=e5(a,n),c=n.mode||"svg",d={},f=n.style||{},h={...c==="svg"?c5:{}};if(o){const R=Hf(o,!1,!0);if(R){const I=["iconify"],k=["provider","prefix"];for(const x of k)R[x]&&I.push("iconify--"+R[x]);h.className=I.join(" ")}}for(let R in n){const I=n[R];if(I!==void 0)switch(R){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":case"fallback":break;case"_ref":h.ref=I;break;case"className":h[R]=(h[R]?h[R]+" ":"")+I;break;case"inline":case"hFlip":case"vFlip":l[R]=I===!0||I==="true"||I===1;break;case"flip":typeof I=="string"&&n5(l,I);break;case"color":d.color=I;break;case"rotate":typeof I=="string"?l[R]=r5(I):typeof I=="number"&&(l[R]=I);break;case"ariaHidden":case"aria-hidden":I!==!0&&I!=="true"&&delete h["aria-hidden"];break;default:a[R]===void 0&&(h[R]=I)}}const m=P4(e,l),y=m.attributes;if(l.inline&&(d.verticalAlign="-0.125em"),c==="svg"){h.style={...d,...f},Object.assign(h,y);let R=0,I=n.id;return typeof I=="string"&&(I=I.replace(/-/g,"_")),h.dangerouslySetInnerHTML={__html:u5(I4(m.body,I?()=>I+"ID"+R++:"iconifyReact"))},W.createElement("svg",h)}const{body:S,width:v,height:_}=e,C=c==="mask"||(c==="bg"?!1:S.indexOf("currentColor")!==-1),P=i5(S,{...y,width:v+"",height:_+""});return h.style={...d,"--svg":a5(P),width:L0(y.width),height:L0(y.height),...d5,...C?Np:Ey,...f},W.createElement("span",h)};vy(!0);D4("",z4);if(typeof document<"u"&&typeof window<"u"){const e=window;if(e.IconifyPreload!==void 0){const n=e.IconifyPreload,o="Invalid IconifyPreload syntax.";typeof n=="object"&&n!==null&&(n instanceof Array?n:[n]).forEach(a=>{try{(typeof a!="object"||a===null||a instanceof Array||typeof a.icons!="object"||typeof a.prefix!="string"||!_4(a))&&console.error(o)}catch{console.error(o)}})}if(e.IconifyProviders!==void 0){const n=e.IconifyProviders;if(typeof n=="object"&&n!==null)for(let o in n){const a="IconifyProviders["+o+"] is invalid.";try{const l=n[o];if(typeof l!="object"||!l||l.resources===void 0)continue;A4(o,l)||console.error(a)}catch{console.error(a)}}}}function ky(e){const[n,o]=W.useState(!!e.ssr),[a,l]=W.useState({});function c(_){if(_){const C=e.icon;if(typeof C=="object")return{name:"",data:C};const P=b0(C);if(P)return{name:C,data:P}}return{name:""}}const[d,f]=W.useState(c(!!e.ssr));function h(){const _=a.callback;_&&(_(),l({}))}function m(_){if(JSON.stringify(d)!==JSON.stringify(_))return h(),f(_),!0}function y(){var _;const C=e.icon;if(typeof C=="object"){m({name:"",data:C});return}const P=b0(C);if(m({name:C,data:P}))if(P===void 0){const R=Z4([C],y);l({callback:R})}else P&&((_=e.onLoad)===null||_===void 0||_.call(e,C))}W.useEffect(()=>(o(!0),h),[]),W.useEffect(()=>{n&&y()},[e.icon,n]);const{name:S,data:v}=d;return v?h5({...eg,...v},e,S):e.children?e.children:e.fallback?e.fallback:W.createElement("span",{})}const Zt=W.forwardRef((e,n)=>ky({...e,_ref:n}));W.forwardRef((e,n)=>ky({inline:!0,...e,_ref:n}));const Dc=({variant:e,title:n,onTitleChange:o,onTitleSave:a,onLoginClick:l,onRegisterClick:c,isFullscreen:d=!1,onEnterFullscreen:f,onExitFullscreen:h,onApplyRestore:m,presentationId:y,onSaveHistory:S})=>{var A;const v=Uf(),{user:_,isAuthenticated:C,logout:P}=so(),{id:R,presentationId:I}=Kp(),k=y??I??R,x=()=>{window.confirm("로그아웃 하시겠습니까?")&&(P(),v("/"))},T=()=>{if(!k){alert("프레젠테이션 ID가 없어 히스토리로 이동할 수 없어요.");return}v(`/history/${k}`)};return G.jsxs("header",{className:`header header-${e}`,children:[(e==="main"||e==="workspace")&&G.jsx("div",{className:"logo-container",onClick:()=>v("/"),children:G.jsx("img",{src:"/kimbanana/ui/assets/headerIcon/KimbananaLogo.svg",alt:"KimBanana Logo",className:"logo",style:{cursor:"pointer"}})}),e==="history"&&G.jsxs(G.Fragment,{children:[G.jsx("div",{className:"history-header-left",onClick:()=>v(-1),children:G.jsx(Zt,{icon:"material-symbols:arrow-back-rounded",width:"24",className:"back-arrow"})}),G.jsx("div",{className:"header-buttons history-btns",children:m&&G.jsx("button",{className:"header-btn restore-apply-btn",onClick:async()=>{m&&window.confirm("복원된 내용을 적용하시겠습니까?")&&await m()},children:G.jsx("img",{src:"/kimbanana/ui/assets/headerIcon/restoreApply.svg",alt:"restoreApply"})})})]}),e==="main"&&G.jsx("input",{type:"text",className:"title-input",placeholder:"제목을 입력해주세요.",value:n??"",onChange:M=>o==null?void 0:o(M.target.value),onBlur:M=>{const Y=M.target.value.trim();Y&&(a==null||a(Y))},onKeyDown:M=>{M.key==="Enter"&&M.target.blur()}}),e==="main"&&G.jsxs("div",{className:"header-buttons btn",children:[G.jsx("button",{className:"header-btn fullscreen-btn",onClick:d?h:f,title:d?"전체화면 종료":"전체화면",children:G.jsx("img",{src:"/kimbanana/ui/assets/headerIcon/fullscreen.svg",alt:"fullscreen"})}),G.jsx("button",{className:"header-btn history-btn",onClick:async()=>{try{S&&await S()}finally{T()}},title:"히스토리",children:G.jsx("img",{src:"/kimbanana/ui/assets/headerIcon/history.svg",alt:"History"})}),G.jsx("button",{className:"header-btn save-btn",onClick:S,children:G.jsx("img",{src:"/kimbanana/ui/assets/headerIcon/save.svg",alt:"Save"})}),G.jsx("button",{className:"header-btn share-btn",children:G.jsx("img",{src:"/kimbanana/ui/assets/headerIcon/share.svg",alt:"Share"})}),G.jsx("button",{className:"header-btn download-btn",children:G.jsx("img",{src:"/kimbanana/ui/assets/headerIcon/download.svg",alt:"Download"})})]}),e==="workspace"&&G.jsx("div",{className:"auth-buttons",children:C?G.jsxs("div",{className:"user-profile",children:[G.jsx("div",{className:"profile-avatar",children:((A=_==null?void 0:_.name)==null?void 0:A.charAt(0).toUpperCase())||"U"}),G.jsxs("div",{className:"profile-dropdown",children:[G.jsx("span",{className:"user-name",children:_==null?void 0:_.name}),G.jsx("button",{onClick:x,className:"logout-btn",children:"로그아웃"})]})]}):G.jsxs("div",{className:"login-buttons",children:[G.jsx("button",{onClick:l,className:"login-btn",children:"로그인"}),G.jsx("button",{onClick:c,className:"register-btn",children:"회원가입"})]})})]})};function Pr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var p5=typeof Symbol=="function"&&Symbol.observable||"@@observable",O0=p5,M0=()=>Math.random().toString(36).substring(7).split("").join("."),g5={INIT:`@@redux/INIT${M0()}`,REPLACE:`@@redux/REPLACE${M0()}`},F0=g5;function m5(e){if(typeof e!="object"||e===null)return!1;let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n||Object.getPrototypeOf(e)===null}function by(e,n,o){if(typeof e!="function")throw new Error(Pr(2));if(typeof n=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(Pr(0));if(typeof n=="function"&&typeof o>"u"&&(o=n,n=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(Pr(1));return o(by)(e,n)}let a=e,l=n,c=new Map,d=c,f=0,h=!1;function m(){d===c&&(d=new Map,c.forEach((R,I)=>{d.set(I,R)}))}function y(){if(h)throw new Error(Pr(3));return l}function S(R){if(typeof R!="function")throw new Error(Pr(4));if(h)throw new Error(Pr(5));let I=!0;m();const k=f++;return d.set(k,R),function(){if(I){if(h)throw new Error(Pr(6));I=!1,m(),d.delete(k),c=null}}}function v(R){if(!m5(R))throw new Error(Pr(7));if(typeof R.type>"u")throw new Error(Pr(8));if(typeof R.type!="string")throw new Error(Pr(17));if(h)throw new Error(Pr(9));try{h=!0,l=a(l,R)}finally{h=!1}return(c=d).forEach(k=>{k()}),R}function _(R){if(typeof R!="function")throw new Error(Pr(10));a=R,v({type:F0.REPLACE})}function C(){const R=S;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(Pr(11));function k(){const T=I;T.next&&T.next(y())}return k(),{unsubscribe:R(k)}},[O0](){return this}}}return v({type:F0.INIT}),{dispatch:v,subscribe:S,getState:y,replaceReducer:_,[O0]:C}}function B0(e,n){return function(...o){return n(e.apply(this,o))}}function j0(e,n){if(typeof e=="function")return B0(e,n);if(typeof e!="object"||e===null)throw new Error(Pr(16));const o={};for(const a in e){const l=e[a];typeof l=="function"&&(o[a]=B0(l,n))}return o}function Py(...e){return e.length===0?n=>n:e.length===1?e[0]:e.reduce((n,o)=>(...a)=>n(o(...a)))}function y5(...e){return n=>(o,a)=>{const l=n(o,a);let c=()=>{throw new Error(Pr(15))};const d={getState:l.getState,dispatch:(h,...m)=>c(h,...m)},f=e.map(h=>h(d));return c=Py(...f)(l.dispatch),{...l,dispatch:c}}}var Kh={exports:{}},Yh={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function v5(){if(z0)return Yh;z0=1;var e=Ml();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var o=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,f=e.useDebugValue;return Yh.useSyncExternalStoreWithSelector=function(h,m,y,S,v){var _=l(null);if(_.current===null){var C={hasValue:!1,value:null};_.current=C}else C=_.current;_=d(function(){function R(A){if(!I){if(I=!0,k=A,A=S(A),v!==void 0&&C.hasValue){var M=C.value;if(v(M,A))return x=M}return x=A}if(M=x,o(k,A))return M;var Y=S(A);return v!==void 0&&v(M,Y)?(k=A,M):(k=A,x=Y)}var I=!1,k,x,T=y===void 0?null:y;return[function(){return R(m())},T===null?void 0:function(){return R(T())}]},[m,y,S,v]);var P=a(h,_[0],_[1]);return c(function(){C.hasValue=!0,C.value=P},[P]),f(P),P},Yh}var U0;function S5(){return U0||(U0=1,Kh.exports=v5()),Kh.exports}S5();var _5=W.version.startsWith("19"),w5=Symbol.for(_5?"react.transitional.element":"react.element"),x5=Symbol.for("react.portal"),C5=Symbol.for("react.fragment"),E5=Symbol.for("react.strict_mode"),k5=Symbol.for("react.profiler"),b5=Symbol.for("react.consumer"),P5=Symbol.for("react.context"),Ry=Symbol.for("react.forward_ref"),R5=Symbol.for("react.suspense"),N5=Symbol.for("react.suspense_list"),ig=Symbol.for("react.memo"),T5=Symbol.for("react.lazy"),I5=Ry,D5=ig;function A5(e){if(typeof e=="object"&&e!==null){const{$$typeof:n}=e;switch(n){case w5:switch(e=e.type,e){case C5:case k5:case E5:case R5:case N5:return e;default:switch(e=e&&e.$$typeof,e){case P5:case Ry:case T5:case ig:return e;case b5:return e;default:return n}}case x5:return n}}}function L5(e){return A5(e)===ig}function O5(e,n,o,a,{areStatesEqual:l,areOwnPropsEqual:c,areStatePropsEqual:d}){let f=!1,h,m,y,S,v;function _(k,x){return h=k,m=x,y=e(h,m),S=n(a,m),v=o(y,S,m),f=!0,v}function C(){return y=e(h,m),n.dependsOnOwnProps&&(S=n(a,m)),v=o(y,S,m),v}function P(){return e.dependsOnOwnProps&&(y=e(h,m)),n.dependsOnOwnProps&&(S=n(a,m)),v=o(y,S,m),v}function R(){const k=e(h,m),x=!d(k,y);return y=k,x&&(v=o(y,S,m)),v}function I(k,x){const T=!c(x,m),A=!l(k,h,x,m);return h=k,m=x,T&&A?C():T?P():A?R():v}return function(x,T){return f?I(x,T):_(x,T)}}function M5(e,{initMapStateToProps:n,initMapDispatchToProps:o,initMergeProps:a,...l}){const c=n(e,l),d=o(e,l),f=a(e,l);return O5(c,d,f,e,l)}function F5(e,n){const o={};for(const a in e){const l=e[a];typeof l=="function"&&(o[a]=(...c)=>n(l(...c)))}return o}function Tp(e){return function(o){const a=e(o);function l(){return a}return l.dependsOnOwnProps=!1,l}}function G0(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Ny(e,n){return function(a,{displayName:l}){const c=function(f,h){return c.dependsOnOwnProps?c.mapToProps(f,h):c.mapToProps(f,void 0)};return c.dependsOnOwnProps=!0,c.mapToProps=function(f,h){c.mapToProps=e,c.dependsOnOwnProps=G0(e);let m=c(f,h);return typeof m=="function"&&(c.mapToProps=m,c.dependsOnOwnProps=G0(m),m=c(f,h)),m},c}}function og(e,n){return(o,a)=>{throw new Error(`Invalid value of type ${typeof e} for ${n} argument when connecting component ${a.wrappedComponentName}.`)}}function B5(e){return e&&typeof e=="object"?Tp(n=>F5(e,n)):e?typeof e=="function"?Ny(e):og(e,"mapDispatchToProps"):Tp(n=>({dispatch:n}))}function j5(e){return e?typeof e=="function"?Ny(e):og(e,"mapStateToProps"):Tp(()=>({}))}function z5(e,n,o){return{...o,...e,...n}}function U5(e){return function(o,{displayName:a,areMergedPropsEqual:l}){let c=!1,d;return function(h,m,y){const S=e(h,m,y);return c?l(S,d)||(d=S):(c=!0,d=S),d}}}function G5(e){return e?typeof e=="function"?U5(e):og(e,"mergeProps"):()=>z5}function H5(e){e()}function W5(){let e=null,n=null;return{clear(){e=null,n=null},notify(){H5(()=>{let o=e;for(;o;)o.callback(),o=o.next})},get(){const o=[];let a=e;for(;a;)o.push(a),a=a.next;return o},subscribe(o){let a=!0;const l=n={callback:o,next:null,prev:n};return l.prev?l.prev.next=l:e=l,function(){!a||e===null||(a=!1,l.next?l.next.prev=l.prev:n=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var H0={notify(){},get:()=>[]};function Ty(e,n){let o,a=H0,l=0,c=!1;function d(P){y();const R=a.subscribe(P);let I=!1;return()=>{I||(I=!0,R(),S())}}function f(){a.notify()}function h(){C.onStateChange&&C.onStateChange()}function m(){return c}function y(){l++,o||(o=n?n.addNestedSub(h):e.subscribe(h),a=W5())}function S(){l--,o&&l===0&&(o(),o=void 0,a.clear(),a=H0)}function v(){c||(c=!0,y())}function _(){c&&(c=!1,S())}const C={addNestedSub:d,notifyNestedSubs:f,handleChangeWrapper:h,isSubscribed:m,trySubscribe:v,tryUnsubscribe:_,getListeners:()=>a};return C}var V5=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$5=V5(),q5=()=>typeof navigator<"u"&&navigator.product==="ReactNative",K5=q5(),Y5=()=>$5||K5?W.useLayoutEffect:W.useEffect,Nf=Y5();function W0(e,n){return e===n?e!==0||n!==0||1/e===1/n:e!==e&&n!==n}function Xh(e,n){if(W0(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;const o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(let l=0;l<o.length;l++)if(!Object.prototype.hasOwnProperty.call(n,o[l])||!W0(e[o[l]],n[o[l]]))return!1;return!0}var X5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Q5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},J5={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Iy={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Z5={[I5]:J5,[D5]:Iy};function V0(e){return L5(e)?Iy:Z5[e.$$typeof]||X5}var eS=Object.defineProperty,tS=Object.getOwnPropertyNames,$0=Object.getOwnPropertySymbols,nS=Object.getOwnPropertyDescriptor,rS=Object.getPrototypeOf,q0=Object.prototype;function Ip(e,n){if(typeof n!="string"){if(q0){const c=rS(n);c&&c!==q0&&Ip(e,c)}let o=tS(n);$0&&(o=o.concat($0(n)));const a=V0(e),l=V0(n);for(let c=0;c<o.length;++c){const d=o[c];if(!Q5[d]&&!(l&&l[d])&&!(a&&a[d])){const f=nS(n,d);try{eS(e,d,f)}catch{}}}}return e}var Qh=Symbol.for("react-redux-context"),Jh=typeof globalThis<"u"?globalThis:{};function iS(){if(!W.createContext)return{};const e=Jh[Qh]??(Jh[Qh]=new Map);let n=e.get(W.createContext);return n||(n=W.createContext(null),e.set(W.createContext,n)),n}var Dy=iS(),oS=[null,null];function sS(e,n,o){Nf(()=>e(...n),o)}function aS(e,n,o,a,l,c){e.current=a,o.current=!1,l.current&&(l.current=null,c())}function lS(e,n,o,a,l,c,d,f,h,m,y){if(!e)return()=>{};let S=!1,v=null;const _=()=>{if(S||!f.current)return;const P=n.getState();let R,I;try{R=a(P,l.current)}catch(k){I=k,v=k}I||(v=null),R===c.current?d.current||m():(c.current=R,h.current=R,d.current=!0,y())};return o.onStateChange=_,o.trySubscribe(),_(),()=>{if(S=!0,o.tryUnsubscribe(),o.onStateChange=null,v)throw v}}function uS(e,n){return e===n}function cS(e,n,o,{pure:a,areStatesEqual:l=uS,areOwnPropsEqual:c=Xh,areStatePropsEqual:d=Xh,areMergedPropsEqual:f=Xh,forwardRef:h=!1,context:m=Dy}={}){const y=m,S=j5(e),v=B5(n),_=G5(o),C=!!e;return R=>{const I=R.displayName||R.name||"Component",k=`Connect(${I})`,x={shouldHandleStateChanges:C,displayName:k,wrappedComponentName:I,WrappedComponent:R,initMapStateToProps:S,initMapDispatchToProps:v,initMergeProps:_,areStatesEqual:l,areStatePropsEqual:d,areOwnPropsEqual:c,areMergedPropsEqual:f};function T(Y){const[F,z,j]=W.useMemo(()=>{const{reactReduxForwardedRef:Le,...Oe}=Y;return[Y.context,Le,Oe]},[Y]),$=W.useMemo(()=>{let Le=y;return F!=null&&F.Consumer,Le},[F,y]),Q=W.useContext($),te=!!Y.store&&!!Y.store.getState&&!!Y.store.dispatch,re=!!Q&&!!Q.store,ee=te?Y.store:Q.store,ge=re?Q.getServerState:ee.getState,L=W.useMemo(()=>M5(ee.dispatch,x),[ee]),[B,V]=W.useMemo(()=>{if(!C)return oS;const Le=Ty(ee,te?void 0:Q.subscription),Oe=Le.notifyNestedSubs.bind(Le);return[Le,Oe]},[ee,te,Q]),H=W.useMemo(()=>te?Q:{...Q,subscription:B},[te,Q,B]),O=W.useRef(void 0),K=W.useRef(j),J=W.useRef(void 0),ue=W.useRef(!1),me=W.useRef(!1),se=W.useRef(void 0);Nf(()=>(me.current=!0,()=>{me.current=!1}),[]);const X=W.useMemo(()=>()=>J.current&&j===K.current?J.current:L(ee.getState(),j),[ee,j]),oe=W.useMemo(()=>Oe=>B?lS(C,ee,B,L,K,O,ue,me,J,V,Oe):()=>{},[B]);sS(aS,[K,O,ue,j,J,V]);let ve;try{ve=W.useSyncExternalStore(oe,X,ge?()=>L(ge(),j):X)}catch(Le){throw se.current&&(Le.message+=`
The error may be correlated with this previous error:
${se.current.stack}

`),Le}Nf(()=>{se.current=void 0,J.current=void 0,O.current=ve});const we=W.useMemo(()=>W.createElement(R,{...ve,ref:z}),[z,R,ve]);return W.useMemo(()=>C?W.createElement($.Provider,{value:H},we):we,[$,we,H])}const M=W.memo(T);if(M.WrappedComponent=R,M.displayName=T.displayName=k,h){const F=W.forwardRef(function(j,$){return W.createElement(M,{...j,reactReduxForwardedRef:$})});return F.displayName=k,F.WrappedComponent=R,Ip(F,R)}return Ip(M,R)}}var Ay=cS;function dS(e){const{children:n,context:o,serverState:a,store:l}=e,c=W.useMemo(()=>{const h=Ty(l);return{store:l,subscription:h,getServerState:a?()=>a:void 0}},[l,a]),d=W.useMemo(()=>l.getState(),[l]);Nf(()=>{const{subscription:h}=c;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),d!==l.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[c,d]);const f=o||Dy;return W.createElement(f.Provider,{value:c},n)}var fS=dS,hS="Invariant failed";function pS(e,n){throw new Error(hS)}var Oi=function(n){var o=n.top,a=n.right,l=n.bottom,c=n.left,d=a-c,f=l-o,h={top:o,right:a,bottom:l,left:c,width:d,height:f,x:c,y:o,center:{x:(a+c)/2,y:(l+o)/2}};return h},sg=function(n,o){return{top:n.top-o.top,left:n.left-o.left,bottom:n.bottom+o.bottom,right:n.right+o.right}},K0=function(n,o){return{top:n.top+o.top,left:n.left+o.left,bottom:n.bottom-o.bottom,right:n.right-o.right}},gS=function(n,o){return{top:n.top+o.y,left:n.left+o.x,bottom:n.bottom+o.y,right:n.right+o.x}},Zh={top:0,right:0,bottom:0,left:0},ag=function(n){var o=n.borderBox,a=n.margin,l=a===void 0?Zh:a,c=n.border,d=c===void 0?Zh:c,f=n.padding,h=f===void 0?Zh:f,m=Oi(sg(o,l)),y=Oi(K0(o,d)),S=Oi(K0(y,h));return{marginBox:m,borderBox:Oi(o),paddingBox:y,contentBox:S,margin:l,border:d,padding:h}},gi=function(n){var o=n.slice(0,-2),a=n.slice(-2);if(a!=="px")return 0;var l=Number(o);return isNaN(l)&&pS(),l},mS=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Tf=function(n,o){var a=n.borderBox,l=n.border,c=n.margin,d=n.padding,f=gS(a,o);return ag({borderBox:f,border:l,margin:c,padding:d})},If=function(n,o){return o===void 0&&(o=mS()),Tf(n,o)},Ly=function(n,o){var a={top:gi(o.marginTop),right:gi(o.marginRight),bottom:gi(o.marginBottom),left:gi(o.marginLeft)},l={top:gi(o.paddingTop),right:gi(o.paddingRight),bottom:gi(o.paddingBottom),left:gi(o.paddingLeft)},c={top:gi(o.borderTopWidth),right:gi(o.borderRightWidth),bottom:gi(o.borderBottomWidth),left:gi(o.borderLeftWidth)};return ag({borderBox:n,margin:a,padding:l,border:c})},Oy=function(n){var o=n.getBoundingClientRect(),a=window.getComputedStyle(n);return Ly(o,a)},jc=function(n){var o=[],a=null,l=function(){for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];o=f,!a&&(a=requestAnimationFrame(function(){a=null,n.apply(void 0,o)}))};return l.cancel=function(){a&&(cancelAnimationFrame(a),a=null)},l};function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var a in o)({}).hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e},Df.apply(null,arguments)}function My(e,n){}My.bind(null,"warn");My.bind(null,"error");function js(){}function yS(e,n){return{...e,...n}}function mi(e,n,o){const a=n.map(l=>{const c=yS(o,l.options);return e.addEventListener(l.eventName,l.fn,c),function(){e.removeEventListener(l.eventName,l.fn,c)}});return function(){a.forEach(c=>{c()})}}const vS="Invariant failed";class Af extends Error{}Af.prototype.toString=function(){return this.message};function Ne(e,n){throw new Af(vS)}class SS extends Ye.Component{constructor(...n){super(...n),this.callbacks=null,this.unbind=js,this.onWindowError=o=>{const a=this.getCallbacks();a.isDragging()&&a.tryAbort(),o.error instanceof Af&&o.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=o=>{this.callbacks=o}}componentDidMount(){this.unbind=mi(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(n){if(n instanceof Af){this.setState({});return}throw n}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const _S=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Lf=e=>e+1,wS=e=>`
  You have lifted an item in position ${Lf(e.source.index)}
`,Fy=(e,n)=>{const o=e.droppableId===n.droppableId,a=Lf(e.index),l=Lf(n.index);return o?`
      You have moved the item from position ${a}
      to position ${l}
    `:`
    You have moved the item from position ${a}
    in list ${e.droppableId}
    to list ${n.droppableId}
    in position ${l}
  `},By=(e,n,o)=>n.droppableId===o.droppableId?`
      The item ${e}
      has been combined with ${o.draggableId}`:`
      The item ${e}
      in list ${n.droppableId}
      has been combined with ${o.draggableId}
      in list ${o.droppableId}
    `,xS=e=>{const n=e.destination;if(n)return Fy(e.source,n);const o=e.combine;return o?By(e.draggableId,e.source,o):"You are over an area that cannot be dropped on"},Y0=e=>`
  The item has returned to its starting position
  of ${Lf(e.index)}
`,CS=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${Y0(e.source)}
    `;const n=e.destination,o=e.combine;return n?`
      You have dropped the item.
      ${Fy(e.source,n)}
    `:o?`
      You have dropped the item.
      ${By(e.draggableId,e.source,o)}
    `:`
    The item has been dropped while not over a drop area.
    ${Y0(e.source)}
  `},Ef={dragHandleUsageInstructions:_S,onDragStart:wS,onDragUpdate:xS,onDragEnd:CS};function ES(e,n){return!!(e===n||Number.isNaN(e)&&Number.isNaN(n))}function jy(e,n){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++)if(!ES(e[o],n[o]))return!1;return!0}function Ct(e,n){const o=W.useState(()=>({inputs:n,result:e()}))[0],a=W.useRef(!0),l=W.useRef(o),d=a.current||!!(n&&l.current.inputs&&jy(n,l.current.inputs))?l.current:{inputs:n,result:e()};return W.useEffect(()=>{a.current=!1,l.current=d},[d]),d.result}function Ke(e,n){return Ct(()=>e,n)}const Hn={x:0,y:0},nr=(e,n)=>({x:e.x+n.x,y:e.y+n.y}),Yr=(e,n)=>({x:e.x-n.x,y:e.y-n.y}),zs=(e,n)=>e.x===n.x&&e.y===n.y,jl=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Pa=(e,n,o=0)=>e==="x"?{x:n,y:o}:{x:o,y:n},zc=(e,n)=>Math.sqrt((n.x-e.x)**2+(n.y-e.y)**2),X0=(e,n)=>Math.min(...n.map(o=>zc(e,o))),zy=e=>n=>({x:e(n.x),y:e(n.y)});var kS=(e,n)=>{const o=Oi({top:Math.max(n.top,e.top),right:Math.min(n.right,e.right),bottom:Math.min(n.bottom,e.bottom),left:Math.max(n.left,e.left)});return o.width<=0||o.height<=0?null:o};const Qc=(e,n)=>({top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}),Q0=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],bS={top:0,right:0,bottom:0,left:0},PS=(e,n)=>n?Qc(e,n.scroll.diff.displacement):e,RS=(e,n,o)=>o&&o.increasedBy?{...e,[n.end]:e[n.end]+o.increasedBy[n.line]}:e,NS=(e,n)=>n&&n.shouldClipSubject?kS(n.pageMarginBox,e):Oi(e);var Al=({page:e,withPlaceholder:n,axis:o,frame:a})=>{const l=PS(e.marginBox,a),c=RS(l,o,n),d=NS(c,a);return{page:e,withPlaceholder:n,active:d}},lg=(e,n)=>{e.frame||Ne();const o=e.frame,a=Yr(n,o.scroll.initial),l=jl(a),c={...o,scroll:{initial:o.scroll.initial,current:n,diff:{value:a,displacement:l},max:o.scroll.max}},d=Al({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:c});return{...e,frame:c,subject:d}};function Gn(e,n=jy){let o=null;function a(...l){if(o&&o.lastThis===this&&n(l,o.lastArgs))return o.lastResult;const c=e.apply(this,l);return o={lastResult:c,lastArgs:l,lastThis:this},c}return a.clear=function(){o=null},a}const Uy=Gn(e=>e.reduce((n,o)=>(n[o.descriptor.id]=o,n),{})),Gy=Gn(e=>e.reduce((n,o)=>(n[o.descriptor.id]=o,n),{})),Wf=Gn(e=>Object.values(e)),TS=Gn(e=>Object.values(e));var zl=Gn((e,n)=>TS(n).filter(a=>e===a.descriptor.droppableId).sort((a,l)=>a.descriptor.index-l.descriptor.index));function ug(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Vf(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var $f=Gn((e,n)=>n.filter(o=>o.descriptor.id!==e.descriptor.id)),IS=({isMovingForward:e,draggable:n,destination:o,insideDestination:a,previousImpact:l})=>{if(!o.isCombineEnabled||!ug(l))return null;function d(_){const C={type:"COMBINE",combine:{draggableId:_,droppableId:o.descriptor.id}};return{...l,at:C}}const f=l.displaced.all,h=f.length?f[0]:null;if(e)return h?d(h):null;const m=$f(n,a);if(!h){if(!m.length)return null;const _=m[m.length-1];return d(_.descriptor.id)}const y=m.findIndex(_=>_.descriptor.id===h);y===-1&&Ne();const S=y-1;if(S<0)return null;const v=m[S];return d(v.descriptor.id)},Ul=(e,n)=>e.descriptor.droppableId===n.descriptor.id;const Hy={point:Hn,value:0},Uc={invisible:{},visible:{},all:[]},DS={displaced:Uc,displacedBy:Hy,at:null};var yi=(e,n)=>o=>e<=o&&o<=n,Wy=e=>{const n=yi(e.top,e.bottom),o=yi(e.left,e.right);return a=>{if(n(a.top)&&n(a.bottom)&&o(a.left)&&o(a.right))return!0;const c=n(a.top)||n(a.bottom),d=o(a.left)||o(a.right);if(c&&d)return!0;const h=a.top<e.top&&a.bottom>e.bottom,m=a.left<e.left&&a.right>e.right;return h&&m?!0:h&&d||m&&c}},AS=e=>{const n=yi(e.top,e.bottom),o=yi(e.left,e.right);return a=>n(a.top)&&n(a.bottom)&&o(a.left)&&o(a.right)};const cg={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Vy={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var LS=e=>n=>{const o=yi(n.top,n.bottom),a=yi(n.left,n.right);return l=>e===cg?o(l.top)&&o(l.bottom):a(l.left)&&a(l.right)};const OS=(e,n)=>{const o=n.frame?n.frame.scroll.diff.displacement:Hn;return Qc(e,o)},MS=(e,n,o)=>n.subject.active?o(n.subject.active)(e):!1,FS=(e,n,o)=>o(n)(e),dg=({target:e,destination:n,viewport:o,withDroppableDisplacement:a,isVisibleThroughFrameFn:l})=>{const c=a?OS(e,n):e;return MS(c,n,l)&&FS(c,o,l)},BS=e=>dg({...e,isVisibleThroughFrameFn:Wy}),$y=e=>dg({...e,isVisibleThroughFrameFn:AS}),jS=e=>dg({...e,isVisibleThroughFrameFn:LS(e.destination.axis)}),zS=(e,n,o)=>{if(typeof o=="boolean")return o;if(!n)return!0;const{invisible:a,visible:l}=n;if(a[e])return!1;const c=l[e];return c?c.shouldAnimate:!0};function US(e,n){const o=e.page.marginBox,a={top:n.point.y,right:0,bottom:0,left:n.point.x};return Oi(sg(o,a))}function Gc({afterDragging:e,destination:n,displacedBy:o,viewport:a,forceShouldAnimate:l,last:c}){return e.reduce(function(f,h){const m=US(h,o),y=h.descriptor.id;if(f.all.push(y),!BS({target:m,destination:n,viewport:a,withDroppableDisplacement:!0}))return f.invisible[h.descriptor.id]=!0,f;const v=zS(y,c,l),_={draggableId:y,shouldAnimate:v};return f.visible[y]=_,f},{all:[],visible:{},invisible:{}})}function GS(e,n){if(!e.length)return 0;const o=e[e.length-1].descriptor.index;return n.inHomeList?o:o+1}function J0({insideDestination:e,inHomeList:n,displacedBy:o,destination:a}){const l=GS(e,{inHomeList:n});return{displaced:Uc,displacedBy:o,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:l}}}}function Of({draggable:e,insideDestination:n,destination:o,viewport:a,displacedBy:l,last:c,index:d,forceShouldAnimate:f}){const h=Ul(e,o);if(d==null)return J0({insideDestination:n,inHomeList:h,displacedBy:l,destination:o});const m=n.find(C=>C.descriptor.index===d);if(!m)return J0({insideDestination:n,inHomeList:h,displacedBy:l,destination:o});const y=$f(e,n),S=n.indexOf(m),v=y.slice(S);return{displaced:Gc({afterDragging:v,destination:o,displacedBy:l,last:c,viewport:a.frame,forceShouldAnimate:f}),displacedBy:l,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:d}}}}function Us(e,n){return!!n.effected[e]}var HS=({isMovingForward:e,destination:n,draggables:o,combine:a,afterCritical:l})=>{if(!n.isCombineEnabled)return null;const c=a.draggableId,f=o[c].descriptor.index;return Us(c,l)?e?f:f-1:e?f+1:f},WS=({isMovingForward:e,isInHomeList:n,insideDestination:o,location:a})=>{if(!o.length)return null;const l=a.index,c=e?l+1:l-1,d=o[0].descriptor.index,f=o[o.length-1].descriptor.index,h=n?f:f+1;return c<d||c>h?null:c},VS=({isMovingForward:e,isInHomeList:n,draggable:o,draggables:a,destination:l,insideDestination:c,previousImpact:d,viewport:f,afterCritical:h})=>{const m=d.at;if(m||Ne(),m.type==="REORDER"){const S=WS({isMovingForward:e,isInHomeList:n,location:m.destination,insideDestination:c});return S==null?null:Of({draggable:o,insideDestination:c,destination:l,viewport:f,last:d.displaced,displacedBy:d.displacedBy,index:S})}const y=HS({isMovingForward:e,destination:l,displaced:d.displaced,draggables:a,combine:m.combine,afterCritical:h});return y==null?null:Of({draggable:o,insideDestination:c,destination:l,viewport:f,last:d.displaced,displacedBy:d.displacedBy,index:y})},$S=({displaced:e,afterCritical:n,combineWith:o,displacedBy:a})=>{const l=!!(e.visible[o]||e.invisible[o]);return Us(o,n)?l?Hn:jl(a.point):l?a.point:Hn},qS=({afterCritical:e,impact:n,draggables:o})=>{const a=Vf(n);a||Ne();const l=a.draggableId,c=o[l].page.borderBox.center,d=$S({displaced:n.displaced,afterCritical:e,combineWith:l,displacedBy:n.displacedBy});return nr(c,d)};const qy=(e,n)=>n.margin[e.start]+n.borderBox[e.size]/2,KS=(e,n)=>n.margin[e.end]+n.borderBox[e.size]/2,fg=(e,n,o)=>n[e.crossAxisStart]+o.margin[e.crossAxisStart]+o.borderBox[e.crossAxisSize]/2,Z0=({axis:e,moveRelativeTo:n,isMoving:o})=>Pa(e.line,n.marginBox[e.end]+qy(e,o),fg(e,n.marginBox,o)),em=({axis:e,moveRelativeTo:n,isMoving:o})=>Pa(e.line,n.marginBox[e.start]-KS(e,o),fg(e,n.marginBox,o)),YS=({axis:e,moveInto:n,isMoving:o})=>Pa(e.line,n.contentBox[e.start]+qy(e,o),fg(e,n.contentBox,o));var XS=({impact:e,draggable:n,draggables:o,droppable:a,afterCritical:l})=>{const c=zl(a.descriptor.id,o),d=n.page,f=a.axis;if(!c.length)return YS({axis:f,moveInto:a.page,isMoving:d});const{displaced:h,displacedBy:m}=e,y=h.all[0];if(y){const v=o[y];if(Us(y,l))return em({axis:f,moveRelativeTo:v.page,isMoving:d});const _=Tf(v.page,m.point);return em({axis:f,moveRelativeTo:_,isMoving:d})}const S=c[c.length-1];if(S.descriptor.id===n.descriptor.id)return d.borderBox.center;if(Us(S.descriptor.id,l)){const v=Tf(S.page,jl(l.displacedBy.point));return Z0({axis:f,moveRelativeTo:v,isMoving:d})}return Z0({axis:f,moveRelativeTo:S.page,isMoving:d})},Dp=(e,n)=>{const o=e.frame;return o?nr(n,o.scroll.diff.displacement):n};const QS=({impact:e,draggable:n,droppable:o,draggables:a,afterCritical:l})=>{const c=n.page.borderBox.center,d=e.at;return!o||!d?c:d.type==="REORDER"?XS({impact:e,draggable:n,draggables:a,droppable:o,afterCritical:l}):qS({impact:e,draggables:a,afterCritical:l})};var qf=e=>{const n=QS(e),o=e.droppable;return o?Dp(o,n):n},Ky=(e,n)=>{const o=Yr(n,e.scroll.initial),a=jl(o);return{frame:Oi({top:n.y,bottom:n.y+e.frame.height,left:n.x,right:n.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:n,diff:{value:o,displacement:a}}}};function tm(e,n){return e.map(o=>n[o])}function JS(e,n){for(let o=0;o<n.length;o++){const a=n[o].visible[e];if(a)return a}return null}var ZS=({impact:e,viewport:n,destination:o,draggables:a,maxScrollChange:l})=>{const c=Ky(n,nr(n.scroll.current,l)),d=o.frame?lg(o,nr(o.frame.scroll.current,l)):o,f=e.displaced,h=Gc({afterDragging:tm(f.all,a),destination:o,displacedBy:e.displacedBy,viewport:c.frame,last:f,forceShouldAnimate:!1}),m=Gc({afterDragging:tm(f.all,a),destination:d,displacedBy:e.displacedBy,viewport:n.frame,last:f,forceShouldAnimate:!1}),y={},S={},v=[f,h,m];return f.all.forEach(C=>{const P=JS(C,v);if(P){S[C]=P;return}y[C]=!0}),{...e,displaced:{all:f.all,invisible:y,visible:S}}},e_=(e,n)=>nr(e.scroll.diff.displacement,n),hg=({pageBorderBoxCenter:e,draggable:n,viewport:o})=>{const a=e_(o,e),l=Yr(a,n.page.borderBox.center);return nr(n.client.borderBox.center,l)},Yy=({draggable:e,destination:n,newPageBorderBoxCenter:o,viewport:a,withDroppableDisplacement:l,onlyOnMainAxis:c=!1})=>{const d=Yr(o,e.page.borderBox.center),h={target:Qc(e.page.borderBox,d),destination:n,withDroppableDisplacement:l,viewport:a};return c?jS(h):$y(h)},t_=({isMovingForward:e,draggable:n,destination:o,draggables:a,previousImpact:l,viewport:c,previousPageBorderBoxCenter:d,previousClientSelection:f,afterCritical:h})=>{if(!o.isEnabled)return null;const m=zl(o.descriptor.id,a),y=Ul(n,o),S=IS({isMovingForward:e,draggable:n,destination:o,insideDestination:m,previousImpact:l})||VS({isMovingForward:e,isInHomeList:y,draggable:n,draggables:a,destination:o,insideDestination:m,previousImpact:l,viewport:c,afterCritical:h});if(!S)return null;const v=qf({impact:S,draggable:n,droppable:o,draggables:a,afterCritical:h});if(Yy({draggable:n,destination:o,newPageBorderBoxCenter:v,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:hg({pageBorderBoxCenter:v,draggable:n,viewport:c}),impact:S,scrollJumpRequest:null};const C=Yr(v,d),P=ZS({impact:S,viewport:c,destination:o,draggables:a,maxScrollChange:C});return{clientSelection:f,impact:P,scrollJumpRequest:C}};const br=e=>{const n=e.subject.active;return n||Ne(),n};var n_=({isMovingForward:e,pageBorderBoxCenter:n,source:o,droppables:a,viewport:l})=>{const c=o.subject.active;if(!c)return null;const d=o.axis,f=yi(c[d.start],c[d.end]),h=Wf(a).filter(y=>y!==o).filter(y=>y.isEnabled).filter(y=>!!y.subject.active).filter(y=>Wy(l.frame)(br(y))).filter(y=>{const S=br(y);return e?c[d.crossAxisEnd]<S[d.crossAxisEnd]:S[d.crossAxisStart]<c[d.crossAxisStart]}).filter(y=>{const S=br(y),v=yi(S[d.start],S[d.end]);return f(S[d.start])||f(S[d.end])||v(c[d.start])||v(c[d.end])}).sort((y,S)=>{const v=br(y)[d.crossAxisStart],_=br(S)[d.crossAxisStart];return e?v-_:_-v}).filter((y,S,v)=>br(y)[d.crossAxisStart]===br(v[0])[d.crossAxisStart]);if(!h.length)return null;if(h.length===1)return h[0];const m=h.filter(y=>yi(br(y)[d.start],br(y)[d.end])(n[d.line]));return m.length===1?m[0]:m.length>1?m.sort((y,S)=>br(y)[d.start]-br(S)[d.start])[0]:h.sort((y,S)=>{const v=X0(n,Q0(br(y))),_=X0(n,Q0(br(S)));return v!==_?v-_:br(y)[d.start]-br(S)[d.start]})[0]};const nm=(e,n)=>{const o=e.page.borderBox.center;return Us(e.descriptor.id,n)?Yr(o,n.displacedBy.point):o},r_=(e,n)=>{const o=e.page.borderBox;return Us(e.descriptor.id,n)?Qc(o,jl(n.displacedBy.point)):o};var i_=({pageBorderBoxCenter:e,viewport:n,destination:o,insideDestination:a,afterCritical:l})=>a.filter(d=>$y({target:r_(d,l),destination:o,viewport:n.frame,withDroppableDisplacement:!0})).sort((d,f)=>{const h=zc(e,Dp(o,nm(d,l))),m=zc(e,Dp(o,nm(f,l)));return h<m?-1:m<h?1:d.descriptor.index-f.descriptor.index})[0]||null,Jc=Gn(function(n,o){const a=o[n.line];return{value:a,point:Pa(n.line,a)}});const o_=(e,n,o)=>{const a=e.axis;if(e.descriptor.mode==="virtual")return Pa(a.line,n[a.line]);const l=e.subject.page.contentBox[a.size],h=zl(e.descriptor.id,o).reduce((m,y)=>m+y.client.marginBox[a.size],0)+n[a.line]-l;return h<=0?null:Pa(a.line,h)},Xy=(e,n)=>({...e,scroll:{...e.scroll,max:n}}),Qy=(e,n,o)=>{const a=e.frame;Ul(n,e)&&Ne(),e.subject.withPlaceholder&&Ne();const l=Jc(e.axis,n.displaceBy).point,c=o_(e,l,o),d={placeholderSize:l,increasedBy:c,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!a){const y=Al({page:e.subject.page,withPlaceholder:d,axis:e.axis,frame:e.frame});return{...e,subject:y}}const f=c?nr(a.scroll.max,c):a.scroll.max,h=Xy(a,f),m=Al({page:e.subject.page,withPlaceholder:d,axis:e.axis,frame:h});return{...e,subject:m,frame:h}},s_=e=>{const n=e.subject.withPlaceholder;n||Ne();const o=e.frame;if(!o){const d=Al({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:d}}const a=n.oldFrameMaxScroll;a||Ne();const l=Xy(o,a),c=Al({page:e.subject.page,axis:e.axis,frame:l,withPlaceholder:null});return{...e,subject:c,frame:l}};var a_=({previousPageBorderBoxCenter:e,moveRelativeTo:n,insideDestination:o,draggable:a,draggables:l,destination:c,viewport:d,afterCritical:f})=>{if(!n){if(o.length)return null;const S={displaced:Uc,displacedBy:Hy,at:{type:"REORDER",destination:{droppableId:c.descriptor.id,index:0}}},v=qf({impact:S,draggable:a,droppable:c,draggables:l,afterCritical:f}),_=Ul(a,c)?c:Qy(c,a,l);return Yy({draggable:a,destination:_,newPageBorderBoxCenter:v,viewport:d.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?S:null}const h=e[c.axis.line]<=n.page.borderBox.center[c.axis.line],m=(()=>{const S=n.descriptor.index;return n.descriptor.id===a.descriptor.id||h?S:S+1})(),y=Jc(c.axis,a.displaceBy);return Of({draggable:a,insideDestination:o,destination:c,viewport:d,displacedBy:y,last:Uc,index:m})},l_=({isMovingForward:e,previousPageBorderBoxCenter:n,draggable:o,isOver:a,draggables:l,droppables:c,viewport:d,afterCritical:f})=>{const h=n_({isMovingForward:e,pageBorderBoxCenter:n,source:a,droppables:c,viewport:d});if(!h)return null;const m=zl(h.descriptor.id,l),y=i_({pageBorderBoxCenter:n,viewport:d,destination:h,insideDestination:m,afterCritical:f}),S=a_({previousPageBorderBoxCenter:n,destination:h,draggable:o,draggables:l,moveRelativeTo:y,insideDestination:m,viewport:d,afterCritical:f});if(!S)return null;const v=qf({impact:S,draggable:o,droppable:h,draggables:l,afterCritical:f});return{clientSelection:hg({pageBorderBoxCenter:v,draggable:o,viewport:d}),impact:S,scrollJumpRequest:null}},Xr=e=>{const n=e.at;return n?n.type==="REORDER"?n.destination.droppableId:n.combine.droppableId:null};const u_=(e,n)=>{const o=Xr(e);return o?n[o]:null};var c_=({state:e,type:n})=>{const o=u_(e.impact,e.dimensions.droppables),a=!!o,l=e.dimensions.droppables[e.critical.droppable.id],c=o||l,d=c.axis.direction,f=d==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||d==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(f&&!a)return null;const h=n==="MOVE_DOWN"||n==="MOVE_RIGHT",m=e.dimensions.draggables[e.critical.draggable.id],y=e.current.page.borderBoxCenter,{draggables:S,droppables:v}=e.dimensions;return f?t_({isMovingForward:h,previousPageBorderBoxCenter:y,draggable:m,destination:c,draggables:S,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):l_({isMovingForward:h,previousPageBorderBoxCenter:y,draggable:m,isOver:c,draggables:S,droppables:v,viewport:e.viewport,afterCritical:e.afterCritical})};function Ea(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Jy(e){const n=yi(e.top,e.bottom),o=yi(e.left,e.right);return function(l){return n(l.y)&&o(l.x)}}function d_(e,n){return e.left<n.right&&e.right>n.left&&e.top<n.bottom&&e.bottom>n.top}function f_({pageBorderBox:e,draggable:n,candidates:o}){const a=n.page.borderBox.center,l=o.map(c=>{const d=c.axis,f=Pa(c.axis.line,e.center[d.line],c.page.borderBox.center[d.crossAxisLine]);return{id:c.descriptor.id,distance:zc(a,f)}}).sort((c,d)=>d.distance-c.distance);return l[0]?l[0].id:null}function h_({pageBorderBox:e,draggable:n,droppables:o}){const a=Wf(o).filter(l=>{if(!l.isEnabled)return!1;const c=l.subject.active;if(!c||!d_(e,c))return!1;if(Jy(c)(e.center))return!0;const d=l.axis,f=c.center[d.crossAxisLine],h=e[d.crossAxisStart],m=e[d.crossAxisEnd],y=yi(c[d.crossAxisStart],c[d.crossAxisEnd]),S=y(h),v=y(m);return!S&&!v?!0:S?h<f:m>f});return a.length?a.length===1?a[0].descriptor.id:f_({pageBorderBox:e,draggable:n,candidates:a}):null}const Zy=(e,n)=>Oi(Qc(e,n));var p_=(e,n)=>{const o=e.frame;return o?Zy(n,o.scroll.diff.value):n};function ev({displaced:e,id:n}){return!!(e.visible[n]||e.invisible[n])}function g_({draggable:e,closest:n,inHomeList:o}){return n?o&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var m_=({pageBorderBoxWithDroppableScroll:e,draggable:n,destination:o,insideDestination:a,last:l,viewport:c,afterCritical:d})=>{const f=o.axis,h=Jc(o.axis,n.displaceBy),m=h.value,y=e[f.start],S=e[f.end],_=$f(n,a).find(P=>{const R=P.descriptor.id,I=P.page.borderBox.center[f.line],k=Us(R,d),x=ev({displaced:l,id:R});return k?x?S<=I:y<I-m:x?S<=I+m:y<I})||null,C=g_({draggable:n,closest:_,inHomeList:Ul(n,o)});return Of({draggable:n,insideDestination:a,destination:o,viewport:c,last:l,displacedBy:h,index:C})};const y_=4;var v_=({draggable:e,pageBorderBoxWithDroppableScroll:n,previousImpact:o,destination:a,insideDestination:l,afterCritical:c})=>{if(!a.isCombineEnabled)return null;const d=a.axis,f=Jc(a.axis,e.displaceBy),h=f.value,m=n[d.start],y=n[d.end],v=$f(e,l).find(C=>{const P=C.descriptor.id,R=C.page.borderBox,k=R[d.size]/y_,x=Us(P,c),T=ev({displaced:o.displaced,id:P});return x?T?y>R[d.start]+k&&y<R[d.end]-k:m>R[d.start]-h+k&&m<R[d.end]-h-k:T?y>R[d.start]+h+k&&y<R[d.end]+h-k:m>R[d.start]+k&&m<R[d.end]-k});return v?{displacedBy:f,displaced:o.displaced,at:{type:"COMBINE",combine:{draggableId:v.descriptor.id,droppableId:a.descriptor.id}}}:null},tv=({pageOffset:e,draggable:n,draggables:o,droppables:a,previousImpact:l,viewport:c,afterCritical:d})=>{const f=Zy(n.page.borderBox,e),h=h_({pageBorderBox:f,draggable:n,droppables:a});if(!h)return DS;const m=a[h],y=zl(m.descriptor.id,o),S=p_(m,f);return v_({pageBorderBoxWithDroppableScroll:S,draggable:n,previousImpact:l,destination:m,insideDestination:y,afterCritical:d})||m_({pageBorderBoxWithDroppableScroll:S,draggable:n,destination:m,insideDestination:y,last:l.displaced,viewport:c,afterCritical:d})},pg=(e,n)=>({...e,[n.descriptor.id]:n});const S_=({previousImpact:e,impact:n,droppables:o})=>{const a=Xr(e),l=Xr(n);if(!a||a===l)return o;const c=o[a];if(!c.subject.withPlaceholder)return o;const d=s_(c);return pg(o,d)};var __=({draggable:e,draggables:n,droppables:o,previousImpact:a,impact:l})=>{const c=S_({previousImpact:a,impact:l,droppables:o}),d=Xr(l);if(!d)return c;const f=o[d];if(Ul(e,f)||f.subject.withPlaceholder)return c;const h=Qy(f,e,n);return pg(c,h)},Ac=({state:e,clientSelection:n,dimensions:o,viewport:a,impact:l,scrollJumpRequest:c})=>{const d=a||e.viewport,f=o||e.dimensions,h=n||e.current.client.selection,m=Yr(h,e.initial.client.selection),y={offset:m,selection:h,borderBoxCenter:nr(e.initial.client.borderBoxCenter,m)},S={selection:nr(y.selection,d.scroll.current),borderBoxCenter:nr(y.borderBoxCenter,d.scroll.current),offset:nr(y.offset,d.scroll.diff.value)},v={client:y,page:S};if(e.phase==="COLLECTING")return{...e,dimensions:f,viewport:d,current:v};const _=f.draggables[e.critical.draggable.id],C=l||tv({pageOffset:S.offset,draggable:_,draggables:f.draggables,droppables:f.droppables,previousImpact:e.impact,viewport:d,afterCritical:e.afterCritical}),P=__({draggable:_,impact:C,previousImpact:e.impact,draggables:f.draggables,droppables:f.droppables});return{...e,current:v,dimensions:{draggables:f.draggables,droppables:P},impact:C,viewport:d,scrollJumpRequest:c||null,forceShouldAnimate:c?!1:null}};function w_(e,n){return e.map(o=>n[o])}var nv=({impact:e,viewport:n,draggables:o,destination:a,forceShouldAnimate:l})=>{const c=e.displaced,d=w_(c.all,o),f=Gc({afterDragging:d,destination:a,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:l,last:c});return{...e,displaced:f}},rv=({impact:e,draggable:n,droppable:o,draggables:a,viewport:l,afterCritical:c})=>{const d=qf({impact:e,draggable:n,draggables:a,droppable:o,afterCritical:c});return hg({pageBorderBoxCenter:d,draggable:n,viewport:l})},iv=({state:e,dimensions:n,viewport:o})=>{e.movementMode!=="SNAP"&&Ne();const a=e.impact,l=o||e.viewport,c=n||e.dimensions,{draggables:d,droppables:f}=c,h=d[e.critical.draggable.id],m=Xr(a);m||Ne();const y=f[m],S=nv({impact:a,viewport:l,destination:y,draggables:d}),v=rv({impact:S,draggable:h,droppable:y,draggables:d,viewport:l,afterCritical:e.afterCritical});return Ac({impact:S,clientSelection:v,state:e,dimensions:c,viewport:l})},x_=e=>({index:e.index,droppableId:e.droppableId}),ov=({draggable:e,home:n,draggables:o,viewport:a})=>{const l=Jc(n.axis,e.displaceBy),c=zl(n.descriptor.id,o),d=c.indexOf(e);d===-1&&Ne();const f=c.slice(d+1),h=f.reduce((v,_)=>(v[_.descriptor.id]=!0,v),{}),m={inVirtualList:n.descriptor.mode==="virtual",displacedBy:l,effected:h};return{impact:{displaced:Gc({afterDragging:f,destination:n,displacedBy:l,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:l,at:{type:"REORDER",destination:x_(e.descriptor)}},afterCritical:m}},C_=(e,n)=>({draggables:e.draggables,droppables:pg(e.droppables,n)}),E_=({draggable:e,offset:n,initialWindowScroll:o})=>{const a=Tf(e.client,n),l=If(a,o);return{...e,placeholder:{...e.placeholder,client:a},client:a,page:l}},k_=e=>{const n=e.frame;return n||Ne(),n},b_=({additions:e,updatedDroppables:n,viewport:o})=>{const a=o.scroll.diff.value;return e.map(l=>{const c=l.descriptor.droppableId,d=n[c],h=k_(d).scroll.diff.value,m=nr(a,h);return E_({draggable:l,offset:m,initialWindowScroll:o.scroll.initial})})},P_=({state:e,published:n})=>{const o=n.modified.map(I=>{const k=e.dimensions.droppables[I.droppableId];return lg(k,I.scroll)}),a={...e.dimensions.droppables,...Uy(o)},l=Gy(b_({additions:n.additions,updatedDroppables:a,viewport:e.viewport})),c={...e.dimensions.draggables,...l};n.removals.forEach(I=>{delete c[I]});const d={droppables:a,draggables:c},f=Xr(e.impact),h=f?d.droppables[f]:null,m=d.draggables[e.critical.draggable.id],y=d.droppables[e.critical.droppable.id],{impact:S,afterCritical:v}=ov({draggable:m,home:y,draggables:c,viewport:e.viewport}),_=h&&h.isCombineEnabled?e.impact:S,C=tv({pageOffset:e.current.page.offset,draggable:d.draggables[e.critical.draggable.id],draggables:d.draggables,droppables:d.droppables,previousImpact:_,viewport:e.viewport,afterCritical:v}),P={...e,phase:"DRAGGING",impact:C,onLiftImpact:S,dimensions:d,afterCritical:v,forceShouldAnimate:!1};return e.phase==="COLLECTING"?P:{...P,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Ap=e=>e.movementMode==="SNAP",ep=(e,n,o)=>{const a=C_(e.dimensions,n);return!Ap(e)||o?Ac({state:e,dimensions:a}):iv({state:e,dimensions:a})};function tp(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const rm={phase:"IDLE",completed:null,shouldFlush:!1};var R_=(e=rm,n)=>{if(n.type==="FLUSH")return{...rm,shouldFlush:!0};if(n.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Ne();const{critical:o,clientSelection:a,viewport:l,dimensions:c,movementMode:d}=n.payload,f=c.draggables[o.draggable.id],h=c.droppables[o.droppable.id],m={selection:a,borderBoxCenter:f.client.borderBox.center,offset:Hn},y={client:m,page:{selection:nr(m.selection,l.scroll.initial),borderBoxCenter:nr(m.selection,l.scroll.initial),offset:nr(m.selection,l.scroll.diff.value)}},S=Wf(c.droppables).every(P=>!P.isFixedOnPage),{impact:v,afterCritical:_}=ov({draggable:f,home:h,draggables:c.draggables,viewport:l});return{phase:"DRAGGING",isDragging:!0,critical:o,movementMode:d,dimensions:c,initial:y,current:y,isWindowScrollAllowed:S,impact:v,afterCritical:_,onLiftImpact:v,viewport:l,scrollJumpRequest:null,forceShouldAnimate:null}}if(n.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Ne(),{...e,phase:"COLLECTING"});if(n.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Ne(),P_({state:e,published:n.payload});if(n.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ea(e)||Ne();const{client:o}=n.payload;return zs(o,e.current.client.selection)?e:Ac({state:e,clientSelection:o,impact:Ap(e)?e.impact:null})}if(n.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return tp(e);Ea(e)||Ne();const{id:o,newScroll:a}=n.payload,l=e.dimensions.droppables[o];if(!l)return e;const c=lg(l,a);return ep(e,c,!1)}if(n.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ea(e)||Ne();const{id:o,isEnabled:a}=n.payload,l=e.dimensions.droppables[o];l||Ne(),l.isEnabled===a&&Ne();const c={...l,isEnabled:a};return ep(e,c,!0)}if(n.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ea(e)||Ne();const{id:o,isCombineEnabled:a}=n.payload,l=e.dimensions.droppables[o];l||Ne(),l.isCombineEnabled===a&&Ne();const c={...l,isCombineEnabled:a};return ep(e,c,!0)}if(n.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ea(e)||Ne(),e.isWindowScrollAllowed||Ne();const o=n.payload.newScroll;if(zs(e.viewport.scroll.current,o))return tp(e);const a=Ky(e.viewport,o);return Ap(e)?iv({state:e,viewport:a}):Ac({state:e,viewport:a})}if(n.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ea(e))return e;const o=n.payload.maxScroll;if(zs(o,e.viewport.scroll.max))return e;const a={...e.viewport,scroll:{...e.viewport.scroll,max:o}};return{...e,viewport:a}}if(n.type==="MOVE_UP"||n.type==="MOVE_DOWN"||n.type==="MOVE_LEFT"||n.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Ne();const o=c_({state:e,type:n.type});return o?Ac({state:e,impact:o.impact,clientSelection:o.clientSelection,scrollJumpRequest:o.scrollJumpRequest}):e}if(n.type==="DROP_PENDING"){const o=n.payload.reason;return e.phase!=="COLLECTING"&&Ne(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:o}}if(n.type==="DROP_ANIMATE"){const{completed:o,dropDuration:a,newHomeClientOffset:l}=n.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Ne(),{phase:"DROP_ANIMATING",completed:o,dropDuration:a,newHomeClientOffset:l,dimensions:e.dimensions}}if(n.type==="DROP_COMPLETE"){const{completed:o}=n.payload;return{phase:"IDLE",completed:o,shouldFlush:!1}}return e};function At(e,n){return e instanceof Object&&"type"in e&&e.type===n}const N_=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),T_=e=>({type:"LIFT",payload:e}),I_=e=>({type:"INITIAL_PUBLISH",payload:e}),D_=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),A_=()=>({type:"COLLECTION_STARTING",payload:null}),L_=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),O_=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),M_=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),sv=e=>({type:"MOVE",payload:e}),F_=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),B_=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),j_=()=>({type:"MOVE_UP",payload:null}),z_=()=>({type:"MOVE_DOWN",payload:null}),U_=()=>({type:"MOVE_RIGHT",payload:null}),G_=()=>({type:"MOVE_LEFT",payload:null}),gg=()=>({type:"FLUSH",payload:null}),H_=e=>({type:"DROP_ANIMATE",payload:e}),mg=e=>({type:"DROP_COMPLETE",payload:e}),av=e=>({type:"DROP",payload:e}),W_=e=>({type:"DROP_PENDING",payload:e}),lv=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var V_=e=>({getState:n,dispatch:o})=>a=>l=>{if(!At(l,"LIFT")){a(l);return}const{id:c,clientSelection:d,movementMode:f}=l.payload,h=n();h.phase==="DROP_ANIMATING"&&o(mg({completed:h.completed})),n().phase!=="IDLE"&&Ne(),o(gg()),o(N_({draggableId:c,movementMode:f}));const y={draggableId:c,scrollOptions:{shouldPublishImmediately:f==="SNAP"}},{critical:S,dimensions:v,viewport:_}=e.startPublishing(y);o(I_({critical:S,dimensions:v,clientSelection:d,movementMode:f,viewport:_}))},$_=e=>()=>n=>o=>{At(o,"INITIAL_PUBLISH")&&e.dragging(),At(o,"DROP_ANIMATE")&&e.dropping(o.payload.completed.result.reason),(At(o,"FLUSH")||At(o,"DROP_COMPLETE"))&&e.resting(),n(o)};const yg={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Hc={opacity:{drop:0,combining:.7},scale:{drop:.75}},uv={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},xa=`${uv.outOfTheWay}s ${yg.outOfTheWay}`,Lc={fluid:`opacity ${xa}`,snap:`transform ${xa}, opacity ${xa}`,drop:e=>{const n=`${e}s ${yg.drop}`;return`transform ${n}, opacity ${n}`},outOfTheWay:`transform ${xa}`,placeholder:`height ${xa}, width ${xa}, margin ${xa}`},im=e=>zs(e,Hn)?void 0:`translate(${e.x}px, ${e.y}px)`,Lp={moveTo:im,drop:(e,n)=>{const o=im(e);if(o)return n?`${o} scale(${Hc.scale.drop})`:o}},{minDropTime:Op,maxDropTime:cv}=uv,q_=cv-Op,om=1500,K_=.6;var Y_=({current:e,destination:n,reason:o})=>{const a=zc(e,n);if(a<=0)return Op;if(a>=om)return cv;const l=a/om,c=Op+q_*l,d=o==="CANCEL"?c*K_:c;return Number(d.toFixed(2))},X_=({impact:e,draggable:n,dimensions:o,viewport:a,afterCritical:l})=>{const{draggables:c,droppables:d}=o,f=Xr(e),h=f?d[f]:null,m=d[n.descriptor.droppableId],y=rv({impact:e,draggable:n,draggables:c,afterCritical:l,droppable:h||m,viewport:a});return Yr(y,n.client.borderBox.center)},Q_=({draggables:e,reason:n,lastImpact:o,home:a,viewport:l,onLiftImpact:c})=>!o.at||n!=="DROP"?{impact:nv({draggables:e,impact:c,destination:a,viewport:l,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:o.at.type==="REORDER"?{impact:o,didDropInsideDroppable:!0}:{impact:{...o,displaced:Uc},didDropInsideDroppable:!0};const J_=({getState:e,dispatch:n})=>o=>a=>{if(!At(a,"DROP")){o(a);return}const l=e(),c=a.payload.reason;if(l.phase==="COLLECTING"){n(W_({reason:c}));return}if(l.phase==="IDLE")return;l.phase==="DROP_PENDING"&&l.isWaiting&&Ne(),l.phase==="DRAGGING"||l.phase==="DROP_PENDING"||Ne();const f=l.critical,h=l.dimensions,m=h.draggables[l.critical.draggable.id],{impact:y,didDropInsideDroppable:S}=Q_({reason:c,lastImpact:l.impact,afterCritical:l.afterCritical,onLiftImpact:l.onLiftImpact,home:l.dimensions.droppables[l.critical.droppable.id],viewport:l.viewport,draggables:l.dimensions.draggables}),v=S?ug(y):null,_=S?Vf(y):null,C={index:f.draggable.index,droppableId:f.droppable.id},P={draggableId:m.descriptor.id,type:m.descriptor.type,source:C,reason:c,mode:l.movementMode,destination:v,combine:_},R=X_({impact:y,draggable:m,dimensions:h,viewport:l.viewport,afterCritical:l.afterCritical}),I={critical:l.critical,afterCritical:l.afterCritical,result:P,impact:y};if(!(!zs(l.current.client.offset,R)||!!P.combine)){n(mg({completed:I}));return}const x=Y_({current:l.current.client.offset,destination:R,reason:c});n(H_({newHomeClientOffset:R,dropDuration:x,completed:I}))};var dv=()=>({x:window.pageXOffset,y:window.pageYOffset});function Z_(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:n=>{n.target!==window&&n.target!==window.document||e()}}}function e6({onWindowScroll:e}){function n(){e(dv())}const o=jc(n),a=Z_(o);let l=js;function c(){return l!==js}function d(){c()&&Ne(),l=mi(window,[a])}function f(){c()||Ne(),o.cancel(),l(),l=js}return{start:d,stop:f,isActive:c}}const t6=e=>At(e,"DROP_COMPLETE")||At(e,"DROP_ANIMATE")||At(e,"FLUSH"),n6=e=>{const n=e6({onWindowScroll:o=>{e.dispatch(F_({newScroll:o}))}});return o=>a=>{!n.isActive()&&At(a,"INITIAL_PUBLISH")&&n.start(),n.isActive()&&t6(a)&&n.stop(),o(a)}};var r6=e=>{let n=!1,o=!1;const a=setTimeout(()=>{o=!0}),l=c=>{n||o||(n=!0,e(c),clearTimeout(a))};return l.wasCalled=()=>n,l},i6=()=>{const e=[],n=l=>{const c=e.findIndex(f=>f.timerId===l);c===-1&&Ne();const[d]=e.splice(c,1);d.callback()};return{add:l=>{const c=setTimeout(()=>n(c)),d={timerId:c,callback:l};e.push(d)},flush:()=>{if(!e.length)return;const l=[...e];e.length=0,l.forEach(c=>{clearTimeout(c.timerId),c.callback()})}}};const o6=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index,s6=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId,a6=(e,n)=>{if(e===n)return!0;const o=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,a=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return o&&a},ju=(e,n)=>{n()},hf=(e,n)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n});function np(e,n,o,a){if(!e){o(a(n));return}const l=r6(o);e(n,{announce:l}),l.wasCalled()||o(a(n))}var l6=(e,n)=>{const o=i6();let a=null;const l=(S,v)=>{a&&Ne(),ju("onBeforeCapture",()=>{const _=e().onBeforeCapture;_&&_({draggableId:S,mode:v})})},c=(S,v)=>{a&&Ne(),ju("onBeforeDragStart",()=>{const _=e().onBeforeDragStart;_&&_(hf(S,v))})},d=(S,v)=>{a&&Ne();const _=hf(S,v);a={mode:v,lastCritical:S,lastLocation:_.source,lastCombine:null},o.add(()=>{ju("onDragStart",()=>np(e().onDragStart,_,n,Ef.onDragStart))})},f=(S,v)=>{const _=ug(v),C=Vf(v);a||Ne();const P=!a6(S,a.lastCritical);P&&(a.lastCritical=S);const R=!o6(a.lastLocation,_);R&&(a.lastLocation=_);const I=!s6(a.lastCombine,C);if(I&&(a.lastCombine=C),!P&&!R&&!I)return;const k={...hf(S,a.mode),combine:C,destination:_};o.add(()=>{ju("onDragUpdate",()=>np(e().onDragUpdate,k,n,Ef.onDragUpdate))})},h=()=>{a||Ne(),o.flush()},m=S=>{a||Ne(),a=null,ju("onDragEnd",()=>np(e().onDragEnd,S,n,Ef.onDragEnd))};return{beforeCapture:l,beforeStart:c,start:d,update:f,flush:h,drop:m,abort:()=>{if(!a)return;const S={...hf(a.lastCritical,a.mode),combine:null,destination:null,reason:"CANCEL"};m(S)}}},u6=(e,n)=>{const o=l6(e,n);return a=>l=>c=>{if(At(c,"BEFORE_INITIAL_CAPTURE")){o.beforeCapture(c.payload.draggableId,c.payload.movementMode);return}if(At(c,"INITIAL_PUBLISH")){const f=c.payload.critical;o.beforeStart(f,c.payload.movementMode),l(c),o.start(f,c.payload.movementMode);return}if(At(c,"DROP_COMPLETE")){const f=c.payload.completed.result;o.flush(),l(c),o.drop(f);return}if(l(c),At(c,"FLUSH")){o.abort();return}const d=a.getState();d.phase==="DRAGGING"&&o.update(d.critical,d.impact)}};const c6=e=>n=>o=>{if(!At(o,"DROP_ANIMATION_FINISHED")){n(o);return}const a=e.getState();a.phase!=="DROP_ANIMATING"&&Ne(),e.dispatch(mg({completed:a.completed}))},d6=e=>{let n=null,o=null;function a(){o&&(cancelAnimationFrame(o),o=null),n&&(n(),n=null)}return l=>c=>{if((At(c,"FLUSH")||At(c,"DROP_COMPLETE")||At(c,"DROP_ANIMATION_FINISHED"))&&a(),l(c),!At(c,"DROP_ANIMATE"))return;const d={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(lv())}};o=requestAnimationFrame(()=>{o=null,n=mi(window,[d])})}};var f6=e=>()=>n=>o=>{(At(o,"DROP_COMPLETE")||At(o,"FLUSH")||At(o,"DROP_ANIMATE"))&&e.stopPublishing(),n(o)},h6=e=>{let n=!1;return()=>o=>a=>{if(At(a,"INITIAL_PUBLISH")){n=!0,e.tryRecordFocus(a.payload.critical.draggable.id),o(a),e.tryRestoreFocusRecorded();return}if(o(a),!!n){if(At(a,"FLUSH")){n=!1,e.tryRestoreFocusRecorded();return}if(At(a,"DROP_COMPLETE")){n=!1;const l=a.payload.completed.result;l.combine&&e.tryShiftRecord(l.draggableId,l.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const p6=e=>At(e,"DROP_COMPLETE")||At(e,"DROP_ANIMATE")||At(e,"FLUSH");var g6=e=>n=>o=>a=>{if(p6(a)){e.stop(),o(a);return}if(At(a,"INITIAL_PUBLISH")){o(a);const l=n.getState();l.phase!=="DRAGGING"&&Ne(),e.start(l);return}o(a),e.scroll(n.getState())};const m6=e=>n=>o=>{if(n(o),!At(o,"PUBLISH_WHILE_DRAGGING"))return;const a=e.getState();a.phase==="DROP_PENDING"&&(a.isWaiting||e.dispatch(av({reason:a.reason})))},y6=Py;var v6=({dimensionMarshal:e,focusMarshal:n,styleMarshal:o,getResponders:a,announce:l,autoScroller:c})=>by(R_,y6(y5($_(o),f6(e),V_(e),J_,c6,d6,m6,g6(c),n6,h6(n),u6(a,l))));const rp=()=>({additions:{},removals:{},modified:{}});function S6({registry:e,callbacks:n}){let o=rp(),a=null;const l=()=>{a||(n.collectionStarting(),a=requestAnimationFrame(()=>{a=null;const{additions:h,removals:m,modified:y}=o,S=Object.keys(h).map(C=>e.draggable.getById(C).getDimension(Hn)).sort((C,P)=>C.descriptor.index-P.descriptor.index),v=Object.keys(y).map(C=>{const R=e.droppable.getById(C).callbacks.getScrollWhileDragging();return{droppableId:C,scroll:R}}),_={additions:S,removals:Object.keys(m),modified:v};o=rp(),n.publish(_)}))};return{add:h=>{const m=h.descriptor.id;o.additions[m]=h,o.modified[h.descriptor.droppableId]=!0,o.removals[m]&&delete o.removals[m],l()},remove:h=>{const m=h.descriptor;o.removals[m.id]=!0,o.modified[m.droppableId]=!0,o.additions[m.id]&&delete o.additions[m.id],l()},stop:()=>{a&&(cancelAnimationFrame(a),a=null,o=rp())}}}var fv=({scrollHeight:e,scrollWidth:n,height:o,width:a})=>{const l=Yr({x:n,y:e},{x:a,y:o});return{x:Math.max(0,l.x),y:Math.max(0,l.y)}},hv=()=>{const e=document.documentElement;return e||Ne(),e},pv=()=>{const e=hv();return fv({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},_6=()=>{const e=dv(),n=pv(),o=e.y,a=e.x,l=hv(),c=l.clientWidth,d=l.clientHeight,f=a+c,h=o+d;return{frame:Oi({top:o,left:a,right:f,bottom:h}),scroll:{initial:e,current:e,max:n,diff:{value:Hn,displacement:Hn}}}},w6=({critical:e,scrollOptions:n,registry:o})=>{const a=_6(),l=a.scroll.current,c=e.droppable,d=o.droppable.getAllByType(c.type).map(y=>y.callbacks.getDimensionAndWatchScroll(l,n)),f=o.draggable.getAllByType(e.draggable.type).map(y=>y.getDimension(l));return{dimensions:{draggables:Gy(f),droppables:Uy(d)},critical:e,viewport:a}};function sm(e,n,o){return!(o.descriptor.id===n.id||o.descriptor.type!==n.type||e.droppable.getById(o.descriptor.droppableId).descriptor.mode!=="virtual")}var x6=(e,n)=>{let o=null;const a=S6({callbacks:{publish:n.publishWhileDragging,collectionStarting:n.collectionStarting},registry:e}),l=(v,_)=>{e.droppable.exists(v)||Ne(),o&&n.updateDroppableIsEnabled({id:v,isEnabled:_})},c=(v,_)=>{o&&(e.droppable.exists(v)||Ne(),n.updateDroppableIsCombineEnabled({id:v,isCombineEnabled:_}))},d=(v,_)=>{o&&(e.droppable.exists(v)||Ne(),n.updateDroppableScroll({id:v,newScroll:_}))},f=(v,_)=>{o&&e.droppable.getById(v).callbacks.scroll(_)},h=()=>{if(!o)return;a.stop();const v=o.critical.droppable;e.droppable.getAllByType(v.type).forEach(_=>_.callbacks.dragStopped()),o.unsubscribe(),o=null},m=v=>{o||Ne();const _=o.critical.draggable;v.type==="ADDITION"&&sm(e,_,v.value)&&a.add(v.value),v.type==="REMOVAL"&&sm(e,_,v.value)&&a.remove(v.value)};return{updateDroppableIsEnabled:l,updateDroppableIsCombineEnabled:c,scrollDroppable:f,updateDroppableScroll:d,startPublishing:v=>{o&&Ne();const _=e.draggable.getById(v.draggableId),C=e.droppable.getById(_.descriptor.droppableId),P={draggable:_.descriptor,droppable:C.descriptor},R=e.subscribe(m);return o={critical:P,unsubscribe:R},w6({critical:P,registry:e,scrollOptions:v.scrollOptions})},stopPublishing:h}},gv=(e,n)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===n?!1:e.completed.result.reason==="DROP",C6=e=>{window.scrollBy(e.x,e.y)};const E6=Gn(e=>Wf(e).filter(n=>!(!n.isEnabled||!n.frame))),k6=(e,n)=>E6(n).find(a=>(a.frame||Ne(),Jy(a.frame.pageMarginBox)(e)))||null;var b6=({center:e,destination:n,droppables:o})=>{if(n){const l=o[n];return l.frame?l:null}return k6(e,o)};const Wc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var P6=(e,n,o=()=>Wc)=>{const a=o(),l=e[n.size]*a.startFromPercentage,c=e[n.size]*a.maxScrollAtPercentage;return{startScrollingFrom:l,maxScrollValueAt:c}},mv=({startOfRange:e,endOfRange:n,current:o})=>{const a=n-e;return a===0?0:(o-e)/a},vg=1,R6=(e,n,o=()=>Wc)=>{const a=o();if(e>n.startScrollingFrom)return 0;if(e<=n.maxScrollValueAt)return a.maxPixelScroll;if(e===n.startScrollingFrom)return vg;const c=1-mv({startOfRange:n.maxScrollValueAt,endOfRange:n.startScrollingFrom,current:e}),d=a.maxPixelScroll*a.ease(c);return Math.ceil(d)},N6=(e,n,o)=>{const a=o(),l=a.durationDampening.accelerateAt,c=a.durationDampening.stopDampeningAt,d=n,f=c,m=Date.now()-d;if(m>=c)return e;if(m<l)return vg;const y=mv({startOfRange:l,endOfRange:f,current:m}),S=e*a.ease(y);return Math.ceil(S)},am=({distanceToEdge:e,thresholds:n,dragStartTime:o,shouldUseTimeDampening:a,getAutoScrollerOptions:l})=>{const c=R6(e,n,l);return c===0?0:a?Math.max(N6(c,o,l),vg):c},lm=({container:e,distanceToEdges:n,dragStartTime:o,axis:a,shouldUseTimeDampening:l,getAutoScrollerOptions:c})=>{const d=P6(e,a,c);return n[a.end]<n[a.start]?am({distanceToEdge:n[a.end],thresholds:d,dragStartTime:o,shouldUseTimeDampening:l,getAutoScrollerOptions:c}):-1*am({distanceToEdge:n[a.start],thresholds:d,dragStartTime:o,shouldUseTimeDampening:l,getAutoScrollerOptions:c})},T6=({container:e,subject:n,proposedScroll:o})=>{const a=n.height>e.height,l=n.width>e.width;return!l&&!a?o:l&&a?null:{x:l?0:o.x,y:a?0:o.y}};const I6=zy(e=>e===0?0:e);var yv=({dragStartTime:e,container:n,subject:o,center:a,shouldUseTimeDampening:l,getAutoScrollerOptions:c})=>{const d={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},f=lm({container:n,distanceToEdges:d,dragStartTime:e,axis:cg,shouldUseTimeDampening:l,getAutoScrollerOptions:c}),h=lm({container:n,distanceToEdges:d,dragStartTime:e,axis:Vy,shouldUseTimeDampening:l,getAutoScrollerOptions:c}),m=I6({x:h,y:f});if(zs(m,Hn))return null;const y=T6({container:n,subject:o,proposedScroll:m});return y?zs(y,Hn)?null:y:null};const D6=zy(e=>e===0?0:e>0?1:-1),Sg=(()=>{const e=(n,o)=>n<0?n:n>o?n-o:0;return({current:n,max:o,change:a})=>{const l=nr(n,a),c={x:e(l.x,o.x),y:e(l.y,o.y)};return zs(c,Hn)?null:c}})(),vv=({max:e,current:n,change:o})=>{const a={x:Math.max(n.x,e.x),y:Math.max(n.y,e.y)},l=D6(o),c=Sg({max:a,current:n,change:l});return!c||l.x!==0&&c.x===0||l.y!==0&&c.y===0},_g=(e,n)=>vv({current:e.scroll.current,max:e.scroll.max,change:n}),A6=(e,n)=>{if(!_g(e,n))return null;const o=e.scroll.max,a=e.scroll.current;return Sg({current:a,max:o,change:n})},wg=(e,n)=>{const o=e.frame;return o?vv({current:o.scroll.current,max:o.scroll.max,change:n}):!1},L6=(e,n)=>{const o=e.frame;return!o||!wg(e,n)?null:Sg({current:o.scroll.current,max:o.scroll.max,change:n})};var O6=({viewport:e,subject:n,center:o,dragStartTime:a,shouldUseTimeDampening:l,getAutoScrollerOptions:c})=>{const d=yv({dragStartTime:a,container:e.frame,subject:n,center:o,shouldUseTimeDampening:l,getAutoScrollerOptions:c});return d&&_g(e,d)?d:null},M6=({droppable:e,subject:n,center:o,dragStartTime:a,shouldUseTimeDampening:l,getAutoScrollerOptions:c})=>{const d=e.frame;if(!d)return null;const f=yv({dragStartTime:a,container:d.pageMarginBox,subject:n,center:o,shouldUseTimeDampening:l,getAutoScrollerOptions:c});return f&&wg(e,f)?f:null},um=({state:e,dragStartTime:n,shouldUseTimeDampening:o,scrollWindow:a,scrollDroppable:l,getAutoScrollerOptions:c})=>{const d=e.current.page.borderBoxCenter,h=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const S=e.viewport,v=O6({dragStartTime:n,viewport:S,subject:h,center:d,shouldUseTimeDampening:o,getAutoScrollerOptions:c});if(v){a(v);return}}const m=b6({center:d,destination:Xr(e.impact),droppables:e.dimensions.droppables});if(!m)return;const y=M6({dragStartTime:n,droppable:m,subject:h,center:d,shouldUseTimeDampening:o,getAutoScrollerOptions:c});y&&l(m.descriptor.id,y)},F6=({scrollWindow:e,scrollDroppable:n,getAutoScrollerOptions:o=()=>Wc})=>{const a=jc(e),l=jc(n);let c=null;const d=m=>{c||Ne();const{shouldUseTimeDampening:y,dragStartTime:S}=c;um({state:m,scrollWindow:a,scrollDroppable:l,dragStartTime:S,shouldUseTimeDampening:y,getAutoScrollerOptions:o})};return{start:m=>{c&&Ne();const y=Date.now();let S=!1;const v=()=>{S=!0};um({state:m,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:v,scrollDroppable:v,getAutoScrollerOptions:o}),c={dragStartTime:y,shouldUseTimeDampening:S},S&&d(m)},stop:()=>{c&&(a.cancel(),l.cancel(),c=null)},scroll:d}},B6=({move:e,scrollDroppable:n,scrollWindow:o})=>{const a=(f,h)=>{const m=nr(f.current.client.selection,h);e({client:m})},l=(f,h)=>{if(!wg(f,h))return h;const m=L6(f,h);if(!m)return n(f.descriptor.id,h),null;const y=Yr(h,m);return n(f.descriptor.id,y),Yr(h,y)},c=(f,h,m)=>{if(!f||!_g(h,m))return m;const y=A6(h,m);if(!y)return o(m),null;const S=Yr(m,y);return o(S),Yr(m,S)};return f=>{const h=f.scrollJumpRequest;if(!h)return;const m=Xr(f.impact);m||Ne();const y=l(f.dimensions.droppables[m],h);if(!y)return;const S=f.viewport,v=c(f.isWindowScrollAllowed,S,y);v&&a(f,v)}},j6=({scrollDroppable:e,scrollWindow:n,move:o,getAutoScrollerOptions:a})=>{const l=F6({scrollWindow:n,scrollDroppable:e,getAutoScrollerOptions:a}),c=B6({move:o,scrollWindow:n,scrollDroppable:e});return{scroll:h=>{if(!(a().disabled||h.phase!=="DRAGGING")){if(h.movementMode==="FLUID"){l.scroll(h);return}h.scrollJumpRequest&&c(h)}},start:l.start,stop:l.stop}};const Ll="data-rfd",Ol=(()=>{const e=`${Ll}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Mp=(()=>{const e=`${Ll}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),z6=(()=>{const e=`${Ll}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),cm={contextId:`${Ll}-scroll-container-context-id`},U6=e=>n=>`[${n}="${e}"]`,zu=(e,n)=>e.map(o=>{const a=o.styles[n];return a?`${o.selector} { ${a} }`:""}).join(" "),G6="pointer-events: none;";var H6=e=>{const n=U6(e),o=(()=>{const f=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:n(Ol.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:f,dragging:G6,dropAnimating:f}}})(),a=(()=>{const f=`
      transition: ${Lc.outOfTheWay};
    `;return{selector:n(Mp.contextId),styles:{dragging:f,dropAnimating:f,userCancel:f}}})(),l={selector:n(z6.contextId),styles:{always:"overflow-anchor: none;"}},d=[a,o,l,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:zu(d,"always"),resting:zu(d,"resting"),dragging:zu(d,"dragging"),dropAnimating:zu(d,"dropAnimating"),userCancel:zu(d,"userCancel")}};const Qr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?W.useLayoutEffect:W.useEffect,ip=()=>{const e=document.querySelector("head");return e||Ne(),e},dm=e=>{const n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function W6(e,n){const o=Ct(()=>H6(e),[e]),a=W.useRef(null),l=W.useRef(null),c=Ke(Gn(S=>{const v=l.current;v||Ne(),v.textContent=S}),[]),d=Ke(S=>{const v=a.current;v||Ne(),v.textContent=S},[]);Qr(()=>{!a.current&&!l.current||Ne();const S=dm(n),v=dm(n);return a.current=S,l.current=v,S.setAttribute(`${Ll}-always`,e),v.setAttribute(`${Ll}-dynamic`,e),ip().appendChild(S),ip().appendChild(v),d(o.always),c(o.resting),()=>{const _=C=>{const P=C.current;P||Ne(),ip().removeChild(P),C.current=null};_(a),_(l)}},[n,d,c,o.always,o.resting,e]);const f=Ke(()=>c(o.dragging),[c,o.dragging]),h=Ke(S=>{if(S==="DROP"){c(o.dropAnimating);return}c(o.userCancel)},[c,o.dropAnimating,o.userCancel]),m=Ke(()=>{l.current&&c(o.resting)},[c,o.resting]);return Ct(()=>({dragging:f,dropping:h,resting:m}),[f,h,m])}function Sv(e,n){return Array.from(e.querySelectorAll(n))}var _v=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Kf(e){return e instanceof _v(e).HTMLElement}function V6(e,n){const o=`[${Ol.contextId}="${e}"]`,a=Sv(document,o);if(!a.length)return null;const l=a.find(c=>c.getAttribute(Ol.draggableId)===n);return!l||!Kf(l)?null:l}function $6(e){const n=W.useRef({}),o=W.useRef(null),a=W.useRef(null),l=W.useRef(!1),c=Ke(function(v,_){const C={id:v,focus:_};return n.current[v]=C,function(){const R=n.current;R[v]!==C&&delete R[v]}},[]),d=Ke(function(v){const _=V6(e,v);_&&_!==document.activeElement&&_.focus()},[e]),f=Ke(function(v,_){o.current===v&&(o.current=_)},[]),h=Ke(function(){a.current||l.current&&(a.current=requestAnimationFrame(()=>{a.current=null;const v=o.current;v&&d(v)}))},[d]),m=Ke(function(v){o.current=null;const _=document.activeElement;_&&_.getAttribute(Ol.draggableId)===v&&(o.current=v)},[]);return Qr(()=>(l.current=!0,function(){l.current=!1;const v=a.current;v&&cancelAnimationFrame(v)}),[]),Ct(()=>({register:c,tryRecordFocus:m,tryRestoreFocusRecorded:h,tryShiftRecord:f}),[c,m,h,f])}function q6(){const e={draggables:{},droppables:{}},n=[];function o(S){return n.push(S),function(){const _=n.indexOf(S);_!==-1&&n.splice(_,1)}}function a(S){n.length&&n.forEach(v=>v(S))}function l(S){return e.draggables[S]||null}function c(S){const v=l(S);return v||Ne(),v}const d={register:S=>{e.draggables[S.descriptor.id]=S,a({type:"ADDITION",value:S})},update:(S,v)=>{const _=e.draggables[v.descriptor.id];_&&_.uniqueId===S.uniqueId&&(delete e.draggables[v.descriptor.id],e.draggables[S.descriptor.id]=S)},unregister:S=>{const v=S.descriptor.id,_=l(v);_&&S.uniqueId===_.uniqueId&&(delete e.draggables[v],e.droppables[S.descriptor.droppableId]&&a({type:"REMOVAL",value:S}))},getById:c,findById:l,exists:S=>!!l(S),getAllByType:S=>Object.values(e.draggables).filter(v=>v.descriptor.type===S)};function f(S){return e.droppables[S]||null}function h(S){const v=f(S);return v||Ne(),v}const m={register:S=>{e.droppables[S.descriptor.id]=S},unregister:S=>{const v=f(S.descriptor.id);v&&S.uniqueId===v.uniqueId&&delete e.droppables[S.descriptor.id]},getById:h,findById:f,exists:S=>!!f(S),getAllByType:S=>Object.values(e.droppables).filter(v=>v.descriptor.type===S)};function y(){e.draggables={},e.droppables={},n.length=0}return{draggable:d,droppable:m,subscribe:o,clean:y}}function K6(){const e=Ct(q6,[]);return W.useEffect(()=>function(){e.clean()},[e]),e}var xg=Ye.createContext(null),Mf=()=>{const e=document.body;return e||Ne(),e};const Y6={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},X6=e=>`rfd-announcement-${e}`;function Q6(e){const n=Ct(()=>X6(e),[e]),o=W.useRef(null);return W.useEffect(function(){const c=document.createElement("div");return o.current=c,c.id=n,c.setAttribute("aria-live","assertive"),c.setAttribute("aria-atomic","true"),Df(c.style,Y6),Mf().appendChild(c),function(){setTimeout(function(){const h=Mf();h.contains(c)&&h.removeChild(c),c===o.current&&(o.current=null)})}},[n]),Ke(l=>{const c=o.current;if(c){c.textContent=l;return}},[])}const J6={separator:"::"};function Cg(e,n=J6){const o=Ye.useId();return Ct(()=>`${e}${n.separator}${o}`,[n.separator,e,o])}function Z6({contextId:e,uniqueId:n}){return`rfd-hidden-text-${e}-${n}`}function ew({contextId:e,text:n}){const o=Cg("hidden-text",{separator:"-"}),a=Ct(()=>Z6({contextId:e,uniqueId:o}),[o,e]);return W.useEffect(function(){const c=document.createElement("div");return c.id=a,c.textContent=n,c.style.display="none",Mf().appendChild(c),function(){const f=Mf();f.contains(c)&&f.removeChild(c)}},[a,n]),a}var Yf=Ye.createContext(null);function wv(e){const n=W.useRef(e);return W.useEffect(()=>{n.current=e}),n}function tw(){let e=null;function n(){return!!e}function o(d){return d===e}function a(d){e&&Ne();const f={abandon:d};return e=f,f}function l(){e||Ne(),e=null}function c(){e&&(e.abandon(),l())}return{isClaimed:n,isActive:o,claim:a,release:l,tryAbandon:c}}function Vc(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const nw=9,rw=13,Eg=27,xv=32,iw=33,ow=34,sw=35,aw=36,lw=37,uw=38,cw=39,dw=40,fw={[rw]:!0,[nw]:!0};var Cv=e=>{fw[e.keyCode]&&e.preventDefault()};const Xf=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(a=>`on${a}`in document)||e})(),Ev=0,fm=5;function hw(e,n){return Math.abs(n.x-e.x)>=fm||Math.abs(n.y-e.y)>=fm}const hm={type:"IDLE"};function pw({cancel:e,completed:n,getPhase:o,setPhase:a}){return[{eventName:"mousemove",fn:l=>{const{button:c,clientX:d,clientY:f}=l;if(c!==Ev)return;const h={x:d,y:f},m=o();if(m.type==="DRAGGING"){l.preventDefault(),m.actions.move(h);return}m.type!=="PENDING"&&Ne();const y=m.point;if(!hw(y,h))return;l.preventDefault();const S=m.actions.fluidLift(h);a({type:"DRAGGING",actions:S})}},{eventName:"mouseup",fn:l=>{const c=o();if(c.type!=="DRAGGING"){e();return}l.preventDefault(),c.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:l=>{o().type==="DRAGGING"&&l.preventDefault(),e()}},{eventName:"keydown",fn:l=>{if(o().type==="PENDING"){e();return}if(l.keyCode===Eg){l.preventDefault(),e();return}Cv(l)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{o().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:l=>{const c=o();if(c.type==="IDLE"&&Ne(),c.actions.shouldRespectForcePress()){e();return}l.preventDefault()}},{eventName:Xf,fn:e}]}function gw(e){const n=W.useRef(hm),o=W.useRef(js),a=Ct(()=>({eventName:"mousedown",fn:function(S){if(S.defaultPrevented||S.button!==Ev||S.ctrlKey||S.metaKey||S.shiftKey||S.altKey)return;const v=e.findClosestDraggableId(S);if(!v)return;const _=e.tryGetLock(v,d,{sourceEvent:S});if(!_)return;S.preventDefault();const C={x:S.clientX,y:S.clientY};o.current(),m(_,C)}}),[e]),l=Ct(()=>({eventName:"webkitmouseforcewillbegin",fn:y=>{if(y.defaultPrevented)return;const S=e.findClosestDraggableId(y);if(!S)return;const v=e.findOptionsForDraggable(S);v&&(v.shouldRespectForcePress||e.canGetLock(S)&&y.preventDefault())}}),[e]),c=Ke(function(){const S={passive:!1,capture:!0};o.current=mi(window,[l,a],S)},[l,a]),d=Ke(()=>{n.current.type!=="IDLE"&&(n.current=hm,o.current(),c())},[c]),f=Ke(()=>{const y=n.current;d(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[d]),h=Ke(function(){const S={capture:!0,passive:!1},v=pw({cancel:f,completed:d,getPhase:()=>n.current,setPhase:_=>{n.current=_}});o.current=mi(window,v,S)},[f,d]),m=Ke(function(S,v){n.current.type!=="IDLE"&&Ne(),n.current={type:"PENDING",point:v,actions:S},h()},[h]);Qr(function(){return c(),function(){o.current()}},[c])}function mw(){}const yw={[ow]:!0,[iw]:!0,[aw]:!0,[sw]:!0};function vw(e,n){function o(){n(),e.cancel()}function a(){n(),e.drop()}return[{eventName:"keydown",fn:l=>{if(l.keyCode===Eg){l.preventDefault(),o();return}if(l.keyCode===xv){l.preventDefault(),a();return}if(l.keyCode===dw){l.preventDefault(),e.moveDown();return}if(l.keyCode===uw){l.preventDefault(),e.moveUp();return}if(l.keyCode===cw){l.preventDefault(),e.moveRight();return}if(l.keyCode===lw){l.preventDefault(),e.moveLeft();return}if(yw[l.keyCode]){l.preventDefault();return}Cv(l)}},{eventName:"mousedown",fn:o},{eventName:"mouseup",fn:o},{eventName:"click",fn:o},{eventName:"touchstart",fn:o},{eventName:"resize",fn:o},{eventName:"wheel",fn:o,options:{passive:!0}},{eventName:Xf,fn:o}]}function Sw(e){const n=W.useRef(mw),o=Ct(()=>({eventName:"keydown",fn:function(c){if(c.defaultPrevented||c.keyCode!==xv)return;const d=e.findClosestDraggableId(c);if(!d)return;const f=e.tryGetLock(d,y,{sourceEvent:c});if(!f)return;c.preventDefault();let h=!0;const m=f.snapLift();n.current();function y(){h||Ne(),h=!1,n.current(),a()}n.current=mi(window,vw(m,y),{capture:!0,passive:!1})}}),[e]),a=Ke(function(){const c={passive:!1,capture:!0};n.current=mi(window,[o],c)},[o]);Qr(function(){return a(),function(){n.current()}},[a])}const op={type:"IDLE"},_w=120,ww=.15;function xw({cancel:e,getPhase:n}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:o=>{o.preventDefault()}},{eventName:"keydown",fn:o=>{if(n().type!=="DRAGGING"){e();return}o.keyCode===Eg&&o.preventDefault(),e()}},{eventName:Xf,fn:e}]}function Cw({cancel:e,completed:n,getPhase:o}){return[{eventName:"touchmove",options:{capture:!1},fn:a=>{const l=o();if(l.type!=="DRAGGING"){e();return}l.hasMoved=!0;const{clientX:c,clientY:d}=a.touches[0],f={x:c,y:d};a.preventDefault(),l.actions.move(f)}},{eventName:"touchend",fn:a=>{const l=o();if(l.type!=="DRAGGING"){e();return}a.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:a=>{if(o().type!=="DRAGGING"){e();return}a.preventDefault(),e()}},{eventName:"touchforcechange",fn:a=>{const l=o();l.type==="IDLE"&&Ne();const c=a.touches[0];if(!c||!(c.force>=ww))return;const f=l.actions.shouldRespectForcePress();if(l.type==="PENDING"){f&&e();return}if(f){if(l.hasMoved){a.preventDefault();return}e();return}a.preventDefault()}},{eventName:Xf,fn:e}]}function Ew(e){const n=W.useRef(op),o=W.useRef(js),a=Ke(function(){return n.current},[]),l=Ke(function(_){n.current=_},[]),c=Ct(()=>({eventName:"touchstart",fn:function(_){if(_.defaultPrevented)return;const C=e.findClosestDraggableId(_);if(!C)return;const P=e.tryGetLock(C,f,{sourceEvent:_});if(!P)return;const R=_.touches[0],{clientX:I,clientY:k}=R,x={x:I,y:k};o.current(),S(P,x)}}),[e]),d=Ke(function(){const _={capture:!0,passive:!1};o.current=mi(window,[c],_)},[c]),f=Ke(()=>{const v=n.current;v.type!=="IDLE"&&(v.type==="PENDING"&&clearTimeout(v.longPressTimerId),l(op),o.current(),d())},[d,l]),h=Ke(()=>{const v=n.current;f(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[f]),m=Ke(function(){const _={capture:!0,passive:!1},C={cancel:h,completed:f,getPhase:a},P=mi(window,Cw(C),_),R=mi(window,xw(C),_);o.current=function(){P(),R()}},[h,a,f]),y=Ke(function(){const _=a();_.type!=="PENDING"&&Ne();const C=_.actions.fluidLift(_.point);l({type:"DRAGGING",actions:C,hasMoved:!1})},[a,l]),S=Ke(function(_,C){a().type!=="IDLE"&&Ne();const P=setTimeout(y,_w);l({type:"PENDING",point:C,actions:_,longPressTimerId:P}),m()},[m,a,l,y]);Qr(function(){return d(),function(){o.current();const C=a();C.type==="PENDING"&&(clearTimeout(C.longPressTimerId),l(op))}},[a,d,l]),Qr(function(){return mi(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const kw=["input","button","textarea","select","option","optgroup","video","audio"];function kv(e,n){if(n==null)return!1;if(kw.includes(n.tagName.toLowerCase()))return!0;const a=n.getAttribute("contenteditable");return a==="true"||a===""?!0:n===e?!1:kv(e,n.parentElement)}function bw(e,n){const o=n.target;return Kf(o)?kv(e,o):!1}var Pw=e=>Oi(e.getBoundingClientRect()).center;function Rw(e){return e instanceof _v(e).Element}const Nw=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(a=>a in Element.prototype)||e})();function bv(e,n){return e==null?null:e[Nw](n)?e:bv(e.parentElement,n)}function Tw(e,n){return e.closest?e.closest(n):bv(e,n)}function Iw(e){return`[${Ol.contextId}="${e}"]`}function Dw(e,n){const o=n.target;if(!Rw(o))return null;const a=Iw(e),l=Tw(o,a);return!l||!Kf(l)?null:l}function Aw(e,n){const o=Dw(e,n);return o?o.getAttribute(Ol.draggableId):null}function Lw(e,n){const o=`[${Mp.contextId}="${e}"]`,l=Sv(document,o).find(c=>c.getAttribute(Mp.id)===n);return!l||!Kf(l)?null:l}function Ow(e){e.preventDefault()}function pf({expected:e,phase:n,isLockActive:o,shouldWarn:a}){return!(!o()||e!==n)}function Pv({lockAPI:e,store:n,registry:o,draggableId:a}){if(e.isClaimed())return!1;const l=o.draggable.findById(a);return!(!l||!l.options.isEnabled||!gv(n.getState(),a))}function Mw({lockAPI:e,contextId:n,store:o,registry:a,draggableId:l,forceSensorStop:c,sourceEvent:d}){if(!Pv({lockAPI:e,store:o,registry:a,draggableId:l}))return null;const h=a.draggable.getById(l),m=Lw(n,h.descriptor.id);if(!m||d&&!h.options.canDragInteractiveElements&&bw(m,d))return null;const y=e.claim(c||js);let S="PRE_DRAG";function v(){return h.options.shouldRespectForcePress}function _(){return e.isActive(y)}function C(A,M){pf({expected:A,phase:S,isLockActive:_,shouldWarn:!0})&&o.dispatch(M())}const P=C.bind(null,"DRAGGING");function R(A){function M(){e.release(),S="COMPLETED"}S!=="PRE_DRAG"&&(M(),Ne()),o.dispatch(T_(A.liftActionArgs)),S="DRAGGING";function Y(F,z={shouldBlockNextClick:!1}){if(A.cleanup(),z.shouldBlockNextClick){const j=mi(window,[{eventName:"click",fn:Ow,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(j)}M(),o.dispatch(av({reason:F}))}return{isActive:()=>pf({expected:"DRAGGING",phase:S,isLockActive:_,shouldWarn:!1}),shouldRespectForcePress:v,drop:F=>Y("DROP",F),cancel:F=>Y("CANCEL",F),...A.actions}}function I(A){const M=jc(F=>{P(()=>sv({client:F}))});return{...R({liftActionArgs:{id:l,clientSelection:A,movementMode:"FLUID"},cleanup:()=>M.cancel(),actions:{move:M}}),move:M}}function k(){const A={moveUp:()=>P(j_),moveRight:()=>P(U_),moveDown:()=>P(z_),moveLeft:()=>P(G_)};return R({liftActionArgs:{id:l,clientSelection:Pw(m),movementMode:"SNAP"},cleanup:js,actions:A})}function x(){pf({expected:"PRE_DRAG",phase:S,isLockActive:_,shouldWarn:!0})&&e.release()}return{isActive:()=>pf({expected:"PRE_DRAG",phase:S,isLockActive:_,shouldWarn:!1}),shouldRespectForcePress:v,fluidLift:I,snapLift:k,abort:x}}const Fw=[gw,Sw,Ew];function Bw({contextId:e,store:n,registry:o,customSensors:a,enableDefaultSensors:l}){const c=[...l?Fw:[],...a||[]],d=W.useState(()=>tw())[0],f=Ke(function(R,I){Vc(R)&&!Vc(I)&&d.tryAbandon()},[d]);Qr(function(){let R=n.getState();return n.subscribe(()=>{const k=n.getState();f(R,k),R=k})},[d,n,f]),Qr(()=>d.tryAbandon,[d.tryAbandon]);const h=Ke(P=>Pv({lockAPI:d,registry:o,store:n,draggableId:P}),[d,o,n]),m=Ke((P,R,I)=>Mw({lockAPI:d,registry:o,contextId:e,store:n,draggableId:P,forceSensorStop:R||null,sourceEvent:I&&I.sourceEvent?I.sourceEvent:null}),[e,d,o,n]),y=Ke(P=>Aw(e,P),[e]),S=Ke(P=>{const R=o.draggable.findById(P);return R?R.options:null},[o.draggable]),v=Ke(function(){d.isClaimed()&&(d.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(gg()))},[d,n]),_=Ke(()=>d.isClaimed(),[d]),C=Ct(()=>({canGetLock:h,tryGetLock:m,findClosestDraggableId:y,findOptionsForDraggable:S,tryReleaseLock:v,isLockClaimed:_}),[h,m,y,S,v,_]);for(let P=0;P<c.length;P++)c[P](C)}const jw=e=>({onBeforeCapture:n=>{const o=()=>{e.onBeforeCapture&&e.onBeforeCapture(n)};Zp.flushSync(o)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),zw=e=>({...Wc,...e.autoScrollerOptions,durationDampening:{...Wc.durationDampening,...e.autoScrollerOptions}});function Uu(e){return e.current||Ne(),e.current}function Uw(e){const{contextId:n,setCallbacks:o,sensors:a,nonce:l,dragHandleUsageInstructions:c}=e,d=W.useRef(null),f=wv(e),h=Ke(()=>jw(f.current),[f]),m=Ke(()=>zw(f.current),[f]),y=Q6(n),S=ew({contextId:n,text:c}),v=W6(n,l),_=Ke(j=>{Uu(d).dispatch(j)},[]),C=Ct(()=>j0({publishWhileDragging:D_,updateDroppableScroll:L_,updateDroppableIsEnabled:O_,updateDroppableIsCombineEnabled:M_,collectionStarting:A_},_),[_]),P=K6(),R=Ct(()=>x6(P,C),[P,C]),I=Ct(()=>j6({scrollWindow:C6,scrollDroppable:R.scrollDroppable,getAutoScrollerOptions:m,...j0({move:sv},_)}),[R.scrollDroppable,_,m]),k=$6(n),x=Ct(()=>v6({announce:y,autoScroller:I,dimensionMarshal:R,focusMarshal:k,getResponders:h,styleMarshal:v}),[y,I,R,k,h,v]);d.current=x;const T=Ke(()=>{const j=Uu(d);j.getState().phase!=="IDLE"&&j.dispatch(gg())},[]),A=Ke(()=>{const j=Uu(d).getState();return j.phase==="DROP_ANIMATING"?!0:j.phase==="IDLE"?!1:j.isDragging},[]),M=Ct(()=>({isDragging:A,tryAbort:T}),[A,T]);o(M);const Y=Ke(j=>gv(Uu(d).getState(),j),[]),F=Ke(()=>Ea(Uu(d).getState()),[]),z=Ct(()=>({marshal:R,focus:k,contextId:n,canLift:Y,isMovementAllowed:F,dragHandleUsageInstructionsId:S,registry:P}),[n,R,S,k,Y,F,P]);return Bw({contextId:n,store:x,registry:P,customSensors:a||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),W.useEffect(()=>T,[T]),Ye.createElement(Yf.Provider,{value:z},Ye.createElement(fS,{context:xg,store:x},e.children))}function Gw(){return Ye.useId()}function Hw(e){const n=Gw(),o=e.dragHandleUsageInstructions||Ef.dragHandleUsageInstructions;return Ye.createElement(SS,null,a=>Ye.createElement(Uw,{nonce:e.nonce,contextId:n,setCallbacks:a,dragHandleUsageInstructions:o,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const pm={dragging:5e3,dropAnimating:4500},Ww=(e,n)=>n?Lc.drop(n.duration):e?Lc.snap:Lc.fluid,Vw=(e,n)=>{if(e)return n?Hc.opacity.drop:Hc.opacity.combining},$w=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function qw(e){const o=e.dimension.client,{offset:a,combineWith:l,dropping:c}=e,d=!!l,f=$w(e),h=!!c,m=h?Lp.drop(a,d):Lp.moveTo(a);return{position:"fixed",top:o.marginBox.top,left:o.marginBox.left,boxSizing:"border-box",width:o.borderBox.width,height:o.borderBox.height,transition:Ww(f,c),transform:m,opacity:Vw(d,h),zIndex:h?pm.dropAnimating:pm.dragging,pointerEvents:"none"}}function Kw(e){return{transform:Lp.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Yw(e){return e.type==="DRAGGING"?qw(e):Kw(e)}function Xw(e,n,o=Hn){const a=window.getComputedStyle(n),l=n.getBoundingClientRect(),c=Ly(l,a),d=If(c,o),f={client:c,tagName:n.tagName.toLowerCase(),display:a.display},h={x:c.marginBox.width,y:c.marginBox.height};return{descriptor:e,placeholder:f,displaceBy:h,client:c,page:d}}function Qw(e){const n=Cg("draggable"),{descriptor:o,registry:a,getDraggableRef:l,canDragInteractiveElements:c,shouldRespectForcePress:d,isEnabled:f}=e,h=Ct(()=>({canDragInteractiveElements:c,shouldRespectForcePress:d,isEnabled:f}),[c,f,d]),m=Ke(_=>{const C=l();return C||Ne(),Xw(o,C,_)},[o,l]),y=Ct(()=>({uniqueId:n,descriptor:o,options:h,getDimension:m}),[o,m,h,n]),S=W.useRef(y),v=W.useRef(!0);Qr(()=>(a.draggable.register(S.current),()=>a.draggable.unregister(S.current)),[a.draggable]),Qr(()=>{if(v.current){v.current=!1;return}const _=S.current;S.current=y,a.draggable.update(y,_)},[y,a.draggable])}var kg=Ye.createContext(null);function Ff(e){const n=W.useContext(e);return n||Ne(),n}function Jw(e){e.preventDefault()}const Zw=e=>{const n=W.useRef(null),o=Ke((M=null)=>{n.current=M},[]),a=Ke(()=>n.current,[]),{contextId:l,dragHandleUsageInstructionsId:c,registry:d}=Ff(Yf),{type:f,droppableId:h}=Ff(kg),m=Ct(()=>({id:e.draggableId,index:e.index,type:f,droppableId:h}),[e.draggableId,e.index,f,h]),{children:y,draggableId:S,isEnabled:v,shouldRespectForcePress:_,canDragInteractiveElements:C,isClone:P,mapped:R,dropAnimationFinished:I}=e;if(!P){const M=Ct(()=>({descriptor:m,registry:d,getDraggableRef:a,canDragInteractiveElements:C,shouldRespectForcePress:_,isEnabled:v}),[m,d,a,C,_,v]);Qw(M)}const k=Ct(()=>v?{tabIndex:0,role:"button","aria-describedby":c,"data-rfd-drag-handle-draggable-id":S,"data-rfd-drag-handle-context-id":l,draggable:!1,onDragStart:Jw}:null,[l,c,S,v]),x=Ke(M=>{R.type==="DRAGGING"&&R.dropping&&M.propertyName==="transform"&&Zp.flushSync(I)},[I,R]),T=Ct(()=>{const M=Yw(R),Y=R.type==="DRAGGING"&&R.dropping?x:void 0;return{innerRef:o,draggableProps:{"data-rfd-draggable-context-id":l,"data-rfd-draggable-id":S,style:M,onTransitionEnd:Y},dragHandleProps:k}},[l,k,S,R,x,o]),A=Ct(()=>({draggableId:m.id,type:m.type,source:{index:m.index,droppableId:m.droppableId}}),[m.droppableId,m.id,m.index,m.type]);return Ye.createElement(Ye.Fragment,null,y(T,R.snapshot,A))};var Rv=(e,n)=>e===n,Nv=e=>{const{combine:n,destination:o}=e;return o?o.droppableId:n?n.droppableId:null};const e8=e=>e.combine?e.combine.draggableId:null,t8=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function n8(){const e=Gn((l,c)=>({x:l,y:c})),n=Gn((l,c,d=null,f=null,h=null)=>({isDragging:!0,isClone:c,isDropAnimating:!!h,dropAnimation:h,mode:l,draggingOver:d,combineWith:f,combineTargetFor:null})),o=Gn((l,c,d,f,h=null,m=null,y=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:h,combineWith:m,mode:c,offset:l,dimension:d,forceShouldAnimate:y,snapshot:n(c,f,h,m,null)}}));return(l,c)=>{if(Vc(l)){if(l.critical.draggable.id!==c.draggableId)return null;const d=l.current.client.offset,f=l.dimensions.draggables[c.draggableId],h=Xr(l.impact),m=t8(l.impact),y=l.forceShouldAnimate;return o(e(d.x,d.y),l.movementMode,f,c.isClone,h,m,y)}if(l.phase==="DROP_ANIMATING"){const d=l.completed;if(d.result.draggableId!==c.draggableId)return null;const f=c.isClone,h=l.dimensions.draggables[c.draggableId],m=d.result,y=m.mode,S=Nv(m),v=e8(m),C={duration:l.dropDuration,curve:yg.drop,moveTo:l.newHomeClientOffset,opacity:v?Hc.opacity.drop:null,scale:v?Hc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:l.newHomeClientOffset,dimension:h,dropping:C,draggingOver:S,combineWith:v,mode:y,forceShouldAnimate:null,snapshot:n(y,f,S,v,C)}}}return null}}function Tv(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const r8={mapped:{type:"SECONDARY",offset:Hn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Tv(null)}};function i8(){const e=Gn((d,f)=>({x:d,y:f})),n=Gn(Tv),o=Gn((d,f=null,h)=>({mapped:{type:"SECONDARY",offset:d,combineTargetFor:f,shouldAnimateDisplacement:h,snapshot:n(f)}})),a=d=>d?o(Hn,d,!0):null,l=(d,f,h,m)=>{const y=h.displaced.visible[d],S=!!(m.inVirtualList&&m.effected[d]),v=Vf(h),_=v&&v.draggableId===d?f:null;if(!y){if(!S)return a(_);if(h.displaced.invisible[d])return null;const R=jl(m.displacedBy.point),I=e(R.x,R.y);return o(I,_,!0)}if(S)return a(_);const C=h.displacedBy.point,P=e(C.x,C.y);return o(P,_,y.shouldAnimate)};return(d,f)=>{if(Vc(d))return d.critical.draggable.id===f.draggableId?null:l(f.draggableId,d.critical.draggable.id,d.impact,d.afterCritical);if(d.phase==="DROP_ANIMATING"){const h=d.completed;return h.result.draggableId===f.draggableId?null:l(f.draggableId,h.result.draggableId,h.impact,h.afterCritical)}return null}}const o8=()=>{const e=n8(),n=i8();return(a,l)=>e(a,l)||n(a,l)||r8},s8={dropAnimationFinished:lv},a8=Ay(o8,s8,null,{context:xg,areStatePropsEqual:Rv})(Zw);function Iv(e){return Ff(kg).isUsingCloneFor===e.draggableId&&!e.isClone?null:Ye.createElement(a8,e)}function l8(e){const n=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,o=!!e.disableInteractiveElementBlocking,a=!!e.shouldRespectForcePress;return Ye.createElement(Iv,Df({},e,{isClone:!1,isEnabled:n,canDragInteractiveElements:o,shouldRespectForcePress:a}))}const Dv=e=>n=>e===n,u8=Dv("scroll"),c8=Dv("auto"),gm=(e,n)=>n(e.overflowX)||n(e.overflowY),d8=e=>{const n=window.getComputedStyle(e),o={overflowX:n.overflowX,overflowY:n.overflowY};return gm(o,u8)||gm(o,c8)},f8=()=>!1,Av=e=>e==null?null:e===document.body?f8()?e:null:e===document.documentElement?null:d8(e)?e:Av(e.parentElement);var Fp=e=>({x:e.scrollLeft,y:e.scrollTop});const Lv=e=>e?window.getComputedStyle(e).position==="fixed"?!0:Lv(e.parentElement):!1;var h8=e=>{const n=Av(e),o=Lv(e);return{closestScrollable:n,isFixedOnPage:o}},p8=({descriptor:e,isEnabled:n,isCombineEnabled:o,isFixedOnPage:a,direction:l,client:c,page:d,closest:f})=>{const h=(()=>{if(!f)return null;const{scrollSize:v,client:_}=f,C=fv({scrollHeight:v.scrollHeight,scrollWidth:v.scrollWidth,height:_.paddingBox.height,width:_.paddingBox.width});return{pageMarginBox:f.page.marginBox,frameClient:_,scrollSize:v,shouldClipSubject:f.shouldClipSubject,scroll:{initial:f.scroll,current:f.scroll,max:C,diff:{value:Hn,displacement:Hn}}}})(),m=l==="vertical"?cg:Vy,y=Al({page:d,withPlaceholder:null,axis:m,frame:h});return{descriptor:e,isCombineEnabled:o,isFixedOnPage:a,axis:m,isEnabled:n,client:c,page:d,frame:h,subject:y}};const g8=(e,n)=>{const o=Oy(e);if(!n||e!==n)return o;const a=o.paddingBox.top-n.scrollTop,l=o.paddingBox.left-n.scrollLeft,c=a+n.scrollHeight,d=l+n.scrollWidth,h=sg({top:a,right:d,bottom:c,left:l},o.border);return ag({borderBox:h,margin:o.margin,border:o.border,padding:o.padding})};var m8=({ref:e,descriptor:n,env:o,windowScroll:a,direction:l,isDropDisabled:c,isCombineEnabled:d,shouldClipSubject:f})=>{const h=o.closestScrollable,m=g8(e,h),y=If(m,a),S=(()=>{if(!h)return null;const _=Oy(h),C={scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth};return{client:_,page:If(_,a),scroll:Fp(h),scrollSize:C,shouldClipSubject:f}})();return p8({descriptor:n,isEnabled:!c,isCombineEnabled:d,isFixedOnPage:o.isFixedOnPage,direction:l,client:m,page:y,closest:S})};const y8={passive:!1},v8={passive:!0};var mm=e=>e.shouldPublishImmediately?y8:v8;const gf=e=>e&&e.env.closestScrollable||null;function S8(e){const n=W.useRef(null),o=Ff(Yf),a=Cg("droppable"),{registry:l,marshal:c}=o,d=wv(e),f=Ct(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),h=W.useRef(f),m=Ct(()=>Gn((T,A)=>{n.current||Ne();const M={x:T,y:A};c.updateDroppableScroll(f.id,M)}),[f.id,c]),y=Ke(()=>{const T=n.current;return!T||!T.env.closestScrollable?Hn:Fp(T.env.closestScrollable)},[]),S=Ke(()=>{const T=y();m(T.x,T.y)},[y,m]),v=Ct(()=>jc(S),[S]),_=Ke(()=>{const T=n.current,A=gf(T);if(T&&A||Ne(),T.scrollOptions.shouldPublishImmediately){S();return}v()},[v,S]),C=Ke((T,A)=>{n.current&&Ne();const M=d.current,Y=M.getDroppableRef();Y||Ne();const F=h8(Y),z={ref:Y,descriptor:f,env:F,scrollOptions:A};n.current=z;const j=m8({ref:Y,descriptor:f,env:F,windowScroll:T,direction:M.direction,isDropDisabled:M.isDropDisabled,isCombineEnabled:M.isCombineEnabled,shouldClipSubject:!M.ignoreContainerClipping}),$=F.closestScrollable;return $&&($.setAttribute(cm.contextId,o.contextId),$.addEventListener("scroll",_,mm(z.scrollOptions))),j},[o.contextId,f,_,d]),P=Ke(()=>{const T=n.current,A=gf(T);return T&&A||Ne(),Fp(A)},[]),R=Ke(()=>{const T=n.current;T||Ne();const A=gf(T);n.current=null,A&&(v.cancel(),A.removeAttribute(cm.contextId),A.removeEventListener("scroll",_,mm(T.scrollOptions)))},[_,v]),I=Ke(T=>{const A=n.current;A||Ne();const M=gf(A);M||Ne(),M.scrollTop+=T.y,M.scrollLeft+=T.x},[]),k=Ct(()=>({getDimensionAndWatchScroll:C,getScrollWhileDragging:P,dragStopped:R,scroll:I}),[R,C,P,I]),x=Ct(()=>({uniqueId:a,descriptor:f,callbacks:k}),[k,f,a]);Qr(()=>(h.current=x.descriptor,l.droppable.register(x),()=>{n.current&&R(),l.droppable.unregister(x)}),[k,f,R,x,c,l.droppable]),Qr(()=>{n.current&&c.updateDroppableIsEnabled(h.current.id,!e.isDropDisabled)},[e.isDropDisabled,c]),Qr(()=>{n.current&&c.updateDroppableIsCombineEnabled(h.current.id,e.isCombineEnabled)},[e.isCombineEnabled,c])}function sp(){}const ym={width:0,height:0,margin:bS},_8=({isAnimatingOpenOnMount:e,placeholder:n,animate:o})=>e||o==="close"?ym:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin},w8=({isAnimatingOpenOnMount:e,placeholder:n,animate:o})=>{const a=_8({isAnimatingOpenOnMount:e,placeholder:n,animate:o});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?Lc.placeholder:null}},x8=e=>{const n=W.useRef(null),o=Ke(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]),{animate:a,onTransitionEnd:l,onClose:c,contextId:d}=e,[f,h]=W.useState(e.animate==="open");W.useEffect(()=>f?a!=="open"?(o(),h(!1),sp):n.current?sp:(n.current=setTimeout(()=>{n.current=null,h(!1)}),o):sp,[a,f,o]);const m=Ke(S=>{S.propertyName==="height"&&(l(),a==="close"&&c())},[a,c,l]),y=w8({isAnimatingOpenOnMount:f,animate:e.animate,placeholder:e.placeholder});return Ye.createElement(e.placeholder.tagName,{style:y,"data-rfd-placeholder-context-id":d,onTransitionEnd:m,ref:e.innerRef})};var C8=Ye.memo(x8);class E8 extends Ye.PureComponent{constructor(...n){super(...n),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(n,o){return n.shouldAnimate?n.on?{isVisible:!0,data:n.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!n.on,data:n.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const n={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(n)}}const k8=e=>{const n=W.useContext(Yf);n||Ne();const{contextId:o,isMovementAllowed:a}=n,l=W.useRef(null),c=W.useRef(null),{children:d,droppableId:f,type:h,mode:m,direction:y,ignoreContainerClipping:S,isDropDisabled:v,isCombineEnabled:_,snapshot:C,useClone:P,updateViewportMaxScroll:R,getContainerForClone:I}=e,k=Ke(()=>l.current,[]),x=Ke(($=null)=>{l.current=$},[]);Ke(()=>c.current,[]);const T=Ke(($=null)=>{c.current=$},[]),A=Ke(()=>{a()&&R({maxScroll:pv()})},[a,R]);S8({droppableId:f,type:h,mode:m,direction:y,isDropDisabled:v,isCombineEnabled:_,ignoreContainerClipping:S,getDroppableRef:k});const M=Ct(()=>Ye.createElement(E8,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:$,data:Q,animate:te})=>Ye.createElement(C8,{placeholder:Q,onClose:$,innerRef:T,animate:te,contextId:o,onTransitionEnd:A})),[o,A,e.placeholder,e.shouldAnimatePlaceholder,T]),Y=Ct(()=>({innerRef:x,placeholder:M,droppableProps:{"data-rfd-droppable-id":f,"data-rfd-droppable-context-id":o}}),[o,f,M,x]),F=P?P.dragging.draggableId:null,z=Ct(()=>({droppableId:f,type:h,isUsingCloneFor:F}),[f,F,h]);function j(){if(!P)return null;const{dragging:$,render:Q}=P,te=Ye.createElement(Iv,{draggableId:$.draggableId,index:$.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(re,ee)=>Q(re,ee,$));return r4.createPortal(te,I())}return Ye.createElement(kg.Provider,{value:z},d(Y,C),j())};function b8(){return document.body||Ne(),document.body}const vm={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:b8},Ov=e=>{let n={...e},o;for(o in vm)e[o]===void 0&&(n={...n,[o]:vm[o]});return n},ap=(e,n)=>e===n.droppable.type,Sm=(e,n)=>n.draggables[e.draggable.id],P8=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n={...e,shouldAnimatePlaceholder:!1},o=Gn(c=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}})),a=Gn((c,d,f,h,m,y)=>{const S=m.descriptor.id;if(m.descriptor.droppableId===c){const C=y?{render:y,dragging:o(m.descriptor)}:null,P={isDraggingOver:f,draggingOverWith:f?S:null,draggingFromThisWith:S,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!1,snapshot:P,useClone:C}}if(!d)return n;if(!h)return e;const _={isDraggingOver:f,draggingOverWith:S,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!0,snapshot:_,useClone:null}});return(c,d)=>{const f=Ov(d),h=f.droppableId,m=f.type,y=!f.isDropDisabled,S=f.renderClone;if(Vc(c)){const v=c.critical;if(!ap(m,v))return n;const _=Sm(v,c.dimensions),C=Xr(c.impact)===h;return a(h,y,C,C,_,S)}if(c.phase==="DROP_ANIMATING"){const v=c.completed;if(!ap(m,v.critical))return n;const _=Sm(v.critical,c.dimensions);return a(h,y,Nv(v.result)===h,Xr(v.impact)===h,_,S)}if(c.phase==="IDLE"&&c.completed&&!c.shouldFlush){const v=c.completed;if(!ap(m,v.critical))return n;const _=Xr(v.impact)===h,C=!!(v.impact.at&&v.impact.at.type==="COMBINE"),P=v.critical.droppable.id===h;return _?C?e:n:P?e:n}return n}},R8={updateViewportMaxScroll:B_},N8=Ay(P8,R8,(e,n,o)=>({...Ov(o),...e,...n}),{context:xg,areStatePropsEqual:Rv})(k8),Bp=({slides:e,currentSlide:n,setCurrentSlide:o,thumbnails:a,variant:l,onAddSlide:c,onReorderSlides:d,selectedSlides:f=[],setSelectedSlides:h,onRestoreSelected:m,isRestoreEnabled:y,onRestoreAll:S,isRestoreAllEnabled:v,setSelectedCurrentSlide:_,setSelectedRestoreSlide:C})=>{const P=I=>{l==="restore"?(h&&h([I]),C&&C(I)):l==="current"?(o(I),h&&h([I]),_&&_(I)):o(I)},R=I=>{if(!I.destination||!d)return;const k=[...e],[x]=k.splice(I.source.index,1);k.splice(I.destination.index,0,x),d(k)};return G.jsxs("div",{className:`sidebar sidebar-${l}`,children:[(l==="current"||l==="restore")&&G.jsx("p",{className:"sidebar-title",children:l==="current"?"현재 슬라이드":"복원 슬라이드 선택"}),G.jsx(Hw,{onDragEnd:R,children:G.jsx(N8,{droppableId:"slides-list",isDropDisabled:l!=="main",children:I=>G.jsx("div",{className:"slides-scrollable",children:G.jsxs("ul",{className:"slides-list",ref:I.innerRef,...I.droppableProps,children:[e.map((k,x)=>{const T=l==="main"?k===n:f.includes(k);return G.jsx(l8,{draggableId:`slide-${k}`,index:x,isDragDisabled:l!=="main",children:(A,M)=>G.jsxs("li",{ref:A.innerRef,...A.draggableProps,...A.dragHandleProps,className:`slide-item ${T?"selected":""} ${M.isDragging?"dragging":""}`,onClick:()=>P(k),children:[G.jsx("span",{className:"slide-number",children:x+1}),G.jsx("div",{className:"slide-thumbnail",children:a[k]&&G.jsx("img",{src:a[k],alt:`Slide ${x+1}`,className:"slide-preview"})})]})},`slide-${k}`)}),I.placeholder,l==="main"&&c&&G.jsx("li",{className:"slide-item",onClick:c,children:G.jsx("div",{className:"slide-thumbnail add-slide",children:"+"})})]})})})}),l==="restore"&&G.jsxs("div",{className:"sidebar-footer",children:[G.jsx("div",{className:"restore-text",onClick:y?m:void 0,style:{color:y?"#FFB93E":"#aaa",cursor:y?"pointer":"default"},children:"선택한 슬라이드 복원"}),G.jsx("div",{className:`restore-text ${v?"active":"disabled"}`,onClick:v?S:void 0,children:"전체 슬라이드 복원"})]})]})};var kf={exports:{}},Gu={},lp={},up={},_m;function ct(){return _m||(_m=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;const n=Math.PI/180;function o(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof l0<"u"?l0:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.3.22",isBrowser:o(),isUnminified:/param/.test((function(l){}).toString()),dblClickWindow:400,getAngle(l){return e.Konva.angleDeg?l*n:l},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isTransforming(){var l;return(l=e.Konva.Transformer)===null||l===void 0?void 0:l.isTransforming()},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(l){e.glob.Konva=l}};const a=l=>{e.Konva[l.prototype.getClassName()]=l};e._registerNode=a,e.Konva._injectGlobal(e.Konva)})(up)),up}var cp={},wm;function un(){return wm||(wm=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const n=ct();class o{constructor(T=[1,0,0,1,0,0]){this.dirty=!1,this.m=T&&T.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new o(this.m)}copyInto(T){T.m[0]=this.m[0],T.m[1]=this.m[1],T.m[2]=this.m[2],T.m[3]=this.m[3],T.m[4]=this.m[4],T.m[5]=this.m[5]}point(T){const A=this.m;return{x:A[0]*T.x+A[2]*T.y+A[4],y:A[1]*T.x+A[3]*T.y+A[5]}}translate(T,A){return this.m[4]+=this.m[0]*T+this.m[2]*A,this.m[5]+=this.m[1]*T+this.m[3]*A,this}scale(T,A){return this.m[0]*=T,this.m[1]*=T,this.m[2]*=A,this.m[3]*=A,this}rotate(T){const A=Math.cos(T),M=Math.sin(T),Y=this.m[0]*A+this.m[2]*M,F=this.m[1]*A+this.m[3]*M,z=this.m[0]*-M+this.m[2]*A,j=this.m[1]*-M+this.m[3]*A;return this.m[0]=Y,this.m[1]=F,this.m[2]=z,this.m[3]=j,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(T,A){const M=this.m[0]+this.m[2]*A,Y=this.m[1]+this.m[3]*A,F=this.m[2]+this.m[0]*T,z=this.m[3]+this.m[1]*T;return this.m[0]=M,this.m[1]=Y,this.m[2]=F,this.m[3]=z,this}multiply(T){const A=this.m[0]*T.m[0]+this.m[2]*T.m[1],M=this.m[1]*T.m[0]+this.m[3]*T.m[1],Y=this.m[0]*T.m[2]+this.m[2]*T.m[3],F=this.m[1]*T.m[2]+this.m[3]*T.m[3],z=this.m[0]*T.m[4]+this.m[2]*T.m[5]+this.m[4],j=this.m[1]*T.m[4]+this.m[3]*T.m[5]+this.m[5];return this.m[0]=A,this.m[1]=M,this.m[2]=Y,this.m[3]=F,this.m[4]=z,this.m[5]=j,this}invert(){const T=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),A=this.m[3]*T,M=-this.m[1]*T,Y=-this.m[2]*T,F=this.m[0]*T,z=T*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),j=T*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=A,this.m[1]=M,this.m[2]=Y,this.m[3]=F,this.m[4]=z,this.m[5]=j,this}getMatrix(){return this.m}decompose(){const T=this.m[0],A=this.m[1],M=this.m[2],Y=this.m[3],F=this.m[4],z=this.m[5],j=T*Y-A*M,$={x:F,y:z,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(T!=0||A!=0){const Q=Math.sqrt(T*T+A*A);$.rotation=A>0?Math.acos(T/Q):-Math.acos(T/Q),$.scaleX=Q,$.scaleY=j/Q,$.skewX=(T*M+A*Y)/j,$.skewY=0}else if(M!=0||Y!=0){const Q=Math.sqrt(M*M+Y*Y);$.rotation=Math.PI/2-(Y>0?Math.acos(-M/Q):-Math.acos(M/Q)),$.scaleX=j/Q,$.scaleY=Q,$.skewX=0,$.skewY=(T*M+A*Y)/j}return $.rotation=e.Util._getRotation($.rotation),$}}e.Transform=o;const a="[object Array]",l="[object Number]",c="[object String]",d="[object Boolean]",f=Math.PI/180,h=180/Math.PI,m="#",y="",S="0",v="Konva warning: ",_="Konva error: ",C="rgb(",P={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},R=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let I=[];const k=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(x){setTimeout(x,60)};e.Util={_isElement(x){return!!(x&&x.nodeType==1)},_isFunction(x){return!!(x&&x.constructor&&x.call&&x.apply)},_isPlainObject(x){return!!x&&x.constructor===Object},_isArray(x){return Object.prototype.toString.call(x)===a},_isNumber(x){return Object.prototype.toString.call(x)===l&&!isNaN(x)&&isFinite(x)},_isString(x){return Object.prototype.toString.call(x)===c},_isBoolean(x){return Object.prototype.toString.call(x)===d},isObject(x){return x instanceof Object},isValidSelector(x){if(typeof x!="string")return!1;const T=x[0];return T==="#"||T==="."||T===T.toUpperCase()},_sign(x){return x===0||x>0?1:-1},requestAnimFrame(x){I.push(x),I.length===1&&k(function(){const T=I;I=[],T.forEach(function(A){A()})})},createCanvasElement(){const x=document.createElement("canvas");try{x.style=x.style||{}}catch{}return x},createImageElement(){return document.createElement("img")},_isInDocument(x){for(;x=x.parentNode;)if(x==document)return!0;return!1},_urlToImage(x,T){const A=e.Util.createImageElement();A.onload=function(){T(A)},A.src=x},_rgbToHex(x,T,A){return((1<<24)+(x<<16)+(T<<8)+A).toString(16).slice(1)},_hexToRgb(x){x=x.replace(m,y);const T=parseInt(x,16);return{r:T>>16&255,g:T>>8&255,b:T&255}},getRandomColor(){let x=(Math.random()*16777215<<0).toString(16);for(;x.length<6;)x=S+x;return m+x},getRGB(x){let T;return x in P?(T=P[x],{r:T[0],g:T[1],b:T[2]}):x[0]===m?this._hexToRgb(x.substring(1)):x.substr(0,4)===C?(T=R.exec(x.replace(/ /g,"")),{r:parseInt(T[1],10),g:parseInt(T[2],10),b:parseInt(T[3],10)}):{r:0,g:0,b:0}},colorToRGBA(x){return x=x||"black",e.Util._namedColorToRBA(x)||e.Util._hex3ColorToRGBA(x)||e.Util._hex4ColorToRGBA(x)||e.Util._hex6ColorToRGBA(x)||e.Util._hex8ColorToRGBA(x)||e.Util._rgbColorToRGBA(x)||e.Util._rgbaColorToRGBA(x)||e.Util._hslColorToRGBA(x)},_namedColorToRBA(x){const T=P[x.toLowerCase()];return T?{r:T[0],g:T[1],b:T[2],a:1}:null},_rgbColorToRGBA(x){if(x.indexOf("rgb(")===0){x=x.match(/rgb\(([^)]+)\)/)[1];const T=x.split(/ *, */).map(Number);return{r:T[0],g:T[1],b:T[2],a:1}}},_rgbaColorToRGBA(x){if(x.indexOf("rgba(")===0){x=x.match(/rgba\(([^)]+)\)/)[1];const T=x.split(/ *, */).map((A,M)=>A.slice(-1)==="%"?M===3?parseInt(A)/100:parseInt(A)/100*255:Number(A));return{r:T[0],g:T[1],b:T[2],a:T[3]}}},_hex8ColorToRGBA(x){if(x[0]==="#"&&x.length===9)return{r:parseInt(x.slice(1,3),16),g:parseInt(x.slice(3,5),16),b:parseInt(x.slice(5,7),16),a:parseInt(x.slice(7,9),16)/255}},_hex6ColorToRGBA(x){if(x[0]==="#"&&x.length===7)return{r:parseInt(x.slice(1,3),16),g:parseInt(x.slice(3,5),16),b:parseInt(x.slice(5,7),16),a:1}},_hex4ColorToRGBA(x){if(x[0]==="#"&&x.length===5)return{r:parseInt(x[1]+x[1],16),g:parseInt(x[2]+x[2],16),b:parseInt(x[3]+x[3],16),a:parseInt(x[4]+x[4],16)/255}},_hex3ColorToRGBA(x){if(x[0]==="#"&&x.length===4)return{r:parseInt(x[1]+x[1],16),g:parseInt(x[2]+x[2],16),b:parseInt(x[3]+x[3],16),a:1}},_hslColorToRGBA(x){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(x)){const[T,...A]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(x),M=Number(A[0])/360,Y=Number(A[1])/100,F=Number(A[2])/100;let z,j,$;if(Y===0)return $=F*255,{r:Math.round($),g:Math.round($),b:Math.round($),a:1};F<.5?z=F*(1+Y):z=F+Y-F*Y;const Q=2*F-z,te=[0,0,0];for(let re=0;re<3;re++)j=M+1/3*-(re-1),j<0&&j++,j>1&&j--,6*j<1?$=Q+(z-Q)*6*j:2*j<1?$=z:3*j<2?$=Q+(z-Q)*(2/3-j)*6:$=Q,te[re]=$*255;return{r:Math.round(te[0]),g:Math.round(te[1]),b:Math.round(te[2]),a:1}}},haveIntersection(x,T){return!(T.x>x.x+x.width||T.x+T.width<x.x||T.y>x.y+x.height||T.y+T.height<x.y)},cloneObject(x){const T={};for(const A in x)this._isPlainObject(x[A])?T[A]=this.cloneObject(x[A]):this._isArray(x[A])?T[A]=this.cloneArray(x[A]):T[A]=x[A];return T},cloneArray(x){return x.slice(0)},degToRad(x){return x*f},radToDeg(x){return x*h},_degToRad(x){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(x)},_radToDeg(x){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(x)},_getRotation(x){return n.Konva.angleDeg?e.Util.radToDeg(x):x},_capitalize(x){return x.charAt(0).toUpperCase()+x.slice(1)},throw(x){throw new Error(_+x)},error(x){console.error(_+x)},warn(x){n.Konva.showWarnings&&console.warn(v+x)},each(x,T){for(const A in x)T(A,x[A])},_inRange(x,T,A){return T<=x&&x<A},_getProjectionToSegment(x,T,A,M,Y,F){let z,j,$;const Q=(x-A)*(x-A)+(T-M)*(T-M);if(Q==0)z=x,j=T,$=(Y-A)*(Y-A)+(F-M)*(F-M);else{const te=((Y-x)*(A-x)+(F-T)*(M-T))/Q;te<0?(z=x,j=T,$=(x-Y)*(x-Y)+(T-F)*(T-F)):te>1?(z=A,j=M,$=(A-Y)*(A-Y)+(M-F)*(M-F)):(z=x+te*(A-x),j=T+te*(M-T),$=(z-Y)*(z-Y)+(j-F)*(j-F))}return[z,j,$]},_getProjectionToLine(x,T,A){const M=e.Util.cloneObject(x);let Y=Number.MAX_VALUE;return T.forEach(function(F,z){if(!A&&z===T.length-1)return;const j=T[(z+1)%T.length],$=e.Util._getProjectionToSegment(F.x,F.y,j.x,j.y,x.x,x.y),Q=$[0],te=$[1],re=$[2];re<Y&&(M.x=Q,M.y=te,Y=re)}),M},_prepareArrayForTween(x,T,A){const M=[],Y=[];if(x.length>T.length){const z=T;T=x,x=z}for(let z=0;z<x.length;z+=2)M.push({x:x[z],y:x[z+1]});for(let z=0;z<T.length;z+=2)Y.push({x:T[z],y:T[z+1]});const F=[];return Y.forEach(function(z){const j=e.Util._getProjectionToLine(z,M,A);F.push(j.x),F.push(j.y)}),F},_prepareToStringify(x){let T;x.visitedByCircularReferenceRemoval=!0;for(const A in x)if(x.hasOwnProperty(A)&&x[A]&&typeof x[A]=="object"){if(T=Object.getOwnPropertyDescriptor(x,A),x[A].visitedByCircularReferenceRemoval||e.Util._isElement(x[A]))if(T.configurable)delete x[A];else return null;else if(e.Util._prepareToStringify(x[A])===null)if(T.configurable)delete x[A];else return null}return delete x.visitedByCircularReferenceRemoval,x},_assign(x,T){for(const A in T)x[A]=T[A];return x},_getFirstPointerId(x){return x.touches?x.changedTouches[0].identifier:x.pointerId||999},releaseCanvas(...x){n.Konva.releaseCanvasOnDestroy&&x.forEach(T=>{T.width=0,T.height=0})},drawRoundedRectPath(x,T,A,M){let Y=0,F=0,z=0,j=0;typeof M=="number"?Y=F=z=j=Math.min(M,T/2,A/2):(Y=Math.min(M[0]||0,T/2,A/2),F=Math.min(M[1]||0,T/2,A/2),j=Math.min(M[2]||0,T/2,A/2),z=Math.min(M[3]||0,T/2,A/2)),x.moveTo(Y,0),x.lineTo(T-F,0),x.arc(T-F,F,F,Math.PI*3/2,0,!1),x.lineTo(T,A-j),x.arc(T-j,A-j,j,0,Math.PI/2,!1),x.lineTo(z,A),x.arc(z,A-z,z,Math.PI/2,Math.PI,!1),x.lineTo(0,Y),x.arc(Y,Y,Y,Math.PI,Math.PI*3/2,!1)}}})(cp)),cp}var Hu={},Uo={},Go={},xm;function Mv(){if(xm)return Go;xm=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.HitContext=Go.SceneContext=Go.Context=void 0;const e=un(),n=ct();function o(I){const k=[],x=I.length,T=e.Util;for(let A=0;A<x;A++){let M=I[A];T._isNumber(M)?M=Math.round(M*1e3)/1e3:T._isString(M)||(M=M+""),k.push(M)}return k}const a=",",l="(",c=")",d="([",f="])",h=";",m="()",y="=",S=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],v=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],_=100;let C=class{constructor(k){this.canvas=k,n.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(k){k.fillEnabled()&&this._fill(k)}_fill(k){}strokeShape(k){k.hasStroke()&&this._stroke(k)}_stroke(k){}fillStrokeShape(k){k.attrs.fillAfterStrokeEnabled?(this.strokeShape(k),this.fillShape(k)):(this.fillShape(k),this.strokeShape(k))}getTrace(k,x){let T=this.traceArr,A=T.length,M="",Y,F,z,j;for(Y=0;Y<A;Y++)F=T[Y],z=F.method,z?(j=F.args,M+=z,k?M+=m:e.Util._isArray(j[0])?M+=d+j.join(a)+f:(x&&(j=j.map($=>typeof $=="number"?Math.floor($):$)),M+=l+j.join(a)+c)):(M+=F.property,k||(M+=y+F.val)),M+=h;return M}clearTrace(){this.traceArr=[]}_trace(k){let x=this.traceArr,T;x.push(k),T=x.length,T>=_&&x.shift()}reset(){const k=this.getCanvas().getPixelRatio();this.setTransform(1*k,0,0,1*k,0,0)}getCanvas(){return this.canvas}clear(k){const x=this.getCanvas();k?this.clearRect(k.x||0,k.y||0,k.width||0,k.height||0):this.clearRect(0,0,x.getWidth()/x.pixelRatio,x.getHeight()/x.pixelRatio)}_applyLineCap(k){const x=k.attrs.lineCap;x&&this.setAttr("lineCap",x)}_applyOpacity(k){const x=k.getAbsoluteOpacity();x!==1&&this.setAttr("globalAlpha",x)}_applyLineJoin(k){const x=k.attrs.lineJoin;x&&this.setAttr("lineJoin",x)}setAttr(k,x){this._context[k]=x}arc(k,x,T,A,M,Y){this._context.arc(k,x,T,A,M,Y)}arcTo(k,x,T,A,M){this._context.arcTo(k,x,T,A,M)}beginPath(){this._context.beginPath()}bezierCurveTo(k,x,T,A,M,Y){this._context.bezierCurveTo(k,x,T,A,M,Y)}clearRect(k,x,T,A){this._context.clearRect(k,x,T,A)}clip(...k){this._context.clip.apply(this._context,k)}closePath(){this._context.closePath()}createImageData(k,x){const T=arguments;if(T.length===2)return this._context.createImageData(k,x);if(T.length===1)return this._context.createImageData(k)}createLinearGradient(k,x,T,A){return this._context.createLinearGradient(k,x,T,A)}createPattern(k,x){return this._context.createPattern(k,x)}createRadialGradient(k,x,T,A,M,Y){return this._context.createRadialGradient(k,x,T,A,M,Y)}drawImage(k,x,T,A,M,Y,F,z,j){const $=arguments,Q=this._context;$.length===3?Q.drawImage(k,x,T):$.length===5?Q.drawImage(k,x,T,A,M):$.length===9&&Q.drawImage(k,x,T,A,M,Y,F,z,j)}ellipse(k,x,T,A,M,Y,F,z){this._context.ellipse(k,x,T,A,M,Y,F,z)}isPointInPath(k,x,T,A){return T?this._context.isPointInPath(T,k,x,A):this._context.isPointInPath(k,x,A)}fill(...k){this._context.fill.apply(this._context,k)}fillRect(k,x,T,A){this._context.fillRect(k,x,T,A)}strokeRect(k,x,T,A){this._context.strokeRect(k,x,T,A)}fillText(k,x,T,A){A?this._context.fillText(k,x,T,A):this._context.fillText(k,x,T)}measureText(k){return this._context.measureText(k)}getImageData(k,x,T,A){return this._context.getImageData(k,x,T,A)}lineTo(k,x){this._context.lineTo(k,x)}moveTo(k,x){this._context.moveTo(k,x)}rect(k,x,T,A){this._context.rect(k,x,T,A)}roundRect(k,x,T,A,M){this._context.roundRect(k,x,T,A,M)}putImageData(k,x,T){this._context.putImageData(k,x,T)}quadraticCurveTo(k,x,T,A){this._context.quadraticCurveTo(k,x,T,A)}restore(){this._context.restore()}rotate(k){this._context.rotate(k)}save(){this._context.save()}scale(k,x){this._context.scale(k,x)}setLineDash(k){this._context.setLineDash?this._context.setLineDash(k):"mozDash"in this._context?this._context.mozDash=k:"webkitLineDash"in this._context&&(this._context.webkitLineDash=k)}getLineDash(){return this._context.getLineDash()}setTransform(k,x,T,A,M,Y){this._context.setTransform(k,x,T,A,M,Y)}stroke(k){k?this._context.stroke(k):this._context.stroke()}strokeText(k,x,T,A){this._context.strokeText(k,x,T,A)}transform(k,x,T,A,M,Y){this._context.transform(k,x,T,A,M,Y)}translate(k,x){this._context.translate(k,x)}_enableTrace(){let k=this,x=S.length,T=this.setAttr,A,M;const Y=function(F){let z=k[F],j;k[F]=function(){return M=o(Array.prototype.slice.call(arguments,0)),j=z.apply(k,arguments),k._trace({method:F,args:M}),j}};for(A=0;A<x;A++)Y(S[A]);k.setAttr=function(){T.apply(k,arguments);const F=arguments[0];let z=arguments[1];(F==="shadowOffsetX"||F==="shadowOffsetY"||F==="shadowBlur")&&(z=z/this.canvas.getPixelRatio()),k._trace({property:F,val:z})}}_applyGlobalCompositeOperation(k){const x=k.attrs.globalCompositeOperation;!x||x==="source-over"||this.setAttr("globalCompositeOperation",x)}};Go.Context=C,v.forEach(function(I){Object.defineProperty(C.prototype,I,{get(){return this._context[I]},set(k){this._context[I]=k}})});class P extends C{constructor(k,{willReadFrequently:x=!1}={}){super(k),this._context=k._canvas.getContext("2d",{willReadFrequently:x})}_fillColor(k){const x=k.fill();this.setAttr("fillStyle",x),k._fillFunc(this)}_fillPattern(k){this.setAttr("fillStyle",k._getFillPattern()),k._fillFunc(this)}_fillLinearGradient(k){const x=k._getLinearGradient();x&&(this.setAttr("fillStyle",x),k._fillFunc(this))}_fillRadialGradient(k){const x=k._getRadialGradient();x&&(this.setAttr("fillStyle",x),k._fillFunc(this))}_fill(k){const x=k.fill(),T=k.getFillPriority();if(x&&T==="color"){this._fillColor(k);return}const A=k.getFillPatternImage();if(A&&T==="pattern"){this._fillPattern(k);return}const M=k.getFillLinearGradientColorStops();if(M&&T==="linear-gradient"){this._fillLinearGradient(k);return}const Y=k.getFillRadialGradientColorStops();if(Y&&T==="radial-gradient"){this._fillRadialGradient(k);return}x?this._fillColor(k):A?this._fillPattern(k):M?this._fillLinearGradient(k):Y&&this._fillRadialGradient(k)}_strokeLinearGradient(k){const x=k.getStrokeLinearGradientStartPoint(),T=k.getStrokeLinearGradientEndPoint(),A=k.getStrokeLinearGradientColorStops(),M=this.createLinearGradient(x.x,x.y,T.x,T.y);if(A){for(let Y=0;Y<A.length;Y+=2)M.addColorStop(A[Y],A[Y+1]);this.setAttr("strokeStyle",M)}}_stroke(k){const x=k.dash(),T=k.getStrokeScaleEnabled();if(k.hasStroke()){if(!T){this.save();const M=this.getCanvas().getPixelRatio();this.setTransform(M,0,0,M,0,0)}this._applyLineCap(k),x&&k.dashEnabled()&&(this.setLineDash(x),this.setAttr("lineDashOffset",k.dashOffset())),this.setAttr("lineWidth",k.strokeWidth()),k.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),k.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(k):this.setAttr("strokeStyle",k.stroke()),k._strokeFunc(this),T||this.restore()}}_applyShadow(k){var x,T,A;const M=(x=k.getShadowRGBA())!==null&&x!==void 0?x:"black",Y=(T=k.getShadowBlur())!==null&&T!==void 0?T:5,F=(A=k.getShadowOffset())!==null&&A!==void 0?A:{x:0,y:0},z=k.getAbsoluteScale(),j=this.canvas.getPixelRatio(),$=z.x*j,Q=z.y*j;this.setAttr("shadowColor",M),this.setAttr("shadowBlur",Y*Math.min(Math.abs($),Math.abs(Q))),this.setAttr("shadowOffsetX",F.x*$),this.setAttr("shadowOffsetY",F.y*Q)}}Go.SceneContext=P;class R extends C{constructor(k){super(k),this._context=k._canvas.getContext("2d",{willReadFrequently:!0})}_fill(k){this.save(),this.setAttr("fillStyle",k.colorKey),k._fillFuncHit(this),this.restore()}strokeShape(k){k.hasHitStroke()&&this._stroke(k)}_stroke(k){if(k.hasHitStroke()){const x=k.getStrokeScaleEnabled();if(!x){this.save();const M=this.getCanvas().getPixelRatio();this.setTransform(M,0,0,M,0,0)}this._applyLineCap(k);const T=k.hitStrokeWidth(),A=T==="auto"?k.strokeWidth():T;this.setAttr("lineWidth",A),this.setAttr("strokeStyle",k.colorKey),k._strokeFuncHit(this),x||this.restore()}}}return Go.HitContext=R,Go}var Cm;function Qf(){if(Cm)return Uo;Cm=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.HitCanvas=Uo.SceneCanvas=Uo.Canvas=void 0;const e=un(),n=Mv(),o=ct();let a;function l(){if(a)return a;const h=e.Util.createCanvasElement(),m=h.getContext("2d");return a=(function(){const y=o.Konva._global.devicePixelRatio||1,S=m.webkitBackingStorePixelRatio||m.mozBackingStorePixelRatio||m.msBackingStorePixelRatio||m.oBackingStorePixelRatio||m.backingStorePixelRatio||1;return y/S})(),e.Util.releaseCanvas(h),a}class c{constructor(m){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const S=(m||{}).pixelRatio||o.Konva.pixelRatio||l();this.pixelRatio=S,this._canvas=e.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(m){const y=this.pixelRatio;this.pixelRatio=m,this.setSize(this.getWidth()/y,this.getHeight()/y)}setWidth(m){this.width=this._canvas.width=m*this.pixelRatio,this._canvas.style.width=m+"px";const y=this.pixelRatio;this.getContext()._context.scale(y,y)}setHeight(m){this.height=this._canvas.height=m*this.pixelRatio,this._canvas.style.height=m+"px";const y=this.pixelRatio;this.getContext()._context.scale(y,y)}getWidth(){return this.width}getHeight(){return this.height}setSize(m,y){this.setWidth(m||0),this.setHeight(y||0)}toDataURL(m,y){try{return this._canvas.toDataURL(m,y)}catch{try{return this._canvas.toDataURL()}catch(v){return e.Util.error("Unable to get data URL. "+v.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Uo.Canvas=c;class d extends c{constructor(m={width:0,height:0,willReadFrequently:!1}){super(m),this.context=new n.SceneContext(this,{willReadFrequently:m.willReadFrequently}),this.setSize(m.width,m.height)}}Uo.SceneCanvas=d;class f extends c{constructor(m={width:0,height:0}){super(m),this.hitCanvas=!0,this.context=new n.HitContext(this),this.setSize(m.width,m.height)}}return Uo.HitCanvas=f,Uo}var dp={},Em;function bg(){return Em||(Em=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const n=ct(),o=un();e.DD={get isDragging(){let a=!1;return e.DD._dragElements.forEach(l=>{l.dragStatus==="dragging"&&(a=!0)}),a},justDragged:!1,get node(){let a;return e.DD._dragElements.forEach(l=>{a=l.node}),a},_dragElements:new Map,_drag(a){const l=[];e.DD._dragElements.forEach((c,d)=>{const{node:f}=c,h=f.getStage();h.setPointersPositions(a),c.pointerId===void 0&&(c.pointerId=o.Util._getFirstPointerId(a));const m=h._changedPointerPositions.find(y=>y.id===c.pointerId);if(m){if(c.dragStatus!=="dragging"){const y=f.dragDistance();if(Math.max(Math.abs(m.x-c.startPointerPos.x),Math.abs(m.y-c.startPointerPos.y))<y||(f.startDrag({evt:a}),!f.isDragging()))return}f._setDragPosition(a,c),l.push(f)}}),l.forEach(c=>{c.fire("dragmove",{type:"dragmove",target:c,evt:a},!0)})},_endDragBefore(a){const l=[];e.DD._dragElements.forEach(c=>{const{node:d}=c,f=d.getStage();if(a&&f.setPointersPositions(a),!f._changedPointerPositions.find(y=>y.id===c.pointerId))return;(c.dragStatus==="dragging"||c.dragStatus==="stopped")&&(e.DD.justDragged=!0,n.Konva._mouseListenClick=!1,n.Konva._touchListenClick=!1,n.Konva._pointerListenClick=!1,c.dragStatus="stopped");const m=c.node.getLayer()||c.node instanceof n.Konva.Stage&&c.node;m&&l.indexOf(m)===-1&&l.push(m)}),l.forEach(c=>{c.draw()})},_endDragAfter(a){e.DD._dragElements.forEach((l,c)=>{l.dragStatus==="stopped"&&l.node.fire("dragend",{type:"dragend",target:l.node,evt:a},!0),l.dragStatus!=="dragging"&&e.DD._dragElements.delete(c)})}},n.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("touchcancel",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1),window.addEventListener("touchcancel",e.DD._endDragAfter,!1))})(dp)),dp}var fp={},jr={},km;function St(){if(km)return jr;km=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.RGBComponent=a,jr.alphaComponent=l,jr.getNumberValidator=c,jr.getNumberOrArrayOfNumbersValidator=d,jr.getNumberOrAutoValidator=f,jr.getStringValidator=h,jr.getStringOrGradientValidator=m,jr.getFunctionValidator=y,jr.getNumberArrayValidator=S,jr.getBooleanValidator=v,jr.getComponentValidator=_;const e=ct(),n=un();function o(C){return n.Util._isString(C)?'"'+C+'"':Object.prototype.toString.call(C)==="[object Number]"||n.Util._isBoolean(C)?C:Object.prototype.toString.call(C)}function a(C){return C>255?255:C<0?0:Math.round(C)}function l(C){return C>1?1:C<1e-4?1e-4:C}function c(){if(e.Konva.isUnminified)return function(C,P){return n.Util._isNumber(C)||n.Util.warn(o(C)+' is a not valid value for "'+P+'" attribute. The value should be a number.'),C}}function d(C){if(e.Konva.isUnminified)return function(P,R){let I=n.Util._isNumber(P),k=n.Util._isArray(P)&&P.length==C;return!I&&!k&&n.Util.warn(o(P)+' is a not valid value for "'+R+'" attribute. The value should be a number or Array<number>('+C+")"),P}}function f(){if(e.Konva.isUnminified)return function(C,P){return n.Util._isNumber(C)||C==="auto"||n.Util.warn(o(C)+' is a not valid value for "'+P+'" attribute. The value should be a number or "auto".'),C}}function h(){if(e.Konva.isUnminified)return function(C,P){return n.Util._isString(C)||n.Util.warn(o(C)+' is a not valid value for "'+P+'" attribute. The value should be a string.'),C}}function m(){if(e.Konva.isUnminified)return function(C,P){const R=n.Util._isString(C),I=Object.prototype.toString.call(C)==="[object CanvasGradient]"||C&&C.addColorStop;return R||I||n.Util.warn(o(C)+' is a not valid value for "'+P+'" attribute. The value should be a string or a native gradient.'),C}}function y(){if(e.Konva.isUnminified)return function(C,P){return n.Util._isFunction(C)||n.Util.warn(o(C)+' is a not valid value for "'+P+'" attribute. The value should be a function.'),C}}function S(){if(e.Konva.isUnminified)return function(C,P){const R=Int8Array?Object.getPrototypeOf(Int8Array):null;return R&&C instanceof R||(n.Util._isArray(C)?C.forEach(function(I){n.Util._isNumber(I)||n.Util.warn('"'+P+'" attribute has non numeric element '+I+". Make sure that all elements are numbers.")}):n.Util.warn(o(C)+' is a not valid value for "'+P+'" attribute. The value should be a array of numbers.')),C}}function v(){if(e.Konva.isUnminified)return function(C,P){return C===!0||C===!1||n.Util.warn(o(C)+' is a not valid value for "'+P+'" attribute. The value should be a boolean.'),C}}function _(C){if(e.Konva.isUnminified)return function(P,R){return P==null||n.Util.isObject(P)||n.Util.warn(o(P)+' is a not valid value for "'+R+'" attribute. The value should be an object with properties '+C),P}}return jr}var bm;function gt(){return bm||(bm=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const n=un(),o=St(),a="get",l="set";e.Factory={addGetterSetter(c,d,f,h,m){e.Factory.addGetter(c,d,f),e.Factory.addSetter(c,d,h,m),e.Factory.addOverloadedGetterSetter(c,d)},addGetter(c,d,f){const h=a+n.Util._capitalize(d);c.prototype[h]=c.prototype[h]||function(){const m=this.attrs[d];return m===void 0?f:m}},addSetter(c,d,f,h){const m=l+n.Util._capitalize(d);c.prototype[m]||e.Factory.overWriteSetter(c,d,f,h)},overWriteSetter(c,d,f,h){const m=l+n.Util._capitalize(d);c.prototype[m]=function(y){return f&&y!==void 0&&y!==null&&(y=f.call(this,y,d)),this._setAttr(d,y),h&&h.call(this),this}},addComponentsGetterSetter(c,d,f,h,m){const y=f.length,S=n.Util._capitalize,v=a+S(d),_=l+S(d);c.prototype[v]=function(){const P={};for(let R=0;R<y;R++){const I=f[R];P[I]=this.getAttr(d+S(I))}return P};const C=(0,o.getComponentValidator)(f);c.prototype[_]=function(P){const R=this.attrs[d];h&&(P=h.call(this,P,d)),C&&C.call(this,P,d);for(const I in P)P.hasOwnProperty(I)&&this._setAttr(d+S(I),P[I]);return P||f.forEach(I=>{this._setAttr(d+S(I),void 0)}),this._fireChangeEvent(d,R,P),m&&m.call(this),this},e.Factory.addOverloadedGetterSetter(c,d)},addOverloadedGetterSetter(c,d){const f=n.Util._capitalize(d),h=l+f,m=a+f;c.prototype[d]=function(){return arguments.length?(this[h](arguments[0]),this):this[m]()}},addDeprecatedGetterSetter(c,d,f,h){n.Util.error("Adding deprecated "+d);const m=a+n.Util._capitalize(d),y=d+" property is deprecated and will be removed soon. Look at Konva change log for more information.";c.prototype[m]=function(){n.Util.error(y);const S=this.attrs[d];return S===void 0?f:S},e.Factory.addSetter(c,d,h,function(){n.Util.error(y)}),e.Factory.addOverloadedGetterSetter(c,d)},backCompat(c,d){n.Util.each(d,function(f,h){const m=c.prototype[h],y=a+n.Util._capitalize(f),S=l+n.Util._capitalize(f);function v(){m.apply(this,arguments),n.Util.error('"'+f+'" method is deprecated and will be removed soon. Use ""'+h+'" instead.')}c.prototype[f]=v,c.prototype[y]=v,c.prototype[S]=v})},afterSetFilter(){this._filterUpToDate=!1}}})(fp)),fp}var Pm;function yn(){if(Pm)return Hu;Pm=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.Node=void 0;const e=Qf(),n=bg(),o=gt(),a=ct(),l=un(),c=St(),d="absoluteOpacity",f="allEventListeners",h="absoluteTransform",m="absoluteScale",y="canvas",S="Change",v="children",_="konva",C="listening",P="mouseenter",R="mouseleave",I="pointerenter",k="pointerleave",x="touchenter",T="touchleave",A="set",M="Shape",Y=" ",F="stage",z="transform",j="Stage",$="visible",Q=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Y);let te=1,re=class jp{constructor(L){this._id=te++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(L),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(L){(L===z||L===h)&&this._cache.get(L)?this._cache.get(L).dirty=!0:L?this._cache.delete(L):this._cache.clear()}_getCache(L,B){let V=this._cache.get(L);return(V===void 0||(L===z||L===h)&&V.dirty===!0)&&(V=B.call(this),this._cache.set(L,V)),V}_calculate(L,B,V){if(!this._attachedDepsListeners.get(L)){const H=B.map(O=>O+"Change.konva").join(Y);this.on(H,()=>{this._clearCache(L)}),this._attachedDepsListeners.set(L,!0)}return this._getCache(L,V)}_getCanvasCache(){return this._cache.get(y)}_clearSelfAndDescendantCache(L){this._clearCache(L),L===h&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(y)){const{scene:L,filter:B,hit:V,buffer:H}=this._cache.get(y);l.Util.releaseCanvas(L,B,V,H),this._cache.delete(y)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(L){const B=L||{};let V={};(B.x===void 0||B.y===void 0||B.width===void 0||B.height===void 0)&&(V=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let H=Math.ceil(B.width||V.width),O=Math.ceil(B.height||V.height),K=B.pixelRatio,J=B.x===void 0?Math.floor(V.x):B.x,ue=B.y===void 0?Math.floor(V.y):B.y,me=B.offset||0,se=B.drawBorder||!1,X=B.hitCanvasPixelRatio||1;if(!H||!O){l.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const oe=Math.abs(Math.round(V.x)-J)>.5?1:0,ve=Math.abs(Math.round(V.y)-ue)>.5?1:0;H+=me*2+oe,O+=me*2+ve,J-=me,ue-=me;const we=new e.SceneCanvas({pixelRatio:K,width:H,height:O}),Te=new e.SceneCanvas({pixelRatio:K,width:0,height:0,willReadFrequently:!0}),Le=new e.HitCanvas({pixelRatio:X,width:H,height:O}),Oe=we.getContext(),ut=Le.getContext(),Qe=new e.SceneCanvas({width:we.width/we.pixelRatio+Math.abs(J),height:we.height/we.pixelRatio+Math.abs(ue),pixelRatio:we.pixelRatio}),Se=Qe.getContext();return Le.isCache=!0,we.isCache=!0,this._cache.delete(y),this._filterUpToDate=!1,B.imageSmoothingEnabled===!1&&(we.getContext()._context.imageSmoothingEnabled=!1,Te.getContext()._context.imageSmoothingEnabled=!1),Oe.save(),ut.save(),Se.save(),Oe.translate(-J,-ue),ut.translate(-J,-ue),Se.translate(-J,-ue),Qe.x=J,Qe.y=ue,this._isUnderCache=!0,this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(m),this.drawScene(we,this,Qe),this.drawHit(Le,this),this._isUnderCache=!1,Oe.restore(),ut.restore(),se&&(Oe.save(),Oe.beginPath(),Oe.rect(0,0,H,O),Oe.closePath(),Oe.setAttr("strokeStyle","red"),Oe.setAttr("lineWidth",5),Oe.stroke(),Oe.restore()),this._cache.set(y,{scene:we,filter:Te,hit:Le,buffer:Qe,x:J,y:ue}),this._requestDraw(),this}isCached(){return this._cache.has(y)}getClientRect(L){throw new Error('abstract "getClientRect" method call')}_transformedRect(L,B){const V=[{x:L.x,y:L.y},{x:L.x+L.width,y:L.y},{x:L.x+L.width,y:L.y+L.height},{x:L.x,y:L.y+L.height}];let H=1/0,O=1/0,K=-1/0,J=-1/0;const ue=this.getAbsoluteTransform(B);return V.forEach(function(me){const se=ue.point(me);H===void 0&&(H=K=se.x,O=J=se.y),H=Math.min(H,se.x),O=Math.min(O,se.y),K=Math.max(K,se.x),J=Math.max(J,se.y)}),{x:H,y:O,width:K-H,height:J-O}}_drawCachedSceneCanvas(L){L.save(),L._applyOpacity(this),L._applyGlobalCompositeOperation(this);const B=this._getCanvasCache();L.translate(B.x,B.y);const V=this._getCachedSceneCanvas(),H=V.pixelRatio;L.drawImage(V._canvas,0,0,V.width/H,V.height/H),L.restore()}_drawCachedHitCanvas(L){const B=this._getCanvasCache(),V=B.hit;L.save(),L.translate(B.x,B.y),L.drawImage(V._canvas,0,0,V.width/V.pixelRatio,V.height/V.pixelRatio),L.restore()}_getCachedSceneCanvas(){let L=this.filters(),B=this._getCanvasCache(),V=B.scene,H=B.filter,O=H.getContext(),K,J,ue,me;if(L){if(!this._filterUpToDate){const se=V.pixelRatio;H.setSize(V.width/V.pixelRatio,V.height/V.pixelRatio);try{for(K=L.length,O.clear(),O.drawImage(V._canvas,0,0,V.getWidth()/se,V.getHeight()/se),J=O.getImageData(0,0,H.getWidth(),H.getHeight()),ue=0;ue<K;ue++){if(me=L[ue],typeof me!="function"){l.Util.error("Filter should be type of function, but got "+typeof me+" instead. Please check correct filters");continue}me.call(this,J),O.putImageData(J,0,0)}}catch(X){l.Util.error("Unable to apply filter. "+X.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return H}return V}on(L,B){if(this._cache&&this._cache.delete(f),arguments.length===3)return this._delegate.apply(this,arguments);const V=L.split(Y);for(let H=0;H<V.length;H++){const K=V[H].split("."),J=K[0],ue=K[1]||"";this.eventListeners[J]||(this.eventListeners[J]=[]),this.eventListeners[J].push({name:ue,handler:B})}return this}off(L,B){let V=(L||"").split(Y),H=V.length,O,K,J,ue,me,se;if(this._cache&&this._cache.delete(f),!L)for(K in this.eventListeners)this._off(K);for(O=0;O<H;O++)if(J=V[O],ue=J.split("."),me=ue[0],se=ue[1],me)this.eventListeners[me]&&this._off(me,se,B);else for(K in this.eventListeners)this._off(K,se,B);return this}dispatchEvent(L){const B={target:this,type:L.type,evt:L};return this.fire(L.type,B),this}addEventListener(L,B){return this.on(L,function(V){B.call(this,V.evt)}),this}removeEventListener(L){return this.off(L),this}_delegate(L,B,V){const H=this;this.on(L,function(O){const K=O.target.findAncestors(B,!0,H);for(let J=0;J<K.length;J++)O=l.Util.cloneObject(O),O.currentTarget=K[J],V.call(K[J],O)})}remove(){return this.isDragging()&&this.stopDrag(),n.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(m),this._clearSelfAndDescendantCache(F),this._clearSelfAndDescendantCache($),this._clearSelfAndDescendantCache(C)}_remove(){this._clearCaches();const L=this.getParent();L&&L.children&&(L.children.splice(this.index,1),L._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(L){const B="get"+l.Util._capitalize(L);return l.Util._isFunction(this[B])?this[B]():this.attrs[L]}getAncestors(){let L=this.getParent(),B=[];for(;L;)B.push(L),L=L.getParent();return B}getAttrs(){return this.attrs||{}}setAttrs(L){return this._batchTransformChanges(()=>{let B,V;if(!L)return this;for(B in L)B!==v&&(V=A+l.Util._capitalize(B),l.Util._isFunction(this[V])?this[V](L[B]):this._setAttr(B,L[B]))}),this}isListening(){return this._getCache(C,this._isListening)}_isListening(L){if(!this.listening())return!1;const V=this.getParent();return V&&V!==L&&this!==L?V._isListening(L):!0}isVisible(){return this._getCache($,this._isVisible)}_isVisible(L){if(!this.visible())return!1;const V=this.getParent();return V&&V!==L&&this!==L?V._isVisible(L):!0}shouldDrawHit(L,B=!1){if(L)return this._isVisible(L)&&this._isListening(L);const V=this.getLayer();let H=!1;n.DD._dragElements.forEach(K=>{K.dragStatus==="dragging"&&(K.node.nodeType==="Stage"||K.node.getLayer()===V)&&(H=!0)});const O=!B&&!a.Konva.hitOnDragEnabled&&(H||a.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!O}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let L=this.getDepth(),B=this,V=0,H,O,K,J;function ue(se){for(H=[],O=se.length,K=0;K<O;K++)J=se[K],V++,J.nodeType!==M&&(H=H.concat(J.getChildren().slice())),J._id===B._id&&(K=O);H.length>0&&H[0].getDepth()<=L&&ue(H)}const me=this.getStage();return B.nodeType!==j&&me&&ue(me.getChildren()),V}getDepth(){let L=0,B=this.parent;for(;B;)L++,B=B.parent;return L}_batchTransformChanges(L){this._batchingTransformChange=!0,L(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(z),this._clearSelfAndDescendantCache(h)),this._needClearTransformCache=!1}setPosition(L){return this._batchTransformChanges(()=>{this.x(L.x),this.y(L.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const L=this.getStage();if(!L)return null;const B=L.getPointerPosition();if(!B)return null;const V=this.getAbsoluteTransform().copy();return V.invert(),V.point(B)}getAbsolutePosition(L){let B=!1,V=this.parent;for(;V;){if(V.isCached()){B=!0;break}V=V.parent}B&&!L&&(L=!0);const H=this.getAbsoluteTransform(L).getMatrix(),O=new l.Transform,K=this.offset();return O.m=H.slice(),O.translate(K.x,K.y),O.getTranslation()}setAbsolutePosition(L){const{x:B,y:V,...H}=this._clearTransform();this.attrs.x=B,this.attrs.y=V,this._clearCache(z);const O=this._getAbsoluteTransform().copy();return O.invert(),O.translate(L.x,L.y),L={x:this.attrs.x+O.getTranslation().x,y:this.attrs.y+O.getTranslation().y},this._setTransform(H),this.setPosition({x:L.x,y:L.y}),this._clearCache(z),this._clearSelfAndDescendantCache(h),this}_setTransform(L){let B;for(B in L)this.attrs[B]=L[B]}_clearTransform(){const L={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,L}move(L){let B=L.x,V=L.y,H=this.x(),O=this.y();return B!==void 0&&(H+=B),V!==void 0&&(O+=V),this.setPosition({x:H,y:O}),this}_eachAncestorReverse(L,B){let V=[],H=this.getParent(),O,K;if(!(B&&B._id===this._id)){for(V.unshift(this);H&&(!B||H._id!==B._id);)V.unshift(H),H=H.parent;for(O=V.length,K=0;K<O;K++)L(V[K])}}rotate(L){return this.rotation(this.rotation()+L),this}moveToTop(){if(!this.parent)return l.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const L=this.index,B=this.parent.getChildren().length;return L<B-1?(this.parent.children.splice(L,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return l.Util.warn("Node has no parent. moveUp function is ignored."),!1;const L=this.index,B=this.parent.getChildren().length;return L<B-1?(this.parent.children.splice(L,1),this.parent.children.splice(L+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return l.Util.warn("Node has no parent. moveDown function is ignored."),!1;const L=this.index;return L>0?(this.parent.children.splice(L,1),this.parent.children.splice(L-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return l.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const L=this.index;return L>0?(this.parent.children.splice(L,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(L){if(!this.parent)return l.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(L<0||L>=this.parent.children.length)&&l.Util.warn("Unexpected value "+L+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const B=this.index;return this.parent.children.splice(B,1),this.parent.children.splice(L,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(d,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let L=this.opacity();const B=this.getParent();return B&&!B._isUnderCache&&(L*=B.getAbsoluteOpacity()),L}moveTo(L){return this.getParent()!==L&&(this._remove(),L.add(this)),this}toObject(){let L=this.getAttrs(),B,V,H,O,K;const J={attrs:{},className:this.getClassName()};for(B in L)V=L[B],K=l.Util.isObject(V)&&!l.Util._isPlainObject(V)&&!l.Util._isArray(V),!K&&(H=typeof this[B]=="function"&&this[B],delete L[B],O=H?H.call(this):null,L[B]=V,O!==V&&(J.attrs[B]=V));return l.Util._prepareToStringify(J)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(L,B,V){const H=[];B&&this._isMatch(L)&&H.push(this);let O=this.parent;for(;O;){if(O===V)return H;O._isMatch(L)&&H.push(O),O=O.parent}return H}isAncestorOf(L){return!1}findAncestor(L,B,V){return this.findAncestors(L,B,V)[0]}_isMatch(L){if(!L)return!1;if(typeof L=="function")return L(this);let B=L.replace(/ /g,"").split(","),V=B.length,H,O;for(H=0;H<V;H++)if(O=B[H],l.Util.isValidSelector(O)||(l.Util.warn('Selector "'+O+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),l.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),l.Util.warn("Konva is awesome, right?")),O.charAt(0)==="#"){if(this.id()===O.slice(1))return!0}else if(O.charAt(0)==="."){if(this.hasName(O.slice(1)))return!0}else if(this.className===O||this.nodeType===O)return!0;return!1}getLayer(){const L=this.getParent();return L?L.getLayer():null}getStage(){return this._getCache(F,this._getStage)}_getStage(){const L=this.getParent();return L?L.getStage():null}fire(L,B={},V){return B.target=B.target||this,V?this._fireAndBubble(L,B):this._fire(L,B),this}getAbsoluteTransform(L){return L?this._getAbsoluteTransform(L):this._getCache(h,this._getAbsoluteTransform)}_getAbsoluteTransform(L){let B;if(L)return B=new l.Transform,this._eachAncestorReverse(function(V){const H=V.transformsEnabled();H==="all"?B.multiply(V.getTransform()):H==="position"&&B.translate(V.x()-V.offsetX(),V.y()-V.offsetY())},L),B;{B=this._cache.get(h)||new l.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(B):B.reset();const V=this.transformsEnabled();if(V==="all")B.multiply(this.getTransform());else if(V==="position"){const H=this.attrs.x||0,O=this.attrs.y||0,K=this.attrs.offsetX||0,J=this.attrs.offsetY||0;B.translate(H-K,O-J)}return B.dirty=!1,B}}getAbsoluteScale(L){let B=this;for(;B;)B._isUnderCache&&(L=B),B=B.getParent();const H=this.getAbsoluteTransform(L).decompose();return{x:H.scaleX,y:H.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(z,this._getTransform)}_getTransform(){var L,B;const V=this._cache.get(z)||new l.Transform;V.reset();const H=this.x(),O=this.y(),K=a.Konva.getAngle(this.rotation()),J=(L=this.attrs.scaleX)!==null&&L!==void 0?L:1,ue=(B=this.attrs.scaleY)!==null&&B!==void 0?B:1,me=this.attrs.skewX||0,se=this.attrs.skewY||0,X=this.attrs.offsetX||0,oe=this.attrs.offsetY||0;return(H!==0||O!==0)&&V.translate(H,O),K!==0&&V.rotate(K),(me!==0||se!==0)&&V.skew(me,se),(J!==1||ue!==1)&&V.scale(J,ue),(X!==0||oe!==0)&&V.translate(-1*X,-1*oe),V.dirty=!1,V}clone(L){let B=l.Util.cloneObject(this.attrs),V,H,O,K,J;for(V in L)B[V]=L[V];const ue=new this.constructor(B);for(V in this.eventListeners)for(H=this.eventListeners[V],O=H.length,K=0;K<O;K++)J=H[K],J.name.indexOf(_)<0&&(ue.eventListeners[V]||(ue.eventListeners[V]=[]),ue.eventListeners[V].push(J));return ue}_toKonvaCanvas(L){L=L||{};const B=this.getClientRect(),V=this.getStage(),H=L.x!==void 0?L.x:Math.floor(B.x),O=L.y!==void 0?L.y:Math.floor(B.y),K=L.pixelRatio||1,J=new e.SceneCanvas({width:L.width||Math.ceil(B.width)||(V?V.width():0),height:L.height||Math.ceil(B.height)||(V?V.height():0),pixelRatio:K}),ue=J.getContext(),me=new e.SceneCanvas({width:J.width/J.pixelRatio+Math.abs(H),height:J.height/J.pixelRatio+Math.abs(O),pixelRatio:J.pixelRatio});return L.imageSmoothingEnabled===!1&&(ue._context.imageSmoothingEnabled=!1),ue.save(),(H||O)&&ue.translate(-1*H,-1*O),this.drawScene(J,void 0,me),ue.restore(),J}toCanvas(L){return this._toKonvaCanvas(L)._canvas}toDataURL(L){L=L||{};const B=L.mimeType||null,V=L.quality||null,H=this._toKonvaCanvas(L).toDataURL(B,V);return L.callback&&L.callback(H),H}toImage(L){return new Promise((B,V)=>{try{const H=L==null?void 0:L.callback;H&&delete L.callback,l.Util._urlToImage(this.toDataURL(L),function(O){B(O),H==null||H(O)})}catch(H){V(H)}})}toBlob(L){return new Promise((B,V)=>{try{const H=L==null?void 0:L.callback;H&&delete L.callback,this.toCanvas(L).toBlob(O=>{B(O),H==null||H(O)},L==null?void 0:L.mimeType,L==null?void 0:L.quality)}catch(H){V(H)}})}setSize(L){return this.width(L.width),this.height(L.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():a.Konva.dragDistance}_off(L,B,V){let H=this.eventListeners[L],O,K,J;for(O=0;O<H.length;O++)if(K=H[O].name,J=H[O].handler,(K!=="konva"||B==="konva")&&(!B||K===B)&&(!V||V===J)){if(H.splice(O,1),H.length===0){delete this.eventListeners[L];break}O--}}_fireChangeEvent(L,B,V){this._fire(L+S,{oldVal:B,newVal:V})}addName(L){if(!this.hasName(L)){const B=this.name(),V=B?B+" "+L:L;this.name(V)}return this}hasName(L){if(!L)return!1;const B=this.name();return B?(B||"").split(/\s/g).indexOf(L)!==-1:!1}removeName(L){const B=(this.name()||"").split(/\s/g),V=B.indexOf(L);return V!==-1&&(B.splice(V,1),this.name(B.join(" "))),this}setAttr(L,B){const V=this[A+l.Util._capitalize(L)];return l.Util._isFunction(V)?V.call(this,B):this._setAttr(L,B),this}_requestDraw(){if(a.Konva.autoDrawEnabled){const L=this.getLayer()||this.getStage();L==null||L.batchDraw()}}_setAttr(L,B){const V=this.attrs[L];V===B&&!l.Util.isObject(B)||(B==null?delete this.attrs[L]:this.attrs[L]=B,this._shouldFireChangeEvents&&this._fireChangeEvent(L,V,B),this._requestDraw())}_setComponentAttr(L,B,V){let H;V!==void 0&&(H=this.attrs[L],H||(this.attrs[L]=this.getAttr(L)),this.attrs[L][B]=V,this._fireChangeEvent(L,H,V))}_fireAndBubble(L,B,V){B&&this.nodeType===M&&(B.target=this);const H=[P,R,I,k,x,T];if(!(H.indexOf(L)!==-1&&(V&&(this===V||this.isAncestorOf&&this.isAncestorOf(V))||this.nodeType==="Stage"&&!V))){this._fire(L,B);const K=H.indexOf(L)!==-1&&V&&V.isAncestorOf&&V.isAncestorOf(this)&&!V.isAncestorOf(this.parent);(B&&!B.cancelBubble||!B)&&this.parent&&this.parent.isListening()&&!K&&(V&&V.parent?this._fireAndBubble.call(this.parent,L,B,V):this._fireAndBubble.call(this.parent,L,B))}}_getProtoListeners(L){var B,V,H;const O=(B=this._cache.get(f))!==null&&B!==void 0?B:{};let K=O==null?void 0:O[L];if(K===void 0){K=[];let J=Object.getPrototypeOf(this);for(;J;){const ue=(H=(V=J.eventListeners)===null||V===void 0?void 0:V[L])!==null&&H!==void 0?H:[];K.push(...ue),J=Object.getPrototypeOf(J)}O[L]=K,this._cache.set(f,O)}return K}_fire(L,B){B=B||{},B.currentTarget=this,B.type=L;const V=this._getProtoListeners(L);if(V)for(let O=0;O<V.length;O++)V[O].handler.call(this,B);const H=this.eventListeners[L];if(H)for(let O=0;O<H.length;O++)H[O].handler.call(this,B)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(L){const B=L?L.pointerId:void 0,V=this.getStage(),H=this.getAbsolutePosition();if(!V)return;const O=V._getPointerById(B)||V._changedPointerPositions[0]||H;n.DD._dragElements.set(this._id,{node:this,startPointerPos:O,offset:{x:O.x-H.x,y:O.y-H.y},dragStatus:"ready",pointerId:B})}startDrag(L,B=!0){n.DD._dragElements.has(this._id)||this._createDragElement(L);const V=n.DD._dragElements.get(this._id);V.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:L&&L.evt},B)}_setDragPosition(L,B){const V=this.getStage()._getPointerById(B.pointerId);if(!V)return;let H={x:V.x-B.offset.x,y:V.y-B.offset.y};const O=this.dragBoundFunc();if(O!==void 0){const K=O.call(this,H,L);K?H=K:l.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==H.x||this._lastPos.y!==H.y)&&(this.setAbsolutePosition(H),this._requestDraw()),this._lastPos=H}stopDrag(L){const B=n.DD._dragElements.get(this._id);B&&(B.dragStatus="stopped"),n.DD._endDragBefore(L),n.DD._endDragAfter(L)}setDraggable(L){this._setAttr("draggable",L),this._dragChange()}isDragging(){const L=n.DD._dragElements.get(this._id);return L?L.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(L){if(!(!(L.evt.button!==void 0)||a.Konva.dragButtons.indexOf(L.evt.button)>=0)||this.isDragging())return;let H=!1;n.DD._dragElements.forEach(O=>{this.isAncestorOf(O.node)&&(H=!0)}),H||this._createDragElement(L)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const B=n.DD._dragElements.get(this._id),V=B&&B.dragStatus==="dragging",H=B&&B.dragStatus==="ready";V?this.stopDrag():H&&n.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(L={x:0,y:0}){const B=this.getStage();if(!B)return!1;const V={x:-L.x,y:-L.y,width:B.width()+2*L.x,height:B.height()+2*L.y};return l.Util.haveIntersection(V,this.getClientRect())}static create(L,B){return l.Util._isString(L)&&(L=JSON.parse(L)),this._createNode(L,B)}static _createNode(L,B){let V=jp.prototype.getClassName.call(L),H=L.children,O,K,J;B&&(L.attrs.container=B),a.Konva[V]||(l.Util.warn('Can not find a node with class name "'+V+'". Fallback to "Shape".'),V="Shape");const ue=a.Konva[V];if(O=new ue(L.attrs),H)for(K=H.length,J=0;J<K;J++)O.add(jp._createNode(H[J]));return O}};Hu.Node=re,re.prototype.nodeType="Node",re.prototype._attrsAffectingSize=[],re.prototype.eventListeners={},re.prototype.on.call(re.prototype,Q,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(z),this._clearSelfAndDescendantCache(h)}),re.prototype.on.call(re.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache($)}),re.prototype.on.call(re.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(C)}),re.prototype.on.call(re.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(d)});const ee=o.Factory.addGetterSetter;return ee(re,"zIndex"),ee(re,"absolutePosition"),ee(re,"position"),ee(re,"x",0,(0,c.getNumberValidator)()),ee(re,"y",0,(0,c.getNumberValidator)()),ee(re,"globalCompositeOperation","source-over",(0,c.getStringValidator)()),ee(re,"opacity",1,(0,c.getNumberValidator)()),ee(re,"name","",(0,c.getStringValidator)()),ee(re,"id","",(0,c.getStringValidator)()),ee(re,"rotation",0,(0,c.getNumberValidator)()),o.Factory.addComponentsGetterSetter(re,"scale",["x","y"]),ee(re,"scaleX",1,(0,c.getNumberValidator)()),ee(re,"scaleY",1,(0,c.getNumberValidator)()),o.Factory.addComponentsGetterSetter(re,"skew",["x","y"]),ee(re,"skewX",0,(0,c.getNumberValidator)()),ee(re,"skewY",0,(0,c.getNumberValidator)()),o.Factory.addComponentsGetterSetter(re,"offset",["x","y"]),ee(re,"offsetX",0,(0,c.getNumberValidator)()),ee(re,"offsetY",0,(0,c.getNumberValidator)()),ee(re,"dragDistance",void 0,(0,c.getNumberValidator)()),ee(re,"width",0,(0,c.getNumberValidator)()),ee(re,"height",0,(0,c.getNumberValidator)()),ee(re,"listening",!0,(0,c.getBooleanValidator)()),ee(re,"preventDefault",!0,(0,c.getBooleanValidator)()),ee(re,"filters",void 0,function(ge){return this._filterUpToDate=!1,ge}),ee(re,"visible",!0,(0,c.getBooleanValidator)()),ee(re,"transformsEnabled","all",(0,c.getStringValidator)()),ee(re,"size"),ee(re,"dragBoundFunc"),ee(re,"draggable",!1,(0,c.getBooleanValidator)()),o.Factory.backCompat(re,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Hu}var Wu={},Rm;function Jf(){if(Rm)return Wu;Rm=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.Container=void 0;const e=gt(),n=yn(),o=St();let a=class extends n.Node{constructor(){super(...arguments),this.children=[]}getChildren(c){const d=this.children||[];return c?d.filter(c):d}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(c=>{c.parent=null,c.index=0,c.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(c=>{c.parent=null,c.index=0,c.destroy()}),this.children=[],this._requestDraw(),this}add(...c){if(c.length===0)return this;if(c.length>1){for(let f=0;f<c.length;f++)this.add(c[f]);return this}const d=c[0];return d.getParent()?(d.moveTo(this),this):(this._validateAdd(d),d.index=this.getChildren().length,d.parent=this,d._clearCaches(),this.getChildren().push(d),this._fire("add",{child:d}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(c){return this._generalFind(c,!1)}findOne(c){const d=this._generalFind(c,!0);return d.length>0?d[0]:void 0}_generalFind(c,d){const f=[];return this._descendants(h=>{const m=h._isMatch(c);return m&&f.push(h),!!(m&&d)}),f}_descendants(c){let d=!1;const f=this.getChildren();for(const h of f){if(d=c(h),d)return!0;if(h.hasChildren()&&(d=h._descendants(c),d))return!0}return!1}toObject(){const c=n.Node.prototype.toObject.call(this);return c.children=[],this.getChildren().forEach(d=>{c.children.push(d.toObject())}),c}isAncestorOf(c){let d=c.getParent();for(;d;){if(d._id===this._id)return!0;d=d.getParent()}return!1}clone(c){const d=n.Node.prototype.clone.call(this,c);return this.getChildren().forEach(function(f){d.add(f.clone())}),d}getAllIntersections(c){const d=[];return this.find("Shape").forEach(f=>{f.isVisible()&&f.intersects(c)&&d.push(f)}),d}_clearSelfAndDescendantCache(c){var d;super._clearSelfAndDescendantCache(c),!this.isCached()&&((d=this.children)===null||d===void 0||d.forEach(function(f){f._clearSelfAndDescendantCache(c)}))}_setChildrenIndices(){var c;(c=this.children)===null||c===void 0||c.forEach(function(d,f){d.index=f}),this._requestDraw()}drawScene(c,d,f){const h=this.getLayer(),m=c||h&&h.getCanvas(),y=m&&m.getContext(),S=this._getCanvasCache(),v=S&&S.scene,_=m&&m.isCache;if(!this.isVisible()&&!_)return this;if(v){y.save();const C=this.getAbsoluteTransform(d).getMatrix();y.transform(C[0],C[1],C[2],C[3],C[4],C[5]),this._drawCachedSceneCanvas(y),y.restore()}else this._drawChildren("drawScene",m,d,f);return this}drawHit(c,d){if(!this.shouldDrawHit(d))return this;const f=this.getLayer(),h=c||f&&f.hitCanvas,m=h&&h.getContext(),y=this._getCanvasCache();if(y&&y.hit){m.save();const v=this.getAbsoluteTransform(d).getMatrix();m.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedHitCanvas(m),m.restore()}else this._drawChildren("drawHit",h,d);return this}_drawChildren(c,d,f,h){var m;const y=d&&d.getContext(),S=this.clipWidth(),v=this.clipHeight(),_=this.clipFunc(),C=typeof S=="number"&&typeof v=="number"||_,P=f===this;if(C){y.save();const I=this.getAbsoluteTransform(f);let k=I.getMatrix();y.transform(k[0],k[1],k[2],k[3],k[4],k[5]),y.beginPath();let x;if(_)x=_.call(this,y,this);else{const T=this.clipX(),A=this.clipY();y.rect(T||0,A||0,S,v)}y.clip.apply(y,x),k=I.copy().invert().getMatrix(),y.transform(k[0],k[1],k[2],k[3],k[4],k[5])}const R=!P&&this.globalCompositeOperation()!=="source-over"&&c==="drawScene";R&&(y.save(),y._applyGlobalCompositeOperation(this)),(m=this.children)===null||m===void 0||m.forEach(function(I){I[c](d,f,h)}),R&&y.restore(),C&&y.restore()}getClientRect(c={}){var d;const f=c.skipTransform,h=c.relativeTo;let m,y,S,v,_={x:1/0,y:1/0,width:0,height:0};const C=this;(d=this.children)===null||d===void 0||d.forEach(function(I){if(!I.visible())return;const k=I.getClientRect({relativeTo:C,skipShadow:c.skipShadow,skipStroke:c.skipStroke});k.width===0&&k.height===0||(m===void 0?(m=k.x,y=k.y,S=k.x+k.width,v=k.y+k.height):(m=Math.min(m,k.x),y=Math.min(y,k.y),S=Math.max(S,k.x+k.width),v=Math.max(v,k.y+k.height)))});const P=this.find("Shape");let R=!1;for(let I=0;I<P.length;I++)if(P[I]._isVisible(this)){R=!0;break}return R&&m!==void 0?_={x:m,y,width:S-m,height:v-y}:_={x:0,y:0,width:0,height:0},f?_:this._transformedRect(_,h)}};return Wu.Container=a,e.Factory.addComponentsGetterSetter(a,"clip",["x","y","width","height"]),e.Factory.addGetterSetter(a,"clipX",void 0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(a,"clipY",void 0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(a,"clipWidth",void 0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(a,"clipHeight",void 0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(a,"clipFunc"),Wu}var hp={},Os={},Nm;function Fv(){if(Nm)return Os;Nm=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.getCapturedShape=a,Os.createEvent=l,Os.hasPointerCapture=c,Os.setPointerCapture=d,Os.releaseCapture=f;const e=ct(),n=new Map,o=e.Konva._global.PointerEvent!==void 0;function a(h){return n.get(h)}function l(h){return{evt:h,pointerId:h.pointerId}}function c(h,m){return n.get(h)===m}function d(h,m){f(h),m.getStage()&&(n.set(h,m),o&&m._fire("gotpointercapture",l(new PointerEvent("gotpointercapture"))))}function f(h,m){const y=n.get(h);if(!y)return;const S=y.getStage();S&&S.content,n.delete(h),o&&y._fire("lostpointercapture",l(new PointerEvent("lostpointercapture")))}return Os}var Tm;function T8(){return Tm||(Tm=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const n=un(),o=gt(),a=Jf(),l=ct(),c=Qf(),d=bg(),f=ct(),h=Fv(),m="Stage",y="string",S="px",v="mouseout",_="mouseleave",C="mouseover",P="mouseenter",R="mousemove",I="mousedown",k="mouseup",x="pointermove",T="pointerdown",A="pointerup",M="pointercancel",Y="lostpointercapture",F="pointerout",z="pointerleave",j="pointerover",$="pointerenter",Q="contextmenu",te="touchstart",re="touchend",ee="touchmove",ge="touchcancel",L="wheel",B=5,V=[[P,"_pointerenter"],[I,"_pointerdown"],[R,"_pointermove"],[k,"_pointerup"],[_,"_pointerleave"],[te,"_pointerdown"],[ee,"_pointermove"],[re,"_pointerup"],[ge,"_pointercancel"],[C,"_pointerover"],[L,"_wheel"],[Q,"_contextmenu"],[T,"_pointerdown"],[x,"_pointermove"],[A,"_pointerup"],[M,"_pointercancel"],[z,"_pointerleave"],[Y,"_lostpointercapture"]],H={mouse:{[F]:v,[z]:_,[j]:C,[$]:P,[x]:R,[T]:I,[A]:k,[M]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[F]:"touchout",[z]:"touchleave",[j]:"touchover",[$]:"touchenter",[x]:ee,[T]:te,[A]:re,[M]:ge,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[F]:F,[z]:z,[j]:j,[$]:$,[x]:x,[T]:T,[A]:A,[M]:M,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},O=se=>se.indexOf("pointer")>=0?"pointer":se.indexOf("touch")>=0?"touch":"mouse",K=se=>{const X=O(se);if(X==="pointer")return l.Konva.pointerEventsEnabled&&H.pointer;if(X==="touch")return H.touch;if(X==="mouse")return H.mouse};function J(se={}){return(se.clipFunc||se.clipWidth||se.clipHeight)&&n.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),se}const ue="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class me extends a.Container{constructor(X){super(J(X)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{J(this.attrs)}),this._checkVisibility()}_validateAdd(X){const oe=X.getType()==="Layer",ve=X.getType()==="FastLayer";oe||ve||n.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const X=this.visible()?"":"none";this.content.style.display=X}setContainer(X){if(typeof X===y){let oe;if(X.charAt(0)==="."){const ve=X.slice(1);X=document.getElementsByClassName(ve)[0]}else X.charAt(0)!=="#"?oe=X:oe=X.slice(1),X=document.getElementById(oe);if(!X)throw"Can not find container in document with id "+oe}return this._setAttr("container",X),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),X.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const X=this.children,oe=X.length;for(let ve=0;ve<oe;ve++)X[ve].clear();return this}clone(X){return X||(X={}),X.container=typeof document<"u"&&document.createElement("div"),a.Container.prototype.clone.call(this,X)}destroy(){super.destroy();const X=this.content;X&&n.Util._isInDocument(X)&&this.container().removeChild(X);const oe=e.stages.indexOf(this);return oe>-1&&e.stages.splice(oe,1),n.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const X=this._pointerPositions[0]||this._changedPointerPositions[0];return X?{x:X.x,y:X.y}:(n.Util.warn(ue),null)}_getPointerById(X){return this._pointerPositions.find(oe=>oe.id===X)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(X){X=X||{},X.x=X.x||0,X.y=X.y||0,X.width=X.width||this.width(),X.height=X.height||this.height();const oe=new c.SceneCanvas({width:X.width,height:X.height,pixelRatio:X.pixelRatio||1}),ve=oe.getContext()._context,we=this.children;return(X.x||X.y)&&ve.translate(-1*X.x,-1*X.y),we.forEach(function(Te){if(!Te.isVisible())return;const Le=Te._toKonvaCanvas(X);ve.drawImage(Le._canvas,X.x,X.y,Le.getWidth()/Le.getPixelRatio(),Le.getHeight()/Le.getPixelRatio())}),oe}getIntersection(X){if(!X)return null;const oe=this.children,ve=oe.length,we=ve-1;for(let Te=we;Te>=0;Te--){const Le=oe[Te].getIntersection(X);if(Le)return Le}return null}_resizeDOM(){const X=this.width(),oe=this.height();this.content&&(this.content.style.width=X+S,this.content.style.height=oe+S),this.bufferCanvas.setSize(X,oe),this.bufferHitCanvas.setSize(X,oe),this.children.forEach(ve=>{ve.setSize({width:X,height:oe}),ve.draw()})}add(X,...oe){if(arguments.length>1){for(let we=0;we<arguments.length;we++)this.add(arguments[we]);return this}super.add(X);const ve=this.children.length;return ve>B&&n.Util.warn("The stage has "+ve+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),X.setSize({width:this.width(),height:this.height()}),X.draw(),l.Konva.isBrowser&&this.content.appendChild(X.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(X){return h.hasPointerCapture(X,this)}setPointerCapture(X){h.setPointerCapture(X,this)}releaseCapture(X){h.releaseCapture(X,this)}getLayers(){return this.children}_bindContentEvents(){l.Konva.isBrowser&&V.forEach(([X,oe])=>{this.content.addEventListener(X,ve=>{this[oe](ve)},{passive:!1})})}_pointerenter(X){this.setPointersPositions(X);const oe=K(X.type);oe&&this._fire(oe.pointerenter,{evt:X,target:this,currentTarget:this})}_pointerover(X){this.setPointersPositions(X);const oe=K(X.type);oe&&this._fire(oe.pointerover,{evt:X,target:this,currentTarget:this})}_getTargetShape(X){let oe=this[X+"targetShape"];return oe&&!oe.getStage()&&(oe=null),oe}_pointerleave(X){const oe=K(X.type),ve=O(X.type);if(!oe)return;this.setPointersPositions(X);const we=this._getTargetShape(ve),Te=!(l.Konva.isDragging()||l.Konva.isTransforming())||l.Konva.hitOnDragEnabled;we&&Te?(we._fireAndBubble(oe.pointerout,{evt:X}),we._fireAndBubble(oe.pointerleave,{evt:X}),this._fire(oe.pointerleave,{evt:X,target:this,currentTarget:this}),this[ve+"targetShape"]=null):Te&&(this._fire(oe.pointerleave,{evt:X,target:this,currentTarget:this}),this._fire(oe.pointerout,{evt:X,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(X){const oe=K(X.type),ve=O(X.type);if(!oe)return;this.setPointersPositions(X);let we=!1;this._changedPointerPositions.forEach(Te=>{const Le=this.getIntersection(Te);if(d.DD.justDragged=!1,l.Konva["_"+ve+"ListenClick"]=!0,!Le||!Le.isListening()){this[ve+"ClickStartShape"]=void 0;return}l.Konva.capturePointerEventsEnabled&&Le.setPointerCapture(Te.id),this[ve+"ClickStartShape"]=Le,Le._fireAndBubble(oe.pointerdown,{evt:X,pointerId:Te.id}),we=!0;const Oe=X.type.indexOf("touch")>=0;Le.preventDefault()&&X.cancelable&&Oe&&X.preventDefault()}),we||this._fire(oe.pointerdown,{evt:X,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(X){const oe=K(X.type),ve=O(X.type);if(!oe||(l.Konva.isDragging()&&d.DD.node.preventDefault()&&X.cancelable&&X.preventDefault(),this.setPointersPositions(X),!(!(l.Konva.isDragging()||l.Konva.isTransforming())||l.Konva.hitOnDragEnabled)))return;const Te={};let Le=!1;const Oe=this._getTargetShape(ve);this._changedPointerPositions.forEach(ut=>{const Qe=h.getCapturedShape(ut.id)||this.getIntersection(ut),Se=ut.id,xe={evt:X,pointerId:Se},Fe=Oe!==Qe;if(Fe&&Oe&&(Oe._fireAndBubble(oe.pointerout,{...xe},Qe),Oe._fireAndBubble(oe.pointerleave,{...xe},Qe)),Qe){if(Te[Qe._id])return;Te[Qe._id]=!0}Qe&&Qe.isListening()?(Le=!0,Fe&&(Qe._fireAndBubble(oe.pointerover,{...xe},Oe),Qe._fireAndBubble(oe.pointerenter,{...xe},Oe),this[ve+"targetShape"]=Qe),Qe._fireAndBubble(oe.pointermove,{...xe})):Oe&&(this._fire(oe.pointerover,{evt:X,target:this,currentTarget:this,pointerId:Se}),this[ve+"targetShape"]=null)}),Le||this._fire(oe.pointermove,{evt:X,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(X){const oe=K(X.type),ve=O(X.type);if(!oe)return;this.setPointersPositions(X);const we=this[ve+"ClickStartShape"],Te=this[ve+"ClickEndShape"],Le={};let Oe=!1;this._changedPointerPositions.forEach(ut=>{const Qe=h.getCapturedShape(ut.id)||this.getIntersection(ut);if(Qe){if(Qe.releaseCapture(ut.id),Le[Qe._id])return;Le[Qe._id]=!0}const Se=ut.id,xe={evt:X,pointerId:Se};let Fe=!1;l.Konva["_"+ve+"InDblClickWindow"]?(Fe=!0,clearTimeout(this[ve+"DblTimeout"])):d.DD.justDragged||(l.Konva["_"+ve+"InDblClickWindow"]=!0,clearTimeout(this[ve+"DblTimeout"])),this[ve+"DblTimeout"]=setTimeout(function(){l.Konva["_"+ve+"InDblClickWindow"]=!1},l.Konva.dblClickWindow),Qe&&Qe.isListening()?(Oe=!0,this[ve+"ClickEndShape"]=Qe,Qe._fireAndBubble(oe.pointerup,{...xe}),l.Konva["_"+ve+"ListenClick"]&&we&&we===Qe&&(Qe._fireAndBubble(oe.pointerclick,{...xe}),Fe&&Te&&Te===Qe&&Qe._fireAndBubble(oe.pointerdblclick,{...xe}))):(this[ve+"ClickEndShape"]=null,l.Konva["_"+ve+"ListenClick"]&&this._fire(oe.pointerclick,{evt:X,target:this,currentTarget:this,pointerId:Se}),Fe&&this._fire(oe.pointerdblclick,{evt:X,target:this,currentTarget:this,pointerId:Se}))}),Oe||this._fire(oe.pointerup,{evt:X,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),l.Konva["_"+ve+"ListenClick"]=!1,X.cancelable&&ve!=="touch"&&ve!=="pointer"&&X.preventDefault()}_contextmenu(X){this.setPointersPositions(X);const oe=this.getIntersection(this.getPointerPosition());oe&&oe.isListening()?oe._fireAndBubble(Q,{evt:X}):this._fire(Q,{evt:X,target:this,currentTarget:this})}_wheel(X){this.setPointersPositions(X);const oe=this.getIntersection(this.getPointerPosition());oe&&oe.isListening()?oe._fireAndBubble(L,{evt:X}):this._fire(L,{evt:X,target:this,currentTarget:this})}_pointercancel(X){this.setPointersPositions(X);const oe=h.getCapturedShape(X.pointerId)||this.getIntersection(this.getPointerPosition());oe&&oe._fireAndBubble(A,h.createEvent(X)),h.releaseCapture(X.pointerId)}_lostpointercapture(X){h.releaseCapture(X.pointerId)}setPointersPositions(X){const oe=this._getContentPosition();let ve=null,we=null;X=X||window.event,X.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(X.touches,Te=>{this._pointerPositions.push({id:Te.identifier,x:(Te.clientX-oe.left)/oe.scaleX,y:(Te.clientY-oe.top)/oe.scaleY})}),Array.prototype.forEach.call(X.changedTouches||X.touches,Te=>{this._changedPointerPositions.push({id:Te.identifier,x:(Te.clientX-oe.left)/oe.scaleX,y:(Te.clientY-oe.top)/oe.scaleY})})):(ve=(X.clientX-oe.left)/oe.scaleX,we=(X.clientY-oe.top)/oe.scaleY,this.pointerPos={x:ve,y:we},this._pointerPositions=[{x:ve,y:we,id:n.Util._getFirstPointerId(X)}],this._changedPointerPositions=[{x:ve,y:we,id:n.Util._getFirstPointerId(X)}])}_setPointerPosition(X){n.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(X)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const X=this.content.getBoundingClientRect();return{top:X.top,left:X.left,scaleX:X.width/this.content.clientWidth||1,scaleY:X.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new c.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new c.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!l.Konva.isBrowser)return;const X=this.container();if(!X)throw"Stage has no container. A container is required.";X.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),X.appendChild(this.content),this._resizeDOM()}cache(){return n.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(X){X.batchDraw()}),this}}e.Stage=me,me.prototype.nodeType=m,(0,f._registerNode)(me),o.Factory.addGetterSetter(me,"container"),l.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{e.stages.forEach(se=>{se.batchDraw()})})})(hp)),hp}var Vu={},pp={},Im;function Wn(){return Im||(Im=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const n=ct(),o=un(),a=gt(),l=yn(),c=St(),d=ct(),f=Fv(),h="hasShadow",m="shadowRGBA",y="patternImage",S="linearGradient",v="radialGradient";let _;function C(){return _||(_=o.Util.createCanvasElement().getContext("2d"),_)}e.shapes={};function P(z){const j=this.attrs.fillRule;j?z.fill(j):z.fill()}function R(z){z.stroke()}function I(z){const j=this.attrs.fillRule;j?z.fill(j):z.fill()}function k(z){z.stroke()}function x(){this._clearCache(h)}function T(){this._clearCache(m)}function A(){this._clearCache(y)}function M(){this._clearCache(S)}function Y(){this._clearCache(v)}class F extends l.Node{constructor(j){super(j);let $;for(;$=o.Util.getRandomColor(),!($&&!($ in e.shapes)););this.colorKey=$,e.shapes[$]=this}getContext(){return o.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return o.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(h,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(y,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const $=C().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if($&&$.setTransform){const Q=new o.Transform;Q.translate(this.fillPatternX(),this.fillPatternY()),Q.rotate(n.Konva.getAngle(this.fillPatternRotation())),Q.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),Q.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const te=Q.getMatrix(),re=typeof DOMMatrix>"u"?{a:te[0],b:te[1],c:te[2],d:te[3],e:te[4],f:te[5]}:new DOMMatrix(te);$.setTransform(re)}return $}}_getLinearGradient(){return this._getCache(S,this.__getLinearGradient)}__getLinearGradient(){const j=this.fillLinearGradientColorStops();if(j){const $=C(),Q=this.fillLinearGradientStartPoint(),te=this.fillLinearGradientEndPoint(),re=$.createLinearGradient(Q.x,Q.y,te.x,te.y);for(let ee=0;ee<j.length;ee+=2)re.addColorStop(j[ee],j[ee+1]);return re}}_getRadialGradient(){return this._getCache(v,this.__getRadialGradient)}__getRadialGradient(){const j=this.fillRadialGradientColorStops();if(j){const $=C(),Q=this.fillRadialGradientStartPoint(),te=this.fillRadialGradientEndPoint(),re=$.createRadialGradient(Q.x,Q.y,this.fillRadialGradientStartRadius(),te.x,te.y,this.fillRadialGradientEndRadius());for(let ee=0;ee<j.length;ee+=2)re.addColorStop(j[ee],j[ee+1]);return re}}getShadowRGBA(){return this._getCache(m,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const j=o.Util.colorToRGBA(this.shadowColor());if(j)return"rgba("+j.r+","+j.g+","+j.b+","+j.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const j=this.hitStrokeWidth();return j==="auto"?this.hasStroke():this.strokeEnabled()&&!!j}intersects(j){const $=this.getStage();if(!$)return!1;const Q=$.bufferHitCanvas;return Q.getContext().clear(),this.drawHit(Q,void 0,!0),Q.context.getImageData(Math.round(j.x),Math.round(j.y),1,1).data[3]>0}destroy(){return l.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(j){var $;if(!(($=this.attrs.perfectDrawEnabled)!==null&&$!==void 0?$:!0))return!1;const te=j||this.hasFill(),re=this.hasStroke(),ee=this.getAbsoluteOpacity()!==1;if(te&&re&&ee)return!0;const ge=this.hasShadow(),L=this.shadowForStrokeEnabled();return!!(te&&re&&ge&&L)}setStrokeHitEnabled(j){o.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),j?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const j=this.size();return{x:this._centroid?-j.width/2:0,y:this._centroid?-j.height/2:0,width:j.width,height:j.height}}getClientRect(j={}){let $=!1,Q=this.getParent();for(;Q;){if(Q.isCached()){$=!0;break}Q=Q.getParent()}const te=j.skipTransform,re=j.relativeTo||$&&this.getStage()||void 0,ee=this.getSelfRect(),L=!j.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,B=ee.width+L,V=ee.height+L,H=!j.skipShadow&&this.hasShadow(),O=H?this.shadowOffsetX():0,K=H?this.shadowOffsetY():0,J=B+Math.abs(O),ue=V+Math.abs(K),me=H&&this.shadowBlur()||0,se=J+me*2,X=ue+me*2,oe={width:se,height:X,x:-(L/2+me)+Math.min(O,0)+ee.x,y:-(L/2+me)+Math.min(K,0)+ee.y};return te?oe:this._transformedRect(oe,re)}drawScene(j,$,Q){const te=this.getLayer(),re=j||te.getCanvas(),ee=re.getContext(),ge=this._getCanvasCache(),L=this.getSceneFunc(),B=this.hasShadow();let V;const H=$===this;if(!this.isVisible()&&!H)return this;if(ge){ee.save();const O=this.getAbsoluteTransform($).getMatrix();return ee.transform(O[0],O[1],O[2],O[3],O[4],O[5]),this._drawCachedSceneCanvas(ee),ee.restore(),this}if(!L)return this;if(ee.save(),this._useBufferCanvas()){V=this.getStage();const O=Q||V.bufferCanvas,K=O.getContext();K.clear(),K.save(),K._applyLineJoin(this);const J=this.getAbsoluteTransform($).getMatrix();K.transform(J[0],J[1],J[2],J[3],J[4],J[5]),L.call(this,K,this),K.restore();const ue=O.pixelRatio;B&&ee._applyShadow(this),ee._applyOpacity(this),ee._applyGlobalCompositeOperation(this),ee.drawImage(O._canvas,O.x||0,O.y||0,O.width/ue,O.height/ue)}else{if(ee._applyLineJoin(this),!H){const O=this.getAbsoluteTransform($).getMatrix();ee.transform(O[0],O[1],O[2],O[3],O[4],O[5]),ee._applyOpacity(this),ee._applyGlobalCompositeOperation(this)}B&&ee._applyShadow(this),L.call(this,ee,this)}return ee.restore(),this}drawHit(j,$,Q=!1){if(!this.shouldDrawHit($,Q))return this;const te=this.getLayer(),re=j||te.hitCanvas,ee=re&&re.getContext(),ge=this.hitFunc()||this.sceneFunc(),L=this._getCanvasCache(),B=L&&L.hit;if(this.colorKey||o.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),B){ee.save();const H=this.getAbsoluteTransform($).getMatrix();return ee.transform(H[0],H[1],H[2],H[3],H[4],H[5]),this._drawCachedHitCanvas(ee),ee.restore(),this}if(!ge)return this;if(ee.save(),ee._applyLineJoin(this),!(this===$)){const H=this.getAbsoluteTransform($).getMatrix();ee.transform(H[0],H[1],H[2],H[3],H[4],H[5])}return ge.call(this,ee,this),ee.restore(),this}drawHitFromCache(j=0){const $=this._getCanvasCache(),Q=this._getCachedSceneCanvas(),te=$.hit,re=te.getContext(),ee=te.getWidth(),ge=te.getHeight();re.clear(),re.drawImage(Q._canvas,0,0,ee,ge);try{const L=re.getImageData(0,0,ee,ge),B=L.data,V=B.length,H=o.Util._hexToRgb(this.colorKey);for(let O=0;O<V;O+=4)B[O+3]>j?(B[O]=H.r,B[O+1]=H.g,B[O+2]=H.b,B[O+3]=255):B[O+3]=0;re.putImageData(L,0,0)}catch(L){o.Util.error("Unable to draw hit graph from cached scene canvas. "+L.message)}return this}hasPointerCapture(j){return f.hasPointerCapture(j,this)}setPointerCapture(j){f.setPointerCapture(j,this)}releaseCapture(j){f.releaseCapture(j,this)}}e.Shape=F,F.prototype._fillFunc=P,F.prototype._strokeFunc=R,F.prototype._fillFuncHit=I,F.prototype._strokeFuncHit=k,F.prototype._centroid=!1,F.prototype.nodeType="Shape",(0,d._registerNode)(F),F.prototype.eventListeners={},F.prototype.on.call(F.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",x),F.prototype.on.call(F.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",T),F.prototype.on.call(F.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",A),F.prototype.on.call(F.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",M),F.prototype.on.call(F.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",Y),a.Factory.addGetterSetter(F,"stroke",void 0,(0,c.getStringOrGradientValidator)()),a.Factory.addGetterSetter(F,"strokeWidth",2,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(F,"fillAfterStrokeEnabled",!1),a.Factory.addGetterSetter(F,"hitStrokeWidth","auto",(0,c.getNumberOrAutoValidator)()),a.Factory.addGetterSetter(F,"strokeHitEnabled",!0,(0,c.getBooleanValidator)()),a.Factory.addGetterSetter(F,"perfectDrawEnabled",!0,(0,c.getBooleanValidator)()),a.Factory.addGetterSetter(F,"shadowForStrokeEnabled",!0,(0,c.getBooleanValidator)()),a.Factory.addGetterSetter(F,"lineJoin"),a.Factory.addGetterSetter(F,"lineCap"),a.Factory.addGetterSetter(F,"sceneFunc"),a.Factory.addGetterSetter(F,"hitFunc"),a.Factory.addGetterSetter(F,"dash"),a.Factory.addGetterSetter(F,"dashOffset",0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(F,"shadowColor",void 0,(0,c.getStringValidator)()),a.Factory.addGetterSetter(F,"shadowBlur",0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(F,"shadowOpacity",1,(0,c.getNumberValidator)()),a.Factory.addComponentsGetterSetter(F,"shadowOffset",["x","y"]),a.Factory.addGetterSetter(F,"shadowOffsetX",0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(F,"shadowOffsetY",0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(F,"fillPatternImage"),a.Factory.addGetterSetter(F,"fill",void 0,(0,c.getStringOrGradientValidator)()),a.Factory.addGetterSetter(F,"fillPatternX",0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(F,"fillPatternY",0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(F,"fillLinearGradientColorStops"),a.Factory.addGetterSetter(F,"strokeLinearGradientColorStops"),a.Factory.addGetterSetter(F,"fillRadialGradientStartRadius",0),a.Factory.addGetterSetter(F,"fillRadialGradientEndRadius",0),a.Factory.addGetterSetter(F,"fillRadialGradientColorStops"),a.Factory.addGetterSetter(F,"fillPatternRepeat","repeat"),a.Factory.addGetterSetter(F,"fillEnabled",!0),a.Factory.addGetterSetter(F,"strokeEnabled",!0),a.Factory.addGetterSetter(F,"shadowEnabled",!0),a.Factory.addGetterSetter(F,"dashEnabled",!0),a.Factory.addGetterSetter(F,"strokeScaleEnabled",!0),a.Factory.addGetterSetter(F,"fillPriority","color"),a.Factory.addComponentsGetterSetter(F,"fillPatternOffset",["x","y"]),a.Factory.addGetterSetter(F,"fillPatternOffsetX",0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(F,"fillPatternOffsetY",0,(0,c.getNumberValidator)()),a.Factory.addComponentsGetterSetter(F,"fillPatternScale",["x","y"]),a.Factory.addGetterSetter(F,"fillPatternScaleX",1,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(F,"fillPatternScaleY",1,(0,c.getNumberValidator)()),a.Factory.addComponentsGetterSetter(F,"fillLinearGradientStartPoint",["x","y"]),a.Factory.addComponentsGetterSetter(F,"strokeLinearGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(F,"fillLinearGradientStartPointX",0),a.Factory.addGetterSetter(F,"strokeLinearGradientStartPointX",0),a.Factory.addGetterSetter(F,"fillLinearGradientStartPointY",0),a.Factory.addGetterSetter(F,"strokeLinearGradientStartPointY",0),a.Factory.addComponentsGetterSetter(F,"fillLinearGradientEndPoint",["x","y"]),a.Factory.addComponentsGetterSetter(F,"strokeLinearGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(F,"fillLinearGradientEndPointX",0),a.Factory.addGetterSetter(F,"strokeLinearGradientEndPointX",0),a.Factory.addGetterSetter(F,"fillLinearGradientEndPointY",0),a.Factory.addGetterSetter(F,"strokeLinearGradientEndPointY",0),a.Factory.addComponentsGetterSetter(F,"fillRadialGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(F,"fillRadialGradientStartPointX",0),a.Factory.addGetterSetter(F,"fillRadialGradientStartPointY",0),a.Factory.addComponentsGetterSetter(F,"fillRadialGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(F,"fillRadialGradientEndPointX",0),a.Factory.addGetterSetter(F,"fillRadialGradientEndPointY",0),a.Factory.addGetterSetter(F,"fillPatternRotation",0),a.Factory.addGetterSetter(F,"fillRule",void 0,(0,c.getStringValidator)()),a.Factory.backCompat(F,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(pp)),pp}var Dm;function Bv(){if(Dm)return Vu;Dm=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.Layer=void 0;const e=un(),n=Jf(),o=yn(),a=gt(),l=Qf(),c=St(),d=Wn(),f=ct(),h="#",m="beforeDraw",y="draw",S=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],v=S.length;class _ extends n.Container{constructor(P){super(P),this.canvas=new l.SceneCanvas,this.hitCanvas=new l.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(P){return this.getContext().clear(P),this.getHitCanvas().getContext().clear(P),this}setZIndex(P){super.setZIndex(P);const R=this.getStage();return R&&R.content&&(R.content.removeChild(this.getNativeCanvasElement()),P<R.children.length-1?R.content.insertBefore(this.getNativeCanvasElement(),R.children[P+1].getCanvas()._canvas):R.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){o.Node.prototype.moveToTop.call(this);const P=this.getStage();return P&&P.content&&(P.content.removeChild(this.getNativeCanvasElement()),P.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!o.Node.prototype.moveUp.call(this))return!1;const R=this.getStage();return!R||!R.content?!1:(R.content.removeChild(this.getNativeCanvasElement()),this.index<R.children.length-1?R.content.insertBefore(this.getNativeCanvasElement(),R.children[this.index+1].getCanvas()._canvas):R.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(o.Node.prototype.moveDown.call(this)){const P=this.getStage();if(P){const R=P.children;P.content&&(P.content.removeChild(this.getNativeCanvasElement()),P.content.insertBefore(this.getNativeCanvasElement(),R[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(o.Node.prototype.moveToBottom.call(this)){const P=this.getStage();if(P){const R=P.children;P.content&&(P.content.removeChild(this.getNativeCanvasElement()),P.content.insertBefore(this.getNativeCanvasElement(),R[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const P=this.getNativeCanvasElement();return o.Node.prototype.remove.call(this),P&&P.parentNode&&e.Util._isInDocument(P)&&P.parentNode.removeChild(P),this}getStage(){return this.parent}setSize({width:P,height:R}){return this.canvas.setSize(P,R),this.hitCanvas.setSize(P,R),this._setSmoothEnabled(),this}_validateAdd(P){const R=P.getType();R!=="Group"&&R!=="Shape"&&e.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(P){return P=P||{},P.width=P.width||this.getWidth(),P.height=P.height||this.getHeight(),P.x=P.x!==void 0?P.x:this.x(),P.y=P.y!==void 0?P.y:this.y(),o.Node.prototype._toKonvaCanvas.call(this,P)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){e.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){e.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,e.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(P){if(!this.isListening()||!this.isVisible())return null;let R=1,I=!1;for(;;){for(let k=0;k<v;k++){const x=S[k],T=this._getIntersection({x:P.x+x.x*R,y:P.y+x.y*R}),A=T.shape;if(A)return A;if(I=!!T.antialiased,!T.antialiased)break}if(I)R+=1;else return null}}_getIntersection(P){const R=this.hitCanvas.pixelRatio,I=this.hitCanvas.context.getImageData(Math.round(P.x*R),Math.round(P.y*R),1,1).data,k=I[3];if(k===255){const x=e.Util._rgbToHex(I[0],I[1],I[2]),T=d.shapes[h+x];return T?{shape:T}:{antialiased:!0}}else if(k>0)return{antialiased:!0};return{}}drawScene(P,R,I){const k=this.getLayer(),x=P||k&&k.getCanvas();return this._fire(m,{node:this}),this.clearBeforeDraw()&&x.getContext().clear(),n.Container.prototype.drawScene.call(this,x,R,I),this._fire(y,{node:this}),this}drawHit(P,R){const I=this.getLayer(),k=P||I&&I.hitCanvas;return I&&I.clearBeforeDraw()&&I.getHitCanvas().getContext().clear(),n.Container.prototype.drawHit.call(this,k,R),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(P){e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(P)}getHitGraphEnabled(P){return e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const P=this.parent;!!this.hitCanvas._canvas.parentNode?P.content.removeChild(this.hitCanvas._canvas):P.content.appendChild(this.hitCanvas._canvas)}destroy(){return e.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return Vu.Layer=_,_.prototype.nodeType="Layer",(0,f._registerNode)(_),a.Factory.addGetterSetter(_,"imageSmoothingEnabled",!0),a.Factory.addGetterSetter(_,"clearBeforeDraw",!0),a.Factory.addGetterSetter(_,"hitGraphEnabled",!0,(0,c.getBooleanValidator)()),Vu}var $u={},Am;function I8(){if(Am)return $u;Am=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.FastLayer=void 0;const e=un(),n=Bv(),o=ct();let a=class extends n.Layer{constructor(c){super(c),this.listening(!1),e.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return $u.FastLayer=a,a.prototype.nodeType="FastLayer",(0,o._registerNode)(a),$u}var qu={},Lm;function Pg(){if(Lm)return qu;Lm=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.Group=void 0;const e=un(),n=Jf(),o=ct();let a=class extends n.Container{_validateAdd(c){const d=c.getType();d!=="Group"&&d!=="Shape"&&e.Util.throw("You may only add groups and shapes to groups.")}};return qu.Group=a,a.prototype.nodeType="Group",(0,o._registerNode)(a),qu}var Ku={},Om;function Rg(){if(Om)return Ku;Om=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.Animation=void 0;const e=ct(),n=un(),o=(function(){return e.glob.performance&&e.glob.performance.now?function(){return e.glob.performance.now()}:function(){return new Date().getTime()}})();let a=class Il{constructor(c,d){this.id=Il.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:o(),frameRate:0},this.func=c,this.setLayers(d)}setLayers(c){let d=[];return c&&(d=Array.isArray(c)?c:[c]),this.layers=d,this}getLayers(){return this.layers}addLayer(c){const d=this.layers,f=d.length;for(let h=0;h<f;h++)if(d[h]._id===c._id)return!1;return this.layers.push(c),!0}isRunning(){const d=Il.animations,f=d.length;for(let h=0;h<f;h++)if(d[h].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=o(),Il._addAnimation(this),this}stop(){return Il._removeAnimation(this),this}_updateFrameObject(c){this.frame.timeDiff=c-this.frame.lastTime,this.frame.lastTime=c,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(c){this.animations.push(c),this._handleAnimation()}static _removeAnimation(c){const d=c.id,f=this.animations,h=f.length;for(let m=0;m<h;m++)if(f[m].id===d){this.animations.splice(m,1);break}}static _runFrames(){const c={},d=this.animations;for(let f=0;f<d.length;f++){const h=d[f],m=h.layers,y=h.func;h._updateFrameObject(o());const S=m.length;let v;if(y?v=y.call(h,h.frame)!==!1:v=!0,!!v)for(let _=0;_<S;_++){const C=m[_];C._id!==void 0&&(c[C._id]=C)}}for(const f in c)c.hasOwnProperty(f)&&c[f].batchDraw()}static _animationLoop(){const c=Il;c.animations.length?(c._runFrames(),n.Util.requestAnimFrame(c._animationLoop)):c.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,n.Util.requestAnimFrame(this._animationLoop))}};return Ku.Animation=a,a.animations=[],a.animIdCounter=0,a.animRunning=!1,Ku}var gp={},Mm;function D8(){return Mm||(Mm=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const n=un(),o=Rg(),a=yn(),l=ct(),c={node:1,duration:1,easing:1,onFinish:1,yoyo:1},d=1,f=2,h=3,m=["fill","stroke","shadowColor"];let y=0;class S{constructor(C,P,R,I,k,x,T){this.prop=C,this.propFunc=P,this.begin=I,this._pos=I,this.duration=x,this._change=0,this.prevPos=0,this.yoyo=T,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=R,this._change=k-this.begin,this.pause()}fire(C){const P=this[C];P&&P()}setTime(C){C>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():C<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=C,this.update())}getTime(){return this._time}setPosition(C){this.prevPos=this._pos,this.propFunc(C),this._pos=C}getPosition(C){return C===void 0&&(C=this._time),this.func(C,this.begin,this._change,this.duration)}play(){this.state=f,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=h,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(C){this.pause(),this._time=C,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const C=this.getTimer()-this._startTime;this.state===f?this.setTime(C):this.state===h&&this.setTime(this.duration-C)}pause(){this.state=d,this.fire("onPause")}getTimer(){return new Date().getTime()}}class v{constructor(C){const P=this,R=C.node,I=R._id,k=C.easing||e.Easings.Linear,x=!!C.yoyo;let T,A;typeof C.duration>"u"?T=.3:C.duration===0?T=.001:T=C.duration,this.node=R,this._id=y++;const M=R.getLayer()||(R instanceof l.Konva.Stage?R.getLayers():null);M||n.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new o.Animation(function(){P.tween.onEnterFrame()},M),this.tween=new S(A,function(Y){P._tweenFunc(Y)},k,0,1,T*1e3,x),this._addListeners(),v.attrs[I]||(v.attrs[I]={}),v.attrs[I][this._id]||(v.attrs[I][this._id]={}),v.tweens[I]||(v.tweens[I]={});for(A in C)c[A]===void 0&&this._addAttr(A,C[A]);this.reset(),this.onFinish=C.onFinish,this.onReset=C.onReset,this.onUpdate=C.onUpdate}_addAttr(C,P){const R=this.node,I=R._id;let k,x,T,A,M;const Y=v.tweens[I][C];Y&&delete v.attrs[I][Y][C];let F=R.getAttr(C);if(n.Util._isArray(P))if(k=[],x=Math.max(P.length,F.length),C==="points"&&P.length!==F.length&&(P.length>F.length?(A=F,F=n.Util._prepareArrayForTween(F,P,R.closed())):(T=P,P=n.Util._prepareArrayForTween(P,F,R.closed()))),C.indexOf("fill")===0)for(let z=0;z<x;z++)if(z%2===0)k.push(P[z]-F[z]);else{const j=n.Util.colorToRGBA(F[z]);M=n.Util.colorToRGBA(P[z]),F[z]=j,k.push({r:M.r-j.r,g:M.g-j.g,b:M.b-j.b,a:M.a-j.a})}else for(let z=0;z<x;z++)k.push(P[z]-F[z]);else m.indexOf(C)!==-1?(F=n.Util.colorToRGBA(F),M=n.Util.colorToRGBA(P),k={r:M.r-F.r,g:M.g-F.g,b:M.b-F.b,a:M.a-F.a}):k=P-F;v.attrs[I][this._id][C]={start:F,diff:k,end:P,trueEnd:T,trueStart:A},v.tweens[I][C]=this._id}_tweenFunc(C){const P=this.node,R=v.attrs[P._id][this._id];let I,k,x,T,A,M,Y,F;for(I in R){if(k=R[I],x=k.start,T=k.diff,F=k.end,n.Util._isArray(x))if(A=[],Y=Math.max(x.length,F.length),I.indexOf("fill")===0)for(M=0;M<Y;M++)M%2===0?A.push((x[M]||0)+T[M]*C):A.push("rgba("+Math.round(x[M].r+T[M].r*C)+","+Math.round(x[M].g+T[M].g*C)+","+Math.round(x[M].b+T[M].b*C)+","+(x[M].a+T[M].a*C)+")");else for(M=0;M<Y;M++)A.push((x[M]||0)+T[M]*C);else m.indexOf(I)!==-1?A="rgba("+Math.round(x.r+T.r*C)+","+Math.round(x.g+T.g*C)+","+Math.round(x.b+T.b*C)+","+(x.a+T.a*C)+")":A=x+T*C;P.setAttr(I,A)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const C=this.node,P=v.attrs[C._id][this._id];P.points&&P.points.trueEnd&&C.setAttr("points",P.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const C=this.node,P=v.attrs[C._id][this._id];P.points&&P.points.trueStart&&C.points(P.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(C){return this.tween.seek(C*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const C=this.node._id,P=this._id,R=v.tweens[C];this.pause(),this.anim&&this.anim.stop();for(const I in R)delete v.tweens[C][I];delete v.attrs[C][P],v.tweens[C]&&(Object.keys(v.tweens[C]).length===0&&delete v.tweens[C],Object.keys(v.attrs[C]).length===0&&delete v.attrs[C])}}e.Tween=v,v.attrs={},v.tweens={},a.Node.prototype.to=function(_){const C=_.onFinish;_.node=this,_.onFinish=function(){this.destroy(),C&&C()},new v(_).play()},e.Easings={BackEaseIn(_,C,P,R){return P*(_/=R)*_*((1.70158+1)*_-1.70158)+C},BackEaseOut(_,C,P,R){return P*((_=_/R-1)*_*((1.70158+1)*_+1.70158)+1)+C},BackEaseInOut(_,C,P,R){let I=1.70158;return(_/=R/2)<1?P/2*(_*_*(((I*=1.525)+1)*_-I))+C:P/2*((_-=2)*_*(((I*=1.525)+1)*_+I)+2)+C},ElasticEaseIn(_,C,P,R,I,k){let x=0;return _===0?C:(_/=R)===1?C+P:(k||(k=R*.3),!I||I<Math.abs(P)?(I=P,x=k/4):x=k/(2*Math.PI)*Math.asin(P/I),-(I*Math.pow(2,10*(_-=1))*Math.sin((_*R-x)*(2*Math.PI)/k))+C)},ElasticEaseOut(_,C,P,R,I,k){let x=0;return _===0?C:(_/=R)===1?C+P:(k||(k=R*.3),!I||I<Math.abs(P)?(I=P,x=k/4):x=k/(2*Math.PI)*Math.asin(P/I),I*Math.pow(2,-10*_)*Math.sin((_*R-x)*(2*Math.PI)/k)+P+C)},ElasticEaseInOut(_,C,P,R,I,k){let x=0;return _===0?C:(_/=R/2)===2?C+P:(k||(k=R*(.3*1.5)),!I||I<Math.abs(P)?(I=P,x=k/4):x=k/(2*Math.PI)*Math.asin(P/I),_<1?-.5*(I*Math.pow(2,10*(_-=1))*Math.sin((_*R-x)*(2*Math.PI)/k))+C:I*Math.pow(2,-10*(_-=1))*Math.sin((_*R-x)*(2*Math.PI)/k)*.5+P+C)},BounceEaseOut(_,C,P,R){return(_/=R)<1/2.75?P*(7.5625*_*_)+C:_<2/2.75?P*(7.5625*(_-=1.5/2.75)*_+.75)+C:_<2.5/2.75?P*(7.5625*(_-=2.25/2.75)*_+.9375)+C:P*(7.5625*(_-=2.625/2.75)*_+.984375)+C},BounceEaseIn(_,C,P,R){return P-e.Easings.BounceEaseOut(R-_,0,P,R)+C},BounceEaseInOut(_,C,P,R){return _<R/2?e.Easings.BounceEaseIn(_*2,0,P,R)*.5+C:e.Easings.BounceEaseOut(_*2-R,0,P,R)*.5+P*.5+C},EaseIn(_,C,P,R){return P*(_/=R)*_+C},EaseOut(_,C,P,R){return-P*(_/=R)*(_-2)+C},EaseInOut(_,C,P,R){return(_/=R/2)<1?P/2*_*_+C:-P/2*(--_*(_-2)-1)+C},StrongEaseIn(_,C,P,R){return P*(_/=R)*_*_*_*_+C},StrongEaseOut(_,C,P,R){return P*((_=_/R-1)*_*_*_*_+1)+C},StrongEaseInOut(_,C,P,R){return(_/=R/2)<1?P/2*_*_*_*_*_+C:P/2*((_-=2)*_*_*_*_+2)+C},Linear(_,C,P,R){return P*_/R+C}}})(gp)),gp}var Fm;function zp(){return Fm||(Fm=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const n=ct(),o=un(),a=yn(),l=Jf(),c=T8(),d=Bv(),f=I8(),h=Pg(),m=bg(),y=Wn(),S=Rg(),v=D8(),_=Mv(),C=Qf();e.Konva=o.Util._assign(n.Konva,{Util:o.Util,Transform:o.Transform,Node:a.Node,Container:l.Container,Stage:c.Stage,stages:c.stages,Layer:d.Layer,FastLayer:f.FastLayer,Group:h.Group,DD:m.DD,Shape:y.Shape,shapes:y.shapes,Animation:S.Animation,Tween:v.Tween,Easings:v.Easings,Context:_.Context,Canvas:C.Canvas}),e.default=e.Konva})(lp)),lp}var Yu={},Bm;function A8(){if(Bm)return Yu;Bm=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.Arc=void 0;const e=gt(),n=Wn(),o=ct(),a=St(),l=ct();let c=class extends n.Shape{_sceneFunc(f){const h=o.Konva.getAngle(this.angle()),m=this.clockwise();f.beginPath(),f.arc(0,0,this.outerRadius(),0,h,m),f.arc(0,0,this.innerRadius(),h,0,!m),f.closePath(),f.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(f){this.outerRadius(f/2)}setHeight(f){this.outerRadius(f/2)}getSelfRect(){const f=this.innerRadius(),h=this.outerRadius(),m=this.clockwise(),y=o.Konva.getAngle(m?360-this.angle():this.angle()),S=Math.cos(Math.min(y,Math.PI)),v=1,_=Math.sin(Math.min(Math.max(Math.PI,y),3*Math.PI/2)),C=Math.sin(Math.min(y,Math.PI/2)),P=S*(S>0?f:h),R=v*h,I=_*(_>0?f:h),k=C*(C>0?h:f);return{x:P,y:m?-1*k:I,width:R-P,height:k-I}}};return Yu.Arc=c,c.prototype._centroid=!0,c.prototype.className="Arc",c.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,l._registerNode)(c),e.Factory.addGetterSetter(c,"innerRadius",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(c,"outerRadius",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(c,"angle",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(c,"clockwise",!1,(0,a.getBooleanValidator)()),Yu}var Xu={},Qu={},jm;function jv(){if(jm)return Qu;jm=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.Line=void 0;const e=gt(),n=ct(),o=Wn(),a=St();function l(f,h,m,y,S,v,_){const C=Math.sqrt(Math.pow(m-f,2)+Math.pow(y-h,2)),P=Math.sqrt(Math.pow(S-m,2)+Math.pow(v-y,2)),R=_*C/(C+P),I=_*P/(C+P),k=m-R*(S-f),x=y-R*(v-h),T=m+I*(S-f),A=y+I*(v-h);return[k,x,T,A]}function c(f,h){const m=f.length,y=[];for(let S=2;S<m-2;S+=2){const v=l(f[S-2],f[S-1],f[S],f[S+1],f[S+2],f[S+3],h);isNaN(v[0])||(y.push(v[0]),y.push(v[1]),y.push(f[S]),y.push(f[S+1]),y.push(v[2]),y.push(v[3]))}return y}class d extends o.Shape{constructor(h){super(h),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(h){const m=this.points(),y=m.length,S=this.tension(),v=this.closed(),_=this.bezier();if(!y)return;let C=0;if(h.beginPath(),h.moveTo(m[0],m[1]),S!==0&&y>4){const P=this.getTensionPoints(),R=P.length;for(C=v?0:4,v||h.quadraticCurveTo(P[0],P[1],P[2],P[3]);C<R-2;)h.bezierCurveTo(P[C++],P[C++],P[C++],P[C++],P[C++],P[C++]);v||h.quadraticCurveTo(P[R-2],P[R-1],m[y-2],m[y-1])}else if(_)for(C=2;C<y;)h.bezierCurveTo(m[C++],m[C++],m[C++],m[C++],m[C++],m[C++]);else for(C=2;C<y;C+=2)h.lineTo(m[C],m[C+1]);v?(h.closePath(),h.fillStrokeShape(this)):h.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():c(this.points(),this.tension())}_getTensionPointsClosed(){const h=this.points(),m=h.length,y=this.tension(),S=l(h[m-2],h[m-1],h[0],h[1],h[2],h[3],y),v=l(h[m-4],h[m-3],h[m-2],h[m-1],h[0],h[1],y),_=c(h,y);return[S[2],S[3]].concat(_).concat([v[0],v[1],h[m-2],h[m-1],v[2],v[3],S[0],S[1],h[0],h[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let h=this.points();if(h.length<4)return{x:h[0]||0,y:h[1]||0,width:0,height:0};this.tension()!==0?h=[h[0],h[1],...this._getTensionPoints(),h[h.length-2],h[h.length-1]]:h=this.points();let m=h[0],y=h[0],S=h[1],v=h[1],_,C;for(let P=0;P<h.length/2;P++)_=h[P*2],C=h[P*2+1],m=Math.min(m,_),y=Math.max(y,_),S=Math.min(S,C),v=Math.max(v,C);return{x:m,y:S,width:y-m,height:v-S}}}return Qu.Line=d,d.prototype.className="Line",d.prototype._attrsAffectingSize=["points","bezier","tension"],(0,n._registerNode)(d),e.Factory.addGetterSetter(d,"closed",!1),e.Factory.addGetterSetter(d,"bezier",!1),e.Factory.addGetterSetter(d,"tension",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(d,"points",[],(0,a.getNumberArrayValidator)()),Qu}var Ju={},mp={},zm;function L8(){return zm||(zm=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const n=(d,f,h)=>{let m,y;const v=h/2;m=0;for(let _=0;_<20;_++)y=v*e.tValues[20][_]+v,m+=e.cValues[20][_]*a(d,f,y);return v*m};e.getCubicArcLength=n;const o=(d,f,h)=>{h===void 0&&(h=1);const m=d[0]-2*d[1]+d[2],y=f[0]-2*f[1]+f[2],S=2*d[1]-2*d[0],v=2*f[1]-2*f[0],_=4*(m*m+y*y),C=4*(m*S+y*v),P=S*S+v*v;if(_===0)return h*Math.sqrt(Math.pow(d[2]-d[0],2)+Math.pow(f[2]-f[0],2));const R=C/(2*_),I=P/_,k=h+R,x=I-R*R,T=k*k+x>0?Math.sqrt(k*k+x):0,A=R*R+x>0?Math.sqrt(R*R+x):0,M=R+Math.sqrt(R*R+x)!==0?x*Math.log(Math.abs((k+T)/(R+A))):0;return Math.sqrt(_)/2*(k*T-R*A+M)};e.getQuadraticArcLength=o;function a(d,f,h){const m=l(1,h,d),y=l(1,h,f),S=m*m+y*y;return Math.sqrt(S)}const l=(d,f,h)=>{const m=h.length-1;let y,S;if(m===0)return 0;if(d===0){S=0;for(let v=0;v<=m;v++)S+=e.binomialCoefficients[m][v]*Math.pow(1-f,m-v)*Math.pow(f,v)*h[v];return S}else{y=new Array(m);for(let v=0;v<m;v++)y[v]=m*(h[v+1]-h[v]);return l(d-1,f,y)}},c=(d,f,h)=>{let m=1,y=d/f,S=(d-h(y))/f,v=0;for(;m>.001;){const _=h(y+S),C=Math.abs(d-_)/f;if(C<m)m=C,y+=S;else{const P=h(y-S),R=Math.abs(d-P)/f;R<m?(m=R,y-=S):S/=2}if(v++,v>500)break}return y};e.t2length=c})(mp)),mp}var Um;function Ng(){if(Um)return Ju;Um=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.Path=void 0;const e=gt(),n=ct(),o=Wn(),a=L8();let l=class zr extends o.Shape{constructor(d){super(d),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=zr.parsePathData(this.data()),this.pathLength=zr.getPathLength(this.dataArray)}_sceneFunc(d){const f=this.dataArray;d.beginPath();let h=!1;for(let m=0;m<f.length;m++){const y=f[m].command,S=f[m].points;switch(y){case"L":d.lineTo(S[0],S[1]);break;case"M":d.moveTo(S[0],S[1]);break;case"C":d.bezierCurveTo(S[0],S[1],S[2],S[3],S[4],S[5]);break;case"Q":d.quadraticCurveTo(S[0],S[1],S[2],S[3]);break;case"A":const v=S[0],_=S[1],C=S[2],P=S[3],R=S[4],I=S[5],k=S[6],x=S[7],T=C>P?C:P,A=C>P?1:C/P,M=C>P?P/C:1;d.translate(v,_),d.rotate(k),d.scale(A,M),d.arc(0,0,T,R,R+I,1-x),d.scale(1/A,1/M),d.rotate(-k),d.translate(-v,-_);break;case"z":h=!0,d.closePath();break}}!h&&!this.hasFill()?d.strokeShape(this):d.fillStrokeShape(this)}getSelfRect(){let d=[];this.dataArray.forEach(function(_){if(_.command==="A"){const C=_.points[4],P=_.points[5],R=_.points[4]+P;let I=Math.PI/180;if(Math.abs(C-R)<I&&(I=Math.abs(C-R)),P<0)for(let k=C-I;k>R;k-=I){const x=zr.getPointOnEllipticalArc(_.points[0],_.points[1],_.points[2],_.points[3],k,0);d.push(x.x,x.y)}else for(let k=C+I;k<R;k+=I){const x=zr.getPointOnEllipticalArc(_.points[0],_.points[1],_.points[2],_.points[3],k,0);d.push(x.x,x.y)}}else if(_.command==="C")for(let C=0;C<=1;C+=.01){const P=zr.getPointOnCubicBezier(C,_.start.x,_.start.y,_.points[0],_.points[1],_.points[2],_.points[3],_.points[4],_.points[5]);d.push(P.x,P.y)}else d=d.concat(_.points)});let f=d[0],h=d[0],m=d[1],y=d[1],S,v;for(let _=0;_<d.length/2;_++)S=d[_*2],v=d[_*2+1],isNaN(S)||(f=Math.min(f,S),h=Math.max(h,S)),isNaN(v)||(m=Math.min(m,v),y=Math.max(y,v));return{x:f,y:m,width:h-f,height:y-m}}getLength(){return this.pathLength}getPointAtLength(d){return zr.getPointAtLengthOfDataArray(d,this.dataArray)}static getLineLength(d,f,h,m){return Math.sqrt((h-d)*(h-d)+(m-f)*(m-f))}static getPathLength(d){let f=0;for(let h=0;h<d.length;++h)f+=d[h].pathLength;return f}static getPointAtLengthOfDataArray(d,f){let h,m=0,y=f.length;if(!y)return null;for(;m<y&&d>f[m].pathLength;)d-=f[m].pathLength,++m;if(m===y)return h=f[m-1].points.slice(-2),{x:h[0],y:h[1]};if(d<.01)return f[m].command==="M"?(h=f[m].points.slice(0,2),{x:h[0],y:h[1]}):{x:f[m].start.x,y:f[m].start.y};const S=f[m],v=S.points;switch(S.command){case"L":return zr.getPointOnLine(d,S.start.x,S.start.y,v[0],v[1]);case"C":return zr.getPointOnCubicBezier((0,a.t2length)(d,zr.getPathLength(f),T=>(0,a.getCubicArcLength)([S.start.x,v[0],v[2],v[4]],[S.start.y,v[1],v[3],v[5]],T)),S.start.x,S.start.y,v[0],v[1],v[2],v[3],v[4],v[5]);case"Q":return zr.getPointOnQuadraticBezier((0,a.t2length)(d,zr.getPathLength(f),T=>(0,a.getQuadraticArcLength)([S.start.x,v[0],v[2]],[S.start.y,v[1],v[3]],T)),S.start.x,S.start.y,v[0],v[1],v[2],v[3]);case"A":const _=v[0],C=v[1],P=v[2],R=v[3],I=v[5],k=v[6];let x=v[4];return x+=I*d/S.pathLength,zr.getPointOnEllipticalArc(_,C,P,R,x,k)}return null}static getPointOnLine(d,f,h,m,y,S,v){S=S??f,v=v??h;const _=this.getLineLength(f,h,m,y);if(_<1e-10)return{x:f,y:h};if(m===f)return{x:S,y:v+(y>h?d:-d)};const C=(y-h)/(m-f),P=Math.sqrt(d*d/(1+C*C))*(m<f?-1:1),R=C*P;if(Math.abs(v-h-C*(S-f))<1e-10)return{x:S+P,y:v+R};const I=((S-f)*(m-f)+(v-h)*(y-h))/(_*_),k=f+I*(m-f),x=h+I*(y-h),T=this.getLineLength(S,v,k,x),A=Math.sqrt(d*d-T*T),M=Math.sqrt(A*A/(1+C*C))*(m<f?-1:1),Y=C*M;return{x:k+M,y:x+Y}}static getPointOnCubicBezier(d,f,h,m,y,S,v,_,C){function P(A){return A*A*A}function R(A){return 3*A*A*(1-A)}function I(A){return 3*A*(1-A)*(1-A)}function k(A){return(1-A)*(1-A)*(1-A)}const x=_*P(d)+S*R(d)+m*I(d)+f*k(d),T=C*P(d)+v*R(d)+y*I(d)+h*k(d);return{x,y:T}}static getPointOnQuadraticBezier(d,f,h,m,y,S,v){function _(k){return k*k}function C(k){return 2*k*(1-k)}function P(k){return(1-k)*(1-k)}const R=S*_(d)+m*C(d)+f*P(d),I=v*_(d)+y*C(d)+h*P(d);return{x:R,y:I}}static getPointOnEllipticalArc(d,f,h,m,y,S){const v=Math.cos(S),_=Math.sin(S),C={x:h*Math.cos(y),y:m*Math.sin(y)};return{x:d+(C.x*v-C.y*_),y:f+(C.x*_+C.y*v)}}static parsePathData(d){if(!d)return[];let f=d;const h=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];f=f.replace(new RegExp(" ","g"),",");for(let R=0;R<h.length;R++)f=f.replace(new RegExp(h[R],"g"),"|"+h[R]);const m=f.split("|"),y=[],S=[];let v=0,_=0;const C=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let P;for(let R=1;R<m.length;R++){let I=m[R],k=I.charAt(0);for(I=I.slice(1),S.length=0;P=C.exec(I);)S.push(P[0]);const x=[];for(let T=0,A=S.length;T<A;T++){if(S[T]==="00"){x.push(0,0);continue}const M=parseFloat(S[T]);isNaN(M)?x.push(0):x.push(M)}for(;x.length>0&&!isNaN(x[0]);){let T="",A=[];const M=v,Y=_;let F,z,j,$,Q,te,re,ee,ge,L;switch(k){case"l":v+=x.shift(),_+=x.shift(),T="L",A.push(v,_);break;case"L":v=x.shift(),_=x.shift(),A.push(v,_);break;case"m":const B=x.shift(),V=x.shift();if(v+=B,_+=V,T="M",y.length>2&&y[y.length-1].command==="z"){for(let H=y.length-2;H>=0;H--)if(y[H].command==="M"){v=y[H].points[0]+B,_=y[H].points[1]+V;break}}A.push(v,_),k="l";break;case"M":v=x.shift(),_=x.shift(),T="M",A.push(v,_),k="L";break;case"h":v+=x.shift(),T="L",A.push(v,_);break;case"H":v=x.shift(),T="L",A.push(v,_);break;case"v":_+=x.shift(),T="L",A.push(v,_);break;case"V":_=x.shift(),T="L",A.push(v,_);break;case"C":A.push(x.shift(),x.shift(),x.shift(),x.shift()),v=x.shift(),_=x.shift(),A.push(v,_);break;case"c":A.push(v+x.shift(),_+x.shift(),v+x.shift(),_+x.shift()),v+=x.shift(),_+=x.shift(),T="C",A.push(v,_);break;case"S":z=v,j=_,F=y[y.length-1],F.command==="C"&&(z=v+(v-F.points[2]),j=_+(_-F.points[3])),A.push(z,j,x.shift(),x.shift()),v=x.shift(),_=x.shift(),T="C",A.push(v,_);break;case"s":z=v,j=_,F=y[y.length-1],F.command==="C"&&(z=v+(v-F.points[2]),j=_+(_-F.points[3])),A.push(z,j,v+x.shift(),_+x.shift()),v+=x.shift(),_+=x.shift(),T="C",A.push(v,_);break;case"Q":A.push(x.shift(),x.shift()),v=x.shift(),_=x.shift(),A.push(v,_);break;case"q":A.push(v+x.shift(),_+x.shift()),v+=x.shift(),_+=x.shift(),T="Q",A.push(v,_);break;case"T":z=v,j=_,F=y[y.length-1],F.command==="Q"&&(z=v+(v-F.points[0]),j=_+(_-F.points[1])),v=x.shift(),_=x.shift(),T="Q",A.push(z,j,v,_);break;case"t":z=v,j=_,F=y[y.length-1],F.command==="Q"&&(z=v+(v-F.points[0]),j=_+(_-F.points[1])),v+=x.shift(),_+=x.shift(),T="Q",A.push(z,j,v,_);break;case"A":$=x.shift(),Q=x.shift(),te=x.shift(),re=x.shift(),ee=x.shift(),ge=v,L=_,v=x.shift(),_=x.shift(),T="A",A=this.convertEndpointToCenterParameterization(ge,L,v,_,re,ee,$,Q,te);break;case"a":$=x.shift(),Q=x.shift(),te=x.shift(),re=x.shift(),ee=x.shift(),ge=v,L=_,v+=x.shift(),_+=x.shift(),T="A",A=this.convertEndpointToCenterParameterization(ge,L,v,_,re,ee,$,Q,te);break}y.push({command:T||k,points:A,start:{x:M,y:Y},pathLength:this.calcLength(M,Y,T||k,A)})}(k==="z"||k==="Z")&&y.push({command:"z",points:[],start:void 0,pathLength:0})}return y}static calcLength(d,f,h,m){let y,S,v,_;const C=zr;switch(h){case"L":return C.getLineLength(d,f,m[0],m[1]);case"C":return(0,a.getCubicArcLength)([d,m[0],m[2],m[4]],[f,m[1],m[3],m[5]],1);case"Q":return(0,a.getQuadraticArcLength)([d,m[0],m[2]],[f,m[1],m[3]],1);case"A":y=0;const P=m[4],R=m[5],I=m[4]+R;let k=Math.PI/180;if(Math.abs(P-I)<k&&(k=Math.abs(P-I)),S=C.getPointOnEllipticalArc(m[0],m[1],m[2],m[3],P,0),R<0)for(_=P-k;_>I;_-=k)v=C.getPointOnEllipticalArc(m[0],m[1],m[2],m[3],_,0),y+=C.getLineLength(S.x,S.y,v.x,v.y),S=v;else for(_=P+k;_<I;_+=k)v=C.getPointOnEllipticalArc(m[0],m[1],m[2],m[3],_,0),y+=C.getLineLength(S.x,S.y,v.x,v.y),S=v;return v=C.getPointOnEllipticalArc(m[0],m[1],m[2],m[3],I,0),y+=C.getLineLength(S.x,S.y,v.x,v.y),y}return 0}static convertEndpointToCenterParameterization(d,f,h,m,y,S,v,_,C){const P=C*(Math.PI/180),R=Math.cos(P)*(d-h)/2+Math.sin(P)*(f-m)/2,I=-1*Math.sin(P)*(d-h)/2+Math.cos(P)*(f-m)/2,k=R*R/(v*v)+I*I/(_*_);k>1&&(v*=Math.sqrt(k),_*=Math.sqrt(k));let x=Math.sqrt((v*v*(_*_)-v*v*(I*I)-_*_*(R*R))/(v*v*(I*I)+_*_*(R*R)));y===S&&(x*=-1),isNaN(x)&&(x=0);const T=x*v*I/_,A=x*-_*R/v,M=(d+h)/2+Math.cos(P)*T-Math.sin(P)*A,Y=(f+m)/2+Math.sin(P)*T+Math.cos(P)*A,F=function(ee){return Math.sqrt(ee[0]*ee[0]+ee[1]*ee[1])},z=function(ee,ge){return(ee[0]*ge[0]+ee[1]*ge[1])/(F(ee)*F(ge))},j=function(ee,ge){return(ee[0]*ge[1]<ee[1]*ge[0]?-1:1)*Math.acos(z(ee,ge))},$=j([1,0],[(R-T)/v,(I-A)/_]),Q=[(R-T)/v,(I-A)/_],te=[(-1*R-T)/v,(-1*I-A)/_];let re=j(Q,te);return z(Q,te)<=-1&&(re=Math.PI),z(Q,te)>=1&&(re=0),S===0&&re>0&&(re=re-2*Math.PI),S===1&&re<0&&(re=re+2*Math.PI),[M,Y,v,_,$,re,P,S]}};return Ju.Path=l,l.prototype.className="Path",l.prototype._attrsAffectingSize=["data"],(0,n._registerNode)(l),e.Factory.addGetterSetter(l,"data"),Ju}var Gm;function O8(){if(Gm)return Xu;Gm=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.Arrow=void 0;const e=gt(),n=jv(),o=St(),a=ct(),l=Ng();class c extends n.Line{_sceneFunc(f){super._sceneFunc(f);const h=Math.PI*2,m=this.points();let y=m;const S=this.tension()!==0&&m.length>4;S&&(y=this.getTensionPoints());const v=this.pointerLength(),_=m.length;let C,P;if(S){const k=[y[y.length-4],y[y.length-3],y[y.length-2],y[y.length-1],m[_-2],m[_-1]],x=l.Path.calcLength(y[y.length-4],y[y.length-3],"C",k),T=l.Path.getPointOnQuadraticBezier(Math.min(1,1-v/x),k[0],k[1],k[2],k[3],k[4],k[5]);C=m[_-2]-T.x,P=m[_-1]-T.y}else C=m[_-2]-m[_-4],P=m[_-1]-m[_-3];const R=(Math.atan2(P,C)+h)%h,I=this.pointerWidth();this.pointerAtEnding()&&(f.save(),f.beginPath(),f.translate(m[_-2],m[_-1]),f.rotate(R),f.moveTo(0,0),f.lineTo(-v,I/2),f.lineTo(-v,-I/2),f.closePath(),f.restore(),this.__fillStroke(f)),this.pointerAtBeginning()&&(f.save(),f.beginPath(),f.translate(m[0],m[1]),S?(C=(y[0]+y[2])/2-m[0],P=(y[1]+y[3])/2-m[1]):(C=m[2]-m[0],P=m[3]-m[1]),f.rotate((Math.atan2(-P,-C)+h)%h),f.moveTo(0,0),f.lineTo(-v,I/2),f.lineTo(-v,-I/2),f.closePath(),f.restore(),this.__fillStroke(f))}__fillStroke(f){const h=this.dashEnabled();h&&(this.attrs.dashEnabled=!1,f.setLineDash([])),f.fillStrokeShape(this),h&&(this.attrs.dashEnabled=!0)}getSelfRect(){const f=super.getSelfRect(),h=this.pointerWidth()/2;return{x:f.x,y:f.y-h,width:f.width,height:f.height+h*2}}}return Xu.Arrow=c,c.prototype.className="Arrow",(0,a._registerNode)(c),e.Factory.addGetterSetter(c,"pointerLength",10,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(c,"pointerWidth",10,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(c,"pointerAtBeginning",!1),e.Factory.addGetterSetter(c,"pointerAtEnding",!0),Xu}var Zu={},Hm;function M8(){if(Hm)return Zu;Hm=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.Circle=void 0;const e=gt(),n=Wn(),o=St(),a=ct();let l=class extends n.Shape{_sceneFunc(d){d.beginPath(),d.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(d){this.radius()!==d/2&&this.radius(d/2)}setHeight(d){this.radius()!==d/2&&this.radius(d/2)}};return Zu.Circle=l,l.prototype._centroid=!0,l.prototype.className="Circle",l.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(l),e.Factory.addGetterSetter(l,"radius",0,(0,o.getNumberValidator)()),Zu}var ec={},Wm;function F8(){if(Wm)return ec;Wm=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.Ellipse=void 0;const e=gt(),n=Wn(),o=St(),a=ct();class l extends n.Shape{_sceneFunc(d){const f=this.radiusX(),h=this.radiusY();d.beginPath(),d.save(),f!==h&&d.scale(1,h/f),d.arc(0,0,f,0,Math.PI*2,!1),d.restore(),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(d){this.radiusX(d/2)}setHeight(d){this.radiusY(d/2)}}return ec.Ellipse=l,l.prototype.className="Ellipse",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,a._registerNode)(l),e.Factory.addComponentsGetterSetter(l,"radius",["x","y"]),e.Factory.addGetterSetter(l,"radiusX",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(l,"radiusY",0,(0,o.getNumberValidator)()),ec}var tc={},Vm;function B8(){if(Vm)return tc;Vm=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.Image=void 0;const e=un(),n=gt(),o=Wn(),a=ct(),l=St();class c extends o.Shape{constructor(f){super(f),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",h=>{this._removeImageLoad(h.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const f=this.image();f&&f.complete||f&&f.readyState===4||f&&f.addEventListener&&f.addEventListener("load",this._loadListener)}_removeImageLoad(f){f&&f.removeEventListener&&f.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const f=!!this.cornerRadius(),h=this.hasShadow();return f&&h?!0:super._useBufferCanvas(!0)}_sceneFunc(f){const h=this.getWidth(),m=this.getHeight(),y=this.cornerRadius(),S=this.attrs.image;let v;if(S){const _=this.attrs.cropWidth,C=this.attrs.cropHeight;_&&C?v=[S,this.cropX(),this.cropY(),_,C,0,0,h,m]:v=[S,0,0,h,m]}(this.hasFill()||this.hasStroke()||y)&&(f.beginPath(),y?e.Util.drawRoundedRectPath(f,h,m,y):f.rect(0,0,h,m),f.closePath(),f.fillStrokeShape(this)),S&&(y&&f.clip(),f.drawImage.apply(f,v))}_hitFunc(f){const h=this.width(),m=this.height(),y=this.cornerRadius();f.beginPath(),y?e.Util.drawRoundedRectPath(f,h,m,y):f.rect(0,0,h,m),f.closePath(),f.fillStrokeShape(this)}getWidth(){var f,h;return(f=this.attrs.width)!==null&&f!==void 0?f:(h=this.image())===null||h===void 0?void 0:h.width}getHeight(){var f,h;return(f=this.attrs.height)!==null&&f!==void 0?f:(h=this.image())===null||h===void 0?void 0:h.height}static fromURL(f,h,m=null){const y=e.Util.createImageElement();y.onload=function(){const S=new c({image:y});h(S)},y.onerror=m,y.crossOrigin="Anonymous",y.src=f}}return tc.Image=c,c.prototype.className="Image",(0,a._registerNode)(c),n.Factory.addGetterSetter(c,"cornerRadius",0,(0,l.getNumberOrArrayOfNumbersValidator)(4)),n.Factory.addGetterSetter(c,"image"),n.Factory.addComponentsGetterSetter(c,"crop",["x","y","width","height"]),n.Factory.addGetterSetter(c,"cropX",0,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(c,"cropY",0,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(c,"cropWidth",0,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(c,"cropHeight",0,(0,l.getNumberValidator)()),tc}var Ca={},$m;function j8(){if($m)return Ca;$m=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.Tag=Ca.Label=void 0;const e=gt(),n=Wn(),o=Pg(),a=St(),l=ct(),c=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],d="Change.konva",f="none",h="up",m="right",y="down",S="left",v=c.length;let _=class extends o.Group{constructor(R){super(R),this.on("add.konva",function(I){this._addListeners(I.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(R){let I=this,k;const x=function(){I._sync()};for(k=0;k<v;k++)R.on(c[k]+d,x)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let R=this.getText(),I=this.getTag(),k,x,T,A,M,Y,F;if(R&&I){switch(k=R.width(),x=R.height(),T=I.pointerDirection(),A=I.pointerWidth(),F=I.pointerHeight(),M=0,Y=0,T){case h:M=k/2,Y=-1*F;break;case m:M=k+A,Y=x/2;break;case y:M=k/2,Y=x+F;break;case S:M=-1*A,Y=x/2;break}I.setAttrs({x:-1*M,y:-1*Y,width:k,height:x}),R.setAttrs({x:-1*M,y:-1*Y})}}};Ca.Label=_,_.prototype.className="Label",(0,l._registerNode)(_);class C extends n.Shape{_sceneFunc(R){const I=this.width(),k=this.height(),x=this.pointerDirection(),T=this.pointerWidth(),A=this.pointerHeight(),M=this.cornerRadius();let Y=0,F=0,z=0,j=0;typeof M=="number"?Y=F=z=j=Math.min(M,I/2,k/2):(Y=Math.min(M[0]||0,I/2,k/2),F=Math.min(M[1]||0,I/2,k/2),j=Math.min(M[2]||0,I/2,k/2),z=Math.min(M[3]||0,I/2,k/2)),R.beginPath(),R.moveTo(Y,0),x===h&&(R.lineTo((I-T)/2,0),R.lineTo(I/2,-1*A),R.lineTo((I+T)/2,0)),R.lineTo(I-F,0),R.arc(I-F,F,F,Math.PI*3/2,0,!1),x===m&&(R.lineTo(I,(k-A)/2),R.lineTo(I+T,k/2),R.lineTo(I,(k+A)/2)),R.lineTo(I,k-j),R.arc(I-j,k-j,j,0,Math.PI/2,!1),x===y&&(R.lineTo((I+T)/2,k),R.lineTo(I/2,k+A),R.lineTo((I-T)/2,k)),R.lineTo(z,k),R.arc(z,k-z,z,Math.PI/2,Math.PI,!1),x===S&&(R.lineTo(0,(k+A)/2),R.lineTo(-1*T,k/2),R.lineTo(0,(k-A)/2)),R.lineTo(0,Y),R.arc(Y,Y,Y,Math.PI,Math.PI*3/2,!1),R.closePath(),R.fillStrokeShape(this)}getSelfRect(){let R=0,I=0,k=this.pointerWidth(),x=this.pointerHeight(),T=this.pointerDirection(),A=this.width(),M=this.height();return T===h?(I-=x,M+=x):T===y?M+=x:T===S?(R-=k*1.5,A+=k):T===m&&(A+=k*1.5),{x:R,y:I,width:A,height:M}}}return Ca.Tag=C,C.prototype.className="Tag",(0,l._registerNode)(C),e.Factory.addGetterSetter(C,"pointerDirection",f),e.Factory.addGetterSetter(C,"pointerWidth",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(C,"pointerHeight",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(C,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),Ca}var nc={},qm;function zv(){if(qm)return nc;qm=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.Rect=void 0;const e=gt(),n=Wn(),o=ct(),a=un(),l=St();class c extends n.Shape{_sceneFunc(f){const h=this.cornerRadius(),m=this.width(),y=this.height();f.beginPath(),h?a.Util.drawRoundedRectPath(f,m,y,h):f.rect(0,0,m,y),f.closePath(),f.fillStrokeShape(this)}}return nc.Rect=c,c.prototype.className="Rect",(0,o._registerNode)(c),e.Factory.addGetterSetter(c,"cornerRadius",0,(0,l.getNumberOrArrayOfNumbersValidator)(4)),nc}var rc={},Km;function z8(){if(Km)return rc;Km=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.RegularPolygon=void 0;const e=gt(),n=Wn(),o=St(),a=ct();let l=class extends n.Shape{_sceneFunc(d){const f=this._getPoints();d.beginPath(),d.moveTo(f[0].x,f[0].y);for(let h=1;h<f.length;h++)d.lineTo(f[h].x,f[h].y);d.closePath(),d.fillStrokeShape(this)}_getPoints(){const d=this.attrs.sides,f=this.attrs.radius||0,h=[];for(let m=0;m<d;m++)h.push({x:f*Math.sin(m*2*Math.PI/d),y:-1*f*Math.cos(m*2*Math.PI/d)});return h}getSelfRect(){const d=this._getPoints();let f=d[0].x,h=d[0].y,m=d[0].x,y=d[0].y;return d.forEach(S=>{f=Math.min(f,S.x),h=Math.max(h,S.x),m=Math.min(m,S.y),y=Math.max(y,S.y)}),{x:f,y:m,width:h-f,height:y-m}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(d){this.radius(d/2)}setHeight(d){this.radius(d/2)}};return rc.RegularPolygon=l,l.prototype.className="RegularPolygon",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(l),e.Factory.addGetterSetter(l,"radius",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(l,"sides",0,(0,o.getNumberValidator)()),rc}var ic={},Ym;function U8(){if(Ym)return ic;Ym=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.Ring=void 0;const e=gt(),n=Wn(),o=St(),a=ct(),l=Math.PI*2;let c=class extends n.Shape{_sceneFunc(f){f.beginPath(),f.arc(0,0,this.innerRadius(),0,l,!1),f.moveTo(this.outerRadius(),0),f.arc(0,0,this.outerRadius(),l,0,!0),f.closePath(),f.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(f){this.outerRadius(f/2)}setHeight(f){this.outerRadius(f/2)}};return ic.Ring=c,c.prototype.className="Ring",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,a._registerNode)(c),e.Factory.addGetterSetter(c,"innerRadius",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(c,"outerRadius",0,(0,o.getNumberValidator)()),ic}var oc={},Xm;function G8(){if(Xm)return oc;Xm=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.Sprite=void 0;const e=gt(),n=Wn(),o=Rg(),a=St(),l=ct();let c=class extends n.Shape{constructor(f){super(f),this._updated=!0,this.anim=new o.Animation(()=>{const h=this._updated;return this._updated=!1,h}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(f){const h=this.animation(),m=this.frameIndex(),y=m*4,S=this.animations()[h],v=this.frameOffsets(),_=S[y+0],C=S[y+1],P=S[y+2],R=S[y+3],I=this.image();if((this.hasFill()||this.hasStroke())&&(f.beginPath(),f.rect(0,0,P,R),f.closePath(),f.fillStrokeShape(this)),I)if(v){const k=v[h],x=m*2;f.drawImage(I,_,C,P,R,k[x+0],k[x+1],P,R)}else f.drawImage(I,_,C,P,R,0,0,P,R)}_hitFunc(f){const h=this.animation(),m=this.frameIndex(),y=m*4,S=this.animations()[h],v=this.frameOffsets(),_=S[y+2],C=S[y+3];if(f.beginPath(),v){const P=v[h],R=m*2;f.rect(P[R+0],P[R+1],_,C)}else f.rect(0,0,_,C);f.closePath(),f.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const f=this;this.interval=setInterval(function(){f._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const f=this.getLayer();this.anim.setLayers(f),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const f=this.frameIndex(),h=this.animation(),m=this.animations(),y=m[h],S=y.length/4;f<S-1?this.frameIndex(f+1):this.frameIndex(0)}};return oc.Sprite=c,c.prototype.className="Sprite",(0,l._registerNode)(c),e.Factory.addGetterSetter(c,"animation"),e.Factory.addGetterSetter(c,"animations"),e.Factory.addGetterSetter(c,"frameOffsets"),e.Factory.addGetterSetter(c,"image"),e.Factory.addGetterSetter(c,"frameIndex",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(c,"frameRate",17,(0,a.getNumberValidator)()),e.Factory.backCompat(c,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),oc}var sc={},Qm;function H8(){if(Qm)return sc;Qm=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.Star=void 0;const e=gt(),n=Wn(),o=St(),a=ct();class l extends n.Shape{_sceneFunc(d){const f=this.innerRadius(),h=this.outerRadius(),m=this.numPoints();d.beginPath(),d.moveTo(0,0-h);for(let y=1;y<m*2;y++){const S=y%2===0?h:f,v=S*Math.sin(y*Math.PI/m),_=-1*S*Math.cos(y*Math.PI/m);d.lineTo(v,_)}d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(d){this.outerRadius(d/2)}setHeight(d){this.outerRadius(d/2)}}return sc.Star=l,l.prototype.className="Star",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,a._registerNode)(l),e.Factory.addGetterSetter(l,"numPoints",5,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(l,"innerRadius",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(l,"outerRadius",0,(0,o.getNumberValidator)()),sc}var Tl={},Jm;function Uv(){if(Jm)return Tl;Jm=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.Text=void 0,Tl.stringToArray=d;const e=un(),n=gt(),o=Wn(),a=ct(),l=St(),c=ct();function d(K){return[...K].reduce((J,ue,me,se)=>{if(new RegExp("\\p{Emoji}","u").test(ue)){const X=se[me+1];X&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(X)?(J.push(ue+X),se[me+1]=""):J.push(ue)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(ue+(se[me+1]||""))?J.push(ue+se[me+1]):me>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(ue)?J[J.length-1]+=ue:ue&&J.push(ue);return J},[])}const f="auto",h="center",m="inherit",y="justify",S="Change.konva",v="2d",_="-",C="left",P="text",R="Text",I="top",k="bottom",x="middle",T="normal",A="px ",M=" ",Y="right",F="rtl",z="word",j="char",$="none",Q="…",te=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],re=te.length;function ee(K){return K.split(",").map(J=>{J=J.trim();const ue=J.indexOf(" ")>=0,me=J.indexOf('"')>=0||J.indexOf("'")>=0;return ue&&!me&&(J=`"${J}"`),J}).join(", ")}let ge;function L(){return ge||(ge=e.Util.createCanvasElement().getContext(v),ge)}function B(K){K.fillText(this._partialText,this._partialTextX,this._partialTextY)}function V(K){K.setAttr("miterLimit",2),K.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function H(K){return K=K||{},!K.fillLinearGradientColorStops&&!K.fillRadialGradientColorStops&&!K.fillPatternImage&&(K.fill=K.fill||"black"),K}class O extends o.Shape{constructor(J){super(H(J)),this._partialTextX=0,this._partialTextY=0;for(let ue=0;ue<re;ue++)this.on(te[ue]+S,this._setTextData);this._setTextData()}_sceneFunc(J){const ue=this.textArr,me=ue.length;if(!this.text())return;let se=this.padding(),X=this.fontSize(),oe=this.lineHeight()*X,ve=this.verticalAlign(),we=this.direction(),Te=0,Le=this.align(),Oe=this.getWidth(),ut=this.letterSpacing(),Qe=this.fill(),Se=this.textDecoration(),xe=Se.indexOf("underline")!==-1,Fe=Se.indexOf("line-through")!==-1,ot;we=we===m?J.direction:we;let at=oe/2,mt=x;if(a.Konva._fixTextRendering){const $e=this.measureSize("M");mt="alphabetic",at=($e.fontBoundingBoxAscent-$e.fontBoundingBoxDescent)/2+oe/2}for(we===F&&J.setAttr("direction",we),J.setAttr("font",this._getContextFont()),J.setAttr("textBaseline",mt),J.setAttr("textAlign",C),ve===x?Te=(this.getHeight()-me*oe-se*2)/2:ve===k&&(Te=this.getHeight()-me*oe-se*2),J.translate(se,Te+se),ot=0;ot<me;ot++){let $e=0,nt=0;const _t=ue[ot],Pt=_t.text,It=_t.width,ir=_t.lastInParagraph;if(J.save(),Le===Y?$e+=Oe-It-se*2:Le===h&&($e+=(Oe-It-se*2)/2),xe){J.save(),J.beginPath();const vn=a.Konva._fixTextRendering?Math.round(X/4):Math.round(X/2),Vn=$e,Yt=at+nt+vn;J.moveTo(Vn,Yt);const Xt=Le===y&&!ir?Oe-se*2:It;J.lineTo(Vn+Math.round(Xt),Yt),J.lineWidth=X/15;const Jr=this._getLinearGradient();J.strokeStyle=Jr||Qe,J.stroke(),J.restore()}if(Fe){J.save(),J.beginPath();const vn=a.Konva._fixTextRendering?-Math.round(X/4):0;J.moveTo($e,at+nt+vn);const Vn=Le===y&&!ir?Oe-se*2:It;J.lineTo($e+Math.round(Vn),at+nt+vn),J.lineWidth=X/15;const Yt=this._getLinearGradient();J.strokeStyle=Yt||Qe,J.stroke(),J.restore()}if(we!==F&&(ut!==0||Le===y)){const vn=Pt.split(" ").length-1,Vn=d(Pt);for(let Yt=0;Yt<Vn.length;Yt++){const Xt=Vn[Yt];Xt===" "&&!ir&&Le===y&&($e+=(Oe-se*2-It)/vn),this._partialTextX=$e,this._partialTextY=at+nt,this._partialText=Xt,J.fillStrokeShape(this),$e+=this.measureSize(Xt).width+ut}}else ut!==0&&J.setAttr("letterSpacing",`${ut}px`),this._partialTextX=$e,this._partialTextY=at+nt,this._partialText=Pt,J.fillStrokeShape(this);J.restore(),me>1&&(at+=oe)}}_hitFunc(J){const ue=this.getWidth(),me=this.getHeight();J.beginPath(),J.rect(0,0,ue,me),J.closePath(),J.fillStrokeShape(this)}setText(J){const ue=e.Util._isString(J)?J:J==null?"":J+"";return this._setAttr(P,ue),this}getWidth(){return this.attrs.width===f||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===f||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(J){var ue,me,se,X,oe,ve,we,Te,Le,Oe,ut;let Qe=L(),Se=this.fontSize(),xe;Qe.save(),Qe.font=this._getContextFont(),xe=Qe.measureText(J),Qe.restore();const Fe=Se/100;return{actualBoundingBoxAscent:(ue=xe.actualBoundingBoxAscent)!==null&&ue!==void 0?ue:71.58203125*Fe,actualBoundingBoxDescent:(me=xe.actualBoundingBoxDescent)!==null&&me!==void 0?me:0,actualBoundingBoxLeft:(se=xe.actualBoundingBoxLeft)!==null&&se!==void 0?se:-7.421875*Fe,actualBoundingBoxRight:(X=xe.actualBoundingBoxRight)!==null&&X!==void 0?X:75.732421875*Fe,alphabeticBaseline:(oe=xe.alphabeticBaseline)!==null&&oe!==void 0?oe:0,emHeightAscent:(ve=xe.emHeightAscent)!==null&&ve!==void 0?ve:100*Fe,emHeightDescent:(we=xe.emHeightDescent)!==null&&we!==void 0?we:-20*Fe,fontBoundingBoxAscent:(Te=xe.fontBoundingBoxAscent)!==null&&Te!==void 0?Te:91*Fe,fontBoundingBoxDescent:(Le=xe.fontBoundingBoxDescent)!==null&&Le!==void 0?Le:21*Fe,hangingBaseline:(Oe=xe.hangingBaseline)!==null&&Oe!==void 0?Oe:72.80000305175781*Fe,ideographicBaseline:(ut=xe.ideographicBaseline)!==null&&ut!==void 0?ut:-21*Fe,width:xe.width,height:Se}}_getContextFont(){return this.fontStyle()+M+this.fontVariant()+M+(this.fontSize()+A)+ee(this.fontFamily())}_addTextLine(J){this.align()===y&&(J=J.trim());const me=this._getTextWidth(J);return this.textArr.push({text:J,width:me,lastInParagraph:!1})}_getTextWidth(J){const ue=this.letterSpacing(),me=J.length;return L().measureText(J).width+ue*me}_setTextData(){let J=this.text().split(`
`),ue=+this.fontSize(),me=0,se=this.lineHeight()*ue,X=this.attrs.width,oe=this.attrs.height,ve=X!==f&&X!==void 0,we=oe!==f&&oe!==void 0,Te=this.padding(),Le=X-Te*2,Oe=oe-Te*2,ut=0,Qe=this.wrap(),Se=Qe!==$,xe=Qe!==j&&Se,Fe=this.ellipsis();this.textArr=[],L().font=this._getContextFont();const ot=Fe?this._getTextWidth(Q):0;for(let at=0,mt=J.length;at<mt;++at){let $e=J[at],nt=this._getTextWidth($e);if(ve&&nt>Le)for(;$e.length>0;){let _t=0,Pt=d($e).length,It="",ir=0;for(;_t<Pt;){const vn=_t+Pt>>>1,Vn=d($e),Yt=Vn.slice(0,vn+1).join(""),Xt=this._getTextWidth(Yt);(Fe&&we&&ut+se>Oe?Xt+ot:Xt)<=Le?(_t=vn+1,It=Yt,ir=Xt):Pt=vn}if(It){if(xe){const Yt=d($e),Xt=d(It),Jr=Yt[Xt.length],Mi=Jr===M||Jr===_;let ke;if(Mi&&ir<=Le)ke=Xt.length;else{const _e=Xt.lastIndexOf(M),De=Xt.lastIndexOf(_);ke=Math.max(_e,De)+1}ke>0&&(_t=ke,It=Yt.slice(0,_t).join(""),ir=this._getTextWidth(It))}if(It=It.trimRight(),this._addTextLine(It),me=Math.max(me,ir),ut+=se,this._shouldHandleEllipsis(ut)){this._tryToAddEllipsisToLastLine();break}if($e=d($e).slice(_t).join("").trimLeft(),$e.length>0&&(nt=this._getTextWidth($e),nt<=Le)){this._addTextLine($e),ut+=se,me=Math.max(me,nt);break}}else break}else this._addTextLine($e),ut+=se,me=Math.max(me,nt),this._shouldHandleEllipsis(ut)&&at<mt-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),we&&ut+se>Oe)break}this.textHeight=ue,this.textWidth=me}_shouldHandleEllipsis(J){const ue=+this.fontSize(),me=this.lineHeight()*ue,se=this.attrs.height,X=se!==f&&se!==void 0,oe=this.padding(),ve=se-oe*2;return!(this.wrap()!==$)||X&&J+me>ve}_tryToAddEllipsisToLastLine(){const J=this.attrs.width,ue=J!==f&&J!==void 0,me=this.padding(),se=J-me*2,X=this.ellipsis(),oe=this.textArr[this.textArr.length-1];!oe||!X||(ue&&(this._getTextWidth(oe.text+Q)<se||(oe.text=oe.text.slice(0,oe.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(oe.text+Q))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const J=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,ue=this.hasShadow();return J&&ue?!0:super._useBufferCanvas()}}return Tl.Text=O,O.prototype._fillFunc=B,O.prototype._strokeFunc=V,O.prototype.className=R,O.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,c._registerNode)(O),n.Factory.overWriteSetter(O,"width",(0,l.getNumberOrAutoValidator)()),n.Factory.overWriteSetter(O,"height",(0,l.getNumberOrAutoValidator)()),n.Factory.addGetterSetter(O,"direction",m),n.Factory.addGetterSetter(O,"fontFamily","Arial"),n.Factory.addGetterSetter(O,"fontSize",12,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(O,"fontStyle",T),n.Factory.addGetterSetter(O,"fontVariant",T),n.Factory.addGetterSetter(O,"padding",0,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(O,"align",C),n.Factory.addGetterSetter(O,"verticalAlign",I),n.Factory.addGetterSetter(O,"lineHeight",1,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(O,"wrap",z),n.Factory.addGetterSetter(O,"ellipsis",!1,(0,l.getBooleanValidator)()),n.Factory.addGetterSetter(O,"letterSpacing",0,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(O,"text","",(0,l.getStringValidator)()),n.Factory.addGetterSetter(O,"textDecoration",""),Tl}var ac={},Zm;function W8(){if(Zm)return ac;Zm=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.TextPath=void 0;const e=un(),n=gt(),o=Wn(),a=Ng(),l=Uv(),c=St(),d=ct(),f="",h="normal";function m(v){v.fillText(this.partialText,0,0)}function y(v){v.strokeText(this.partialText,0,0)}let S=class extends o.Shape{constructor(_){super(_),this.dummyCanvas=e.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return a.Path.getPathLength(this.dataArray)}_getPointAtLength(_){if(!this.attrs.data)return null;const C=this.pathLength;return _-1>C?null:a.Path.getPointAtLengthOfDataArray(_,this.dataArray)}_readDataAttribute(){this.dataArray=a.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(_){_.setAttr("font",this._getContextFont()),_.setAttr("textBaseline",this.textBaseline()),_.setAttr("textAlign","left"),_.save();const C=this.textDecoration(),P=this.fill(),R=this.fontSize(),I=this.glyphInfo;C==="underline"&&_.beginPath();for(let k=0;k<I.length;k++){_.save();const x=I[k].p0;_.translate(x.x,x.y),_.rotate(I[k].rotation),this.partialText=I[k].text,_.fillStrokeShape(this),C==="underline"&&(k===0&&_.moveTo(0,R/2+1),_.lineTo(R,R/2+1)),_.restore()}C==="underline"&&(_.strokeStyle=P,_.lineWidth=R/20,_.stroke()),_.restore()}_hitFunc(_){_.beginPath();const C=this.glyphInfo;if(C.length>=1){const P=C[0].p0;_.moveTo(P.x,P.y)}for(let P=0;P<C.length;P++){const R=C[P].p1;_.lineTo(R.x,R.y)}_.setAttr("lineWidth",this.fontSize()),_.setAttr("strokeStyle",this.colorKey),_.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(_){return l.Text.prototype.setText.call(this,_)}_getContextFont(){return l.Text.prototype._getContextFont.call(this)}_getTextSize(_){const P=this.dummyCanvas.getContext("2d");P.save(),P.font=this._getContextFont();const R=P.measureText(_);return P.restore(),{width:R.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:_,height:C}=this._getTextSize(this.attrs.text);if(this.textWidth=_,this.textHeight=C,this.glyphInfo=[],!this.attrs.data)return null;const P=this.letterSpacing(),R=this.align(),I=this.kerningFunc(),k=Math.max(this.textWidth+((this.attrs.text||"").length-1)*P,0);let x=0;R==="center"&&(x=Math.max(0,this.pathLength/2-k/2)),R==="right"&&(x=Math.max(0,this.pathLength-k));const T=(0,l.stringToArray)(this.text());let A=x;for(let M=0;M<T.length;M++){const Y=this._getPointAtLength(A);if(!Y)return;let F=this._getTextSize(T[M]).width+P;if(T[M]===" "&&R==="justify"){const re=this.text().split(" ").length-1;F+=(this.pathLength-k)/re}const z=this._getPointAtLength(A+F);if(!z)return;const j=a.Path.getLineLength(Y.x,Y.y,z.x,z.y);let $=0;if(I)try{$=I(T[M-1],T[M])*this.fontSize()}catch{$=0}Y.x+=$,z.x+=$,this.textWidth+=$;const Q=a.Path.getPointOnLine($+j/2,Y.x,Y.y,z.x,z.y),te=Math.atan2(z.y-Y.y,z.x-Y.x);this.glyphInfo.push({transposeX:Q.x,transposeY:Q.y,text:T[M],rotation:te,p0:Y,p1:z}),A+=F}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const _=[];this.glyphInfo.forEach(function(A){_.push(A.p0.x),_.push(A.p0.y),_.push(A.p1.x),_.push(A.p1.y)});let C=_[0]||0,P=_[0]||0,R=_[1]||0,I=_[1]||0,k,x;for(let A=0;A<_.length/2;A++)k=_[A*2],x=_[A*2+1],C=Math.min(C,k),P=Math.max(P,k),R=Math.min(R,x),I=Math.max(I,x);const T=this.fontSize();return{x:C-T/2,y:R-T/2,width:P-C+T,height:I-R+T}}destroy(){return e.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return ac.TextPath=S,S.prototype._fillFunc=m,S.prototype._strokeFunc=y,S.prototype._fillFuncHit=m,S.prototype._strokeFuncHit=y,S.prototype.className="TextPath",S.prototype._attrsAffectingSize=["text","fontSize","data"],(0,d._registerNode)(S),n.Factory.addGetterSetter(S,"data"),n.Factory.addGetterSetter(S,"fontFamily","Arial"),n.Factory.addGetterSetter(S,"fontSize",12,(0,c.getNumberValidator)()),n.Factory.addGetterSetter(S,"fontStyle",h),n.Factory.addGetterSetter(S,"align","left"),n.Factory.addGetterSetter(S,"letterSpacing",0,(0,c.getNumberValidator)()),n.Factory.addGetterSetter(S,"textBaseline","middle"),n.Factory.addGetterSetter(S,"fontVariant",h),n.Factory.addGetterSetter(S,"text",f),n.Factory.addGetterSetter(S,"textDecoration",""),n.Factory.addGetterSetter(S,"kerningFunc",void 0),ac}var lc={},e1;function V8(){if(e1)return lc;e1=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.Transformer=void 0;const e=un(),n=gt(),o=yn(),a=Wn(),l=zv(),c=Pg(),d=ct(),f=St(),h=ct(),m="tr-konva",y=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(F=>F+`.${m}`).join(" "),S="nodesRect",v=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],_={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},C="ontouchstart"in d.Konva._global;function P(F,z,j){if(F==="rotater")return j;z+=e.Util.degToRad(_[F]||0);const $=(e.Util.radToDeg(z)%360+360)%360;return e.Util._inRange($,315+22.5,360)||e.Util._inRange($,0,22.5)?"ns-resize":e.Util._inRange($,45-22.5,45+22.5)?"nesw-resize":e.Util._inRange($,90-22.5,90+22.5)?"ew-resize":e.Util._inRange($,135-22.5,135+22.5)?"nwse-resize":e.Util._inRange($,180-22.5,180+22.5)?"ns-resize":e.Util._inRange($,225-22.5,225+22.5)?"nesw-resize":e.Util._inRange($,270-22.5,270+22.5)?"ew-resize":e.Util._inRange($,315-22.5,315+22.5)?"nwse-resize":(e.Util.error("Transformer has unknown angle for cursor detection: "+$),"pointer")}const R=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function I(F){return{x:F.x+F.width/2*Math.cos(F.rotation)+F.height/2*Math.sin(-F.rotation),y:F.y+F.height/2*Math.cos(F.rotation)+F.width/2*Math.sin(F.rotation)}}function k(F,z,j){const $=j.x+(F.x-j.x)*Math.cos(z)-(F.y-j.y)*Math.sin(z),Q=j.y+(F.x-j.x)*Math.sin(z)+(F.y-j.y)*Math.cos(z);return{...F,rotation:F.rotation+z,x:$,y:Q}}function x(F,z){const j=I(F);return k(F,z,j)}function T(F,z,j){let $=z;for(let Q=0;Q<F.length;Q++){const te=d.Konva.getAngle(F[Q]),re=Math.abs(te-z)%(Math.PI*2);Math.min(re,Math.PI*2-re)<j&&($=te)}return $}let A=0;class M extends c.Group{constructor(z){super(z),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(y,this.update),this.getNode()&&this.update()}attachTo(z){return this.setNode(z),this}setNode(z){return e.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([z])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return m+this._id}setNodes(z=[]){this._nodes&&this._nodes.length&&this.detach();const j=z.filter(Q=>Q.isAncestorOf(this)?(e.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=z=j,z.length===1&&this.useSingleNodeRotation()?this.rotation(z[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(Q=>{const te=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(Q._attrsAffectingSize.length){const re=Q._attrsAffectingSize.map(ee=>ee+"Change."+this._getEventNamespace()).join(" ");Q.on(re,te)}Q.on(v.map(re=>re+`.${this._getEventNamespace()}`).join(" "),te),Q.on(`absoluteTransformChange.${this._getEventNamespace()}`,te),this._proxyDrag(Q)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(z){let j;z.on(`dragstart.${this._getEventNamespace()}`,$=>{j=z.getAbsolutePosition(),!this.isDragging()&&z!==this.findOne(".back")&&this.startDrag($,!1)}),z.on(`dragmove.${this._getEventNamespace()}`,$=>{if(!j)return;const Q=z.getAbsolutePosition(),te=Q.x-j.x,re=Q.y-j.y;this.nodes().forEach(ee=>{if(ee===z||ee.isDragging())return;const ge=ee.getAbsolutePosition();ee.setAbsolutePosition({x:ge.x+te,y:ge.y+re}),ee.startDrag($)}),j=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(z=>{z.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(S),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(S,this.__getNodeRect)}__getNodeShape(z,j=this.rotation(),$){const Q=z.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),te=z.getAbsoluteScale($),re=z.getAbsolutePosition($),ee=Q.x*te.x-z.offsetX()*te.x,ge=Q.y*te.y-z.offsetY()*te.y,L=(d.Konva.getAngle(z.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),B={x:re.x+ee*Math.cos(L)+ge*Math.sin(-L),y:re.y+ge*Math.cos(L)+ee*Math.sin(L),width:Q.width*te.x,height:Q.height*te.y,rotation:L};return k(B,-d.Konva.getAngle(j),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const j=[];this.nodes().map(L=>{const B=L.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),V=[{x:B.x,y:B.y},{x:B.x+B.width,y:B.y},{x:B.x+B.width,y:B.y+B.height},{x:B.x,y:B.y+B.height}],H=L.getAbsoluteTransform();V.forEach(function(O){const K=H.point(O);j.push(K)})});const $=new e.Transform;$.rotate(-d.Konva.getAngle(this.rotation()));let Q=1/0,te=1/0,re=-1/0,ee=-1/0;j.forEach(function(L){const B=$.point(L);Q===void 0&&(Q=re=B.x,te=ee=B.y),Q=Math.min(Q,B.x),te=Math.min(te,B.y),re=Math.max(re,B.x),ee=Math.max(ee,B.y)}),$.invert();const ge=$.point({x:Q,y:te});return{x:ge.x,y:ge.y,width:re-Q,height:ee-te,rotation:d.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),R.forEach(z=>{this._createAnchor(z)}),this._createAnchor("rotater")}_createAnchor(z){const j=new l.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:z+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:C?10:"auto"}),$=this;j.on("mousedown touchstart",function(Q){$._handleMouseDown(Q)}),j.on("dragstart",Q=>{j.stopDrag(),Q.cancelBubble=!0}),j.on("dragend",Q=>{Q.cancelBubble=!0}),j.on("mouseenter",()=>{const Q=d.Konva.getAngle(this.rotation()),te=this.rotateAnchorCursor(),re=P(z,Q,te);j.getStage().content&&(j.getStage().content.style.cursor=re),this._cursorChange=!0}),j.on("mouseout",()=>{j.getStage().content&&(j.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(j)}_createBack(){const z=new a.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(j,$){const Q=$.getParent(),te=Q.padding();j.beginPath(),j.rect(-te,-te,$.width()+te*2,$.height()+te*2),j.moveTo($.width()/2,-te),Q.rotateEnabled()&&Q.rotateLineVisible()&&j.lineTo($.width()/2,-Q.rotateAnchorOffset()*e.Util._sign($.height())-te),j.fillStrokeShape($)},hitFunc:(j,$)=>{if(!this.shouldOverdrawWholeArea())return;const Q=this.padding();j.beginPath(),j.rect(-Q,-Q,$.width()+Q*2,$.height()+Q*2),j.fillStrokeShape($)}});this.add(z),this._proxyDrag(z),z.on("dragstart",j=>{j.cancelBubble=!0}),z.on("dragmove",j=>{j.cancelBubble=!0}),z.on("dragend",j=>{j.cancelBubble=!0}),this.on("dragmove",j=>{this.update()})}_handleMouseDown(z){if(this._transforming)return;this._movingAnchorName=z.target.name().split(" ")[0];const j=this._getNodeRect(),$=j.width,Q=j.height,te=Math.sqrt(Math.pow($,2)+Math.pow(Q,2));this.sin=Math.abs(Q/te),this.cos=Math.abs($/te),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const re=z.target.getAbsolutePosition(),ee=z.target.getStage().getPointerPosition();this._anchorDragOffset={x:ee.x-re.x,y:ee.y-re.y},A++,this._fire("transformstart",{evt:z.evt,target:this.getNode()}),this._nodes.forEach(ge=>{ge._fire("transformstart",{evt:z.evt,target:ge})})}_handleMouseMove(z){let j,$,Q;const te=this.findOne("."+this._movingAnchorName),re=te.getStage();re.setPointersPositions(z);const ee=re.getPointerPosition();let ge={x:ee.x-this._anchorDragOffset.x,y:ee.y-this._anchorDragOffset.y};const L=te.getAbsolutePosition();this.anchorDragBoundFunc()&&(ge=this.anchorDragBoundFunc()(L,ge,z)),te.setAbsolutePosition(ge);const B=te.getAbsolutePosition();if(L.x===B.x&&L.y===B.y)return;if(this._movingAnchorName==="rotater"){const se=this._getNodeRect();j=te.x()-se.width/2,$=-te.y()+se.height/2;let X=Math.atan2(-$,j)+Math.PI/2;se.height<0&&(X-=Math.PI);const ve=d.Konva.getAngle(this.rotation())+X,we=d.Konva.getAngle(this.rotationSnapTolerance()),Le=T(this.rotationSnaps(),ve,we)-se.rotation,Oe=x(se,Le);this._fitNodesInto(Oe,z);return}const V=this.shiftBehavior();let H;V==="inverted"?H=this.keepRatio()&&!z.shiftKey:V==="none"?H=this.keepRatio():H=this.keepRatio()||z.shiftKey;let O=this.centeredScaling()||z.altKey;if(this._movingAnchorName==="top-left"){if(H){const se=O?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};Q=Math.sqrt(Math.pow(se.x-te.x(),2)+Math.pow(se.y-te.y(),2));const X=this.findOne(".top-left").x()>se.x?-1:1,oe=this.findOne(".top-left").y()>se.y?-1:1;j=Q*this.cos*X,$=Q*this.sin*oe,this.findOne(".top-left").x(se.x-j),this.findOne(".top-left").y(se.y-$)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(te.y());else if(this._movingAnchorName==="top-right"){if(H){const se=O?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};Q=Math.sqrt(Math.pow(te.x()-se.x,2)+Math.pow(se.y-te.y(),2));const X=this.findOne(".top-right").x()<se.x?-1:1,oe=this.findOne(".top-right").y()>se.y?-1:1;j=Q*this.cos*X,$=Q*this.sin*oe,this.findOne(".top-right").x(se.x+j),this.findOne(".top-right").y(se.y-$)}var K=te.position();this.findOne(".top-left").y(K.y),this.findOne(".bottom-right").x(K.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(te.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(te.x());else if(this._movingAnchorName==="bottom-left"){if(H){const se=O?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};Q=Math.sqrt(Math.pow(se.x-te.x(),2)+Math.pow(te.y()-se.y,2));const X=se.x<te.x()?-1:1,oe=te.y()<se.y?-1:1;j=Q*this.cos*X,$=Q*this.sin*oe,te.x(se.x-j),te.y(se.y+$)}K=te.position(),this.findOne(".top-left").x(K.x),this.findOne(".bottom-right").y(K.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(te.y());else if(this._movingAnchorName==="bottom-right"){if(H){const se=O?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};Q=Math.sqrt(Math.pow(te.x()-se.x,2)+Math.pow(te.y()-se.y,2));const X=this.findOne(".bottom-right").x()<se.x?-1:1,oe=this.findOne(".bottom-right").y()<se.y?-1:1;j=Q*this.cos*X,$=Q*this.sin*oe,this.findOne(".bottom-right").x(se.x+j),this.findOne(".bottom-right").y(se.y+$)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(O=this.centeredScaling()||z.altKey,O){const se=this.findOne(".top-left"),X=this.findOne(".bottom-right"),oe=se.x(),ve=se.y(),we=this.getWidth()-X.x(),Te=this.getHeight()-X.y();X.move({x:-oe,y:-ve}),se.move({x:we,y:Te})}const J=this.findOne(".top-left").getAbsolutePosition();j=J.x,$=J.y;const ue=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),me=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:j,y:$,width:ue,height:me,rotation:d.Konva.getAngle(this.rotation())},z)}_handleMouseUp(z){this._removeEvents(z)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(z){var j;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const $=this.getNode();A--,this._fire("transformend",{evt:z,target:$}),(j=this.getLayer())===null||j===void 0||j.batchDraw(),$&&this._nodes.forEach(Q=>{var te;Q._fire("transformend",{evt:z,target:Q}),(te=Q.getLayer())===null||te===void 0||te.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(z,j){const $=this._getNodeRect(),Q=1;if(e.Util._inRange(z.width,-this.padding()*2-Q,Q)){this.update();return}if(e.Util._inRange(z.height,-this.padding()*2-Q,Q)){this.update();return}const te=new e.Transform;if(te.rotate(d.Konva.getAngle(this.rotation())),this._movingAnchorName&&z.width<0&&this._movingAnchorName.indexOf("left")>=0){const H=te.point({x:-this.padding()*2,y:0});z.x+=H.x,z.y+=H.y,z.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=H.x,this._anchorDragOffset.y-=H.y}else if(this._movingAnchorName&&z.width<0&&this._movingAnchorName.indexOf("right")>=0){const H=te.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=H.x,this._anchorDragOffset.y-=H.y,z.width+=this.padding()*2}if(this._movingAnchorName&&z.height<0&&this._movingAnchorName.indexOf("top")>=0){const H=te.point({x:0,y:-this.padding()*2});z.x+=H.x,z.y+=H.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=H.x,this._anchorDragOffset.y-=H.y,z.height+=this.padding()*2}else if(this._movingAnchorName&&z.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const H=te.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=H.x,this._anchorDragOffset.y-=H.y,z.height+=this.padding()*2}if(this.boundBoxFunc()){const H=this.boundBoxFunc()($,z);H?z=H:e.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const re=1e7,ee=new e.Transform;ee.translate($.x,$.y),ee.rotate($.rotation),ee.scale($.width/re,$.height/re);const ge=new e.Transform,L=z.width/re,B=z.height/re;this.flipEnabled()===!1?(ge.translate(z.x,z.y),ge.rotate(z.rotation),ge.translate(z.width<0?z.width:0,z.height<0?z.height:0),ge.scale(Math.abs(L),Math.abs(B))):(ge.translate(z.x,z.y),ge.rotate(z.rotation),ge.scale(L,B));const V=ge.multiply(ee.invert());this._nodes.forEach(H=>{var O;const K=H.getParent().getAbsoluteTransform(),J=H.getTransform().copy();J.translate(H.offsetX(),H.offsetY());const ue=new e.Transform;ue.multiply(K.copy().invert()).multiply(V).multiply(K).multiply(J);const me=ue.decompose();H.setAttrs(me),(O=H.getLayer())===null||O===void 0||O.batchDraw()}),this.rotation(e.Util._getRotation(z.rotation)),this._nodes.forEach(H=>{this._fire("transform",{evt:j,target:H}),H._fire("transform",{evt:j,target:H})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(z,j){this.findOne(z).setAttrs(j)}update(){var z;const j=this._getNodeRect();this.rotation(e.Util._getRotation(j.rotation));const $=j.width,Q=j.height,te=this.enabledAnchors(),re=this.resizeEnabled(),ee=this.padding(),ge=this.anchorSize(),L=this.find("._anchor");L.forEach(V=>{V.setAttrs({width:ge,height:ge,offsetX:ge/2,offsetY:ge/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:ge/2+ee,offsetY:ge/2+ee,visible:re&&te.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:$/2,y:0,offsetY:ge/2+ee,visible:re&&te.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:$,y:0,offsetX:ge/2-ee,offsetY:ge/2+ee,visible:re&&te.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:Q/2,offsetX:ge/2+ee,visible:re&&te.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:$,y:Q/2,offsetX:ge/2-ee,visible:re&&te.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:Q,offsetX:ge/2+ee,offsetY:ge/2-ee,visible:re&&te.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:$/2,y:Q,offsetY:ge/2-ee,visible:re&&te.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:$,y:Q,offsetX:ge/2-ee,offsetY:ge/2-ee,visible:re&&te.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:$/2,y:-this.rotateAnchorOffset()*e.Util._sign(Q)-ee,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:$,height:Q,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const B=this.anchorStyleFunc();B&&L.forEach(V=>{B(V)}),(z=this.getLayer())===null||z===void 0||z.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const z=this.findOne("."+this._movingAnchorName);z&&z.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),c.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return o.Node.prototype.toObject.call(this)}clone(z){return o.Node.prototype.clone.call(this,z)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}lc.Transformer=M,M.isTransforming=()=>A>0;function Y(F){return F instanceof Array||e.Util.warn("enabledAnchors value should be an array"),F instanceof Array&&F.forEach(function(z){R.indexOf(z)===-1&&e.Util.warn("Unknown anchor name: "+z+". Available names are: "+R.join(", "))}),F||[]}return M.prototype.className="Transformer",(0,h._registerNode)(M),n.Factory.addGetterSetter(M,"enabledAnchors",R,Y),n.Factory.addGetterSetter(M,"flipEnabled",!0,(0,f.getBooleanValidator)()),n.Factory.addGetterSetter(M,"resizeEnabled",!0),n.Factory.addGetterSetter(M,"anchorSize",10,(0,f.getNumberValidator)()),n.Factory.addGetterSetter(M,"rotateEnabled",!0),n.Factory.addGetterSetter(M,"rotateLineVisible",!0),n.Factory.addGetterSetter(M,"rotationSnaps",[]),n.Factory.addGetterSetter(M,"rotateAnchorOffset",50,(0,f.getNumberValidator)()),n.Factory.addGetterSetter(M,"rotateAnchorCursor","crosshair"),n.Factory.addGetterSetter(M,"rotationSnapTolerance",5,(0,f.getNumberValidator)()),n.Factory.addGetterSetter(M,"borderEnabled",!0),n.Factory.addGetterSetter(M,"anchorStroke","rgb(0, 161, 255)"),n.Factory.addGetterSetter(M,"anchorStrokeWidth",1,(0,f.getNumberValidator)()),n.Factory.addGetterSetter(M,"anchorFill","white"),n.Factory.addGetterSetter(M,"anchorCornerRadius",0,(0,f.getNumberValidator)()),n.Factory.addGetterSetter(M,"borderStroke","rgb(0, 161, 255)"),n.Factory.addGetterSetter(M,"borderStrokeWidth",1,(0,f.getNumberValidator)()),n.Factory.addGetterSetter(M,"borderDash"),n.Factory.addGetterSetter(M,"keepRatio",!0),n.Factory.addGetterSetter(M,"shiftBehavior","default"),n.Factory.addGetterSetter(M,"centeredScaling",!1),n.Factory.addGetterSetter(M,"ignoreStroke",!1),n.Factory.addGetterSetter(M,"padding",0,(0,f.getNumberValidator)()),n.Factory.addGetterSetter(M,"nodes"),n.Factory.addGetterSetter(M,"node"),n.Factory.addGetterSetter(M,"boundBoxFunc"),n.Factory.addGetterSetter(M,"anchorDragBoundFunc"),n.Factory.addGetterSetter(M,"anchorStyleFunc"),n.Factory.addGetterSetter(M,"shouldOverdrawWholeArea",!1),n.Factory.addGetterSetter(M,"useSingleNodeRotation",!0),n.Factory.backCompat(M,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),lc}var uc={},t1;function $8(){if(t1)return uc;t1=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.Wedge=void 0;const e=gt(),n=Wn(),o=ct(),a=St(),l=ct();let c=class extends n.Shape{_sceneFunc(f){f.beginPath(),f.arc(0,0,this.radius(),0,o.Konva.getAngle(this.angle()),this.clockwise()),f.lineTo(0,0),f.closePath(),f.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(f){this.radius(f/2)}setHeight(f){this.radius(f/2)}};return uc.Wedge=c,c.prototype.className="Wedge",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["radius"],(0,l._registerNode)(c),e.Factory.addGetterSetter(c,"radius",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(c,"angle",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(c,"clockwise",!1),e.Factory.backCompat(c,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),uc}var cc={},n1;function q8(){if(n1)return cc;n1=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.Blur=void 0;const e=gt(),n=yn(),o=St();function a(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const l=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],c=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function d(h,m){const y=h.data,S=h.width,v=h.height;let _,C,P,R,I,k,x,T,A,M,Y,F,z,j,$,Q,te,re,ee,ge;const L=m+m+1,B=S-1,V=v-1,H=m+1,O=H*(H+1)/2,K=new a,J=l[m],ue=c[m];let me=null,se=K,X=null,oe=null;for(let ve=1;ve<L;ve++)se=se.next=new a,ve===H&&(me=se);se.next=K,P=C=0;for(let ve=0;ve<v;ve++){F=z=j=$=R=I=k=x=0,T=H*(Q=y[C]),A=H*(te=y[C+1]),M=H*(re=y[C+2]),Y=H*(ee=y[C+3]),R+=O*Q,I+=O*te,k+=O*re,x+=O*ee,se=K;for(let we=0;we<H;we++)se.r=Q,se.g=te,se.b=re,se.a=ee,se=se.next;for(let we=1;we<H;we++)_=C+((B<we?B:we)<<2),R+=(se.r=Q=y[_])*(ge=H-we),I+=(se.g=te=y[_+1])*ge,k+=(se.b=re=y[_+2])*ge,x+=(se.a=ee=y[_+3])*ge,F+=Q,z+=te,j+=re,$+=ee,se=se.next;X=K,oe=me;for(let we=0;we<S;we++)y[C+3]=ee=x*J>>ue,ee!==0?(ee=255/ee,y[C]=(R*J>>ue)*ee,y[C+1]=(I*J>>ue)*ee,y[C+2]=(k*J>>ue)*ee):y[C]=y[C+1]=y[C+2]=0,R-=T,I-=A,k-=M,x-=Y,T-=X.r,A-=X.g,M-=X.b,Y-=X.a,_=P+((_=we+m+1)<B?_:B)<<2,F+=X.r=y[_],z+=X.g=y[_+1],j+=X.b=y[_+2],$+=X.a=y[_+3],R+=F,I+=z,k+=j,x+=$,X=X.next,T+=Q=oe.r,A+=te=oe.g,M+=re=oe.b,Y+=ee=oe.a,F-=Q,z-=te,j-=re,$-=ee,oe=oe.next,C+=4;P+=S}for(let ve=0;ve<S;ve++){z=j=$=F=I=k=x=R=0,C=ve<<2,T=H*(Q=y[C]),A=H*(te=y[C+1]),M=H*(re=y[C+2]),Y=H*(ee=y[C+3]),R+=O*Q,I+=O*te,k+=O*re,x+=O*ee,se=K;for(let Te=0;Te<H;Te++)se.r=Q,se.g=te,se.b=re,se.a=ee,se=se.next;let we=S;for(let Te=1;Te<=m;Te++)C=we+ve<<2,R+=(se.r=Q=y[C])*(ge=H-Te),I+=(se.g=te=y[C+1])*ge,k+=(se.b=re=y[C+2])*ge,x+=(se.a=ee=y[C+3])*ge,F+=Q,z+=te,j+=re,$+=ee,se=se.next,Te<V&&(we+=S);C=ve,X=K,oe=me;for(let Te=0;Te<v;Te++)_=C<<2,y[_+3]=ee=x*J>>ue,ee>0?(ee=255/ee,y[_]=(R*J>>ue)*ee,y[_+1]=(I*J>>ue)*ee,y[_+2]=(k*J>>ue)*ee):y[_]=y[_+1]=y[_+2]=0,R-=T,I-=A,k-=M,x-=Y,T-=X.r,A-=X.g,M-=X.b,Y-=X.a,_=ve+((_=Te+H)<V?_:V)*S<<2,R+=F+=X.r=y[_],I+=z+=X.g=y[_+1],k+=j+=X.b=y[_+2],x+=$+=X.a=y[_+3],X=X.next,T+=Q=oe.r,A+=te=oe.g,M+=re=oe.b,Y+=ee=oe.a,F-=Q,z-=te,j-=re,$-=ee,oe=oe.next,C+=S}}const f=function(m){const y=Math.round(this.blurRadius());y>0&&d(m,y)};return cc.Blur=f,e.Factory.addGetterSetter(n.Node,"blurRadius",0,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),cc}var dc={},r1;function K8(){if(r1)return dc;r1=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.Brighten=void 0;const e=gt(),n=yn(),o=St(),a=function(l){const c=this.brightness()*255,d=l.data,f=d.length;for(let h=0;h<f;h+=4)d[h]+=c,d[h+1]+=c,d[h+2]+=c};return dc.Brighten=a,e.Factory.addGetterSetter(n.Node,"brightness",0,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),dc}var fc={},i1;function Y8(){if(i1)return fc;i1=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.Contrast=void 0;const e=gt(),n=yn(),o=St(),a=function(l){const c=Math.pow((this.contrast()+100)/100,2),d=l.data,f=d.length;let h=150,m=150,y=150;for(let S=0;S<f;S+=4)h=d[S],m=d[S+1],y=d[S+2],h/=255,h-=.5,h*=c,h+=.5,h*=255,m/=255,m-=.5,m*=c,m+=.5,m*=255,y/=255,y-=.5,y*=c,y+=.5,y*=255,h=h<0?0:h>255?255:h,m=m<0?0:m>255?255:m,y=y<0?0:y>255?255:y,d[S]=h,d[S+1]=m,d[S+2]=y};return fc.Contrast=a,e.Factory.addGetterSetter(n.Node,"contrast",0,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),fc}var hc={},o1;function X8(){if(o1)return hc;o1=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.Emboss=void 0;const e=gt(),n=yn(),o=un(),a=St(),l=function(c){const d=this.embossStrength()*10,f=this.embossWhiteLevel()*255,h=this.embossDirection(),m=this.embossBlend(),y=c.data,S=c.width,v=c.height,_=S*4;let C=0,P=0,R=v;switch(h){case"top-left":C=-1,P=-1;break;case"top":C=-1,P=0;break;case"top-right":C=-1,P=1;break;case"right":C=0,P=1;break;case"bottom-right":C=1,P=1;break;case"bottom":C=1,P=0;break;case"bottom-left":C=1,P=-1;break;case"left":C=0,P=-1;break;default:o.Util.error("Unknown emboss direction: "+h)}do{const I=(R-1)*_;let k=C;R+k<1&&(k=0),R+k>v&&(k=0);const x=(R-1+k)*S*4;let T=S;do{const A=I+(T-1)*4;let M=P;T+M<1&&(M=0),T+M>S&&(M=0);const Y=x+(T-1+M)*4,F=y[A]-y[Y],z=y[A+1]-y[Y+1],j=y[A+2]-y[Y+2];let $=F;const Q=$>0?$:-$,te=z>0?z:-z,re=j>0?j:-j;if(te>Q&&($=z),re>Q&&($=j),$*=d,m){const ee=y[A]+$,ge=y[A+1]+$,L=y[A+2]+$;y[A]=ee>255?255:ee<0?0:ee,y[A+1]=ge>255?255:ge<0?0:ge,y[A+2]=L>255?255:L<0?0:L}else{let ee=f-$;ee<0?ee=0:ee>255&&(ee=255),y[A]=y[A+1]=y[A+2]=ee}}while(--T)}while(--R)};return hc.Emboss=l,e.Factory.addGetterSetter(n.Node,"embossStrength",.5,(0,a.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"embossWhiteLevel",.5,(0,a.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"embossDirection","top-left",void 0,e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"embossBlend",!1,void 0,e.Factory.afterSetFilter),hc}var pc={},s1;function Q8(){if(s1)return pc;s1=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.Enhance=void 0;const e=gt(),n=yn(),o=St();function a(c,d,f,h,m){const y=f-d,S=m-h;if(y===0)return h+S/2;if(S===0)return h;let v=(c-d)/y;return v=S*v+h,v}const l=function(c){const d=c.data,f=d.length;let h=d[0],m=h,y,S=d[1],v=S,_,C=d[2],P=C,R;const I=this.enhance();if(I===0)return;for(let F=0;F<f;F+=4)y=d[F+0],y<h?h=y:y>m&&(m=y),_=d[F+1],_<S?S=_:_>v&&(v=_),R=d[F+2],R<C?C=R:R>P&&(P=R);m===h&&(m=255,h=0),v===S&&(v=255,S=0),P===C&&(P=255,C=0);let k,x,T,A,M,Y;if(I>0)k=m+I*(255-m),x=h-I*(h-0),T=v+I*(255-v),A=S-I*(S-0),M=P+I*(255-P),Y=C-I*(C-0);else{const F=(m+h)*.5;k=m+I*(m-F),x=h+I*(h-F);const z=(v+S)*.5;T=v+I*(v-z),A=S+I*(S-z);const j=(P+C)*.5;M=P+I*(P-j),Y=C+I*(C-j)}for(let F=0;F<f;F+=4)d[F+0]=a(d[F+0],h,m,x,k),d[F+1]=a(d[F+1],S,v,A,T),d[F+2]=a(d[F+2],C,P,Y,M)};return pc.Enhance=l,e.Factory.addGetterSetter(n.Node,"enhance",0,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),pc}var gc={},a1;function J8(){if(a1)return gc;a1=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.Grayscale=void 0;const e=function(n){const o=n.data,a=o.length;for(let l=0;l<a;l+=4){const c=.34*o[l]+.5*o[l+1]+.16*o[l+2];o[l]=c,o[l+1]=c,o[l+2]=c}};return gc.Grayscale=e,gc}var mc={},l1;function Z8(){if(l1)return mc;l1=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.HSL=void 0;const e=gt(),n=yn(),o=St();e.Factory.addGetterSetter(n.Node,"hue",0,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"saturation",0,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"luminance",0,(0,o.getNumberValidator)(),e.Factory.afterSetFilter);const a=function(l){const c=l.data,d=c.length,f=1,h=Math.pow(2,this.saturation()),m=Math.abs(this.hue()+360)%360,y=this.luminance()*127,S=f*h*Math.cos(m*Math.PI/180),v=f*h*Math.sin(m*Math.PI/180),_=.299*f+.701*S+.167*v,C=.587*f-.587*S+.33*v,P=.114*f-.114*S-.497*v,R=.299*f-.299*S-.328*v,I=.587*f+.413*S+.035*v,k=.114*f-.114*S+.293*v,x=.299*f-.3*S+1.25*v,T=.587*f-.586*S-1.05*v,A=.114*f+.886*S-.2*v;let M,Y,F,z;for(let j=0;j<d;j+=4)M=c[j+0],Y=c[j+1],F=c[j+2],z=c[j+3],c[j+0]=_*M+C*Y+P*F+y,c[j+1]=R*M+I*Y+k*F+y,c[j+2]=x*M+T*Y+A*F+y,c[j+3]=z};return mc.HSL=a,mc}var yc={},u1;function ex(){if(u1)return yc;u1=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.HSV=void 0;const e=gt(),n=yn(),o=St(),a=function(l){const c=l.data,d=c.length,f=Math.pow(2,this.value()),h=Math.pow(2,this.saturation()),m=Math.abs(this.hue()+360)%360,y=f*h*Math.cos(m*Math.PI/180),S=f*h*Math.sin(m*Math.PI/180),v=.299*f+.701*y+.167*S,_=.587*f-.587*y+.33*S,C=.114*f-.114*y-.497*S,P=.299*f-.299*y-.328*S,R=.587*f+.413*y+.035*S,I=.114*f-.114*y+.293*S,k=.299*f-.3*y+1.25*S,x=.587*f-.586*y-1.05*S,T=.114*f+.886*y-.2*S;for(let A=0;A<d;A+=4){const M=c[A+0],Y=c[A+1],F=c[A+2],z=c[A+3];c[A+0]=v*M+_*Y+C*F,c[A+1]=P*M+R*Y+I*F,c[A+2]=k*M+x*Y+T*F,c[A+3]=z}};return yc.HSV=a,e.Factory.addGetterSetter(n.Node,"hue",0,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"saturation",0,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"value",0,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),yc}var vc={},c1;function tx(){if(c1)return vc;c1=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.Invert=void 0;const e=function(n){const o=n.data,a=o.length;for(let l=0;l<a;l+=4)o[l]=255-o[l],o[l+1]=255-o[l+1],o[l+2]=255-o[l+2]};return vc.Invert=e,vc}var Sc={},d1;function nx(){if(d1)return Sc;d1=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.Kaleidoscope=void 0;const e=gt(),n=yn(),o=un(),a=St(),l=function(f,h,m){const y=f.data,S=h.data,v=f.width,_=f.height,C=m.polarCenterX||v/2,P=m.polarCenterY||_/2;let R=Math.sqrt(C*C+P*P),I=v-C,k=_-P;const x=Math.sqrt(I*I+k*k);R=x>R?x:R;const T=_,A=v,M=360/A*Math.PI/180;for(let Y=0;Y<A;Y+=1){const F=Math.sin(Y*M),z=Math.cos(Y*M);for(let j=0;j<T;j+=1){I=Math.floor(C+R*j/T*z),k=Math.floor(P+R*j/T*F);let $=(k*v+I)*4;const Q=y[$+0],te=y[$+1],re=y[$+2],ee=y[$+3];$=(Y+j*v)*4,S[$+0]=Q,S[$+1]=te,S[$+2]=re,S[$+3]=ee}}},c=function(f,h,m){const y=f.data,S=h.data,v=f.width,_=f.height,C=m.polarCenterX||v/2,P=m.polarCenterY||_/2;let R=Math.sqrt(C*C+P*P),I=v-C,k=_-P;const x=Math.sqrt(I*I+k*k);R=x>R?x:R;const T=_,A=v,M=0;let Y,F;for(I=0;I<v;I+=1)for(k=0;k<_;k+=1){const z=I-C,j=k-P,$=Math.sqrt(z*z+j*j)*T/R;let Q=(Math.atan2(j,z)*180/Math.PI+360+M)%360;Q=Q*A/360,Y=Math.floor(Q),F=Math.floor($);let te=(F*v+Y)*4;const re=y[te+0],ee=y[te+1],ge=y[te+2],L=y[te+3];te=(k*v+I)*4,S[te+0]=re,S[te+1]=ee,S[te+2]=ge,S[te+3]=L}},d=function(f){const h=f.width,m=f.height;let y,S,v,_,C,P,R,I,k,x,T=Math.round(this.kaleidoscopePower());const A=Math.round(this.kaleidoscopeAngle()),M=Math.floor(h*(A%360)/360);if(T<1)return;const Y=o.Util.createCanvasElement();Y.width=h,Y.height=m;const F=Y.getContext("2d").getImageData(0,0,h,m);o.Util.releaseCanvas(Y),l(f,F,{polarCenterX:h/2,polarCenterY:m/2});let z=h/Math.pow(2,T);for(;z<=8;)z=z*2,T-=1;z=Math.ceil(z);let j=z,$=0,Q=j,te=1;for(M+z>h&&($=j,Q=0,te=-1),S=0;S<m;S+=1)for(y=$;y!==Q;y+=te)v=Math.round(y+M)%h,k=(h*S+v)*4,C=F.data[k+0],P=F.data[k+1],R=F.data[k+2],I=F.data[k+3],x=(h*S+y)*4,F.data[x+0]=C,F.data[x+1]=P,F.data[x+2]=R,F.data[x+3]=I;for(S=0;S<m;S+=1)for(j=Math.floor(z),_=0;_<T;_+=1){for(y=0;y<j+1;y+=1)k=(h*S+y)*4,C=F.data[k+0],P=F.data[k+1],R=F.data[k+2],I=F.data[k+3],x=(h*S+j*2-y-1)*4,F.data[x+0]=C,F.data[x+1]=P,F.data[x+2]=R,F.data[x+3]=I;j*=2}c(F,f,{})};return Sc.Kaleidoscope=d,e.Factory.addGetterSetter(n.Node,"kaleidoscopePower",2,(0,a.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"kaleidoscopeAngle",0,(0,a.getNumberValidator)(),e.Factory.afterSetFilter),Sc}var _c={},f1;function rx(){if(f1)return _c;f1=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.Mask=void 0;const e=gt(),n=yn(),o=St();function a(v,_,C){let P=(C*v.width+_)*4;const R=[];return R.push(v.data[P++],v.data[P++],v.data[P++],v.data[P++]),R}function l(v,_){return Math.sqrt(Math.pow(v[0]-_[0],2)+Math.pow(v[1]-_[1],2)+Math.pow(v[2]-_[2],2))}function c(v){const _=[0,0,0];for(let C=0;C<v.length;C++)_[0]+=v[C][0],_[1]+=v[C][1],_[2]+=v[C][2];return _[0]/=v.length,_[1]/=v.length,_[2]/=v.length,_}function d(v,_){const C=a(v,0,0),P=a(v,v.width-1,0),R=a(v,0,v.height-1),I=a(v,v.width-1,v.height-1),k=_||10;if(l(C,P)<k&&l(P,I)<k&&l(I,R)<k&&l(R,C)<k){const x=c([P,C,I,R]),T=[];for(let A=0;A<v.width*v.height;A++){const M=l(x,[v.data[A*4],v.data[A*4+1],v.data[A*4+2]]);T[A]=M<k?0:255}return T}}function f(v,_){for(let C=0;C<v.width*v.height;C++)v.data[4*C+3]=_[C]}function h(v,_,C){const P=[1,1,1,1,0,1,1,1,1],R=Math.round(Math.sqrt(P.length)),I=Math.floor(R/2),k=[];for(let x=0;x<C;x++)for(let T=0;T<_;T++){const A=x*_+T;let M=0;for(let Y=0;Y<R;Y++)for(let F=0;F<R;F++){const z=x+Y-I,j=T+F-I;if(z>=0&&z<C&&j>=0&&j<_){const $=z*_+j,Q=P[Y*R+F];M+=v[$]*Q}}k[A]=M===2040?255:0}return k}function m(v,_,C){const P=[1,1,1,1,1,1,1,1,1],R=Math.round(Math.sqrt(P.length)),I=Math.floor(R/2),k=[];for(let x=0;x<C;x++)for(let T=0;T<_;T++){const A=x*_+T;let M=0;for(let Y=0;Y<R;Y++)for(let F=0;F<R;F++){const z=x+Y-I,j=T+F-I;if(z>=0&&z<C&&j>=0&&j<_){const $=z*_+j,Q=P[Y*R+F];M+=v[$]*Q}}k[A]=M>=1020?255:0}return k}function y(v,_,C){const P=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],R=Math.round(Math.sqrt(P.length)),I=Math.floor(R/2),k=[];for(let x=0;x<C;x++)for(let T=0;T<_;T++){const A=x*_+T;let M=0;for(let Y=0;Y<R;Y++)for(let F=0;F<R;F++){const z=x+Y-I,j=T+F-I;if(z>=0&&z<C&&j>=0&&j<_){const $=z*_+j,Q=P[Y*R+F];M+=v[$]*Q}}k[A]=M}return k}const S=function(v){const _=this.threshold();let C=d(v,_);return C&&(C=h(C,v.width,v.height),C=m(C,v.width,v.height),C=y(C,v.width,v.height),f(v,C)),v};return _c.Mask=S,e.Factory.addGetterSetter(n.Node,"threshold",0,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),_c}var wc={},h1;function ix(){if(h1)return wc;h1=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.Noise=void 0;const e=gt(),n=yn(),o=St(),a=function(l){const c=this.noise()*255,d=l.data,f=d.length,h=c/2;for(let m=0;m<f;m+=4)d[m+0]+=h-2*h*Math.random(),d[m+1]+=h-2*h*Math.random(),d[m+2]+=h-2*h*Math.random()};return wc.Noise=a,e.Factory.addGetterSetter(n.Node,"noise",.2,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),wc}var xc={},p1;function ox(){if(p1)return xc;p1=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.Pixelate=void 0;const e=gt(),n=un(),o=yn(),a=St(),l=function(c){let d=Math.ceil(this.pixelSize()),f=c.width,h=c.height,m=Math.ceil(f/d),y=Math.ceil(h/d),S=c.data;if(d<=0){n.Util.error("pixelSize value can not be <= 0");return}for(let v=0;v<m;v+=1)for(let _=0;_<y;_+=1){let C=0,P=0,R=0,I=0;const k=v*d,x=k+d,T=_*d,A=T+d;let M=0;for(let Y=k;Y<x;Y+=1)if(!(Y>=f))for(let F=T;F<A;F+=1){if(F>=h)continue;const z=(f*F+Y)*4;C+=S[z+0],P+=S[z+1],R+=S[z+2],I+=S[z+3],M+=1}C=C/M,P=P/M,R=R/M,I=I/M;for(let Y=k;Y<x;Y+=1)if(!(Y>=f))for(let F=T;F<A;F+=1){if(F>=h)continue;const z=(f*F+Y)*4;S[z+0]=C,S[z+1]=P,S[z+2]=R,S[z+3]=I}}};return xc.Pixelate=l,e.Factory.addGetterSetter(o.Node,"pixelSize",8,(0,a.getNumberValidator)(),e.Factory.afterSetFilter),xc}var Cc={},g1;function sx(){if(g1)return Cc;g1=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.Posterize=void 0;const e=gt(),n=yn(),o=St(),a=function(l){const c=Math.round(this.levels()*254)+1,d=l.data,f=d.length,h=255/c;for(let m=0;m<f;m+=1)d[m]=Math.floor(d[m]/h)*h};return Cc.Posterize=a,e.Factory.addGetterSetter(n.Node,"levels",.5,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),Cc}var Ec={},m1;function ax(){if(m1)return Ec;m1=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.RGB=void 0;const e=gt(),n=yn(),o=St(),a=function(l){const c=l.data,d=c.length,f=this.red(),h=this.green(),m=this.blue();for(let y=0;y<d;y+=4){const S=(.34*c[y]+.5*c[y+1]+.16*c[y+2])/255;c[y]=S*f,c[y+1]=S*h,c[y+2]=S*m,c[y+3]=c[y+3]}};return Ec.RGB=a,e.Factory.addGetterSetter(n.Node,"red",0,function(l){return this._filterUpToDate=!1,l>255?255:l<0?0:Math.round(l)}),e.Factory.addGetterSetter(n.Node,"green",0,function(l){return this._filterUpToDate=!1,l>255?255:l<0?0:Math.round(l)}),e.Factory.addGetterSetter(n.Node,"blue",0,o.RGBComponent,e.Factory.afterSetFilter),Ec}var kc={},y1;function lx(){if(y1)return kc;y1=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.RGBA=void 0;const e=gt(),n=yn(),o=St(),a=function(l){const c=l.data,d=c.length,f=this.red(),h=this.green(),m=this.blue(),y=this.alpha();for(let S=0;S<d;S+=4){const v=1-y;c[S]=f*y+c[S]*v,c[S+1]=h*y+c[S+1]*v,c[S+2]=m*y+c[S+2]*v}};return kc.RGBA=a,e.Factory.addGetterSetter(n.Node,"red",0,function(l){return this._filterUpToDate=!1,l>255?255:l<0?0:Math.round(l)}),e.Factory.addGetterSetter(n.Node,"green",0,function(l){return this._filterUpToDate=!1,l>255?255:l<0?0:Math.round(l)}),e.Factory.addGetterSetter(n.Node,"blue",0,o.RGBComponent,e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"alpha",1,function(l){return this._filterUpToDate=!1,l>1?1:l<0?0:l}),kc}var bc={},v1;function ux(){if(v1)return bc;v1=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.Sepia=void 0;const e=function(n){const o=n.data,a=o.length;for(let l=0;l<a;l+=4){const c=o[l+0],d=o[l+1],f=o[l+2];o[l+0]=Math.min(255,c*.393+d*.769+f*.189),o[l+1]=Math.min(255,c*.349+d*.686+f*.168),o[l+2]=Math.min(255,c*.272+d*.534+f*.131)}};return bc.Sepia=e,bc}var Pc={},S1;function cx(){if(S1)return Pc;S1=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.Solarize=void 0;const e=function(n){const o=n.data,a=n.width,l=n.height,c=a*4;let d=l;do{const f=(d-1)*c;let h=a;do{const m=f+(h-1)*4;let y=o[m],S=o[m+1],v=o[m+2];y>127&&(y=255-y),S>127&&(S=255-S),v>127&&(v=255-v),o[m]=y,o[m+1]=S,o[m+2]=v}while(--h)}while(--d)};return Pc.Solarize=e,Pc}var Rc={},_1;function dx(){if(_1)return Rc;_1=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.Threshold=void 0;const e=gt(),n=yn(),o=St(),a=function(l){const c=this.threshold()*255,d=l.data,f=d.length;for(let h=0;h<f;h+=1)d[h]=d[h]<c?0:255};return Rc.Threshold=a,e.Factory.addGetterSetter(n.Node,"threshold",.5,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),Rc}var w1;function fx(){if(w1)return Gu;w1=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.Konva=void 0;const e=zp(),n=A8(),o=O8(),a=M8(),l=F8(),c=B8(),d=j8(),f=jv(),h=Ng(),m=zv(),y=z8(),S=U8(),v=G8(),_=H8(),C=Uv(),P=W8(),R=V8(),I=$8(),k=q8(),x=K8(),T=Y8(),A=X8(),M=Q8(),Y=J8(),F=Z8(),z=ex(),j=tx(),$=nx(),Q=rx(),te=ix(),re=ox(),ee=sx(),ge=ax(),L=lx(),B=ux(),V=cx(),H=dx();return Gu.Konva=e.Konva.Util._assign(e.Konva,{Arc:n.Arc,Arrow:o.Arrow,Circle:a.Circle,Ellipse:l.Ellipse,Image:c.Image,Label:d.Label,Tag:d.Tag,Line:f.Line,Path:h.Path,Rect:m.Rect,RegularPolygon:y.RegularPolygon,Ring:S.Ring,Sprite:v.Sprite,Star:_.Star,Text:C.Text,TextPath:P.TextPath,Transformer:R.Transformer,Wedge:I.Wedge,Filters:{Blur:k.Blur,Brighten:x.Brighten,Contrast:T.Contrast,Emboss:A.Emboss,Enhance:M.Enhance,Grayscale:Y.Grayscale,HSL:F.HSL,HSV:z.HSV,Invert:j.Invert,Kaleidoscope:$.Kaleidoscope,Mask:Q.Mask,Noise:te.Noise,Pixelate:re.Pixelate,Posterize:ee.Posterize,RGB:ge.RGB,RGBA:L.RGBA,Sepia:B.Sepia,Solarize:V.Solarize,Threshold:H.Threshold}}),Gu}var hx=kf.exports,x1;function px(){if(x1)return kf.exports;x1=1,Object.defineProperty(hx,"__esModule",{value:!0});const e=fx();return kf.exports=e.Konva,kf.exports}var gx=px();const yp=Ra(gx);var mf={exports:{}},C1;function mx(){return C1||(C1=1,(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Konva=void 0;var o=zp();Object.defineProperty(n,"Konva",{enumerable:!0,get:function(){return o.Konva}});const a=zp();e.exports=a.Konva})(mf,mf.exports)),mf.exports}var yx=mx();const $c=Ra(yx);var vp={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp,E1;function vx(){return E1||(E1=1,Sp=function(n){var o={},a=Ml(),l=$p(),c=Object.assign;function d(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,p=1;p<arguments.length;p++)s+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h=Symbol.for("react.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),A=Symbol.iterator;function M(i){return i===null||typeof i!="object"?null:(i=A&&i[A]||i["@@iterator"],typeof i=="function"?i:null)}function Y(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case y:return"Fragment";case m:return"Portal";case v:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case I:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case C:return(i.displayName||"Context")+".Consumer";case _:return(i._context.displayName||"Context")+".Provider";case P:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return s=i.displayName||null,s!==null?s:Y(i.type)||"Memo";case x:s=i._payload,i=i._init;try{return Y(i(s))}catch{}}return null}function F(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function z(i){var s=i,p=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(p=s.return),i=s.return;while(i)}return s.tag===3?p:null}function j(i){if(z(i)!==i)throw Error(d(188))}function $(i){var s=i.alternate;if(!s){if(s=z(i),s===null)throw Error(d(188));return s!==i?null:i}for(var p=i,w=s;;){var b=p.return;if(b===null)break;var D=b.alternate;if(D===null){if(w=b.return,w!==null){p=w;continue}break}if(b.child===D.child){for(D=b.child;D;){if(D===p)return j(b),i;if(D===w)return j(b),s;D=D.sibling}throw Error(d(188))}if(p.return!==w.return)p=b,w=D;else{for(var q=!1,ae=b.child;ae;){if(ae===p){q=!0,p=b,w=D;break}if(ae===w){q=!0,w=b,p=D;break}ae=ae.sibling}if(!q){for(ae=D.child;ae;){if(ae===p){q=!0,p=D,w=b;break}if(ae===w){q=!0,w=D,p=b;break}ae=ae.sibling}if(!q)throw Error(d(189))}}if(p.alternate!==w)throw Error(d(190))}if(p.tag!==3)throw Error(d(188));return p.stateNode.current===p?i:s}function Q(i){return i=$(i),i!==null?te(i):null}function te(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=te(i);if(s!==null)return s;i=i.sibling}return null}function re(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){if(i.tag!==4){var s=re(i);if(s!==null)return s}i=i.sibling}return null}var ee=Array.isArray,ge=n.getPublicInstance,L=n.getRootHostContext,B=n.getChildHostContext,V=n.prepareForCommit,H=n.resetAfterCommit,O=n.createInstance,K=n.appendInitialChild,J=n.finalizeInitialChildren,ue=n.prepareUpdate,me=n.shouldSetTextContent,se=n.createTextInstance,X=n.scheduleTimeout,oe=n.cancelTimeout,ve=n.noTimeout,we=n.isPrimaryRenderer,Te=n.supportsMutation,Le=n.supportsPersistence,Oe=n.supportsHydration,ut=n.getInstanceFromNode,Qe=n.preparePortalMount,Se=n.getCurrentEventPriority,xe=n.detachDeletedInstance,Fe=n.supportsMicrotasks,ot=n.scheduleMicrotask,at=n.supportsTestSelectors,mt=n.findFiberRoot,$e=n.getBoundingRect,nt=n.getTextContent,_t=n.isHiddenSubtree,Pt=n.matchAccessibilityRole,It=n.setFocusIfFocusable,ir=n.setupIntersectionObserver,vn=n.appendChild,Vn=n.appendChildToContainer,Yt=n.commitTextUpdate,Xt=n.commitMount,Jr=n.commitUpdate,Mi=n.insertBefore,ke=n.insertInContainerBefore,_e=n.removeChild,De=n.removeChildFromContainer,Ie=n.resetTextContent,je=n.hideInstance,Xe=n.hideTextInstance,yt=n.unhideInstance,Je=n.unhideTextInstance,kt=n.clearContainer,Sn=n.cloneInstance,Rt=n.createContainerChildSet,wt=n.appendChildToContainerChildSet,Nr=n.finalizeContainerChildren,Zr=n.replaceContainerChildren,or=n.cloneHiddenInstance,ei=n.cloneHiddenTextInstance,Hs=n.canHydrateInstance,Gl=n.canHydrateTextInstance,Ws=n.canHydrateSuspenseInstance,Zc=n.isSuspenseInstancePending,co=n.isSuspenseInstanceFallback,Ta=n.getSuspenseInstanceFallbackErrorDetails,Ia=n.registerSuspenseInstanceRetry,$o=n.getNextHydratableSibling,th=n.getFirstHydratableChild,nh=n.getFirstHydratableChildWithinContainer,rh=n.getFirstHydratableChildWithinSuspenseInstance,fo=n.hydrateInstance,ed=n.hydrateTextInstance,td=n.hydrateSuspenseInstance,ih=n.getNextHydratableInstanceAfterSuspenseInstance,nd=n.commitHydratedContainer,rd=n.commitHydratedSuspenseInstance,id=n.clearSuspenseBoundary,od=n.clearSuspenseBoundaryFromContainer,oh=n.shouldDeleteUnhydratedTailInstances,sh=n.didNotMatchHydratedContainerTextInstance,en=n.didNotMatchHydratedTextInstance,Hl;function ho(i){if(Hl===void 0)try{throw Error()}catch(p){var s=p.stack.trim().match(/\n( *(at )?)/);Hl=s&&s[1]||""}return`
`+Hl+i}var Da=!1;function qo(i,s){if(!i||Da)return"";Da=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Pe){var w=Pe}Reflect.construct(i,[],s)}else{try{s.call()}catch(Pe){w=Pe}i.call(s.prototype)}else{try{throw Error()}catch(Pe){w=Pe}i()}}catch(Pe){if(Pe&&w&&typeof Pe.stack=="string"){for(var b=Pe.stack.split(`
`),D=w.stack.split(`
`),q=b.length-1,ae=D.length-1;1<=q&&0<=ae&&b[q]!==D[ae];)ae--;for(;1<=q&&0<=ae;q--,ae--)if(b[q]!==D[ae]){if(q!==1||ae!==1)do if(q--,ae--,0>ae||b[q]!==D[ae]){var pe=`
`+b[q].replace(" at new "," at ");return i.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",i.displayName)),pe}while(1<=q&&0<=ae);break}}}finally{Da=!1,Error.prepareStackTrace=p}return(i=i?i.displayName||i.name:"")?ho(i):""}var ah=Object.prototype.hasOwnProperty,Aa=[],vi=-1;function bn(i){return{current:i}}function zt(i){0>vi||(i.current=Aa[vi],Aa[vi]=null,vi--)}function dt(i,s){vi++,Aa[vi]=i.current,i.current=s}var Fi={},An=bn(Fi),sr=bn(!1),ti=Fi;function Si(i,s){var p=i.type.contextTypes;if(!p)return Fi;var w=i.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===s)return w.__reactInternalMemoizedMaskedChildContext;var b={},D;for(D in p)b[D]=s[D];return w&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=b),b}function _n(i){return i=i.childContextTypes,i!=null}function po(){zt(sr),zt(An)}function sd(i,s,p){if(An.current!==Fi)throw Error(d(168));dt(An,s),dt(sr,p)}function ad(i,s,p){var w=i.stateNode;if(s=s.childContextTypes,typeof w.getChildContext!="function")return p;w=w.getChildContext();for(var b in w)if(!(b in s))throw Error(d(108,F(i)||"Unknown",b));return c({},p,w)}function Ko(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Fi,ti=An.current,dt(An,i),dt(sr,sr.current),!0}function Wl(i,s,p){var w=i.stateNode;if(!w)throw Error(d(169));p?(i=ad(i,s,ti),w.__reactInternalMemoizedMergedChildContext=i,zt(sr),zt(An),dt(An,i)):zt(sr),dt(sr,p)}var hr=Math.clz32?Math.clz32:Vl,Vs=Math.log,lh=Math.LN2;function Vl(i){return i>>>=0,i===0?32:31-(Vs(i)/lh|0)|0}var xt=64,$s=4194304;function Yo(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Xo(i,s){var p=i.pendingLanes;if(p===0)return 0;var w=0,b=i.suspendedLanes,D=i.pingedLanes,q=p&268435455;if(q!==0){var ae=q&~b;ae!==0?w=Yo(ae):(D&=q,D!==0&&(w=Yo(D)))}else q=p&~b,q!==0?w=Yo(q):D!==0&&(w=Yo(D));if(w===0)return 0;if(s!==0&&s!==w&&(s&b)===0&&(b=w&-w,D=s&-s,b>=D||b===16&&(D&4194240)!==0))return s;if((w&4)!==0&&(w|=p&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=w;0<s;)p=31-hr(s),b=1<<p,w|=i[p],s&=~b;return w}function ld(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ud(i,s){for(var p=i.suspendedLanes,w=i.pingedLanes,b=i.expirationTimes,D=i.pendingLanes;0<D;){var q=31-hr(D),ae=1<<q,pe=b[q];pe===-1?((ae&p)===0||(ae&w)!==0)&&(b[q]=ld(ae,s)):pe<=s&&(i.expiredLanes|=ae),D&=~ae}}function La(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Oa(){var i=xt;return xt<<=1,(xt&4194240)===0&&(xt=64),i}function Qo(i){for(var s=[],p=0;31>p;p++)s.push(i);return s}function Tr(i,s,p){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-hr(s),i[s]=p}function Bi(i,s){var p=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var w=i.eventTimes;for(i=i.expirationTimes;0<p;){var b=31-hr(p),D=1<<b;s[b]=0,w[b]=-1,i[b]=-1,p&=~D}}function ni(i,s){var p=i.entangledLanes|=s;for(i=i.entanglements;p;){var w=31-hr(p),b=1<<w;b&s|i[w]&s&&(i[w]|=s),p&=~b}}var ft=0;function Jo(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var ri=l.unstable_scheduleCallback,cd=l.unstable_cancelCallback,dd=l.unstable_shouldYield,qs=l.unstable_requestPaint,wn=l.unstable_now,Ma=l.unstable_ImmediatePriority,Fa=l.unstable_UserBlockingPriority,Ba=l.unstable_NormalPriority,uh=l.unstable_IdlePriority,ji=null,ar=null;function Zo(i){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(ji,i,void 0,(i.current.flags&128)===128)}catch{}}function ja(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Ur=typeof Object.is=="function"?Object.is:ja,_i=null,es=!1,ts=!1;function za(i){_i===null?_i=[i]:_i.push(i)}function fd(i){es=!0,za(i)}function Pn(){if(!ts&&_i!==null){ts=!0;var i=0,s=ft;try{var p=_i;for(ft=1;i<p.length;i++){var w=p[i];do w=w(!0);while(w!==null)}_i=null,es=!1}catch(b){throw _i!==null&&(_i=_i.slice(i+1)),ri(Ma,Pn),b}finally{ft=s,ts=!1}}return null}var zi=[],wi=0,Ks=null,go=0,$n=[],pr=0,cn=null,lr=1,Gr="";function Hr(i,s){zi[wi++]=go,zi[wi++]=Ks,Ks=i,go=s}function hd(i,s,p){$n[pr++]=lr,$n[pr++]=Gr,$n[pr++]=cn,cn=i;var w=lr;i=Gr;var b=32-hr(w)-1;w&=~(1<<b),p+=1;var D=32-hr(s)+b;if(30<D){var q=b-b%5;D=(w&(1<<q)-1).toString(32),w>>=q,b-=q,lr=1<<32-hr(s)+b|p<<b|w,Gr=D+i}else lr=1<<D|p<<b|w,Gr=i}function Ys(i){i.return!==null&&(Hr(i,1),hd(i,1,0))}function Xs(i){for(;i===Ks;)Ks=zi[--wi],zi[wi]=null,go=zi[--wi],zi[wi]=null;for(;i===cn;)cn=$n[--pr],$n[pr]=null,Gr=$n[--pr],$n[pr]=null,lr=$n[--pr],$n[pr]=null}var Rn=null,qn=null,Ut=!1,Qs=!1,Wr=null;function pd(i,s){var p=Er(5,null,null,0);p.elementType="DELETED",p.stateNode=s,p.return=i,s=i.deletions,s===null?(i.deletions=[p],i.flags|=16):s.push(p)}function Ua(i,s){switch(i.tag){case 5:return s=Hs(s,i.type,i.pendingProps),s!==null?(i.stateNode=s,Rn=i,qn=th(s),!0):!1;case 6:return s=Gl(s,i.pendingProps),s!==null?(i.stateNode=s,Rn=i,qn=null,!0):!1;case 13:if(s=Ws(s),s!==null){var p=cn!==null?{id:lr,overflow:Gr}:null;return i.memoizedState={dehydrated:s,treeContext:p,retryLane:1073741824},p=Er(18,null,null,0),p.stateNode=s,p.return=i,i.child=p,Rn=i,qn=null,!0}return!1;default:return!1}}function $l(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ql(i){if(Ut){var s=qn;if(s){var p=s;if(!Ua(i,s)){if($l(i))throw Error(d(418));s=$o(p);var w=Rn;s&&Ua(i,s)?pd(w,p):(i.flags=i.flags&-4097|2,Ut=!1,Rn=i)}}else{if($l(i))throw Error(d(418));i.flags=i.flags&-4097|2,Ut=!1,Rn=i}}}function gd(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Rn=i}function Ga(i){if(!Oe||i!==Rn)return!1;if(!Ut)return gd(i),Ut=!0,!1;if(i.tag!==3&&(i.tag!==5||oh(i.type)&&!me(i.type,i.memoizedProps))){var s=qn;if(s){if($l(i))throw md(),Error(d(418));for(;s;)pd(i,s),s=$o(s)}}if(gd(i),i.tag===13){if(!Oe)throw Error(d(316));if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));qn=ih(i)}else qn=Rn?$o(i.stateNode):null;return!0}function md(){for(var i=qn;i;)i=$o(i)}function mo(){Oe&&(qn=Rn=null,Qs=Ut=!1)}function Kl(i){Wr===null?Wr=[i]:Wr.push(i)}var ch=f.ReactCurrentBatchConfig;function Ha(i,s){if(Ur(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var p=Object.keys(i),w=Object.keys(s);if(p.length!==w.length)return!1;for(w=0;w<p.length;w++){var b=p[w];if(!ah.call(s,b)||!Ur(i[b],s[b]))return!1}return!0}function dh(i){switch(i.tag){case 5:return ho(i.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return i=qo(i.type,!1),i;case 11:return i=qo(i.type.render,!1),i;case 1:return i=qo(i.type,!0),i;default:return""}}function yo(i,s,p){if(i=p.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(d(309));var w=p.stateNode}if(!w)throw Error(d(147,i));var b=w,D=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===D?s.ref:(s=function(q){var ae=b.refs;q===null?delete ae[D]:ae[D]=q},s._stringRef=D,s)}if(typeof i!="string")throw Error(d(284));if(!p._owner)throw Error(d(290,i))}return i}function Wa(i,s){throw i=Object.prototype.toString.call(s),Error(d(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function yd(i){var s=i._init;return s(i._payload)}function vd(i){function s(fe,le){if(i){var ye=fe.deletions;ye===null?(fe.deletions=[le],fe.flags|=16):ye.push(le)}}function p(fe,le){if(!i)return null;for(;le!==null;)s(fe,le),le=le.sibling;return null}function w(fe,le){for(fe=new Map;le!==null;)le.key!==null?fe.set(le.key,le):fe.set(le.index,le),le=le.sibling;return fe}function b(fe,le){return fe=io(fe,le),fe.index=0,fe.sibling=null,fe}function D(fe,le,ye){return fe.index=ye,i?(ye=fe.alternate,ye!==null?(ye=ye.index,ye<le?(fe.flags|=2,le):ye):(fe.flags|=2,le)):(fe.flags|=1048576,le)}function q(fe){return i&&fe.alternate===null&&(fe.flags|=2),fe}function ae(fe,le,ye,Be){return le===null||le.tag!==6?(le=bs(ye,fe.mode,Be),le.return=fe,le):(le=b(le,ye),le.return=fe,le)}function pe(fe,le,ye,Be){var qe=ye.type;return qe===y?Ue(fe,le,ye.props.children,Be,ye.key):le!==null&&(le.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===x&&yd(qe)===le.type)?(Be=b(le,ye.props),Be.ref=yo(fe,le,ye),Be.return=fe,Be):(Be=xl(ye.type,ye.key,ye.props,null,fe.mode,Be),Be.ref=yo(fe,le,ye),Be.return=fe,Be)}function Pe(fe,le,ye,Be){return le===null||le.tag!==4||le.stateNode.containerInfo!==ye.containerInfo||le.stateNode.implementation!==ye.implementation?(le=Cl(ye,fe.mode,Be),le.return=fe,le):(le=b(le,ye.children||[]),le.return=fe,le)}function Ue(fe,le,ye,Be,qe){return le===null||le.tag!==7?(le=In(ye,fe.mode,Be,qe),le.return=fe,le):(le=b(le,ye),le.return=fe,le)}function rt(fe,le,ye){if(typeof le=="string"&&le!==""||typeof le=="number")return le=bs(""+le,fe.mode,ye),le.return=fe,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case h:return ye=xl(le.type,le.key,le.props,null,fe.mode,ye),ye.ref=yo(fe,null,le),ye.return=fe,ye;case m:return le=Cl(le,fe.mode,ye),le.return=fe,le;case x:var Be=le._init;return rt(fe,Be(le._payload),ye)}if(ee(le)||M(le))return le=In(le,fe.mode,ye,null),le.return=fe,le;Wa(fe,le)}return null}function Me(fe,le,ye,Be){var qe=le!==null?le.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number")return qe!==null?null:ae(fe,le,""+ye,Be);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case h:return ye.key===qe?pe(fe,le,ye,Be):null;case m:return ye.key===qe?Pe(fe,le,ye,Be):null;case x:return qe=ye._init,Me(fe,le,qe(ye._payload),Be)}if(ee(ye)||M(ye))return qe!==null?null:Ue(fe,le,ye,Be,null);Wa(fe,ye)}return null}function jt(fe,le,ye,Be,qe){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return fe=fe.get(ye)||null,ae(le,fe,""+Be,qe);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case h:return fe=fe.get(Be.key===null?ye:Be.key)||null,pe(le,fe,Be,qe);case m:return fe=fe.get(Be.key===null?ye:Be.key)||null,Pe(le,fe,Be,qe);case x:var lt=Be._init;return jt(fe,le,ye,lt(Be._payload),qe)}if(ee(Be)||M(Be))return fe=fe.get(ye)||null,Ue(le,fe,Be,qe,null);Wa(le,Be)}return null}function Tt(fe,le,ye,Be){for(var qe=null,lt=null,it=le,vt=le=0,gn=null;it!==null&&vt<ye.length;vt++){it.index>vt?(gn=it,it=null):gn=it.sibling;var pt=Me(fe,it,ye[vt],Be);if(pt===null){it===null&&(it=gn);break}i&&it&&pt.alternate===null&&s(fe,it),le=D(pt,le,vt),lt===null?qe=pt:lt.sibling=pt,lt=pt,it=gn}if(vt===ye.length)return p(fe,it),Ut&&Hr(fe,vt),qe;if(it===null){for(;vt<ye.length;vt++)it=rt(fe,ye[vt],Be),it!==null&&(le=D(it,le,vt),lt===null?qe=it:lt.sibling=it,lt=it);return Ut&&Hr(fe,vt),qe}for(it=w(fe,it);vt<ye.length;vt++)gn=jt(it,fe,vt,ye[vt],Be),gn!==null&&(i&&gn.alternate!==null&&it.delete(gn.key===null?vt:gn.key),le=D(gn,le,vt),lt===null?qe=gn:lt.sibling=gn,lt=gn);return i&&it.forEach(function(jn){return s(fe,jn)}),Ut&&Hr(fe,vt),qe}function Zn(fe,le,ye,Be){var qe=M(ye);if(typeof qe!="function")throw Error(d(150));if(ye=qe.call(ye),ye==null)throw Error(d(151));for(var lt=qe=null,it=le,vt=le=0,gn=null,pt=ye.next();it!==null&&!pt.done;vt++,pt=ye.next()){it.index>vt?(gn=it,it=null):gn=it.sibling;var jn=Me(fe,it,pt.value,Be);if(jn===null){it===null&&(it=gn);break}i&&it&&jn.alternate===null&&s(fe,it),le=D(jn,le,vt),lt===null?qe=jn:lt.sibling=jn,lt=jn,it=gn}if(pt.done)return p(fe,it),Ut&&Hr(fe,vt),qe;if(it===null){for(;!pt.done;vt++,pt=ye.next())pt=rt(fe,pt.value,Be),pt!==null&&(le=D(pt,le,vt),lt===null?qe=pt:lt.sibling=pt,lt=pt);return Ut&&Hr(fe,vt),qe}for(it=w(fe,it);!pt.done;vt++,pt=ye.next())pt=jt(it,fe,vt,pt.value,Be),pt!==null&&(i&&pt.alternate!==null&&it.delete(pt.key===null?vt:pt.key),le=D(pt,le,vt),lt===null?qe=pt:lt.sibling=pt,lt=pt);return i&&it.forEach(function(mh){return s(fe,mh)}),Ut&&Hr(fe,vt),qe}function fi(fe,le,ye,Be){if(typeof ye=="object"&&ye!==null&&ye.type===y&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case h:e:{for(var qe=ye.key,lt=le;lt!==null;){if(lt.key===qe){if(qe=ye.type,qe===y){if(lt.tag===7){p(fe,lt.sibling),le=b(lt,ye.props.children),le.return=fe,fe=le;break e}}else if(lt.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===x&&yd(qe)===lt.type){p(fe,lt.sibling),le=b(lt,ye.props),le.ref=yo(fe,lt,ye),le.return=fe,fe=le;break e}p(fe,lt);break}else s(fe,lt);lt=lt.sibling}ye.type===y?(le=In(ye.props.children,fe.mode,Be,ye.key),le.return=fe,fe=le):(Be=xl(ye.type,ye.key,ye.props,null,fe.mode,Be),Be.ref=yo(fe,le,ye),Be.return=fe,fe=Be)}return q(fe);case m:e:{for(lt=ye.key;le!==null;){if(le.key===lt)if(le.tag===4&&le.stateNode.containerInfo===ye.containerInfo&&le.stateNode.implementation===ye.implementation){p(fe,le.sibling),le=b(le,ye.children||[]),le.return=fe,fe=le;break e}else{p(fe,le);break}else s(fe,le);le=le.sibling}le=Cl(ye,fe.mode,Be),le.return=fe,fe=le}return q(fe);case x:return lt=ye._init,fi(fe,le,lt(ye._payload),Be)}if(ee(ye))return Tt(fe,le,ye,Be);if(M(ye))return Zn(fe,le,ye,Be);Wa(fe,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"?(ye=""+ye,le!==null&&le.tag===6?(p(fe,le.sibling),le=b(le,ye),le.return=fe,fe=le):(p(fe,le),le=bs(ye,fe.mode,Be),le.return=fe,fe=le),q(fe)):p(fe,le)}return fi}var vo=vd(!0),Sd=vd(!1),Va=bn(null),$a=null,ns=null,Yl=null;function Xl(){Yl=ns=$a=null}function _d(i,s,p){we?(dt(Va,s._currentValue),s._currentValue=p):(dt(Va,s._currentValue2),s._currentValue2=p)}function Js(i){var s=Va.current;zt(Va),we?i._currentValue=s:i._currentValue2=s}function So(i,s,p){for(;i!==null;){var w=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,w!==null&&(w.childLanes|=s)):w!==null&&(w.childLanes&s)!==s&&(w.childLanes|=s),i===p)break;i=i.return}}function rs(i,s){$a=i,Yl=ns=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(fn=!0),i.firstContext=null)}function gr(i){var s=we?i._currentValue:i._currentValue2;if(Yl!==i)if(i={context:i,memoizedValue:s,next:null},ns===null){if($a===null)throw Error(d(308));ns=i,$a.dependencies={lanes:0,firstContext:i}}else ns=ns.next=i;return s}var Ui=null;function qa(i){Ui===null?Ui=[i]:Ui.push(i)}function Ql(i,s,p,w){var b=s.interleaved;return b===null?(p.next=p,qa(s)):(p.next=b.next,b.next=p),s.interleaved=p,Vr(i,w)}function Vr(i,s){i.lanes|=s;var p=i.alternate;for(p!==null&&(p.lanes|=s),p=i,i=i.return;i!==null;)i.childLanes|=s,p=i.alternate,p!==null&&(p.childLanes|=s),p=i,i=i.return;return p.tag===3?p.stateNode:null}var mr=!1;function Jl(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function xi(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Ci(i,s,p){var w=i.updateQueue;if(w===null)return null;if(w=w.shared,(st&2)!==0){var b=w.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),w.pending=s,Vr(i,p)}return b=w.interleaved,b===null?(s.next=s,qa(w)):(s.next=b.next,b.next=s),w.interleaved=s,Vr(i,p)}function Zs(i,s,p){if(s=s.updateQueue,s!==null&&(s=s.shared,(p&4194240)!==0)){var w=s.lanes;w&=i.pendingLanes,p|=w,s.lanes=p,ni(i,p)}}function is(i,s){var p=i.updateQueue,w=i.alternate;if(w!==null&&(w=w.updateQueue,p===w)){var b=null,D=null;if(p=p.firstBaseUpdate,p!==null){do{var q={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};D===null?b=D=q:D=D.next=q,p=p.next}while(p!==null);D===null?b=D=s:D=D.next=s}else b=D=s;p={baseState:w.baseState,firstBaseUpdate:b,lastBaseUpdate:D,shared:w.shared,effects:w.effects},i.updateQueue=p;return}i=p.lastBaseUpdate,i===null?p.firstBaseUpdate=s:i.next=s,p.lastBaseUpdate=s}function Gi(i,s,p,w){var b=i.updateQueue;mr=!1;var D=b.firstBaseUpdate,q=b.lastBaseUpdate,ae=b.shared.pending;if(ae!==null){b.shared.pending=null;var pe=ae,Pe=pe.next;pe.next=null,q===null?D=Pe:q.next=Pe,q=pe;var Ue=i.alternate;Ue!==null&&(Ue=Ue.updateQueue,ae=Ue.lastBaseUpdate,ae!==q&&(ae===null?Ue.firstBaseUpdate=Pe:ae.next=Pe,Ue.lastBaseUpdate=pe))}if(D!==null){var rt=b.baseState;q=0,Ue=Pe=pe=null,ae=D;do{var Me=ae.lane,jt=ae.eventTime;if((w&Me)===Me){Ue!==null&&(Ue=Ue.next={eventTime:jt,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var Tt=i,Zn=ae;switch(Me=s,jt=p,Zn.tag){case 1:if(Tt=Zn.payload,typeof Tt=="function"){rt=Tt.call(jt,rt,Me);break e}rt=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Zn.payload,Me=typeof Tt=="function"?Tt.call(jt,rt,Me):Tt,Me==null)break e;rt=c({},rt,Me);break e;case 2:mr=!0}}ae.callback!==null&&ae.lane!==0&&(i.flags|=64,Me=b.effects,Me===null?b.effects=[ae]:Me.push(ae))}else jt={eventTime:jt,lane:Me,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Ue===null?(Pe=Ue=jt,pe=rt):Ue=Ue.next=jt,q|=Me;if(ae=ae.next,ae===null){if(ae=b.shared.pending,ae===null)break;Me=ae,ae=Me.next,Me.next=null,b.lastBaseUpdate=Me,b.shared.pending=null}}while(!0);if(Ue===null&&(pe=rt),b.baseState=pe,b.firstBaseUpdate=Pe,b.lastBaseUpdate=Ue,s=b.shared.interleaved,s!==null){b=s;do q|=b.lane,b=b.next;while(b!==s)}else D===null&&(b.shared.lanes=0);Ri|=q,i.lanes=q,i.memoizedState=rt}}function xd(i,s,p){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var w=i[s],b=w.callback;if(b!==null){if(w.callback=null,w=p,typeof b!="function")throw Error(d(191,b));b.call(w)}}}var Hi={},Ir=bn(Hi),os=bn(Hi),Wi=bn(Hi);function Dr(i){if(i===Hi)throw Error(d(174));return i}function Ka(i,s){dt(Wi,s),dt(os,i),dt(Ir,Hi),i=L(s),zt(Ir),dt(Ir,i)}function _o(){zt(Ir),zt(os),zt(Wi)}function Zl(i){var s=Dr(Wi.current),p=Dr(Ir.current);s=B(p,i.type,s),p!==s&&(dt(os,i),dt(Ir,s))}function eu(i){os.current===i&&(zt(Ir),zt(os))}var Kt=bn(0);function Ya(i){for(var s=i;s!==null;){if(s.tag===13){var p=s.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||Zc(p)||co(p)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var tu=[];function nu(){for(var i=0;i<tu.length;i++){var s=tu[i];we?s._workInProgressVersionPrimary=null:s._workInProgressVersionSecondary=null}tu.length=0}var ur=f.ReactCurrentDispatcher,wo=f.ReactCurrentBatchConfig,Vi=0,Wt=null,on=null,dn=null,ss=!1,ea=!1,ta=0,as=0;function xn(){throw Error(d(321))}function xo(i,s){if(s===null)return!1;for(var p=0;p<s.length&&p<i.length;p++)if(!Ur(i[p],s[p]))return!1;return!0}function na(i,s,p,w,b,D){if(Vi=D,Wt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ur.current=i===null||i.memoizedState===null?fu:hu,i=p(w,b),ea){D=0;do{if(ea=!1,ta=0,25<=D)throw Error(d(301));D+=1,dn=on=null,s.updateQueue=null,ur.current=pu,i=p(w,b)}while(ea)}if(ur.current=Po,s=on!==null&&on.next!==null,Vi=0,dn=on=Wt=null,ss=!1,s)throw Error(d(300));return i}function Xa(){var i=ta!==0;return ta=0,i}function yr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Wt.memoizedState=dn=i:dn=dn.next=i,dn}function Nn(){if(on===null){var i=Wt.alternate;i=i!==null?i.memoizedState:null}else i=on.next;var s=dn===null?Wt.memoizedState:dn.next;if(s!==null)dn=s,on=i;else{if(i===null)throw Error(d(310));on=i,i={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},dn===null?Wt.memoizedState=dn=i:dn=dn.next=i}return dn}function Co(i,s){return typeof s=="function"?s(i):s}function Qa(i){var s=Nn(),p=s.queue;if(p===null)throw Error(d(311));p.lastRenderedReducer=i;var w=on,b=w.baseQueue,D=p.pending;if(D!==null){if(b!==null){var q=b.next;b.next=D.next,D.next=q}w.baseQueue=b=D,p.pending=null}if(b!==null){D=b.next,w=w.baseState;var ae=q=null,pe=null,Pe=D;do{var Ue=Pe.lane;if((Vi&Ue)===Ue)pe!==null&&(pe=pe.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),w=Pe.hasEagerState?Pe.eagerState:i(w,Pe.action);else{var rt={lane:Ue,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};pe===null?(ae=pe=rt,q=w):pe=pe.next=rt,Wt.lanes|=Ue,Ri|=Ue}Pe=Pe.next}while(Pe!==null&&Pe!==D);pe===null?q=w:pe.next=ae,Ur(w,s.memoizedState)||(fn=!0),s.memoizedState=w,s.baseState=q,s.baseQueue=pe,p.lastRenderedState=w}if(i=p.interleaved,i!==null){b=i;do D=b.lane,Wt.lanes|=D,Ri|=D,b=b.next;while(b!==i)}else b===null&&(p.lanes=0);return[s.memoizedState,p.dispatch]}function ls(i){var s=Nn(),p=s.queue;if(p===null)throw Error(d(311));p.lastRenderedReducer=i;var w=p.dispatch,b=p.pending,D=s.memoizedState;if(b!==null){p.pending=null;var q=b=b.next;do D=i(D,q.action),q=q.next;while(q!==b);Ur(D,s.memoizedState)||(fn=!0),s.memoizedState=D,s.baseQueue===null&&(s.baseState=D),p.lastRenderedState=D}return[D,w]}function ru(){}function iu(i,s){var p=Wt,w=Nn(),b=s(),D=!Ur(w.memoizedState,b);if(D&&(w.memoizedState=b,fn=!0),w=w.queue,el(au.bind(null,p,w,i),[i]),w.getSnapshot!==s||D||dn!==null&&dn.memoizedState.tag&1){if(p.flags|=2048,Eo(9,su.bind(null,p,w,b,s),void 0,null),Ot===null)throw Error(d(349));(Vi&30)!==0||ou(p,s,b)}return b}function ou(i,s,p){i.flags|=16384,i={getSnapshot:s,value:p},s=Wt.updateQueue,s===null?(s={lastEffect:null,stores:null},Wt.updateQueue=s,s.stores=[i]):(p=s.stores,p===null?s.stores=[i]:p.push(i))}function su(i,s,p,w){s.value=p,s.getSnapshot=w,lu(s)&&Ei(i)}function au(i,s,p){return p(function(){lu(s)&&Ei(i)})}function lu(i){var s=i.getSnapshot;i=i.value;try{var p=s();return!Ur(i,p)}catch{return!0}}function Ei(i){var s=Vr(i,1);s!==null&&Fn(s,i,1,-1)}function Ja(i){var s=yr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:i},s.queue=i,i=i.dispatch=fh.bind(null,Wt,i),[s.memoizedState,i]}function Eo(i,s,p,w){return i={tag:i,create:s,destroy:p,deps:w,next:null},s=Wt.updateQueue,s===null?(s={lastEffect:null,stores:null},Wt.updateQueue=s,s.lastEffect=i.next=i):(p=s.lastEffect,p===null?s.lastEffect=i.next=i:(w=p.next,p.next=i,i.next=w,s.lastEffect=i)),i}function Cd(){return Nn().memoizedState}function Za(i,s,p,w){var b=yr();Wt.flags|=i,b.memoizedState=Eo(1|s,p,void 0,w===void 0?null:w)}function $i(i,s,p,w){var b=Nn();w=w===void 0?null:w;var D=void 0;if(on!==null){var q=on.memoizedState;if(D=q.destroy,w!==null&&xo(w,q.deps)){b.memoizedState=Eo(s,p,D,w);return}}Wt.flags|=i,b.memoizedState=Eo(1|s,p,D,w)}function Ed(i,s){return Za(8390656,8,i,s)}function el(i,s){return $i(2048,8,i,s)}function uu(i,s){return $i(4,2,i,s)}function Mt(i,s){return $i(4,4,i,s)}function tl(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function ra(i,s,p){return p=p!=null?p.concat([i]):null,$i(4,4,tl.bind(null,s,i),p)}function ko(){}function cu(i,s){var p=Nn();s=s===void 0?null:s;var w=p.memoizedState;return w!==null&&s!==null&&xo(s,w[1])?w[0]:(p.memoizedState=[i,s],i)}function nl(i,s){var p=Nn();s=s===void 0?null:s;var w=p.memoizedState;return w!==null&&s!==null&&xo(s,w[1])?w[0]:(i=i(),p.memoizedState=[i,s],i)}function us(i,s,p){return(Vi&21)===0?(i.baseState&&(i.baseState=!1,fn=!0),i.memoizedState=p):(Ur(p,s)||(p=Oa(),Wt.lanes|=p,Ri|=p,i.baseState=!0),s)}function rl(i,s){var p=ft;ft=p!==0&&4>p?p:4,i(!0);var w=wo.transition;wo.transition={};try{i(!1),s()}finally{ft=p,wo.transition=w}}function bo(){return Nn().memoizedState}function kd(i,s,p){var w=pn(i);if(p={lane:w,action:p,hasEagerState:!1,eagerState:null,next:null},bd(i))du(s,p);else if(p=Ql(i,s,p,w),p!==null){var b=Gt();Fn(p,i,w,b),ia(p,s,w)}}function fh(i,s,p){var w=pn(i),b={lane:w,action:p,hasEagerState:!1,eagerState:null,next:null};if(bd(i))du(s,b);else{var D=i.alternate;if(i.lanes===0&&(D===null||D.lanes===0)&&(D=s.lastRenderedReducer,D!==null))try{var q=s.lastRenderedState,ae=D(q,p);if(b.hasEagerState=!0,b.eagerState=ae,Ur(ae,q)){var pe=s.interleaved;pe===null?(b.next=b,qa(s)):(b.next=pe.next,pe.next=b),s.interleaved=b;return}}catch{}finally{}p=Ql(i,s,b,w),p!==null&&(b=Gt(),Fn(p,i,w,b),ia(p,s,w))}}function bd(i){var s=i.alternate;return i===Wt||s!==null&&s===Wt}function du(i,s){ea=ss=!0;var p=i.pending;p===null?s.next=s:(s.next=p.next,p.next=s),i.pending=s}function ia(i,s,p){if((p&4194240)!==0){var w=s.lanes;w&=i.pendingLanes,p|=w,s.lanes=p,ni(i,p)}}var Po={readContext:gr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},fu={readContext:gr,useCallback:function(i,s){return yr().memoizedState=[i,s===void 0?null:s],i},useContext:gr,useEffect:Ed,useImperativeHandle:function(i,s,p){return p=p!=null?p.concat([i]):null,Za(4194308,4,tl.bind(null,s,i),p)},useLayoutEffect:function(i,s){return Za(4194308,4,i,s)},useInsertionEffect:function(i,s){return Za(4,2,i,s)},useMemo:function(i,s){var p=yr();return s=s===void 0?null:s,i=i(),p.memoizedState=[i,s],i},useReducer:function(i,s,p){var w=yr();return s=p!==void 0?p(s):s,w.memoizedState=w.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},w.queue=i,i=i.dispatch=kd.bind(null,Wt,i),[w.memoizedState,i]},useRef:function(i){var s=yr();return i={current:i},s.memoizedState=i},useState:Ja,useDebugValue:ko,useDeferredValue:function(i){return yr().memoizedState=i},useTransition:function(){var i=Ja(!1),s=i[0];return i=rl.bind(null,i[1]),yr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,p){var w=Wt,b=yr();if(Ut){if(p===void 0)throw Error(d(407));p=p()}else{if(p=s(),Ot===null)throw Error(d(349));(Vi&30)!==0||ou(w,s,p)}b.memoizedState=p;var D={value:p,getSnapshot:s};return b.queue=D,Ed(au.bind(null,w,D,i),[i]),w.flags|=2048,Eo(9,su.bind(null,w,D,p,s),void 0,null),p},useId:function(){var i=yr(),s=Ot.identifierPrefix;if(Ut){var p=Gr,w=lr;p=(w&~(1<<32-hr(w)-1)).toString(32)+p,s=":"+s+"R"+p,p=ta++,0<p&&(s+="H"+p.toString(32)),s+=":"}else p=as++,s=":"+s+"r"+p.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},hu={readContext:gr,useCallback:cu,useContext:gr,useEffect:el,useImperativeHandle:ra,useInsertionEffect:uu,useLayoutEffect:Mt,useMemo:nl,useReducer:Qa,useRef:Cd,useState:function(){return Qa(Co)},useDebugValue:ko,useDeferredValue:function(i){var s=Nn();return us(s,on.memoizedState,i)},useTransition:function(){var i=Qa(Co)[0],s=Nn().memoizedState;return[i,s]},useMutableSource:ru,useSyncExternalStore:iu,useId:bo,unstable_isNewReconciler:!1},pu={readContext:gr,useCallback:cu,useContext:gr,useEffect:el,useImperativeHandle:ra,useInsertionEffect:uu,useLayoutEffect:Mt,useMemo:nl,useReducer:ls,useRef:Cd,useState:function(){return ls(Co)},useDebugValue:ko,useDeferredValue:function(i){var s=Nn();return on===null?s.memoizedState=i:us(s,on.memoizedState,i)},useTransition:function(){var i=ls(Co)[0],s=Nn().memoizedState;return[i,s]},useMutableSource:ru,useSyncExternalStore:iu,useId:bo,unstable_isNewReconciler:!1};function vr(i,s){if(i&&i.defaultProps){s=c({},s),i=i.defaultProps;for(var p in i)s[p]===void 0&&(s[p]=i[p]);return s}return s}function gu(i,s,p,w){s=i.memoizedState,p=p(w,s),p=p==null?s:c({},s,p),i.memoizedState=p,i.lanes===0&&(i.updateQueue.baseState=p)}var oa={isMounted:function(i){return(i=i._reactInternals)?z(i)===i:!1},enqueueSetState:function(i,s,p){i=i._reactInternals;var w=Gt(),b=pn(i),D=xi(w,b);D.payload=s,p!=null&&(D.callback=p),s=Ci(i,D,b),s!==null&&(Fn(s,i,b,w),Zs(s,i,b))},enqueueReplaceState:function(i,s,p){i=i._reactInternals;var w=Gt(),b=pn(i),D=xi(w,b);D.tag=1,D.payload=s,p!=null&&(D.callback=p),s=Ci(i,D,b),s!==null&&(Fn(s,i,b,w),Zs(s,i,b))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var p=Gt(),w=pn(i),b=xi(p,w);b.tag=2,s!=null&&(b.callback=s),s=Ci(i,b,w),s!==null&&(Fn(s,i,w,p),Zs(s,i,w))}};function Pd(i,s,p,w,b,D,q){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(w,D,q):s.prototype&&s.prototype.isPureReactComponent?!Ha(p,w)||!Ha(b,D):!0}function Rd(i,s,p){var w=!1,b=Fi,D=s.contextType;return typeof D=="object"&&D!==null?D=gr(D):(b=_n(s)?ti:An.current,w=s.contextTypes,D=(w=w!=null)?Si(i,b):Fi),s=new s(p,D),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=oa,i.stateNode=s,s._reactInternals=i,w&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=b,i.__reactInternalMemoizedMaskedChildContext=D),s}function il(i,s,p,w){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(p,w),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(p,w),s.state!==i&&oa.enqueueReplaceState(s,s.state,null)}function ii(i,s,p,w){var b=i.stateNode;b.props=p,b.state=i.memoizedState,b.refs={},Jl(i);var D=s.contextType;typeof D=="object"&&D!==null?b.context=gr(D):(D=_n(s)?ti:An.current,b.context=Si(i,D)),b.state=i.memoizedState,D=s.getDerivedStateFromProps,typeof D=="function"&&(gu(i,s,D,p),b.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(s=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),s!==b.state&&oa.enqueueReplaceState(b,b.state,null),Gi(i,p,b,w),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308)}function Ro(i,s){try{var p="",w=s;do p+=dh(w),w=w.return;while(w);var b=p}catch(D){b=`
Error generating stack: `+D.message+`
`+D.stack}return{value:i,source:s,stack:b,digest:null}}function qi(i,s,p){return{value:i,source:null,stack:p??null,digest:s??null}}function Ar(i,s){try{console.error(s.value)}catch(p){setTimeout(function(){throw p})}}var sa=typeof WeakMap=="function"?WeakMap:Map;function oi(i,s,p){p=xi(-1,p),p.tag=3,p.payload={element:null};var w=s.value;return p.callback=function(){Jt||(Jt=!0,sn=w),Ar(i,s)},p}function ol(i,s,p){p=xi(-1,p),p.tag=3;var w=i.type.getDerivedStateFromError;if(typeof w=="function"){var b=s.value;p.payload=function(){return w(b)},p.callback=function(){Ar(i,s)}}var D=i.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(p.callback=function(){Ar(i,s),typeof w!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var q=s.stack;this.componentDidCatch(s.value,{componentStack:q!==null?q:""})}),p}function Nd(i,s,p){var w=i.pingCache;if(w===null){w=i.pingCache=new sa;var b=new Set;w.set(s,b)}else b=w.get(s),b===void 0&&(b=new Set,w.set(s,b));b.has(p)||(b.add(p),i=Fd.bind(null,i,s,p),s.then(i,i))}function Td(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Ki(i,s,p,w,b){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(s=xi(-1,1),s.tag=2,Ci(p,s,1))),p.lanes|=1),i):(i.flags|=65536,i.lanes=b,i)}var aa=f.ReactCurrentOwner,fn=!1;function Cn(i,s,p,w){s.child=i===null?Sd(s,null,p,w):vo(s,i.child,p,w)}function sl(i,s,p,w,b){p=p.render;var D=s.ref;return rs(s,b),w=na(i,s,p,w,D,b),p=Xa(),i!==null&&!fn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~b,bi(i,s,b)):(Ut&&p&&Ys(s),s.flags|=1,Cn(i,s,w,b),s.child)}function No(i,s,p,w,b){if(i===null){var D=p.type;return typeof D=="function"&&!Es(D)&&D.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(s.tag=15,s.type=D,ki(i,s,D,w,b)):(i=xl(p.type,null,w,s,s.mode,b),i.ref=s.ref,i.return=s,s.child=i)}if(D=i.child,(i.lanes&b)===0){var q=D.memoizedProps;if(p=p.compare,p=p!==null?p:Ha,p(q,w)&&i.ref===s.ref)return bi(i,s,b)}return s.flags|=1,i=io(D,w),i.ref=s.ref,i.return=s,s.child=i}function ki(i,s,p,w,b){if(i!==null){var D=i.memoizedProps;if(Ha(D,w)&&i.ref===s.ref)if(fn=!1,s.pendingProps=w=D,(i.lanes&b)!==0)(i.flags&131072)!==0&&(fn=!0);else return s.lanes=i.lanes,bi(i,s,b)}return si(i,s,p,w,b)}function Ft(i,s,p){var w=s.pendingProps,b=w.children,D=i!==null?i.memoizedState:null;if(w.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(eo,hn),hn|=p;else{if((p&1073741824)===0)return i=D!==null?D.baseLanes|p:p,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,dt(eo,hn),hn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=D!==null?D.baseLanes:p,dt(eo,hn),hn|=w}else D!==null?(w=D.baseLanes|p,s.memoizedState=null):w=p,dt(eo,hn),hn|=w;return Cn(i,s,b,p),s.child}function Lt(i,s){var p=s.ref;(i===null&&p!==null||i!==null&&i.ref!==p)&&(s.flags|=512,s.flags|=2097152)}function si(i,s,p,w,b){var D=_n(p)?ti:An.current;return D=Si(s,D),rs(s,b),p=na(i,s,p,w,D,b),w=Xa(),i!==null&&!fn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~b,bi(i,s,b)):(Ut&&w&&Ys(s),s.flags|=1,Cn(i,s,p,b),s.child)}function Tn(i,s,p,w,b){if(_n(p)){var D=!0;Ko(s)}else D=!1;if(rs(s,b),s.stateNode===null)la(i,s),Rd(s,p,w),ii(s,p,w,b),w=!0;else if(i===null){var q=s.stateNode,ae=s.memoizedProps;q.props=ae;var pe=q.context,Pe=p.contextType;typeof Pe=="object"&&Pe!==null?Pe=gr(Pe):(Pe=_n(p)?ti:An.current,Pe=Si(s,Pe));var Ue=p.getDerivedStateFromProps,rt=typeof Ue=="function"||typeof q.getSnapshotBeforeUpdate=="function";rt||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ae!==w||pe!==Pe)&&il(s,q,w,Pe),mr=!1;var Me=s.memoizedState;q.state=Me,Gi(s,w,q,b),pe=s.memoizedState,ae!==w||Me!==pe||sr.current||mr?(typeof Ue=="function"&&(gu(s,p,Ue,w),pe=s.memoizedState),(ae=mr||Pd(s,p,ae,w,Me,pe,Pe))?(rt||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(s.flags|=4194308)):(typeof q.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=w,s.memoizedState=pe),q.props=w,q.state=pe,q.context=Pe,w=ae):(typeof q.componentDidMount=="function"&&(s.flags|=4194308),w=!1)}else{q=s.stateNode,wd(i,s),ae=s.memoizedProps,Pe=s.type===s.elementType?ae:vr(s.type,ae),q.props=Pe,rt=s.pendingProps,Me=q.context,pe=p.contextType,typeof pe=="object"&&pe!==null?pe=gr(pe):(pe=_n(p)?ti:An.current,pe=Si(s,pe));var jt=p.getDerivedStateFromProps;(Ue=typeof jt=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ae!==rt||Me!==pe)&&il(s,q,w,pe),mr=!1,Me=s.memoizedState,q.state=Me,Gi(s,w,q,b);var Tt=s.memoizedState;ae!==rt||Me!==Tt||sr.current||mr?(typeof jt=="function"&&(gu(s,p,jt,w),Tt=s.memoizedState),(Pe=mr||Pd(s,p,Pe,w,Me,Tt,pe)||!1)?(Ue||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(w,Tt,pe),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(w,Tt,pe)),typeof q.componentDidUpdate=="function"&&(s.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof q.componentDidUpdate!="function"||ae===i.memoizedProps&&Me===i.memoizedState||(s.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ae===i.memoizedProps&&Me===i.memoizedState||(s.flags|=1024),s.memoizedProps=w,s.memoizedState=Tt),q.props=w,q.state=Tt,q.context=pe,w=Pe):(typeof q.componentDidUpdate!="function"||ae===i.memoizedProps&&Me===i.memoizedState||(s.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ae===i.memoizedProps&&Me===i.memoizedState||(s.flags|=1024),w=!1)}return Ln(i,s,p,w,D,b)}function Ln(i,s,p,w,b,D){Lt(i,s);var q=(s.flags&128)!==0;if(!w&&!q)return b&&Wl(s,p,!1),bi(i,s,D);w=s.stateNode,aa.current=s;var ae=q&&typeof p.getDerivedStateFromError!="function"?null:w.render();return s.flags|=1,i!==null&&q?(s.child=vo(s,i.child,null,D),s.child=vo(s,null,ae,D)):Cn(i,s,ae,D),s.memoizedState=w.state,b&&Wl(s,p,!0),s.child}function Yi(i){var s=i.stateNode;s.pendingContext?sd(i,s.pendingContext,s.pendingContext!==s.context):s.context&&sd(i,s.context,!1),Ka(i,s.containerInfo)}function To(i,s,p,w,b){return mo(),Kl(b),s.flags|=256,Cn(i,s,p,w),s.child}var On={dehydrated:null,treeContext:null,retryLane:0};function cs(i){return{baseLanes:i,cachePool:null,transitions:null}}function mu(i,s,p){var w=s.pendingProps,b=Kt.current,D=!1,q=(s.flags&128)!==0,ae;if((ae=q)||(ae=i!==null&&i.memoizedState===null?!1:(b&2)!==0),ae?(D=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(b|=1),dt(Kt,b&1),i===null)return ql(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:co(i)?s.lanes=8:s.lanes=1073741824,null):(q=w.children,i=w.fallback,D?(w=s.mode,D=s.child,q={mode:"hidden",children:q},(w&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=q):D=ks(q,w,0,null),i=In(i,w,p,null),D.return=s,i.return=s,D.sibling=i,s.child=D,s.child.memoizedState=cs(p),s.memoizedState=On,i):al(s,q));if(b=i.memoizedState,b!==null&&(ae=b.dehydrated,ae!==null))return Id(i,s,q,w,ae,b,p);if(D){D=w.fallback,q=s.mode,b=i.child,ae=b.sibling;var pe={mode:"hidden",children:w.children};return(q&1)===0&&s.child!==b?(w=s.child,w.childLanes=0,w.pendingProps=pe,s.deletions=null):(w=io(b,pe),w.subtreeFlags=b.subtreeFlags&14680064),ae!==null?D=io(ae,D):(D=In(D,q,p,null),D.flags|=2),D.return=s,w.return=s,w.sibling=D,s.child=w,w=D,D=s.child,q=i.child.memoizedState,q=q===null?cs(p):{baseLanes:q.baseLanes|p,cachePool:null,transitions:q.transitions},D.memoizedState=q,D.childLanes=i.childLanes&~p,s.memoizedState=On,w}return D=i.child,i=D.sibling,w=io(D,{mode:"visible",children:w.children}),(s.mode&1)===0&&(w.lanes=p),w.return=s,w.sibling=null,i!==null&&(p=s.deletions,p===null?(s.deletions=[i],s.flags|=16):p.push(i)),s.child=w,s.memoizedState=null,w}function al(i,s){return s=ks({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Io(i,s,p,w){return w!==null&&Kl(w),vo(s,i.child,null,p),i=al(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Id(i,s,p,w,b,D,q){if(p)return s.flags&256?(s.flags&=-257,w=qi(Error(d(422))),Io(i,s,q,w)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(D=w.fallback,b=s.mode,w=ks({mode:"visible",children:w.children},b,0,null),D=In(D,b,q,null),D.flags|=2,w.return=s,D.return=s,w.sibling=D,s.child=w,(s.mode&1)!==0&&vo(s,i.child,null,q),s.child.memoizedState=cs(q),s.memoizedState=On,D);if((s.mode&1)===0)return Io(i,s,q,null);if(co(b))return w=Ta(b).digest,D=Error(d(419)),w=qi(D,w,void 0),Io(i,s,q,w);if(p=(q&i.childLanes)!==0,fn||p){if(w=Ot,w!==null){switch(q&-q){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(w.suspendedLanes|q))!==0?0:b,b!==0&&b!==D.retryLane&&(D.retryLane=b,Vr(i,b),Fn(w,i,b,-1))}return Cs(),w=qi(Error(d(421))),Io(i,s,q,w)}return Zc(b)?(s.flags|=128,s.child=i.child,s=jd.bind(null,i),Ia(b,s),null):(i=D.treeContext,Oe&&(qn=rh(b),Rn=s,Ut=!0,Wr=null,Qs=!1,i!==null&&($n[pr++]=lr,$n[pr++]=Gr,$n[pr++]=cn,lr=i.id,Gr=i.overflow,cn=s)),s=al(s,w.children),s.flags|=4096,s)}function ai(i,s,p){i.lanes|=s;var w=i.alternate;w!==null&&(w.lanes|=s),So(i.return,s,p)}function ds(i,s,p,w,b){var D=i.memoizedState;D===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:w,tail:p,tailMode:b}:(D.isBackwards=s,D.rendering=null,D.renderingStartTime=0,D.last=w,D.tail=p,D.tailMode=b)}function ll(i,s,p){var w=s.pendingProps,b=w.revealOrder,D=w.tail;if(Cn(i,s,w.children,p),w=Kt.current,(w&2)!==0)w=w&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ai(i,p,s);else if(i.tag===19)ai(i,p,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}w&=1}if(dt(Kt,w),(s.mode&1)===0)s.memoizedState=null;else switch(b){case"forwards":for(p=s.child,b=null;p!==null;)i=p.alternate,i!==null&&Ya(i)===null&&(b=p),p=p.sibling;p=b,p===null?(b=s.child,s.child=null):(b=p.sibling,p.sibling=null),ds(s,!1,b,p,D);break;case"backwards":for(p=null,b=s.child,s.child=null;b!==null;){if(i=b.alternate,i!==null&&Ya(i)===null){s.child=b;break}i=b.sibling,b.sibling=p,p=b,b=i}ds(s,!0,p,null,D);break;case"together":ds(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function la(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function bi(i,s,p){if(i!==null&&(s.dependencies=i.dependencies),Ri|=s.lanes,(p&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(d(153));if(s.child!==null){for(i=s.child,p=io(i,i.pendingProps),s.child=p,p.return=s;i.sibling!==null;)i=i.sibling,p=p.sibling=io(i,i.pendingProps),p.return=s;p.sibling=null}return s.child}function Xi(i,s,p){switch(s.tag){case 3:Yi(s),mo();break;case 5:Zl(s);break;case 1:_n(s.type)&&Ko(s);break;case 4:Ka(s,s.stateNode.containerInfo);break;case 10:_d(s,s.type._context,s.memoizedProps.value);break;case 13:var w=s.memoizedState;if(w!==null)return w.dehydrated!==null?(dt(Kt,Kt.current&1),s.flags|=128,null):(p&s.child.childLanes)!==0?mu(i,s,p):(dt(Kt,Kt.current&1),i=bi(i,s,p),i!==null?i.sibling:null);dt(Kt,Kt.current&1);break;case 19:if(w=(p&s.childLanes)!==0,(i.flags&128)!==0){if(w)return ll(i,s,p);s.flags|=128}var b=s.memoizedState;if(b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),dt(Kt,Kt.current),w)break;return null;case 22:case 23:return s.lanes=0,Ft(i,s,p)}return bi(i,s,p)}function Kn(i){i.flags|=4}function Do(i,s){if(i!==null&&i.child===s.child)return!0;if((s.flags&16)!==0)return!1;for(i=s.child;i!==null;){if((i.flags&12854)!==0||(i.subtreeFlags&12854)!==0)return!1;i=i.sibling}return!0}var Qi,Ji,Yn,Xn;if(Te)Qi=function(i,s){for(var p=s.child;p!==null;){if(p.tag===5||p.tag===6)K(i,p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break;for(;p.sibling===null;){if(p.return===null||p.return===s)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Ji=function(){},Yn=function(i,s,p,w,b){if(i=i.memoizedProps,i!==w){var D=s.stateNode,q=Dr(Ir.current);p=ue(D,p,i,w,b,q),(s.updateQueue=p)&&Kn(s)}},Xn=function(i,s,p,w){p!==w&&Kn(s)};else if(Le){Qi=function(i,s,p,w){for(var b=s.child;b!==null;){if(b.tag===5){var D=b.stateNode;p&&w&&(D=or(D,b.type,b.memoizedProps,b)),K(i,D)}else if(b.tag===6)D=b.stateNode,p&&w&&(D=ei(D,b.memoizedProps,b)),K(i,D);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)D=b.child,D!==null&&(D.return=b),Qi(i,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===s)break;for(;b.sibling===null;){if(b.return===null||b.return===s)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};var Zi=function(i,s,p,w){for(var b=s.child;b!==null;){if(b.tag===5){var D=b.stateNode;p&&w&&(D=or(D,b.type,b.memoizedProps,b)),wt(i,D)}else if(b.tag===6)D=b.stateNode,p&&w&&(D=ei(D,b.memoizedProps,b)),wt(i,D);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)D=b.child,D!==null&&(D.return=b),Zi(i,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===s)break;for(;b.sibling===null;){if(b.return===null||b.return===s)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};Ji=function(i,s){var p=s.stateNode;if(!Do(i,s)){i=p.containerInfo;var w=Rt(i);Zi(w,s,!1,!1),p.pendingChildren=w,Kn(s),Nr(i,w)}},Yn=function(i,s,p,w,b){var D=i.stateNode,q=i.memoizedProps;if((i=Do(i,s))&&q===w)s.stateNode=D;else{var ae=s.stateNode,pe=Dr(Ir.current),Pe=null;q!==w&&(Pe=ue(ae,p,q,w,b,pe)),i&&Pe===null?s.stateNode=D:(D=Sn(D,Pe,p,q,w,s,i,ae),J(D,p,w,b,pe)&&Kn(s),s.stateNode=D,i?Kn(s):Qi(D,s,!1,!1))}},Xn=function(i,s,p,w){p!==w?(i=Dr(Wi.current),p=Dr(Ir.current),s.stateNode=se(w,i,p,s),Kn(s)):s.stateNode=i.stateNode}}else Ji=function(){},Yn=function(){},Xn=function(){};function Sr(i,s){if(!Ut)switch(i.tailMode){case"hidden":s=i.tail;for(var p=null;s!==null;)s.alternate!==null&&(p=s),s=s.sibling;p===null?i.tail=null:p.sibling=null;break;case"collapsed":p=i.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:w.sibling=null}}function Vt(i){var s=i.alternate!==null&&i.alternate.child===i.child,p=0,w=0;if(s)for(var b=i.child;b!==null;)p|=b.lanes|b.childLanes,w|=b.subtreeFlags&14680064,w|=b.flags&14680064,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)p|=b.lanes|b.childLanes,w|=b.subtreeFlags,w|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=w,i.childLanes=p,s}function Ao(i,s,p){var w=s.pendingProps;switch(Xs(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(s),null;case 1:return _n(s.type)&&po(),Vt(s),null;case 3:return p=s.stateNode,_o(),zt(sr),zt(An),nu(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(Ga(s)?Kn(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wr!==null&&(_l(Wr),Wr=null))),Ji(i,s),Vt(s),null;case 5:eu(s),p=Dr(Wi.current);var b=s.type;if(i!==null&&s.stateNode!=null)Yn(i,s,b,w,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!w){if(s.stateNode===null)throw Error(d(166));return Vt(s),null}if(i=Dr(Ir.current),Ga(s)){if(!Oe)throw Error(d(175));i=fo(s.stateNode,s.type,s.memoizedProps,p,i,s,!Qs),s.updateQueue=i,i!==null&&Kn(s)}else{var D=O(b,w,p,i,s);Qi(D,s,!1,!1),s.stateNode=D,J(D,b,w,p,i)&&Kn(s)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Vt(s),null;case 6:if(i&&s.stateNode!=null)Xn(i,s,i.memoizedProps,w);else{if(typeof w!="string"&&s.stateNode===null)throw Error(d(166));if(i=Dr(Wi.current),p=Dr(Ir.current),Ga(s)){if(!Oe)throw Error(d(176));if(i=s.stateNode,p=s.memoizedProps,(w=ed(i,p,s,!Qs))&&(b=Rn,b!==null))switch(b.tag){case 3:sh(b.stateNode.containerInfo,i,p,(b.mode&1)!==0);break;case 5:en(b.type,b.memoizedProps,b.stateNode,i,p,(b.mode&1)!==0)}w&&Kn(s)}else s.stateNode=se(w,i,p,s)}return Vt(s),null;case 13:if(zt(Kt),w=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ut&&qn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)md(),mo(),s.flags|=98560,b=!1;else if(b=Ga(s),w!==null&&w.dehydrated!==null){if(i===null){if(!b)throw Error(d(318));if(!Oe)throw Error(d(344));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(d(317));td(b,s)}else mo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Vt(s),b=!1}else Wr!==null&&(_l(Wr),Wr=null),b=!0;if(!b)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=p,s):(p=w!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(Kt.current&1)!==0?qt===0&&(qt=3):Cs())),s.updateQueue!==null&&(s.flags|=4),Vt(s),null);case 4:return _o(),Ji(i,s),i===null&&Qe(s.stateNode.containerInfo),Vt(s),null;case 10:return Js(s.type._context),Vt(s),null;case 17:return _n(s.type)&&po(),Vt(s),null;case 19:if(zt(Kt),b=s.memoizedState,b===null)return Vt(s),null;if(w=(s.flags&128)!==0,D=b.rendering,D===null)if(w)Sr(b,!1);else{if(qt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(D=Ya(i),D!==null){for(s.flags|=128,Sr(b,!1),i=D.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),s.subtreeFlags=0,i=p,p=s.child;p!==null;)w=p,b=i,w.flags&=14680066,D=w.alternate,D===null?(w.childLanes=0,w.lanes=b,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=D.childLanes,w.lanes=D.lanes,w.child=D.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=D.memoizedProps,w.memoizedState=D.memoizedState,w.updateQueue=D.updateQueue,w.type=D.type,b=D.dependencies,w.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),p=p.sibling;return dt(Kt,Kt.current&1|2),s.child}i=i.sibling}b.tail!==null&&wn()>ga&&(s.flags|=128,w=!0,Sr(b,!1),s.lanes=4194304)}else{if(!w)if(i=Ya(D),i!==null){if(s.flags|=128,w=!0,i=i.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),Sr(b,!0),b.tail===null&&b.tailMode==="hidden"&&!D.alternate&&!Ut)return Vt(s),null}else 2*wn()-b.renderingStartTime>ga&&p!==1073741824&&(s.flags|=128,w=!0,Sr(b,!1),s.lanes=4194304);b.isBackwards?(D.sibling=s.child,s.child=D):(i=b.last,i!==null?i.sibling=D:s.child=D,b.last=D)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=wn(),s.sibling=null,i=Kt.current,dt(Kt,w?i&1|2:i&1),s):(Vt(s),null);case 22:case 23:return wl(),p=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(s.flags|=8192),p&&(s.mode&1)!==0?(hn&1073741824)!==0&&(Vt(s),Te&&s.subtreeFlags&6&&(s.flags|=8192)):Vt(s),null;case 24:return null;case 25:return null}throw Error(d(156,s.tag))}function Dd(i,s){switch(Xs(s),s.tag){case 1:return _n(s.type)&&po(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return _o(),zt(sr),zt(An),nu(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return eu(s),null;case 13:if(zt(Kt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(d(340));mo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return zt(Kt),null;case 4:return _o(),null;case 10:return Js(s.type._context),null;case 22:case 23:return wl(),null;case 24:return null;default:return null}}var fs=!1,En=!1,_r=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Nt(i,s){var p=i.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(w){Ht(i,s,w)}else p.current=null}function wr(i,s,p){try{p()}catch(w){Ht(i,s,w)}}var yu=!1;function Ad(i,s){for(V(i.containerInfo),Ae=s;Ae!==null;)if(i=Ae,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Ae=s;else for(;Ae!==null;){i=Ae;try{var p=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var w=p.memoizedProps,b=p.memoizedState,D=i.stateNode,q=D.getSnapshotBeforeUpdate(i.elementType===i.type?w:vr(i.type,w),b);D.__reactInternalSnapshotBeforeUpdate=q}break;case 3:Te&&kt(i.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(d(163))}}catch(ae){Ht(i,i.return,ae)}if(s=i.sibling,s!==null){s.return=i.return,Ae=s;break}Ae=i.return}return p=yu,yu=!1,p}function Lo(i,s,p){var w=s.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var b=w=w.next;do{if((b.tag&i)===i){var D=b.destroy;b.destroy=void 0,D!==void 0&&wr(s,p,D)}b=b.next}while(b!==w)}}function hs(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var p=s=s.next;do{if((p.tag&i)===i){var w=p.create;p.destroy=w()}p=p.next}while(p!==s)}}function ul(i){var s=i.ref;if(s!==null){var p=i.stateNode;switch(i.tag){case 5:i=ge(p);break;default:i=p}typeof s=="function"?s(i):s.current=i}}function ua(i){var s=i.alternate;s!==null&&(i.alternate=null,ua(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&xe(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function vu(i){return i.tag===5||i.tag===3||i.tag===4}function Oo(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||vu(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ca(i,s,p){var w=i.tag;if(w===5||w===6)i=i.stateNode,s?ke(p,i,s):Vn(p,i);else if(w!==4&&(i=i.child,i!==null))for(ca(i,s,p),i=i.sibling;i!==null;)ca(i,s,p),i=i.sibling}function Su(i,s,p){var w=i.tag;if(w===5||w===6)i=i.stateNode,s?Mi(p,i,s):vn(p,i);else if(w!==4&&(i=i.child,i!==null))for(Su(i,s,p),i=i.sibling;i!==null;)Su(i,s,p),i=i.sibling}var tn=null,cr=!1;function $r(i,s,p){for(p=p.child;p!==null;)cl(i,s,p),p=p.sibling}function cl(i,s,p){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(ji,p)}catch{}switch(p.tag){case 5:En||Nt(p,s);case 6:if(Te){var w=tn,b=cr;tn=null,$r(i,s,p),tn=w,cr=b,tn!==null&&(cr?De(tn,p.stateNode):_e(tn,p.stateNode))}else $r(i,s,p);break;case 18:Te&&tn!==null&&(cr?od(tn,p.stateNode):id(tn,p.stateNode));break;case 4:Te?(w=tn,b=cr,tn=p.stateNode.containerInfo,cr=!0,$r(i,s,p),tn=w,cr=b):(Le&&(w=p.stateNode.containerInfo,b=Rt(w),Zr(w,b)),$r(i,s,p));break;case 0:case 11:case 14:case 15:if(!En&&(w=p.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){b=w=w.next;do{var D=b,q=D.destroy;D=D.tag,q!==void 0&&((D&2)!==0||(D&4)!==0)&&wr(p,s,q),b=b.next}while(b!==w)}$r(i,s,p);break;case 1:if(!En&&(Nt(p,s),w=p.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=p.memoizedProps,w.state=p.memoizedState,w.componentWillUnmount()}catch(ae){Ht(p,s,ae)}$r(i,s,p);break;case 21:$r(i,s,p);break;case 22:p.mode&1?(En=(w=En)||p.memoizedState!==null,$r(i,s,p),En=w):$r(i,s,p);break;default:$r(i,s,p)}}function Mo(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var p=i.stateNode;p===null&&(p=i.stateNode=new _r),s.forEach(function(w){var b=hh.bind(null,i,w);p.has(w)||(p.add(w),w.then(b,b))})}}function Lr(i,s){var p=s.deletions;if(p!==null)for(var w=0;w<p.length;w++){var b=p[w];try{var D=i,q=s;if(Te){var ae=q;e:for(;ae!==null;){switch(ae.tag){case 5:tn=ae.stateNode,cr=!1;break e;case 3:tn=ae.stateNode.containerInfo,cr=!0;break e;case 4:tn=ae.stateNode.containerInfo,cr=!0;break e}ae=ae.return}if(tn===null)throw Error(d(160));cl(D,q,b),tn=null,cr=!1}else cl(D,q,b);var pe=b.alternate;pe!==null&&(pe.return=null),b.return=null}catch(Pe){Ht(b,s,Pe)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)da(s,i),s=s.sibling}function da(i,s){var p=i.alternate,w=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Lr(s,i),xr(i),w&4){try{Lo(3,i,i.return),hs(3,i)}catch(Me){Ht(i,i.return,Me)}try{Lo(5,i,i.return)}catch(Me){Ht(i,i.return,Me)}}break;case 1:Lr(s,i),xr(i),w&512&&p!==null&&Nt(p,p.return);break;case 5:if(Lr(s,i),xr(i),w&512&&p!==null&&Nt(p,p.return),Te){if(i.flags&32){var b=i.stateNode;try{Ie(b)}catch(Me){Ht(i,i.return,Me)}}if(w&4&&(b=i.stateNode,b!=null)){var D=i.memoizedProps;if(p=p!==null?p.memoizedProps:D,w=i.type,s=i.updateQueue,i.updateQueue=null,s!==null)try{Jr(b,s,w,p,D,i)}catch(Me){Ht(i,i.return,Me)}}}break;case 6:if(Lr(s,i),xr(i),w&4&&Te){if(i.stateNode===null)throw Error(d(162));b=i.stateNode,D=i.memoizedProps,p=p!==null?p.memoizedProps:D;try{Yt(b,p,D)}catch(Me){Ht(i,i.return,Me)}}break;case 3:if(Lr(s,i),xr(i),w&4){if(Te&&Oe&&p!==null&&p.memoizedState.isDehydrated)try{nd(s.containerInfo)}catch(Me){Ht(i,i.return,Me)}if(Le){b=s.containerInfo,D=s.pendingChildren;try{Zr(b,D)}catch(Me){Ht(i,i.return,Me)}}}break;case 4:if(Lr(s,i),xr(i),w&4&&Le){D=i.stateNode,b=D.containerInfo,D=D.pendingChildren;try{Zr(b,D)}catch(Me){Ht(i,i.return,Me)}}break;case 13:Lr(s,i),xr(i),b=i.child,b.flags&8192&&(D=b.memoizedState!==null,b.stateNode.isHidden=D,!D||b.alternate!==null&&b.alternate.memoizedState!==null||(Ss=wn())),w&4&&Mo(i);break;case 22:var q=p!==null&&p.memoizedState!==null;if(i.mode&1?(En=(p=En)||q,Lr(s,i),En=p):Lr(s,i),xr(i),w&8192){if(p=i.memoizedState!==null,(i.stateNode.isHidden=p)&&!q&&(i.mode&1)!==0)for(Ae=i,w=i.child;w!==null;){for(s=Ae=w;Ae!==null;){q=Ae;var ae=q.child;switch(q.tag){case 0:case 11:case 14:case 15:Lo(4,q,q.return);break;case 1:Nt(q,q.return);var pe=q.stateNode;if(typeof pe.componentWillUnmount=="function"){var Pe=q,Ue=q.return;try{var rt=Pe;pe.props=rt.memoizedProps,pe.state=rt.memoizedState,pe.componentWillUnmount()}catch(Me){Ht(Pe,Ue,Me)}}break;case 5:Nt(q,q.return);break;case 22:if(q.memoizedState!==null){hl(s);continue}}ae!==null?(ae.return=q,Ae=ae):hl(s)}w=w.sibling}if(Te){e:if(w=null,Te)for(s=i;;){if(s.tag===5){if(w===null){w=s;try{b=s.stateNode,p?je(b):yt(s.stateNode,s.memoizedProps)}catch(Me){Ht(i,i.return,Me)}}}else if(s.tag===6){if(w===null)try{D=s.stateNode,p?Xe(D):Je(D,s.memoizedProps)}catch(Me){Ht(i,i.return,Me)}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;w===s&&(w=null),s=s.return}w===s&&(w=null),s.sibling.return=s.return,s=s.sibling}}}break;case 19:Lr(s,i),xr(i),w&4&&Mo(i);break;case 21:break;default:Lr(s,i),xr(i)}}function xr(i){var s=i.flags;if(s&2){try{if(Te){e:{for(var p=i.return;p!==null;){if(vu(p)){var w=p;break e}p=p.return}throw Error(d(160))}switch(w.tag){case 5:var b=w.stateNode;w.flags&32&&(Ie(b),w.flags&=-33);var D=Oo(i);Su(i,D,b);break;case 3:case 4:var q=w.stateNode.containerInfo,ae=Oo(i);ca(i,ae,q);break;default:throw Error(d(161))}}}catch(pe){Ht(i,i.return,pe)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ps(i,s,p){Ae=i,dl(i)}function dl(i,s,p){for(var w=(i.mode&1)!==0;Ae!==null;){var b=Ae,D=b.child;if(b.tag===22&&w){var q=b.memoizedState!==null||fs;if(!q){var ae=b.alternate,pe=ae!==null&&ae.memoizedState!==null||En;ae=fs;var Pe=En;if(fs=q,(En=pe)&&!Pe)for(Ae=b;Ae!==null;)q=Ae,pe=q.child,q.tag===22&&q.memoizedState!==null?pl(b):pe!==null?(pe.return=q,Ae=pe):pl(b);for(;D!==null;)Ae=D,dl(D),D=D.sibling;Ae=b,fs=ae,En=Pe}fl(i)}else(b.subtreeFlags&8772)!==0&&D!==null?(D.return=b,Ae=D):fl(i)}}function fl(i){for(;Ae!==null;){var s=Ae;if((s.flags&8772)!==0){var p=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:En||hs(5,s);break;case 1:var w=s.stateNode;if(s.flags&4&&!En)if(p===null)w.componentDidMount();else{var b=s.elementType===s.type?p.memoizedProps:vr(s.type,p.memoizedProps);w.componentDidUpdate(b,p.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var D=s.updateQueue;D!==null&&xd(s,D,w);break;case 3:var q=s.updateQueue;if(q!==null){if(p=null,s.child!==null)switch(s.child.tag){case 5:p=ge(s.child.stateNode);break;case 1:p=s.child.stateNode}xd(s,q,p)}break;case 5:var ae=s.stateNode;p===null&&s.flags&4&&Xt(ae,s.type,s.memoizedProps,s);break;case 6:break;case 4:break;case 12:break;case 13:if(Oe&&s.memoizedState===null){var pe=s.alternate;if(pe!==null){var Pe=pe.memoizedState;if(Pe!==null){var Ue=Pe.dehydrated;Ue!==null&&rd(Ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(d(163))}En||s.flags&512&&ul(s)}catch(rt){Ht(s,s.return,rt)}}if(s===i){Ae=null;break}if(p=s.sibling,p!==null){p.return=s.return,Ae=p;break}Ae=s.return}}function hl(i){for(;Ae!==null;){var s=Ae;if(s===i){Ae=null;break}var p=s.sibling;if(p!==null){p.return=s.return,Ae=p;break}Ae=s.return}}function pl(i){for(;Ae!==null;){var s=Ae;try{switch(s.tag){case 0:case 11:case 15:var p=s.return;try{hs(4,s)}catch(pe){Ht(s,p,pe)}break;case 1:var w=s.stateNode;if(typeof w.componentDidMount=="function"){var b=s.return;try{w.componentDidMount()}catch(pe){Ht(s,b,pe)}}var D=s.return;try{ul(s)}catch(pe){Ht(s,D,pe)}break;case 5:var q=s.return;try{ul(s)}catch(pe){Ht(s,q,pe)}}}catch(pe){Ht(s,s.return,pe)}if(s===i){Ae=null;break}var ae=s.sibling;if(ae!==null){ae.return=s.return,Ae=ae;break}Ae=s.return}}var Pi=0,Qn=1,li=2,gs=3,fa=4;if(typeof Symbol=="function"&&Symbol.for){var Cr=Symbol.for;Pi=Cr("selector.component"),Qn=Cr("selector.has_pseudo_class"),li=Cr("selector.role"),gs=Cr("selector.test_id"),fa=Cr("selector.text")}function ui(i){var s=ut(i);if(s!=null){if(typeof s.memoizedProps["data-testname"]!="string")throw Error(d(364));return s}if(i=mt(i),i===null)throw Error(d(362));return i.stateNode.current}function ha(i,s){switch(s.$$typeof){case Pi:if(i.type===s.value)return!0;break;case Qn:e:{s=s.value,i=[i,0];for(var p=0;p<i.length;){var w=i[p++],b=i[p++],D=s[b];if(w.tag!==5||!_t(w)){for(;D!=null&&ha(w,D);)b++,D=s[b];if(b===s.length){s=!0;break e}else for(w=w.child;w!==null;)i.push(w,b),w=w.sibling}}s=!1}return s;case li:if(i.tag===5&&Pt(i.stateNode,s.value))return!0;break;case fa:if((i.tag===5||i.tag===6)&&(i=nt(i),i!==null&&0<=i.indexOf(s.value)))return!0;break;case gs:if(i.tag===5&&(i=i.memoizedProps["data-testname"],typeof i=="string"&&i.toLowerCase()===s.value.toLowerCase()))return!0;break;default:throw Error(d(365))}return!1}function gl(i){switch(i.$$typeof){case Pi:return"<"+(Y(i.value)||"Unknown")+">";case Qn:return":has("+(gl(i)||"")+")";case li:return'[role="'+i.value+'"]';case fa:return'"'+i.value+'"';case gs:return'[data-testname="'+i.value+'"]';default:throw Error(d(365))}}function ci(i,s){var p=[];i=[i,0];for(var w=0;w<i.length;){var b=i[w++],D=i[w++],q=s[D];if(b.tag!==5||!_t(b)){for(;q!=null&&ha(b,q);)D++,q=s[D];if(D===s.length)p.push(b);else for(b=b.child;b!==null;)i.push(b,D),b=b.sibling}}return p}function di(i,s){if(!at)throw Error(d(363));i=ui(i),i=ci(i,s),s=[],i=Array.from(i);for(var p=0;p<i.length;){var w=i[p++];if(w.tag===5)_t(w)||s.push(w.stateNode);else for(w=w.child;w!==null;)i.push(w),w=w.sibling}return s}var ml=Math.ceil,pa=f.ReactCurrentDispatcher,ms=f.ReactCurrentOwner,Qt=f.ReactCurrentBatchConfig,st=0,Ot=null,$t=null,nn=0,hn=0,eo=bn(0),qt=0,ys=null,Ri=0,Bt=0,vs=0,Fo=null,Mn=null,Ss=0,ga=1/0,Jn=null;function Dt(){ga=wn()+500}var Jt=!1,sn=null,qr=null,to=!1,Or=null,yl=0,an=0,ma=null,_s=-1,ws=0;function Gt(){return(st&6)!==0?wn():_s!==-1?_s:_s=wn()}function pn(i){return(i.mode&1)===0?1:(st&2)!==0&&nn!==0?nn&-nn:ch.transition!==null?(ws===0&&(ws=Oa()),ws):(i=ft,i!==0?i:Se())}function Fn(i,s,p,w){if(50<an)throw an=0,ma=null,Error(d(185));Tr(i,p,w),((st&2)===0||i!==Ot)&&(i===Ot&&((st&2)===0&&(Bt|=p),qt===4&&Ni(i,nn)),Bn(i,w),p===1&&st===0&&(s.mode&1)===0&&(Dt(),es&&Pn()))}function Bn(i,s){var p=i.callbackNode;ud(i,s);var w=Xo(i,i===Ot?nn:0);if(w===0)p!==null&&cd(p),i.callbackNode=null,i.callbackPriority=0;else if(s=w&-w,i.callbackPriority!==s){if(p!=null&&cd(p),s===1)i.tag===0?fd(_u.bind(null,i)):za(_u.bind(null,i)),Fe?ot(function(){(st&6)===0&&Pn()}):ri(Ma,Pn),p=null;else{switch(Jo(w)){case 1:p=Ma;break;case 4:p=Fa;break;case 16:p=Ba;break;case 536870912:p=uh;break;default:p=Ba}p=Pu(p,vl.bind(null,i))}i.callbackPriority=s,i.callbackNode=p}}function vl(i,s){if(_s=-1,ws=0,(st&6)!==0)throw Error(d(327));var p=i.callbackNode;if(Ti()&&i.callbackNode!==p)return null;var w=Xo(i,i===Ot?nn:0);if(w===0)return null;if((w&30)!==0||(w&i.expiredLanes)!==0||s)s=Bo(i,w);else{s=w;var b=st;st|=2;var D=xu();(Ot!==i||nn!==s)&&(Jn=null,Dt(),no(i,s));do try{Cu();break}catch(ae){xs(i,ae)}while(!0);Xl(),pa.current=D,st=b,$t!==null?s=0:(Ot=null,nn=0,s=qt)}if(s!==0){if(s===2&&(b=La(i),b!==0&&(w=b,s=Sl(i,b))),s===1)throw p=ys,no(i,0),Ni(i,w),Bn(i,wn()),p;if(s===6)Ni(i,w);else{if(b=i.current.alternate,(w&30)===0&&!Ld(b)&&(s=Bo(i,w),s===2&&(D=La(i),D!==0&&(w=D,s=Sl(i,D))),s===1))throw p=ys,no(i,0),Ni(i,w),Bn(i,wn()),p;switch(i.finishedWork=b,i.finishedLanes=w,s){case 0:case 1:throw Error(d(345));case 2:ro(i,Mn,Jn);break;case 3:if(Ni(i,w),(w&130023424)===w&&(s=Ss+500-wn(),10<s)){if(Xo(i,0)!==0)break;if(b=i.suspendedLanes,(b&w)!==w){Gt(),i.pingedLanes|=i.suspendedLanes&b;break}i.timeoutHandle=X(ro.bind(null,i,Mn,Jn),s);break}ro(i,Mn,Jn);break;case 4:if(Ni(i,w),(w&4194240)===w)break;for(s=i.eventTimes,b=-1;0<w;){var q=31-hr(w);D=1<<q,q=s[q],q>b&&(b=q),w&=~D}if(w=b,w=wn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*ml(w/1960))-w,10<w){i.timeoutHandle=X(ro.bind(null,i,Mn,Jn),w);break}ro(i,Mn,Jn);break;case 5:ro(i,Mn,Jn);break;default:throw Error(d(329))}}}return Bn(i,wn()),i.callbackNode===p?vl.bind(null,i):null}function Sl(i,s){var p=Fo;return i.current.memoizedState.isDehydrated&&(no(i,s).flags|=256),i=Bo(i,s),i!==2&&(s=Mn,Mn=p,s!==null&&_l(s)),i}function _l(i){Mn===null?Mn=i:Mn.push.apply(Mn,i)}function Ld(i){for(var s=i;;){if(s.flags&16384){var p=s.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var w=0;w<p.length;w++){var b=p[w],D=b.getSnapshot;b=b.value;try{if(!Ur(D(),b))return!1}catch{return!1}}}if(p=s.child,s.subtreeFlags&16384&&p!==null)p.return=s,s=p;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ni(i,s){for(s&=~vs,s&=~Bt,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var p=31-hr(s),w=1<<p;i[p]=-1,s&=~w}}function _u(i){if((st&6)!==0)throw Error(d(327));Ti();var s=Xo(i,0);if((s&1)===0)return Bn(i,wn()),null;var p=Bo(i,s);if(i.tag!==0&&p===2){var w=La(i);w!==0&&(s=w,p=Sl(i,w))}if(p===1)throw p=ys,no(i,0),Ni(i,s),Bn(i,wn()),p;if(p===6)throw Error(d(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,ro(i,Mn,Jn),Bn(i,wn()),null}function wu(i){Or!==null&&Or.tag===0&&(st&6)===0&&Ti();var s=st;st|=1;var p=Qt.transition,w=ft;try{if(Qt.transition=null,ft=1,i)return i()}finally{ft=w,Qt.transition=p,st=s,(st&6)===0&&Pn()}}function wl(){hn=eo.current,zt(eo)}function no(i,s){i.finishedWork=null,i.finishedLanes=0;var p=i.timeoutHandle;if(p!==ve&&(i.timeoutHandle=ve,oe(p)),$t!==null)for(p=$t.return;p!==null;){var w=p;switch(Xs(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&po();break;case 3:_o(),zt(sr),zt(An),nu();break;case 5:eu(w);break;case 4:_o();break;case 13:zt(Kt);break;case 19:zt(Kt);break;case 10:Js(w.type._context);break;case 22:case 23:wl()}p=p.return}if(Ot=i,$t=i=io(i.current,null),nn=hn=s,qt=0,ys=null,vs=Bt=Ri=0,Mn=Fo=null,Ui!==null){for(s=0;s<Ui.length;s++)if(p=Ui[s],w=p.interleaved,w!==null){p.interleaved=null;var b=w.next,D=p.pending;if(D!==null){var q=D.next;D.next=b,w.next=q}p.pending=w}Ui=null}return i}function xs(i,s){do{var p=$t;try{if(Xl(),ur.current=Po,ss){for(var w=Wt.memoizedState;w!==null;){var b=w.queue;b!==null&&(b.pending=null),w=w.next}ss=!1}if(Vi=0,dn=on=Wt=null,ea=!1,ta=0,ms.current=null,p===null||p.return===null){qt=1,ys=s,$t=null;break}e:{var D=i,q=p.return,ae=p,pe=s;if(s=nn,ae.flags|=32768,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Pe=pe,Ue=ae,rt=Ue.tag;if((Ue.mode&1)===0&&(rt===0||rt===11||rt===15)){var Me=Ue.alternate;Me?(Ue.updateQueue=Me.updateQueue,Ue.memoizedState=Me.memoizedState,Ue.lanes=Me.lanes):(Ue.updateQueue=null,Ue.memoizedState=null)}var jt=Td(q);if(jt!==null){jt.flags&=-257,Ki(jt,q,ae,D,s),jt.mode&1&&Nd(D,Pe,s),s=jt,pe=Pe;var Tt=s.updateQueue;if(Tt===null){var Zn=new Set;Zn.add(pe),s.updateQueue=Zn}else Tt.add(pe);break e}else{if((s&1)===0){Nd(D,Pe,s),Cs();break e}pe=Error(d(426))}}else if(Ut&&ae.mode&1){var fi=Td(q);if(fi!==null){(fi.flags&65536)===0&&(fi.flags|=256),Ki(fi,q,ae,D,s),Kl(Ro(pe,ae));break e}}D=pe=Ro(pe,ae),qt!==4&&(qt=2),Fo===null?Fo=[D]:Fo.push(D),D=q;do{switch(D.tag){case 3:D.flags|=65536,s&=-s,D.lanes|=s;var fe=oi(D,pe,s);is(D,fe);break e;case 1:ae=pe;var le=D.type,ye=D.stateNode;if((D.flags&128)===0&&(typeof le.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(qr===null||!qr.has(ye)))){D.flags|=65536,s&=-s,D.lanes|=s;var Be=ol(D,ae,s);is(D,Be);break e}}D=D.return}while(D!==null)}ku(p)}catch(qe){s=qe,$t===p&&p!==null&&($t=p=p.return);continue}break}while(!0)}function xu(){var i=pa.current;return pa.current=Po,i===null?Po:i}function Cs(){(qt===0||qt===3||qt===2)&&(qt=4),Ot===null||(Ri&268435455)===0&&(Bt&268435455)===0||Ni(Ot,nn)}function Bo(i,s){var p=st;st|=2;var w=xu();(Ot!==i||nn!==s)&&(Jn=null,no(i,s));do try{Od();break}catch(b){xs(i,b)}while(!0);if(Xl(),st=p,pa.current=w,$t!==null)throw Error(d(261));return Ot=null,nn=0,qt}function Od(){for(;$t!==null;)Eu($t)}function Cu(){for(;$t!==null&&!dd();)Eu($t)}function Eu(i){var s=zd(i.alternate,i,hn);i.memoizedProps=i.pendingProps,s===null?ku(i):$t=s,ms.current=null}function ku(i){var s=i;do{var p=s.alternate;if(i=s.return,(s.flags&32768)===0){if(p=Ao(p,s,hn),p!==null){$t=p;return}}else{if(p=Dd(p,s),p!==null){p.flags&=32767,$t=p;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{qt=6,$t=null;return}}if(s=s.sibling,s!==null){$t=s;return}$t=s=i}while(s!==null);qt===0&&(qt=5)}function ro(i,s,p){var w=ft,b=Qt.transition;try{Qt.transition=null,ft=1,Md(i,s,p,w)}finally{Qt.transition=b,ft=w}return null}function Md(i,s,p,w){do Ti();while(Or!==null);if((st&6)!==0)throw Error(d(327));p=i.finishedWork;var b=i.finishedLanes;if(p===null)return null;if(i.finishedWork=null,i.finishedLanes=0,p===i.current)throw Error(d(177));i.callbackNode=null,i.callbackPriority=0;var D=p.lanes|p.childLanes;if(Bi(i,D),i===Ot&&($t=Ot=null,nn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||to||(to=!0,Pu(Ba,function(){return Ti(),null})),D=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||D){D=Qt.transition,Qt.transition=null;var q=ft;ft=1;var ae=st;st|=4,ms.current=null,Ad(i,p),da(p,i),H(i.containerInfo),i.current=p,ps(p),qs(),st=ae,ft=q,Qt.transition=D}else i.current=p;if(to&&(to=!1,Or=i,yl=b),D=i.pendingLanes,D===0&&(qr=null),Zo(p.stateNode),Bn(i,wn()),s!==null)for(w=i.onRecoverableError,p=0;p<s.length;p++)b=s[p],w(b.value,{componentStack:b.stack,digest:b.digest});if(Jt)throw Jt=!1,i=sn,sn=null,i;return(yl&1)!==0&&i.tag!==0&&Ti(),D=i.pendingLanes,(D&1)!==0?i===ma?an++:(an=0,ma=i):an=0,Pn(),null}function Ti(){if(Or!==null){var i=Jo(yl),s=Qt.transition,p=ft;try{if(Qt.transition=null,ft=16>i?16:i,Or===null)var w=!1;else{if(i=Or,Or=null,yl=0,(st&6)!==0)throw Error(d(331));var b=st;for(st|=4,Ae=i.current;Ae!==null;){var D=Ae,q=D.child;if((Ae.flags&16)!==0){var ae=D.deletions;if(ae!==null){for(var pe=0;pe<ae.length;pe++){var Pe=ae[pe];for(Ae=Pe;Ae!==null;){var Ue=Ae;switch(Ue.tag){case 0:case 11:case 15:Lo(8,Ue,D)}var rt=Ue.child;if(rt!==null)rt.return=Ue,Ae=rt;else for(;Ae!==null;){Ue=Ae;var Me=Ue.sibling,jt=Ue.return;if(ua(Ue),Ue===Pe){Ae=null;break}if(Me!==null){Me.return=jt,Ae=Me;break}Ae=jt}}}var Tt=D.alternate;if(Tt!==null){var Zn=Tt.child;if(Zn!==null){Tt.child=null;do{var fi=Zn.sibling;Zn.sibling=null,Zn=fi}while(Zn!==null)}}Ae=D}}if((D.subtreeFlags&2064)!==0&&q!==null)q.return=D,Ae=q;else e:for(;Ae!==null;){if(D=Ae,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:Lo(9,D,D.return)}var fe=D.sibling;if(fe!==null){fe.return=D.return,Ae=fe;break e}Ae=D.return}}var le=i.current;for(Ae=le;Ae!==null;){q=Ae;var ye=q.child;if((q.subtreeFlags&2064)!==0&&ye!==null)ye.return=q,Ae=ye;else e:for(q=le;Ae!==null;){if(ae=Ae,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:hs(9,ae)}}catch(qe){Ht(ae,ae.return,qe)}if(ae===q){Ae=null;break e}var Be=ae.sibling;if(Be!==null){Be.return=ae.return,Ae=Be;break e}Ae=ae.return}}if(st=b,Pn(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(ji,i)}catch{}w=!0}return w}finally{ft=p,Qt.transition=s}}return!1}function bu(i,s,p){s=Ro(p,s),s=oi(i,s,1),i=Ci(i,s,1),s=Gt(),i!==null&&(Tr(i,1,s),Bn(i,s))}function Ht(i,s,p){if(i.tag===3)bu(i,i,p);else for(;s!==null;){if(s.tag===3){bu(s,i,p);break}else if(s.tag===1){var w=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(qr===null||!qr.has(w))){i=Ro(p,i),i=ol(s,i,1),s=Ci(s,i,1),i=Gt(),s!==null&&(Tr(s,1,i),Bn(s,i));break}}s=s.return}}function Fd(i,s,p){var w=i.pingCache;w!==null&&w.delete(s),s=Gt(),i.pingedLanes|=i.suspendedLanes&p,Ot===i&&(nn&p)===p&&(qt===4||qt===3&&(nn&130023424)===nn&&500>wn()-Ss?no(i,0):vs|=p),Bn(i,s)}function Bd(i,s){s===0&&((i.mode&1)===0?s=1:(s=$s,$s<<=1,($s&130023424)===0&&($s=4194304)));var p=Gt();i=Vr(i,s),i!==null&&(Tr(i,s,p),Bn(i,p))}function jd(i){var s=i.memoizedState,p=0;s!==null&&(p=s.retryLane),Bd(i,p)}function hh(i,s){var p=0;switch(i.tag){case 13:var w=i.stateNode,b=i.memoizedState;b!==null&&(p=b.retryLane);break;case 19:w=i.stateNode;break;default:throw Error(d(314))}w!==null&&w.delete(s),Bd(i,p)}var zd;zd=function(i,s,p){if(i!==null)if(i.memoizedProps!==s.pendingProps||sr.current)fn=!0;else{if((i.lanes&p)===0&&(s.flags&128)===0)return fn=!1,Xi(i,s,p);fn=(i.flags&131072)!==0}else fn=!1,Ut&&(s.flags&1048576)!==0&&hd(s,go,s.index);switch(s.lanes=0,s.tag){case 2:var w=s.type;la(i,s),i=s.pendingProps;var b=Si(s,An.current);rs(s,p),b=na(null,s,w,i,b,p);var D=Xa();return s.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,_n(w)?(D=!0,Ko(s)):D=!1,s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Jl(s),b.updater=oa,s.stateNode=b,b._reactInternals=s,ii(s,w,i,p),s=Ln(null,s,w,!0,D,p)):(s.tag=0,Ut&&D&&Ys(s),Cn(null,s,b,p),s=s.child),s;case 16:w=s.elementType;e:{switch(la(i,s),i=s.pendingProps,b=w._init,w=b(w._payload),s.type=w,b=s.tag=ph(w),i=vr(w,i),b){case 0:s=si(null,s,w,i,p);break e;case 1:s=Tn(null,s,w,i,p);break e;case 11:s=sl(null,s,w,i,p);break e;case 14:s=No(null,s,w,vr(w.type,i),p);break e}throw Error(d(306,w,""))}return s;case 0:return w=s.type,b=s.pendingProps,b=s.elementType===w?b:vr(w,b),si(i,s,w,b,p);case 1:return w=s.type,b=s.pendingProps,b=s.elementType===w?b:vr(w,b),Tn(i,s,w,b,p);case 3:e:{if(Yi(s),i===null)throw Error(d(387));w=s.pendingProps,D=s.memoizedState,b=D.element,wd(i,s),Gi(s,w,null,p);var q=s.memoizedState;if(w=q.element,Oe&&D.isDehydrated)if(D={element:w,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},s.updateQueue.baseState=D,s.memoizedState=D,s.flags&256){b=Ro(Error(d(423)),s),s=To(i,s,w,p,b);break e}else if(w!==b){b=Ro(Error(d(424)),s),s=To(i,s,w,p,b);break e}else for(Oe&&(qn=nh(s.stateNode.containerInfo),Rn=s,Ut=!0,Wr=null,Qs=!1),p=Sd(s,null,w,p),s.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(mo(),w===b){s=bi(i,s,p);break e}Cn(i,s,w,p)}s=s.child}return s;case 5:return Zl(s),i===null&&ql(s),w=s.type,b=s.pendingProps,D=i!==null?i.memoizedProps:null,q=b.children,me(w,b)?q=null:D!==null&&me(w,D)&&(s.flags|=32),Lt(i,s),Cn(i,s,q,p),s.child;case 6:return i===null&&ql(s),null;case 13:return mu(i,s,p);case 4:return Ka(s,s.stateNode.containerInfo),w=s.pendingProps,i===null?s.child=vo(s,null,w,p):Cn(i,s,w,p),s.child;case 11:return w=s.type,b=s.pendingProps,b=s.elementType===w?b:vr(w,b),sl(i,s,w,b,p);case 7:return Cn(i,s,s.pendingProps,p),s.child;case 8:return Cn(i,s,s.pendingProps.children,p),s.child;case 12:return Cn(i,s,s.pendingProps.children,p),s.child;case 10:e:{if(w=s.type._context,b=s.pendingProps,D=s.memoizedProps,q=b.value,_d(s,w,q),D!==null)if(Ur(D.value,q)){if(D.children===b.children&&!sr.current){s=bi(i,s,p);break e}}else for(D=s.child,D!==null&&(D.return=s);D!==null;){var ae=D.dependencies;if(ae!==null){q=D.child;for(var pe=ae.firstContext;pe!==null;){if(pe.context===w){if(D.tag===1){pe=xi(-1,p&-p),pe.tag=2;var Pe=D.updateQueue;if(Pe!==null){Pe=Pe.shared;var Ue=Pe.pending;Ue===null?pe.next=pe:(pe.next=Ue.next,Ue.next=pe),Pe.pending=pe}}D.lanes|=p,pe=D.alternate,pe!==null&&(pe.lanes|=p),So(D.return,p,s),ae.lanes|=p;break}pe=pe.next}}else if(D.tag===10)q=D.type===s.type?null:D.child;else if(D.tag===18){if(q=D.return,q===null)throw Error(d(341));q.lanes|=p,ae=q.alternate,ae!==null&&(ae.lanes|=p),So(q,p,s),q=D.sibling}else q=D.child;if(q!==null)q.return=D;else for(q=D;q!==null;){if(q===s){q=null;break}if(D=q.sibling,D!==null){D.return=q.return,q=D;break}q=q.return}D=q}Cn(i,s,b.children,p),s=s.child}return s;case 9:return b=s.type,w=s.pendingProps.children,rs(s,p),b=gr(b),w=w(b),s.flags|=1,Cn(i,s,w,p),s.child;case 14:return w=s.type,b=vr(w,s.pendingProps),b=vr(w.type,b),No(i,s,w,b,p);case 15:return ki(i,s,s.type,s.pendingProps,p);case 17:return w=s.type,b=s.pendingProps,b=s.elementType===w?b:vr(w,b),la(i,s),s.tag=1,_n(w)?(i=!0,Ko(s)):i=!1,rs(s,p),Rd(s,w,b),ii(s,w,b,p),Ln(null,s,w,!0,i,p);case 19:return ll(i,s,p);case 22:return Ft(i,s,p)}throw Error(d(156,s.tag))};function Pu(i,s){return ri(i,s)}function Ud(i,s,p,w){this.tag=i,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(i,s,p,w){return new Ud(i,s,p,w)}function Es(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ph(i){if(typeof i=="function")return Es(i)?1:0;if(i!=null){if(i=i.$$typeof,i===P)return 11;if(i===k)return 14}return 2}function io(i,s){var p=i.alternate;return p===null?(p=Er(i.tag,s,i.key,i.mode),p.elementType=i.elementType,p.type=i.type,p.stateNode=i.stateNode,p.alternate=i,i.alternate=p):(p.pendingProps=s,p.type=i.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=i.flags&14680064,p.childLanes=i.childLanes,p.lanes=i.lanes,p.child=i.child,p.memoizedProps=i.memoizedProps,p.memoizedState=i.memoizedState,p.updateQueue=i.updateQueue,s=i.dependencies,p.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},p.sibling=i.sibling,p.index=i.index,p.ref=i.ref,p}function xl(i,s,p,w,b,D){var q=2;if(w=i,typeof i=="function")Es(i)&&(q=1);else if(typeof i=="string")q=5;else e:switch(i){case y:return In(p.children,b,D,s);case S:q=8,b|=8;break;case v:return i=Er(12,p,s,b|2),i.elementType=v,i.lanes=D,i;case R:return i=Er(13,p,s,b),i.elementType=R,i.lanes=D,i;case I:return i=Er(19,p,s,b),i.elementType=I,i.lanes=D,i;case T:return ks(p,b,D,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case _:q=10;break e;case C:q=9;break e;case P:q=11;break e;case k:q=14;break e;case x:q=16,w=null;break e}throw Error(d(130,i==null?i:typeof i,""))}return s=Er(q,p,s,b),s.elementType=i,s.type=w,s.lanes=D,s}function In(i,s,p,w){return i=Er(7,i,w,s),i.lanes=p,i}function ks(i,s,p,w){return i=Er(22,i,w,s),i.elementType=T,i.lanes=p,i.stateNode={isHidden:!1},i}function bs(i,s,p){return i=Er(6,i,null,s),i.lanes=p,i}function Cl(i,s,p){return s=Er(4,i.children!==null?i.children:[],i.key,s),s.lanes=p,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Gd(i,s,p,w,b){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ve,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qo(0),this.expirationTimes=Qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qo(0),this.identifierPrefix=w,this.onRecoverableError=b,Oe&&(this.mutableSourceEagerHydrationData=null)}function Ru(i,s,p,w,b,D,q,ae,pe){return i=new Gd(i,s,p,ae,pe),s===1?(s=1,D===!0&&(s|=8)):s=0,D=Er(3,null,null,s),i.current=D,D.stateNode=i,D.memoizedState={element:w,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jl(D),i}function El(i){if(!i)return Fi;i=i._reactInternals;e:{if(z(i)!==i||i.tag!==1)throw Error(d(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(_n(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(d(171))}if(i.tag===1){var p=i.type;if(_n(p))return ad(i,p,s)}return s}function jo(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(d(188)):(i=Object.keys(i).join(","),Error(d(268,i)));return i=Q(s),i===null?null:i.stateNode}function kl(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var p=i.retryLane;i.retryLane=p!==0&&p<s?p:s}}function Ps(i,s){kl(i,s),(i=i.alternate)&&kl(i,s)}function gh(i){return i=Q(i),i===null?null:i.stateNode}function Hd(){return null}return o.attemptContinuousHydration=function(i){if(i.tag===13){var s=Vr(i,134217728);if(s!==null){var p=Gt();Fn(s,i,134217728,p)}Ps(i,134217728)}},o.attemptDiscreteHydration=function(i){if(i.tag===13){var s=Vr(i,1);if(s!==null){var p=Gt();Fn(s,i,1,p)}Ps(i,1)}},o.attemptHydrationAtCurrentPriority=function(i){if(i.tag===13){var s=pn(i),p=Vr(i,s);if(p!==null){var w=Gt();Fn(p,i,s,w)}Ps(i,s)}},o.attemptSynchronousHydration=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var p=Yo(s.pendingLanes);p!==0&&(ni(s,p|1),Bn(s,wn()),(st&6)===0&&(Dt(),Pn()))}break;case 13:wu(function(){var w=Vr(i,1);if(w!==null){var b=Gt();Fn(w,i,1,b)}}),Ps(i,1)}},o.batchedUpdates=function(i,s){var p=st;st|=1;try{return i(s)}finally{st=p,st===0&&(Dt(),es&&Pn())}},o.createComponentSelector=function(i){return{$$typeof:Pi,value:i}},o.createContainer=function(i,s,p,w,b,D,q){return Ru(i,s,!1,null,p,w,b,D,q)},o.createHasPseudoClassSelector=function(i){return{$$typeof:Qn,value:i}},o.createHydrationContainer=function(i,s,p,w,b,D,q,ae,pe){return i=Ru(p,w,!0,i,b,D,q,ae,pe),i.context=El(null),p=i.current,w=Gt(),b=pn(p),D=xi(w,b),D.callback=s??null,Ci(p,D,b),i.current.lanes=b,Tr(i,b,w),Bn(i,w),i},o.createPortal=function(i,s,p){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:w==null?null:""+w,children:i,containerInfo:s,implementation:p}},o.createRoleSelector=function(i){return{$$typeof:li,value:i}},o.createTestNameSelector=function(i){return{$$typeof:gs,value:i}},o.createTextSelector=function(i){return{$$typeof:fa,value:i}},o.deferredUpdates=function(i){var s=ft,p=Qt.transition;try{return Qt.transition=null,ft=16,i()}finally{ft=s,Qt.transition=p}},o.discreteUpdates=function(i,s,p,w,b){var D=ft,q=Qt.transition;try{return Qt.transition=null,ft=1,i(s,p,w,b)}finally{ft=D,Qt.transition=q,st===0&&Dt()}},o.findAllNodes=di,o.findBoundingRects=function(i,s){if(!at)throw Error(d(363));s=di(i,s),i=[];for(var p=0;p<s.length;p++)i.push($e(s[p]));for(s=i.length-1;0<s;s--){p=i[s];for(var w=p.x,b=w+p.width,D=p.y,q=D+p.height,ae=s-1;0<=ae;ae--)if(s!==ae){var pe=i[ae],Pe=pe.x,Ue=Pe+pe.width,rt=pe.y,Me=rt+pe.height;if(w>=Pe&&D>=rt&&b<=Ue&&q<=Me){i.splice(s,1);break}else if(w!==Pe||p.width!==pe.width||Me<D||rt>q){if(!(D!==rt||p.height!==pe.height||Ue<w||Pe>b)){Pe>w&&(pe.width+=Pe-w,pe.x=w),Ue<b&&(pe.width=b-Pe),i.splice(s,1);break}}else{rt>D&&(pe.height+=rt-D,pe.y=D),Me<q&&(pe.height=q-rt),i.splice(s,1);break}}}return i},o.findHostInstance=jo,o.findHostInstanceWithNoPortals=function(i){return i=$(i),i=i!==null?re(i):null,i===null?null:i.stateNode},o.findHostInstanceWithWarning=function(i){return jo(i)},o.flushControlled=function(i){var s=st;st|=1;var p=Qt.transition,w=ft;try{Qt.transition=null,ft=1,i()}finally{ft=w,Qt.transition=p,st=s,st===0&&(Dt(),Pn())}},o.flushPassiveEffects=Ti,o.flushSync=wu,o.focusWithin=function(i,s){if(!at)throw Error(d(363));for(i=ui(i),s=ci(i,s),s=Array.from(s),i=0;i<s.length;){var p=s[i++];if(!_t(p)){if(p.tag===5&&It(p.stateNode))return!0;for(p=p.child;p!==null;)s.push(p),p=p.sibling}}return!1},o.getCurrentUpdatePriority=function(){return ft},o.getFindAllNodesFailureDescription=function(i,s){if(!at)throw Error(d(363));var p=0,w=[];i=[ui(i),0];for(var b=0;b<i.length;){var D=i[b++],q=i[b++],ae=s[q];if((D.tag!==5||!_t(D))&&(ha(D,ae)&&(w.push(gl(ae)),q++,q>p&&(p=q)),q<s.length))for(D=D.child;D!==null;)i.push(D,q),D=D.sibling}if(p<s.length){for(i=[];p<s.length;p++)i.push(gl(s[p]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+i.join(" > ")}return null},o.getPublicRootInstance=function(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return ge(i.child.stateNode);default:return i.child.stateNode}},o.injectIntoDevTools=function(i){if(i={bundleType:i.bundleType,version:i.version,rendererPackageName:i.rendererPackageName,rendererConfig:i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:f.ReactCurrentDispatcher,findHostInstanceByFiber:gh,findFiberByHostInstance:i.findFiberByHostInstance||Hd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")i=!1;else{var s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(s.isDisabled||!s.supportsFiber)i=!0;else{try{ji=s.inject(i),ar=s}catch{}i=!!s.checkDCE}}return i},o.isAlreadyRendering=function(){return!1},o.observeVisibleRects=function(i,s,p,w){if(!at)throw Error(d(363));i=di(i,s);var b=ir(i,p,w).disconnect;return{disconnect:function(){b()}}},o.registerMutableSourceForHydration=function(i,s){var p=s._getVersion;p=p(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,p]:i.mutableSourceEagerHydrationData.push(s,p)},o.runWithPriority=function(i,s){var p=ft;try{return ft=i,s()}finally{ft=p}},o.shouldError=function(){return null},o.shouldSuspend=function(){return!1},o.updateContainer=function(i,s,p,w){var b=s.current,D=Gt(),q=pn(b);return p=El(p),s.context===null?s.context=p:s.pendingContext=p,s=xi(D,q),s.payload={element:i},w=w===void 0?null:w,w!==null&&(s.callback=w),i=Ci(b,s,q),i!==null&&(Fn(i,b,q,D),Zs(i,b,q)),q},o}),Sp}var k1;function Sx(){return k1||(k1=1,vp.exports=vx()),vp.exports}var _x=Sx();const wx=Ra(_x);var _p={exports:{}},Ms={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1;function xx(){return b1||(b1=1,Ms.ConcurrentRoot=1,Ms.ContinuousEventPriority=4,Ms.DefaultEventPriority=16,Ms.DiscreteEventPriority=1,Ms.IdleEventPriority=536870912,Ms.LegacyRoot=0),Ms}var P1;function Cx(){return P1||(P1=1,_p.exports=xx()),_p.exports}var Gv=Cx(),Ex=ct();const R1={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let N1=!1,T1=!1;const Tg=".react-konva-event",kx=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,bx=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Px={};function Zf(e,n,o=Px){if(!N1&&"zIndex"in n&&(console.warn(bx),N1=!0),!T1&&n.draggable){var a=n.x!==void 0||n.y!==void 0,l=n.onDragEnd||n.onDragMove;a&&!l&&(console.warn(kx),T1=!0)}for(var c in o)if(!R1[c]){var d=c.slice(0,2)==="on",f=o[c]!==n[c];if(d&&f){var h=c.substr(2).toLowerCase();h.substr(0,7)==="content"&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),e.off(h,o[c])}var m=!n.hasOwnProperty(c);m&&e.setAttr(c,void 0)}var y=n._useStrictMode,S={},v=!1;const _={};for(var c in n)if(!R1[c]){var d=c.slice(0,2)==="on",C=o[c]!==n[c];if(d&&C){var h=c.substr(2).toLowerCase();h.substr(0,7)==="content"&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),n[c]&&(_[h]=n[c])}!d&&(n[c]!==o[c]||y&&n[c]!==e.getAttr(c))&&(v=!0,S[c]=n[c])}v&&(e.setAttrs(S),Gs(e));for(var h in _)e.on(h+Tg,_[h])}function Gs(e){if(!Ex.Konva.autoDrawEnabled){var n=e.getLayer()||e.getStage();n&&n.batchDraw()}}var wp=$p();const Hv={},Rx={};$c.Node.prototype._applyProps=Zf;function Nx(e,n){if(typeof n=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${n}`);return}e.add(n),Gs(e)}function Tx(e,n,o){let a=$c[e];a||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),a=$c.Group);const l={},c={};for(var d in n){var f=d.slice(0,2)==="on";f?c[d]=n[d]:l[d]=n[d]}const h=new a(l);return Zf(h,c),h}function Ix(e,n,o){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function Dx(e,n,o){return!1}function Ax(e){return e}function Lx(){return null}function Ox(){return null}function Mx(e,n,o,a){return Rx}function Fx(){}function Bx(e){}function jx(e,n){return!1}function zx(){return Hv}function Ux(){return Hv}const Gx=setTimeout,Hx=clearTimeout,Wx=-1;function Vx(e,n){return!1}const $x=!1,qx=!0,Kx=!0;function Yx(e,n){n.parent===e?n.moveToTop():e.add(n),Gs(e)}function Xx(e,n){n.parent===e?n.moveToTop():e.add(n),Gs(e)}function Wv(e,n,o){n._remove(),e.add(n),n.setZIndex(o.getZIndex()),Gs(e)}function Qx(e,n,o){Wv(e,n,o)}function Jx(e,n){n.destroy(),n.off(Tg),Gs(e)}function Zx(e,n){n.destroy(),n.off(Tg),Gs(e)}function e9(e,n,o){console.error(`Text components are not yet supported in ReactKonva. You text is: "${o}"`)}function t9(e,n,o){}function n9(e,n,o,a,l){Zf(e,l,a)}function r9(e){e.hide(),Gs(e)}function i9(e){}function o9(e,n){(n.visible==null||n.visible)&&e.show()}function s9(e,n){}function a9(e){}function l9(){}const u9=()=>Gv.DefaultEventPriority,c9=Object.freeze(Object.defineProperty({__proto__:null,appendChild:Yx,appendChildToContainer:Xx,appendInitialChild:Nx,cancelTimeout:Hx,clearContainer:a9,commitMount:t9,commitTextUpdate:e9,commitUpdate:n9,createInstance:Tx,createTextInstance:Ix,detachDeletedInstance:l9,finalizeInitialChildren:Dx,getChildHostContext:Ux,getCurrentEventPriority:u9,getPublicInstance:Ax,getRootHostContext:zx,hideInstance:r9,hideTextInstance:i9,idlePriority:wp.unstable_IdlePriority,insertBefore:Wv,insertInContainerBefore:Qx,isPrimaryRenderer:$x,noTimeout:Wx,now:wp.unstable_now,prepareForCommit:Lx,preparePortalMount:Ox,prepareUpdate:Mx,removeChild:Jx,removeChildFromContainer:Zx,resetAfterCommit:Fx,resetTextContent:Bx,run:wp.unstable_runWithPriority,scheduleTimeout:Gx,shouldDeprioritizeSubtree:jx,shouldSetTextContent:Vx,supportsMutation:Kx,unhideInstance:o9,unhideTextInstance:s9,warnsIfNotActing:qx},Symbol.toStringTag,{value:"Module"}));var d9=Object.defineProperty,f9=Object.defineProperties,h9=Object.getOwnPropertyDescriptors,I1=Object.getOwnPropertySymbols,p9=Object.prototype.hasOwnProperty,g9=Object.prototype.propertyIsEnumerable,D1=(e,n,o)=>n in e?d9(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,A1=(e,n)=>{for(var o in n||(n={}))p9.call(n,o)&&D1(e,o,n[o]);if(I1)for(var o of I1(n))g9.call(n,o)&&D1(e,o,n[o]);return e},m9=(e,n)=>f9(e,h9(n)),L1,O1;typeof window<"u"&&((L1=window.document)!=null&&L1.createElement||((O1=window.navigator)==null?void 0:O1.product)==="ReactNative")?W.useLayoutEffect:W.useEffect;function Vv(e,n,o){if(!e)return;if(o(e)===!0)return e;let a=e.child;for(;a;){const l=Vv(a,n,o);if(l)return l;a=a.sibling}}function $v(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return e}}const M1=console.error;console.error=function(){const e=[...arguments].join("");if(e!=null&&e.startsWith("Warning:")&&e.includes("useContext")){console.error=M1;return}return M1.apply(this,arguments)};const Ig=$v(W.createContext(null));class qv extends W.Component{render(){return W.createElement(Ig.Provider,{value:this._reactInternals},this.props.children)}}function y9(){const e=W.useContext(Ig);if(e===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const n=W.useId();return W.useMemo(()=>{for(const a of[e,e==null?void 0:e.alternate]){if(!a)continue;const l=Vv(a,!1,c=>{let d=c.memoizedState;for(;d;){if(d.memoizedState===n)return!0;d=d.next}});if(l)return l}},[e,n])}function v9(){const e=y9(),[n]=W.useState(()=>new Map);n.clear();let o=e;for(;o;){if(o.type&&typeof o.type=="object"){const l=o.type._context===void 0&&o.type.Provider===o.type?o.type:o.type._context;l&&l!==Ig&&!n.has(l)&&n.set(l,W.useContext($v(l)))}o=o.return}return n}function S9(){const e=v9();return W.useMemo(()=>Array.from(e.keys()).reduce((n,o)=>a=>W.createElement(n,null,W.createElement(o.Provider,m9(A1({},a),{value:e.get(o)}))),n=>W.createElement(qv,A1({},n))),[e])}function _9(e){const n=Ye.useRef({});return Ye.useLayoutEffect(()=>{n.current=e}),Ye.useLayoutEffect(()=>()=>{n.current={}},[]),n.current}const w9=e=>{const n=Ye.useRef(null),o=Ye.useRef(null),a=Ye.useRef(null),l=_9(e),c=S9(),d=f=>{const{forwardedRef:h}=e;h&&(typeof h=="function"?h(f):h.current=f)};return Ye.useLayoutEffect(()=>(o.current=new $c.Stage({width:e.width,height:e.height,container:n.current}),d(o.current),a.current=Tc.createContainer(o.current,Gv.LegacyRoot,!1,null),Tc.updateContainer(Ye.createElement(c,{},e.children),a.current),()=>{$c.isBrowser&&(d(null),Tc.updateContainer(null,a.current,null),o.current.destroy())}),[]),Ye.useLayoutEffect(()=>{d(o.current),Zf(o.current,e,l),Tc.updateContainer(Ye.createElement(c,{},e.children),a.current,null)}),Ye.createElement("div",{ref:n,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},Kv="Layer",Bf="Rect",Yv="Ellipse",Up="Line",Xv="Image",Qv="Text",x9="Star",C9="Arrow",E9="Transformer",Tc=wx(c9);Tc.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Ye.version,rendererPackageName:"react-konva"});const Jv=Ye.forwardRef((e,n)=>Ye.createElement(qv,{},Ye.createElement(w9,{...e,forwardedRef:n})));function k9(e,n={},o){const{color:a="black",width:l=2,isEraser:c=!1,eraserSize:d=15,eraserMode:f="size"}=n,h=W.useRef(!1),m=W.useRef(null),y=W.useRef([]),S=k=>{h.current=!0;const x=k.target.getStage(),T=(x==null?void 0:x.getPointerPosition())??null;T&&(c?(P(),m.current=T):y.current=[T.x,T.y])},v=k=>{if(!h.current)return;const x=k.target.getStage(),T=(x==null?void 0:x.getPointerPosition())??null;T&&(c?f==="size"?R(T):I(T):(y.current.push(T.x,T.y),C()))},_=()=>{if(h.current=!1,!c&&y.current.length>=4){const k={id:Date.now(),type:"line",x:0,y:0,points:[...y.current],color:a,strokeWidth:l};o(x=>[...x,k])}y.current=[],m.current=null,P()},C=()=>{var x,T,A;let k=(x=e.current)==null?void 0:x.findOne(".drawing-preview");k?k.points(y.current):(k=new yp.Line({name:"drawing-preview",points:y.current,stroke:a,strokeWidth:l,lineCap:"round",lineJoin:"round",dash:[10,5]}),(T=e.current)==null||T.add(k)),(A=e.current)==null||A.batchDraw()},P=()=>{var k,x,T,A;(k=e.current)==null||k.find(".drawing-preview").forEach(M=>M.destroy()),(x=e.current)==null||x.find(".eraser-circle").forEach(M=>M.destroy()),(T=e.current)==null||T.find(".eraser-rect").forEach(M=>M.destroy()),(A=e.current)==null||A.batchDraw()},R=k=>{var Y,F,z;const x=k.x,T=k.y,A=d/2;o(j=>j.filter($=>{if($.type!=="line"||!$.points)return!0;for(let Q=0;Q<$.points.length;Q+=2){const te=$.points[Q],re=$.points[Q+1];if(Math.hypot(te-x,re-T)<=A)return!1}return!0}));let M=(Y=e.current)==null?void 0:Y.findOne(".eraser-circle");M?(M.position({x,y:T}),M.radius(A)):(M=new yp.Circle({name:"eraser-circle",x,y:T,radius:A,fill:"rgba(255,0,0,0.2)",stroke:"red",strokeWidth:2}),(F=e.current)==null||F.add(M)),(z=e.current)==null||z.batchDraw()},I=k=>{var j,$,Q;if(!m.current)return;const x=m.current,T=Math.min(x.x,k.x),A=Math.max(x.x,k.x),M=Math.min(x.y,k.y),Y=Math.max(x.y,k.y);o(te=>te.filter(re=>{if(re.type!=="line"||!re.points)return!0;for(let ee=0;ee<re.points.length;ee+=2){const ge=re.points[ee],L=re.points[ee+1];if(ge>=T&&ge<=A&&L>=M&&L<=Y)return!1}return!0}));let F=(j=e.current)==null?void 0:j.findOne(".eraser-rect");const z={x:T,y:M,width:A-T,height:Y-M};F?F.setAttrs(z):(F=new yp.Rect({name:"eraser-rect",...z,fill:"rgba(255,0,0,0.3)",stroke:"red",strokeWidth:2}),($=e.current)==null||$.add(F)),(Q=e.current)==null||Q.batchDraw()};return{onMouseDown:S,onMouseMove:v,onMouseUp:_}}const ka=1e3,ba=563,F1=(e,n,o=1,a=1)=>{const d=100*o,f=100*a;return[0,-f/2,-d/2,f/2,d/2,f/2]},B1=e=>{const{isFullscreen:n,isHistoryPage:o}=e;if(n){const a=window.innerWidth,l=window.innerHeight,c=ka/ba,d=a/l;let f,h;return d>c?(h=l,f=h*c):(f=a,h=f/c),{width:f,height:h,scale:{x:f/ka,y:h/ba}}}else{const a=o?800:ka,l=o?450:ba,c=o?{x:a/ka,y:l/ba}:{x:1,y:1};return{width:a,height:l,scale:c}}};var xp,j1;function b9(){if(j1)return xp;j1=1;var e=Ml();return xp=function(o,a,l){const c=e.useRef("loading"),d=e.useRef(),[f,h]=e.useState(0),m=e.useRef(),y=e.useRef(),S=e.useRef();return(m.current!==o||y.current!==a||S.current!==l)&&(c.current="loading",d.current=void 0,m.current=o,y.current=a,S.current=l),e.useLayoutEffect(function(){if(!o)return;var v=document.createElement("img");function _(){v.decode().catch(()=>{}).finally(()=>{c.current="loaded",d.current=v,h(Math.random())})}function C(){c.current="failed",d.current=void 0,h(Math.random())}return v.addEventListener("load",_),v.addEventListener("error",C),a&&(v.crossOrigin=a),l&&(v.referrerPolicy=l),v.src=o,function(){v.removeEventListener("load",_),v.removeEventListener("error",C)}},[o,a,l]),[d.current,c.current]},xp}var P9=b9();const R9=Ra(P9),N9=({shape:e,onSelect:n,onDrag:o,onResize:a,registerRef:l,draggable:c=!1})=>{const[d]=R9(e.imageSrc||"","anonymous"),f=W.useRef(null);return W.useEffect(()=>{},[d]),G.jsx(Xv,{ref:h=>{f.current=h,l(h)},image:d,x:e.x,y:e.y,width:e.width,height:e.height,draggable:c,onClick:n,onTransformEnd:()=>{const h=f.current;if(!h)return;const m=h.scaleX(),y=h.scaleY(),S={...e,x:h.x(),y:h.y(),width:h.width()*m,height:h.height()*y};h.scaleX(1),h.scaleY(1),a(S)},onDragEnd:h=>{const{x:m,y}=h.target.position();o(m,y)}})},T9=({shape:e,setActiveTool:n,setSelectedColor:o,onSelectShape:a,onSelectText:l,setSelectedShapeId:c,setSelectedTextId:d,setShapes:f,sendEdit:h,shapeRefs:m,isDraggable:y,onTransformEnd:S})=>{const v={onClick:()=>{c(e.id),d(null),n("cursor"),a(String(e.id)),l(null),e.color&&o(e.color)},onDragEnd:_=>{var I;const{x:C,y:P}=_.target.position(),R={...e,x:C,y:P};f(k=>{const x=k.map(T=>T.id===e.id?R:T);return setTimeout(()=>h(),0),x}),(I=_.target.getLayer())==null||I.batchDraw()},draggable:y};return e.type==="rectangle"?G.jsx(Bf,{ref:_=>_&&m.current.set(e.id,_),x:e.x,y:e.y,width:e.width,height:e.height,fill:e.color,onTransformEnd:()=>S(e.id),...v}):e.type==="circle"?G.jsx(Yv,{ref:_=>_&&m.current.set(e.id,_),x:e.x,y:e.y,radiusX:e.radiusX??e.radius??50,radiusY:e.radiusY??e.radius??50,fill:e.color,onTransformEnd:()=>S(e.id),...v}):e.type==="triangle"?G.jsx(Up,{ref:_=>_&&m.current.set(e.id,_),x:e.x,y:e.y,points:e.points,fill:e.color,rotation:e.rotation||0,closed:!0,onTransformEnd:()=>S(e.id),...v}):e.type==="line"?G.jsx(Up,{points:e.points||[],stroke:e.color||"black",strokeWidth:e.strokeWidth||3,lineCap:"round",lineJoin:"round"},e.id):e.type==="star"?G.jsx(x9,{ref:_=>_&&m.current.set(e.id,_),x:e.x,y:e.y,numPoints:e.numPoints??5,innerRadius:e.innerRadius??20,outerRadius:e.outerRadius??40,fill:e.color,onTransformEnd:()=>S(e.id),...v}):e.type==="arrow"?G.jsx(C9,{ref:_=>_&&m.current.set(e.id,_),points:e.points||[e.x??0,e.y??0,(e.x??0)+100,e.y??0],pointerLength:e.pointerLength??10,pointerWidth:e.pointerWidth??10,stroke:e.color||"black",fill:e.color||"black",strokeWidth:e.strokeWidth||3,onTransformEnd:()=>S(e.id),...v}):null},Zv=({activeTool:e,selectedColor:n,setSelectedColor:o,setActiveTool:a,shapes:l,setShapes:c,texts:d,setTexts:f,currentSlide:h,updateThumbnail:m,sendEdit:y,setIsTyping:S,defaultFontSize:v,isHistoryPage:_,onSelectShape:C,onSelectText:P,isPresentationMode:R=!1,isFullscreen:I,slides:k,goToNextSlide:x,goToPrevSlide:T,eraserSize:A,eraserMode:M})=>{const[,Y]=W.useState(!1),[F,z]=W.useState(null),[j,$]=W.useState(null),[Q,te]=W.useState(null),re=W.useRef(null),ee=W.useRef(new Map),ge=W.useRef(null),L=W.useRef(null),B=W.useRef(null),V=W.useRef(null),H=W.useRef({shapes:[],texts:[]}),O=W.useRef(null),K=W.useRef(null),J=W.useRef(null),ue=()=>{var Se;return(Se=J.current)==null?void 0:Se.focus()};W.useEffect(()=>{B.current&&(O.current&&clearTimeout(O.current),O.current=setTimeout(()=>{const Se=B.current;if(!Se)return;const xe=Se.toDataURL({pixelRatio:.25});m(h,xe)},300))},[l,d,h,m]),W.useEffect(()=>{const Se=H.current;(JSON.stringify(Se.shapes)!==JSON.stringify(l)||JSON.stringify(Se.texts)!==JSON.stringify(d))&&(y(),H.current={shapes:l,texts:d})},[l,d]);const me=(Se,xe)=>{let Fe=null;e==="rectangle"?Fe={type:"rectangle",x:Se-50,y:xe-50,width:100,height:100,color:"#B0B0B0",id:Date.now()}:e==="circle"?Fe={type:"circle",x:Se,y:xe,radiusX:50,radiusY:50,color:"#B0B0B0",id:Date.now()}:e==="triangle"?Fe={type:"triangle",x:Se,y:xe,points:F1(),color:"#B0B0B0",id:Date.now(),rotation:0}:e==="star"?Fe={type:"star",x:Se,y:xe,numPoints:5,innerRadius:20,outerRadius:40,color:"#B0B0B0",id:Date.now()}:e==="arrow"&&(Fe={type:"arrow",x:Se,y:xe,points:[Se,xe,Se+100,xe],color:"#000000",strokeWidth:3,id:Date.now()}),Fe&&(c(ot=>[...ot,Fe]),z(Fe.id),$(null),C(String(Fe.id)),P(null),setTimeout(()=>{a("cursor"),ue()},0))},se=(Se,xe)=>{const Fe=Date.now(),ot={id:Fe,text:"",x:Se,y:xe,color:"#000000",fontSize:v};f(at=>[...at,ot]),$(Fe),P(String(Fe)),C(null),setTimeout(ue,0)};W.useEffect(()=>{if(e==="text"&&d.length>0){const Se=d[d.length-1];te(Se)}},[d]),W.useEffect(()=>{Q&&ge.current&&ge.current.focus()},[Q]);const X=Se=>{if(Se.target!==L.current)return;const xe=B.current,Fe=xe==null?void 0:xe.getPointerPosition();if(!Fe)return;const{x:ot,y:at}=Fe;e==="text"?se(ot,at):["rectangle","circle","triangle","star","arrow"].includes(e)?(me(ot,at),te(null)):(z(null),$(null),te(null),C(null),P(null))},oe=Se=>{const xe=ee.current.get(Se);if(!xe)return;const Fe=xe.scaleX(),ot=xe.scaleY();let at=null;c(mt=>mt.map($e=>{if($e.id!==Se)return $e;const nt={...$e,x:xe.x(),y:xe.y()};if($e.type==="rectangle")nt.width=xe.width()*Fe,nt.height=xe.height()*ot;else if($e.type==="circle")nt.radiusX=xe.width()/2*Fe,nt.radiusY=xe.height()/2*ot;else if($e.type==="triangle"){const _t=$e.points||F1();nt.points=_t.map((Pt,It)=>It%2===0?Pt*Fe:Pt*ot),nt.rotation=xe.rotation()}else if($e.type==="image")nt.width=xe.width()*Fe,nt.height=xe.height()*ot;else if($e.type==="star"){const _t=(Fe+ot)/2;nt.innerRadius=($e.innerRadius??20)*_t,nt.outerRadius=($e.outerRadius??40)*_t}else if($e.type==="arrow"){const Pt=[...$e.points||[0,0,100,0]];for(let It=0;It<Pt.length;It+=2)Pt[It]=Pt[It]*Fe,Pt[It+1]=Pt[It+1]*ot;nt.points=Pt}return xe.scaleX(1),xe.scaleY(1),at=nt,nt})),at&&y()};W.useEffect(()=>{var Se,xe;if(F!==null&&re.current){const Fe=ee.current.get(F);Fe&&(re.current.nodes([Fe]),(Se=re.current.getLayer())==null||Se.batchDraw())}else(xe=re.current)==null||xe.nodes([])},[F,l]),W.useEffect(()=>{if(B.current){const{width:Se,height:xe,scale:Fe}=B1({isFullscreen:I,isHistoryPage:_});B.current.width(Se),B.current.height(xe),B.current.scale(Fe);const ot=Math.max(0,(Se-ka*Fe.x)/2),at=Math.max(0,(xe-ba*Fe.y)/2);B.current.position({x:ot,y:at}),B.current.batchDraw()}},[I]),W.useEffect(()=>{F!==null?c(Se=>Se.map(xe=>xe.id===F?{...xe,color:n}:xe)):j!==null&&f(Se=>Se.map(xe=>xe.id===j?{...xe,color:n}:xe))},[n]);const ve=()=>{F!==null?(c(Se=>Se.filter(xe=>xe.id!==F)),y(),z(null),C(null)):j!==null&&(f(Se=>Se.filter(xe=>xe.id!==j)),y(),$(null),P(null))};W.useEffect(()=>{const Se=xe=>{var Fe;if(xe.key==="Backspace"||xe.key==="Delete"){if(((Fe=document.activeElement)==null?void 0:Fe.tagName)==="TEXTAREA")return;ve()}};return window.addEventListener("keydown",Se),()=>window.removeEventListener("keydown",Se)},[F,j]);const we=Se=>e==="cursor"&&F===Se,Te=Se=>e==="cursor"&&j===Se&&(Q==null?void 0:Q.id)!==Se,Le=k9(K,{color:n,width:3,isEraser:e==="eraser",eraserSize:A,eraserMode:M},c),{width:Oe,height:ut,scale:Qe}=B1({isFullscreen:I,isHistoryPage:_});return G.jsxs("div",{ref:J,tabIndex:0,onMouseDown:()=>ue(),onKeyDown:Se=>{var Fe;if(Se.key!=="Backspace"&&Se.key!=="Delete"||((Fe=document.activeElement)==null?void 0:Fe.tagName)==="TEXTAREA")return;(F!==null||j!==null)&&(Se.preventDefault(),Se.stopPropagation(),ve())},className:"whiteboard-container",style:{position:I?"fixed":"relative",top:I?0:void 0,left:I?0:void 0,width:I?"100vw":void 0,height:I?"100vh":void 0,backgroundColor:I?"black":void 0,zIndex:I?9999:void 0,display:"flex",justifyContent:"center",alignItems:"center"},children:[G.jsx(Jv,{ref:B,width:Oe,height:ut,scale:Qe,x:(Oe-ka*Qe.x)/2,y:(ut-ba*Qe.y)/2,onMouseDown:Se=>{var xe;e==="pen"||e==="eraser"?(xe=Le.onMouseDown)==null||xe.call(Le,Se):X(Se)},onMouseMove:e==="pen"||e==="eraser"?Le.onMouseMove:void 0,onMouseUp:e==="pen"||e==="eraser"?Le.onMouseUp:void 0,children:G.jsxs(Kv,{ref:K,children:[G.jsx(Bf,{width:ka,height:ba,fill:"white",ref:L}),l.map(Se=>G.jsx(Ye.Fragment,{children:Se.type==="image"?G.jsx(N9,{shape:Se,onSelect:()=>{z(Se.id),$(null),a("cursor"),C(String(Se.id)),P(null)},onDrag:(xe,Fe)=>{const ot={...Se,x:xe,y:Fe};c(at=>at.map(mt=>mt.id===Se.id?ot:mt)),y()},onResize:xe=>{c(Fe=>Fe.map(ot=>ot.id===xe.id?xe:ot)),y()},registerRef:xe=>{xe&&ee.current.set(Se.id,xe)},draggable:we(Se.id)}):G.jsx(T9,{shape:Se,setActiveTool:a,setSelectedColor:o,onSelectShape:C,onSelectText:P,setSelectedShapeId:z,setSelectedTextId:$,setShapes:c,sendEdit:y,shapeRefs:ee,isDraggable:we(Se.id),onTransformEnd:oe})},Se.id)),d.map(Se=>G.jsx(Qv,{x:Se.x,y:Se.y,text:Se.text,fontSize:Se.fontSize||20,fontFamily:"Pretendard",fill:Se.color,draggable:Te(Se.id),onClick:()=>{$(Se.id),a("cursor"),P(String(Se.id)),C(null),Se.color&&o(Se.color)},onDblClick:()=>{te(Se)},onDragEnd:xe=>{var mt;const{x:Fe,y:ot}=xe.target.position(),at={...Se,x:Fe,y:ot};f($e=>{const nt=$e.map(_t=>_t.id===Se.id?at:_t);return setTimeout(()=>y(),0),nt}),(mt=xe.target.getLayer())==null||mt.batchDraw()}},Se.id)),(F!==null||j!==null)&&G.jsx(E9,{ref:re,boundBoxFunc:(Se,xe)=>xe.width<5||xe.height<5?Se:xe})]})}),R&&I&&G.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0,0,0,0.7)",color:"white",padding:"10px 20px",borderRadius:"20px",fontSize:"14px",zIndex:1e3,display:"flex",alignItems:"center",gap:"20px"},children:[G.jsx("button",{onClick:T,disabled:(k==null?void 0:k.findIndex(Se=>Se.id===h))===0,style:{background:"none",border:"none",color:"white",fontSize:"16px",cursor:"pointer",opacity:(k==null?void 0:k.findIndex(Se=>Se.id===h))===0?.5:1},children:"◀"}),G.jsx("span",{children:k?`${k.findIndex(Se=>Se.id===h)+1} / ${k.length}`:"1 / 1"}),G.jsx("button",{onClick:x,disabled:k?k.findIndex(Se=>Se.id===h)===(k==null?void 0:k.length)-1:!0,style:{background:"none",border:"none",color:"white",fontSize:"16px",cursor:"pointer",opacity:k?k.findIndex(Se=>Se.id===h)===k.length-1?.5:1:.5},children:"▶"})]}),Q&&B.current&&(()=>{const Fe=B.current.getAbsoluteTransform().point({x:Q.x,y:Q.y}),ot=Fe.y,at=Fe.x;return G.jsx("textarea",{ref:ge,value:Q.text,style:{position:"absolute",top:ot,left:at,fontSize:`${Q.fontSize||v}px`,fontFamily:"'Pretendard'",lineHeight:"0.82",whiteSpace:"pre",padding:"0",margin:"0",border:"none",background:"transparent",outline:"none",resize:"none",overflow:"hidden",verticalAlign:"top",color:Q.color,zIndex:10},onCompositionStart:()=>Y(!0),onCompositionEnd:()=>Y(!1),onChange:mt=>{const $e=mt.target.value;te(nt=>nt?{...nt,text:$e}:null),S(!0),V.current&&clearTimeout(V.current),V.current=setTimeout(()=>S(!1),500)},onBlur:()=>{const mt=(Q==null?void 0:Q.text.trim())||"";mt===""?f($e=>$e.filter(nt=>nt.id!==Q.id)):(f($e=>$e.map(nt=>nt.id===Q.id?{...nt,text:mt}:nt)),y()),te(null),$(null)},onKeyDown:mt=>{var $e;if((mt.key==="Backspace"||mt.key==="Delete")&&mt.stopPropagation(),mt.key==="Enter"&&!mt.shiftKey){mt.preventDefault();const nt=(($e=ge.current)==null?void 0:$e.value.trim())||"";f(nt===""?_t=>_t.filter(Pt=>Pt.id!==Q.id):_t=>_t.map(Pt=>Pt.id===Q.id?{...Pt,text:nt}:Pt)),te(null),$(null),a("cursor")}}})})()]})};function eh(){return(eh=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e}).apply(this,arguments)}function e2(e,n){if(e==null)return{};var o,a,l={},c=Object.keys(e);for(a=0;a<c.length;a++)n.indexOf(o=c[a])>=0||(l[o]=e[o]);return l}function Gp(e){var n=W.useRef(e),o=W.useRef(function(a){n.current&&n.current(a)});return n.current=e,o.current}var qc=function(e,n,o){return n===void 0&&(n=0),o===void 0&&(o=1),e>o?o:e<n?n:e},Oc=function(e){return"touches"in e},Hp=function(e){return e&&e.ownerDocument.defaultView||self},z1=function(e,n,o){var a=e.getBoundingClientRect(),l=Oc(n)?(function(c,d){for(var f=0;f<c.length;f++)if(c[f].identifier===d)return c[f];return c[0]})(n.touches,o):n;return{left:qc((l.pageX-(a.left+Hp(e).pageXOffset))/a.width),top:qc((l.pageY-(a.top+Hp(e).pageYOffset))/a.height)}},U1=function(e){!Oc(e)&&e.preventDefault()},t2=Ye.memo(function(e){var n=e.onMove,o=e.onKey,a=e2(e,["onMove","onKey"]),l=W.useRef(null),c=Gp(n),d=Gp(o),f=W.useRef(null),h=W.useRef(!1),m=W.useMemo(function(){var _=function(R){U1(R),(Oc(R)?R.touches.length>0:R.buttons>0)&&l.current?c(z1(l.current,R,f.current)):P(!1)},C=function(){return P(!1)};function P(R){var I=h.current,k=Hp(l.current),x=R?k.addEventListener:k.removeEventListener;x(I?"touchmove":"mousemove",_),x(I?"touchend":"mouseup",C)}return[function(R){var I=R.nativeEvent,k=l.current;if(k&&(U1(I),!(function(T,A){return A&&!Oc(T)})(I,h.current)&&k)){if(Oc(I)){h.current=!0;var x=I.changedTouches||[];x.length&&(f.current=x[0].identifier)}k.focus(),c(z1(k,I,f.current)),P(!0)}},function(R){var I=R.which||R.keyCode;I<37||I>40||(R.preventDefault(),d({left:I===39?.05:I===37?-.05:0,top:I===40?.05:I===38?-.05:0}))},P]},[d,c]),y=m[0],S=m[1],v=m[2];return W.useEffect(function(){return v},[v]),Ye.createElement("div",eh({},a,{onTouchStart:y,onMouseDown:y,className:"react-colorful__interactive",ref:l,onKeyDown:S,tabIndex:0,role:"slider"}))}),Dg=function(e){return e.filter(Boolean).join(" ")},n2=function(e){var n=e.color,o=e.left,a=e.top,l=a===void 0?.5:a,c=Dg(["react-colorful__pointer",e.className]);return Ye.createElement("div",{className:c,style:{top:100*l+"%",left:100*o+"%"}},Ye.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:n}}))},rr=function(e,n,o){return n===void 0&&(n=0),o===void 0&&(o=Math.pow(10,n)),Math.round(o*e)/o},I9=function(e){return M9(Wp(e))},Wp=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?rr(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?rr(parseInt(e.substring(6,8),16)/255,2):1}},D9=function(e){return O9(L9(e))},A9=function(e){var n=e.s,o=e.v,a=e.a,l=(200-n)*o/100;return{h:rr(e.h),s:rr(l>0&&l<200?n*o/100/(l<=100?l:200-l)*100:0),l:rr(l/2),a:rr(a,2)}},Vp=function(e){var n=A9(e);return"hsl("+n.h+", "+n.s+"%, "+n.l+"%)"},L9=function(e){var n=e.h,o=e.s,a=e.v,l=e.a;n=n/360*6,o/=100,a/=100;var c=Math.floor(n),d=a*(1-o),f=a*(1-(n-c)*o),h=a*(1-(1-n+c)*o),m=c%6;return{r:rr(255*[a,f,d,d,h,a][m]),g:rr(255*[h,a,a,f,d,d][m]),b:rr(255*[d,d,h,a,a,f][m]),a:rr(l,2)}},yf=function(e){var n=e.toString(16);return n.length<2?"0"+n:n},O9=function(e){var n=e.r,o=e.g,a=e.b,l=e.a,c=l<1?yf(rr(255*l)):"";return"#"+yf(n)+yf(o)+yf(a)+c},M9=function(e){var n=e.r,o=e.g,a=e.b,l=e.a,c=Math.max(n,o,a),d=c-Math.min(n,o,a),f=d?c===n?(o-a)/d:c===o?2+(a-n)/d:4+(n-o)/d:0;return{h:rr(60*(f<0?f+6:f)),s:rr(c?d/c*100:0),v:rr(c/255*100),a:l}},F9=Ye.memo(function(e){var n=e.hue,o=e.onChange,a=Dg(["react-colorful__hue",e.className]);return Ye.createElement("div",{className:a},Ye.createElement(t2,{onMove:function(l){o({h:360*l.left})},onKey:function(l){o({h:qc(n+360*l.left,0,360)})},"aria-label":"Hue","aria-valuenow":rr(n),"aria-valuemax":"360","aria-valuemin":"0"},Ye.createElement(n2,{className:"react-colorful__hue-pointer",left:n/360,color:Vp({h:n,s:100,v:100,a:1})})))}),B9=Ye.memo(function(e){var n=e.hsva,o=e.onChange,a={backgroundColor:Vp({h:n.h,s:100,v:100,a:1})};return Ye.createElement("div",{className:"react-colorful__saturation",style:a},Ye.createElement(t2,{onMove:function(l){o({s:100*l.left,v:100-100*l.top})},onKey:function(l){o({s:qc(n.s+100*l.left,0,100),v:qc(n.v-100*l.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+rr(n.s)+"%, Brightness "+rr(n.v)+"%"},Ye.createElement(n2,{className:"react-colorful__saturation-pointer",top:1-n.v/100,left:n.s/100,color:Vp(n)})))}),r2=function(e,n){if(e===n)return!0;for(var o in e)if(e[o]!==n[o])return!1;return!0},j9=function(e,n){return e.toLowerCase()===n.toLowerCase()||r2(Wp(e),Wp(n))};function z9(e,n,o){var a=Gp(o),l=W.useState(function(){return e.toHsva(n)}),c=l[0],d=l[1],f=W.useRef({color:n,hsva:c});W.useEffect(function(){if(!e.equal(n,f.current.color)){var m=e.toHsva(n);f.current={hsva:m,color:n},d(m)}},[n,e]),W.useEffect(function(){var m;r2(c,f.current.hsva)||e.equal(m=e.fromHsva(c),f.current.color)||(f.current={hsva:c,color:m},a(m))},[c,e,a]);var h=W.useCallback(function(m){d(function(y){return Object.assign({},y,m)})},[]);return[c,h]}var U9=typeof window<"u"?W.useLayoutEffect:W.useEffect,G9=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},G1=new Map,H9=function(e){U9(function(){var n=e.current?e.current.ownerDocument:document;if(n!==void 0&&!G1.has(n)){var o=n.createElement("style");o.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,G1.set(n,o);var a=G9();a&&o.setAttribute("nonce",a),n.head.appendChild(o)}},[])},W9=function(e){var n=e.className,o=e.colorModel,a=e.color,l=a===void 0?o.defaultColor:a,c=e.onChange,d=e2(e,["className","colorModel","color","onChange"]),f=W.useRef(null);H9(f);var h=z9(o,l,c),m=h[0],y=h[1],S=Dg(["react-colorful",n]);return Ye.createElement("div",eh({},d,{ref:f,className:S}),Ye.createElement(B9,{hsva:m,onChange:y}),Ye.createElement(F9,{hue:m.h,onChange:y,className:"react-colorful__last-control"}))},V9={defaultColor:"000",toHsva:I9,fromHsva:function(e){return D9({h:e.h,s:e.s,v:e.v,a:1})},equal:j9},$9=function(e){return Ye.createElement(W9,eh({},e,{colorModel:V9}))};const i2=e=>/^#([0-9a-fA-F]{6})$/.test(e),q9=e=>/^#([0-9a-fA-F]{8})$/.test(e),K9=/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})(?:\s*,\s*(\d*\.?\d+))?\s*\)/,Y9=e=>Math.min(1,Math.max(0,e)),X9=e=>Math.min(255,Math.max(0,Math.round(e))),Q9=(e,n,o)=>`#${[e,n,o].map(a=>X9(a).toString(16).padStart(2,"0")).join("")}`,J9=e=>{const n=e.replace("#",""),o=parseInt(n.slice(0,2),16),a=parseInt(n.slice(2,4),16),l=parseInt(n.slice(4,6),16);return{r:o,g:a,b:l}};function H1(e){let n="#3385FF",o=100;if(!e||typeof e!="string")return{hex:n,alphaPct:o};if(i2(e))return n=e,o=100,{hex:n,alphaPct:o};if(q9(e)){n=e.slice(0,7);const l=parseInt(e.slice(7,9),16);return o=Math.round(l/255*100),{hex:n,alphaPct:o}}const a=e.match(K9);if(a){const l=+a[1],c=+a[2],d=+a[3],f=a[4]!=null?Y9(+a[4]):1;return n=Q9(l,c,d),o=Math.round(f*100),{hex:n,alphaPct:o}}return{hex:n,alphaPct:o}}function Z9({value:e,onChange:n,onClose:o,enableAlpha:a=!0,anchorEl:l}){const c=W.useRef(null),d=H1(e),[f,h]=W.useState(d.hex),[m,y]=W.useState(d.alphaPct);W.useEffect(()=>{const{hex:_,alphaPct:C}=H1(e);h(_),y(C)},[e]),W.useEffect(()=>{const _=P=>{!c.current||c.current.contains(P.target)||o==null||o()},C=P=>{P.key==="Escape"&&(o==null||o())};return document.addEventListener("mousedown",_),document.addEventListener("keydown",C),()=>{document.removeEventListener("mousedown",_),document.removeEventListener("keydown",C)}},[o]);const S={};if(l){const _=l.getBoundingClientRect(),C=8;S.position="fixed",S.left=_.left+_.width/2,S.top=_.top-C,S.transform="translate(-50%, -100%)",S.zIndex=2e3}const v=(_,C=m)=>{if(h(_),a&&C<100){const{r:P,g:R,b:I}=J9(_),k=+(C/100).toFixed(2);n(`rgba(${P}, ${R}, ${I}, ${k})`)}else n(_)};return G.jsxs("div",{className:"acp-popover",ref:c,style:S,children:[G.jsx("div",{className:"acp-row",children:G.jsx($9,{color:f,onChange:_=>v(_)})}),a&&G.jsxs("div",{className:"acp-row acp-alpha",children:[G.jsx("label",{children:"투명도"}),G.jsx("input",{type:"range",min:0,max:100,value:m,onChange:_=>{const C=parseInt(_.target.value,10);y(C),v(f,C)}}),G.jsxs("span",{children:[m,"%"]})]}),G.jsx("div",{className:"acp-row acp-tools",children:G.jsx("input",{className:"acp-hex-input",value:f.toUpperCase(),onChange:_=>{const C=_.target.value.trim(),P=C.startsWith("#")?C:`#${C}`;i2(P)&&v(P),h(P)}})})]})}const eC=(e,n=300)=>new Promise(o=>{const a=new Image,l=new FileReader;l.onload=c=>{var d;a.onload=()=>{const f=document.createElement("canvas"),h=n/a.width;f.width=n,f.height=a.height*h,f.getContext("2d").drawImage(a,0,0,f.width,f.height),f.toBlob(y=>{if(!y)return;const S=new File([y],e.name,{type:"image/jpeg",lastModified:Date.now()});o(S)},"image/jpeg",.8)},a.src=(d=c.target)==null?void 0:d.result},l.readAsDataURL(e)}),tC=({setActiveTool:e,activeTool:n,selectedColor:o,setSelectedColor:a,defaultFontSize:l,setDefaultFontSize:c,onImageUpload:d,eraserSize:f=15,setEraserSize:h,eraserMode:m="size",setEraserMode:y,onUndo:S,onRedo:v,canUndo:_=!1,canRedo:C=!1})=>{const[P,R]=W.useState(!1),[I,k]=W.useState(!1),x=W.useRef(null),T=W.useRef(null),[A,M]=W.useState(!1),[Y,F]=W.useState(null);W.useEffect(()=>{const j=$=>{const Q=$.target;x.current&&!x.current.contains(Q)&&R(!1),T.current&&!T.current.contains(Q)&&k(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const z=[{name:"cursor",icon:"/kimbanana/ui/assets/toolIcon/cursor.svg"},{name:"text",icon:"/kimbanana/ui/assets/toolIcon/text.svg",isTextButton:!0},{name:"shapes",icon:"/kimbanana/ui/assets/toolIcon/shapes.svg",isShapeButton:!0},{name:"color",icon:"/kimbanana/ui/assets/toolIcon/color.svg",isColorButton:!0},{name:"pen",icon:"/kimbanana/ui/assets/toolIcon/pen.svg"},{name:"eraser",icon:"/kimbanana/ui/assets/toolIcon/eraser.svg"},{name:"image",icon:"/kimbanana/ui/assets/toolIcon/image.svg"}];return G.jsxs("div",{className:"toolbar",children:[z.map(j=>j.isShapeButton?G.jsxs("div",{className:"shape-dropdown",children:[G.jsx("button",{className:`toolbar-btn ${P?"active":""}`,onClick:()=>{R($=>!$),e("shapes")},children:G.jsx("img",{src:j.icon,alt:"Shapes"})}),P&&G.jsxs("div",{className:"shape-menu",ref:x,children:[G.jsxs("button",{onClick:()=>{e("circle"),R(!1)},children:[G.jsx("img",{src:"/kimbanana/ui/assets/toolIcon/circle.svg",alt:"Circle"}),G.jsx("span",{children:"원"})]}),G.jsxs("button",{onClick:()=>{e("rectangle"),R(!1)},children:[G.jsx("img",{src:"/kimbanana/ui/assets/toolIcon/rectangle.svg",alt:"Rectangle"}),G.jsx("span",{children:"사각형"})]}),G.jsxs("button",{onClick:()=>{e("triangle"),R(!1)},children:[G.jsx("img",{src:"/kimbanana/ui/assets/toolIcon/triangle.svg",alt:"Triangle"}),G.jsx("span",{children:"삼각형"})]}),G.jsxs("button",{onClick:()=>{e("star"),R(!1)},children:[G.jsx(Zt,{icon:"mdi:star",width:"18",height:"18"}),G.jsx("span",{children:"별"})]}),G.jsxs("button",{onClick:()=>{e("arrow"),R(!1)},children:[G.jsx(Zt,{icon:"mdi:arrow-right",width:"18",height:"18"}),G.jsx("span",{children:"화살표"})]})]})]},j.name):j.isColorButton?G.jsxs("div",{className:"color-dropdown",children:[G.jsx("button",{className:`toolbar-btn ${A?"active":""}`,onClick:$=>{e("color"),R(!1),k(!1),F($.currentTarget),M(Q=>!Q)},children:G.jsx("img",{src:j.icon,alt:"Color"})}),A&&G.jsx(Z9,{value:o,onChange:$=>{a($)},onClose:()=>M(!1),enableAlpha:!0,anchorEl:Y})]},j.name):j.isTextButton?G.jsxs("div",{className:"text-dropdown",children:[G.jsx("button",{className:`toolbar-btn ${I?"active":""}`,onClick:()=>{k($=>!$),e("text")},children:G.jsx("img",{src:j.icon,alt:"Text"})}),I&&G.jsxs("div",{className:"text-menu",ref:T,children:[G.jsx(Zt,{icon:"mdi:format-size",width:"18",height:"18"}),G.jsx("select",{value:l,onChange:$=>c(parseInt($.target.value,10)),children:[18,24,32,48,64,96,128].map($=>G.jsxs("option",{value:$,children:[$,"px"]},$))})]})]},j.name):j.name==="image"?G.jsxs(Ye.Fragment,{children:[G.jsx("input",{type:"file",accept:"image/*",id:"image-upload",style:{display:"none"},onChange:async $=>{var Q;try{const te=(Q=$.target.files)==null?void 0:Q[0];if(!te)return;const re=await eC(te),ee=new FormData;ee.append("file",re);const ge=await fetch("https://daisy.wisoft.io/kimbanana/app/api/images/upload",{method:"POST",body:ee});if(!ge.ok)throw new Error("업로드 실패");const B=`https://daisy.wisoft.io/kimbanana/app${await ge.text()}`;console.log("이미지 URL:",B),d(B)}catch(te){console.error("이미지 업로드 중 에러 발생:",te),alert("이미지 업로드에 실패했습니다.")}}}),G.jsx("label",{htmlFor:"image-upload",className:"toolbar-btn",children:G.jsx("img",{src:j.icon,alt:"Image"})})]},j.name):j.name==="pen"?G.jsx("button",{className:`toolbar-btn ${n===j.name?"active":""}`,onClick:()=>e("pen"),children:G.jsx("img",{src:j.icon,alt:j.name})},j.name):j.name==="eraser"?n==="pen"||n==="eraser"?G.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[G.jsx("button",{className:`toolbar-btn ${n===j.name?"active":""}`,onClick:()=>e(n==="eraser"?"pen":"eraser"),title:"지우개",children:G.jsx(Zt,{icon:"mdi:eraser",width:"20",height:"20"})}),n==="eraser"&&y&&G.jsxs("select",{value:m,onChange:$=>y($.target.value),style:{fontSize:"12px",padding:"2px 4px",border:"1px solid #ccc",borderRadius:"3px"},title:"지우개 모드",children:[G.jsx("option",{value:"size",children:"획 지우개"}),G.jsx("option",{value:"area",children:"영역 지우개"})]}),n==="eraser"&&h&&G.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[G.jsx("input",{type:"range",min:"5",max:"50",value:f,onChange:$=>h(parseInt($.target.value)),style:{width:"50px",height:"20px"},title:"지우개 크기"}),G.jsx("span",{style:{fontSize:"12px",color:"#666"},children:f})]})]},j.name):null:G.jsx("button",{className:`toolbar-btn ${n===j.name?"active":""}`,onClick:()=>e(j.name),children:G.jsx("img",{src:j.icon,alt:j.name})},j.name)),G.jsx("div",{className:"divider"}),G.jsx("button",{className:"toolbar-btn",onClick:S,disabled:!_,title:"이전",children:G.jsx("img",{src:"/kimbanana/ui/assets/toolIcon/before.svg",alt:"Undo"})}),G.jsx("button",{className:"toolbar-btn",onClick:v,disabled:!C,title:"이후",children:G.jsx("img",{src:"/kimbanana/ui/assets/toolIcon/after.svg",alt:"Redo"})})]})},o2=({slideId:e,slideData:n,onRendered:o})=>{const a=W.useRef(null),[l,c]=W.useState({});W.useEffect(()=>{(async()=>{const h=n.shapes.filter(m=>m.type==="image"&&m.imageSrc).map(m=>new Promise(y=>{const S=new window.Image;S.crossOrigin="anonymous",S.src=m.imageSrc,S.onload=()=>{c(v=>({...v,[m.id]:S})),y()},S.onerror=()=>y()}));await Promise.all(h),setTimeout(()=>{var y;const m=(y=a.current)==null?void 0:y.toDataURL({pixelRatio:.25});m&&o(e,m)},100)})()},[n.shapes,e,o]);const d=()=>[0,-50,-50,50,50,50];return G.jsx("div",{style:{position:"absolute",top:-9999,left:-9999},children:G.jsx(Jv,{width:1e3,height:563,ref:a,children:G.jsxs(Kv,{children:[G.jsx(Bf,{width:1e3,height:563,fill:"white"}),n.shapes.map(f=>f.type==="rectangle"?G.jsx(Bf,{x:f.x,y:f.y,width:f.width,height:f.height,fill:f.color},f.id):f.type==="circle"?G.jsx(Yv,{x:f.x,y:f.y,radiusX:f.radius??50,radiusY:f.radius??50,fill:f.color},f.id):f.type==="triangle"?G.jsx(Up,{x:f.x,y:f.y,points:f.points??d(),fill:f.color,closed:!0,rotation:f.rotation??0},f.id):f.type==="image"&&l[f.id]?G.jsx(Xv,{x:f.x,y:f.y,width:f.width,height:f.height,image:l[f.id]},f.id):null),n.texts.map(f=>G.jsx(Qv,{x:f.x,y:f.y,text:f.text,fontSize:f.fontSize||20,fontFamily:"Noto Sans KR",fill:f.color},f.id))]})})})};function nC(e){const[n,o]=W.useState(!1),a=W.useCallback(()=>{var c;(c=e.current)!=null&&c.requestFullscreen&&e.current.requestFullscreen()},[e]),l=W.useCallback(()=>{document.fullscreenElement&&document.exitFullscreen()},[]);return W.useEffect(()=>{const c=()=>o(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",c),()=>document.removeEventListener("fullscreenchange",c)},[]),{isFullscreen:n,enter:a,exit:l}}const Ho="https://daisy.wisoft.io/kimbanana/app/api",rC="wss://daisy.wisoft.io/kimbanana/app/ws-api";function iC(e){var d;const[n,o]=e.split(","),a=((d=n.match(/:(.*?);/))==null?void 0:d[1])||"image/png",l=atob(o),c=new Uint8Array(l.length);for(let f=0;f<l.length;f++)c[f]=l.charCodeAt(f);return new Blob([c],{type:a})}const oC=()=>{var Jr,Mi;const{user:e,getAuthToken:n}=(so==null?void 0:so())??{user:null,getAuthToken:()=>Promise.resolve(null)},o=W.useCallback(async(ke,_e={})=>{const De=await n(),Ie={..._e.headers};return De&&(Ie.Authorization=`Bearer ${De}`),console.log("fetchWithAuth 호출:",{url:ke,hasToken:!!De,tokenPreview:De?`${De.substring(0,20)}...`:"none",headers:Ie}),fetch(ke,{..._e,headers:Ie})},[n]),[a,l]=W.useState("cursor"),[c,d]=W.useState("#B0B0B0"),[f,h]=W.useState([]),[m,y]=W.useState(""),[S,v]=W.useState({}),[_,C]=W.useState({}),[P,R]=W.useState(!1),[I,k]=W.useState(20),[x,T]=W.useState(15),[A,M]=W.useState("size"),Y=W.useRef(null),F=W.useRef(null),[z,j]=W.useState(null),[$,Q]=W.useState(null),te=W.useRef(null),re=W.useRef(""),ee=W.useRef(null),{isFullscreen:ge,enter:L,exit:B}=nC(ee),[V,H]=W.useState(!1),[O,K]=W.useState(void 0),[J,ue]=W.useState([]),[me,se]=W.useState([]),X=W.useRef(""),oe=W.useRef(null),{id:ve}=Kp(),we=ve??"p1",Te=()=>{const ke=f.findIndex(_e=>_e.id===m);ke<f.length-1&&y(f[ke+1].id)},Le=()=>{const ke=f.findIndex(_e=>_e.id===m);ke>0&&y(f[ke-1].id)};W.useEffect(()=>{H(!!ge)},[ge]);const Oe=(ke,_e,De=!1)=>{const Ie=document.createElement("div");document.body.appendChild(Ie);const je=L2.createRoot(Ie),Xe=(yt,Je)=>{C(kt=>({...kt,[yt]:Je})),De&&ut(Je,we).catch(kt=>console.error("썸네일 업로드 실패:",kt)),je.unmount(),document.body.removeChild(Ie)};je.render(G.jsx(o2,{slideId:ke,slideData:_e,onRendered:Xe}))};async function ut(ke,_e){const De=iC(ke),Ie=new FormData;Ie.append("file",De,`thumb_${_e}.png`),Ie.append("presentationId",_e);const je=`${Ho}/images/thumbnails/presentation`,Xe=await o(je,{method:"POST",body:Ie});if(!Xe.ok)throw new Error(`thumbnail upload failed: ${Xe.status}`)}const Qe=async()=>{var ke,_e;try{const De=await o(`${Ho}/presentations/${we}/slides`);if(!De.ok){console.error("슬라이드 불러오기 실패",De.status);return}const Ie=await De.json();console.log("슬라이드 API 응답:",Ie);const je=((ke=Ie==null?void 0:Ie.presentation)==null?void 0:ke.presentation_title)??(Ie==null?void 0:Ie.presentation_title)??(Ie==null?void 0:Ie.title)??"";K(je);const Xe=Array.isArray(Ie.slides)?Ie.slides:[];if(console.log("슬라이드 목록:",Xe),Xe.length===0){const wt=await(await o(`${Ho}/presentations/${we}/slides`,{method:"POST"})).json(),Nr=wt.slide_id,Zr=wt.order,or=[{id:Nr,order:Zr}],ei={[Nr]:{shapes:[],texts:[]}};h(or),v(ei),y(Nr),Oe(Nr,ei[Nr]);return}const yt=Xe.map(Rt=>({id:Rt.slide_id,order:Rt.order})).sort((Rt,wt)=>Rt.order-wt.order),Je=Xe.map(async Rt=>{let wt=Rt.data;if(console.log(`슬라이드 ${Rt.slide_id} 데이터:`,{hasData:!!wt,dataType:typeof wt,data:wt}),wt==null){const or=await o(`${Ho}/presentations/${we}/slides/${Rt.slide_id}`);if(or.ok){const ei=await or.json();wt=(ei==null?void 0:ei.data)??{shapes:[],texts:[]}}else wt={shapes:[],texts:[]}}if(typeof wt=="string")try{wt=JSON.parse(wt)}catch{wt={shapes:[],texts:[]}}let Nr=[],Zr=[];if(wt&&typeof wt=="object"){const or=wt;Nr=Array.isArray(or.shapes)?or.shapes:[],Zr=Array.isArray(or.texts)?or.texts:[]}return console.log(`슬라이드 ${Rt.slide_id} 파싱 결과:`,{shapesCount:Nr.length,textsCount:Zr.length}),[Rt.slide_id,{shapes:Nr,texts:Zr}]}),kt=await Promise.all(Je),Sn=Object.fromEntries(kt);console.log("최종 슬라이드 데이터:",{slidesCount:yt.length,slideIds:yt.map(Rt=>Rt.id),slideData:Sn}),h(yt),v(Sn),y(((_e=yt[0])==null?void 0:_e.id)??""),yt.forEach(({id:Rt},wt)=>{Oe(Rt,Sn[Rt],wt===0)})}catch(De){console.error("슬라이드 fetch 중 오류:",De)}};W.useEffect(()=>(Qe(),n().then(ke=>{const _e=new f4({brokerURL:rC,reconnectDelay:5e3,connectHeaders:ke?{Authorization:`Bearer ${ke}`}:{}});_e.onConnect=()=>{console.log("웹소켓 연결됨"),Se(_e)},_e.onStompError=De=>{console.error("WebSocket STOMP 에러:",De)},_e.onWebSocketError=De=>{console.error("WebSocket 연결 에러:",De)};try{_e.activate(),Y.current=_e}catch(De){console.error("WebSocket 활성화 실패:",De)}}),()=>{var ke;try{(ke=Y.current)==null||ke.deactivate()}catch(_e){console.error("WebSocket 비활성화 실패:",_e)}}),[n]);const Se=ke=>{const _e=`/topic/presentation.${we}`;console.log("구조 구독 시작:",_e),ke.subscribe(_e,De=>{const Ie=JSON.parse(De.body);console.log("구조 수신 메시지:",Ie);const{type:je,payload:Xe}=Ie;if(je==="SLIDE_ADD"){const{slide_id:yt,order:Je}=Xe;h(kt=>[...kt,{id:yt,order:Je}].sort((Rt,wt)=>Rt.order-wt.order)),v(kt=>({...kt,[yt]:{shapes:[],texts:[]}}))}else if(je==="STRUCTURE_UPDATED"||je==="SLIDE_DELETE"){const yt=Xe.slides||[],Je=[];yt.forEach(kt=>{var Rt,wt;const Sn=kt.slide_id;(Rt=kt.data)!=null&&Rt.shapes,(wt=kt.data)!=null&&wt.texts,Je.push({id:Sn,order:kt.order??9999})}),Je.sort((kt,Sn)=>kt.order-Sn.order),h(Je),v(kt=>{const Sn={...kt};return yt.forEach(Rt=>{const wt=Rt.slide_id;Sn[wt]||(Sn[wt]={shapes:[],texts:[]})}),Sn}),yt.length>0&&(!m||m==="")&&y(yt[0].slide_id)}else if(je==="TITLE_UPDATED"||je==="TITLE_UPDATE"){const yt=Xe==null?void 0:Xe.new_title;(!(Xe!=null&&Xe.presentation_id)||Xe.presentation_id===we)&&(K(yt??void 0),yt&&(document.title=`${yt} - Kimbanana`))}else console.warn("알 수 없는 구조 메시지 type:",je)})};W.useEffect(()=>{var _e;if(!Y.current||!m)return;(_e=F.current)==null||_e.unsubscribe();const ke=`/topic/presentation.${we}.slide.${m}`;console.log("슬라이드 구독 시작:",ke);try{F.current=Y.current.subscribe(ke,De=>{try{const Ie=JSON.parse(De.body);console.log("슬라이드 수신 메시지:",Ie);const je=typeof Ie.data=="string"?JSON.parse(Ie.data):Ie.data;if(!je){console.warn("슬라이드 수신 데이터 파싱 실패:",Ie);return}v(Xe=>({...Xe,[m]:{shapes:je.shapes||[],texts:je.texts||[]}}))}catch(Ie){console.error("슬라이드 수신 메시지 처리 중 오류 발생:",Ie)}})}catch(De){console.error("WebSocket 구독 실패:",De)}},[m]);const xe=ke=>ke.map(_e=>{const De={id:_e.id,type:_e.type,x:_e.x,y:_e.y,rotation:_e.rotation??0};return _e.type==="circle"?{...De,radiusX:_e.radiusX??50,radiusY:_e.radiusY??50,color:_e.color||"#000000"}:_e.type==="rectangle"?{...De,width:_e.width||0,height:_e.height||0,color:_e.color||"#000000"}:_e.type==="triangle"?{...De,points:_e.points||[],color:_e.color||"#000000"}:_e.type==="image"?{...De,width:_e.width||0,height:_e.height||0,imageSrc:_e.imageSrc||""}:_e}),Fe=ke=>ke.map(_e=>({id:_e.id,text:_e.text,x:_e.x,y:_e.y,color:_e.color||"#000000",fontSize:_e.fontSize||18})),ot=ke=>{var Je;if(P)return;const _e=ke[m];if(!_e)return;const De=((Je=f.find(kt=>kt.id===m))==null?void 0:Je.order)??9999,Ie=new Date().getTimezoneOffset()*6e4,je=new Date(Date.now()-Ie).toISOString().slice(0,-1),Xe={slide_id:m,order:De,last_revision_user_id:(e==null?void 0:e.id)||"anonymous",last_revision_date:je,data:JSON.stringify({shapes:xe(_e.shapes),texts:Fe(_e.texts)})},yt=JSON.stringify(Xe);re.current!==yt&&(re.current=yt,te.current&&clearTimeout(te.current),te.current=setTimeout(()=>{var Sn;const kt=`/app/slide.edit.presentation.${we}.slide.${m}`;console.log("WebSocket 데이터 전송 대상:",kt),console.log("WebSocket 데이터 전송:",Xe);try{(Sn=Y.current)==null||Sn.publish({destination:kt,body:yt})}catch(Rt){console.error("WebSocket 데이터 전송 실패:",Rt)}te.current=null},300))},at=async()=>{try{const ke=await o(`${Ho}/presentations/${we}/slides`,{method:"POST",headers:{Accept:"application/json"}});if(!ke.ok)throw new Error(`HTTP error! status: ${ke.status}`);const _e=await ke.json(),De=_e.slide_id,Ie=_e.order,je={id:De,order:Ie},Xe=[...f,je],yt={...S,[De]:{shapes:[],texts:[]}};h(Xe),v(yt),y(De),setTimeout(()=>ot(yt),0)}catch(ke){console.error("슬라이드 추가 실패:",ke)}},mt=async ke=>{var je;if(f.length===1)return;const _e=f.filter(Xe=>Xe.id!==ke).map((Xe,yt)=>({...Xe,order:yt+1})),De={...S};delete De[ke],h(_e),v(De),m===ke&&(_e.length>0?y(_e[0].id):y("")),await o(`${Ho}/presentations/${we}/slides`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({presentation_id:we,slides:_e.map(Xe=>({slide_id:Xe.id,order:Xe.order}))})});const Ie=(je=_e[0])==null?void 0:je.id;if(Ie){const Xe=De[Ie]??{shapes:[],texts:[]};Oe(Ie,Xe,!0)}},$e=()=>{if(m){if(z!=null){v(ke=>{const _e=ke[m]??{shapes:[],texts:[]},De=(_e.shapes??[]).filter(je=>je.id!==z),Ie={...ke,[m]:{..._e,shapes:De}};return setTimeout(()=>ot(Ie),0),Ie}),j(null);return}$!=null&&(v(ke=>{const _e=ke[m]??{shapes:[],texts:[]},De=(_e.texts??[]).filter(je=>je.id!==$),Ie={...ke,[m]:{..._e,texts:De}};return setTimeout(()=>ot(Ie),0),Ie}),Q(null))}};W.useEffect(()=>{const ke=_e=>{const De=document.activeElement;if(!(De&&(De.tagName==="INPUT"||De.tagName==="TEXTAREA"||De.isContentEditable)||!(_e.key==="Backspace"||_e.key==="Delete")||P)){if(z!=null||$!=null){_e.preventDefault(),$e();return}a==="cursor"&&f.length>1&&(_e.preventDefault(),mt(m))}};return window.addEventListener("keydown",ke),()=>window.removeEventListener("keydown",ke)},[m,f,P,z,$,a]);const nt=async ke=>{var Ie;const _e=ke.map((je,Xe)=>({id:je,order:Xe+1}));h(_e),await o(`${Ho}/presentations/${we}/slides`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({presentation_id:we,slides:_e.map(je=>({slide_id:je.id,order:je.order}))})});const De=(Ie=_e[0])==null?void 0:Ie.id;if(De){const je=S[De]??{shapes:[],texts:[]};Oe(De,je,!0)}},_t=(ke,_e)=>{ue(De=>[...De,ke]),se([]),setTimeout(()=>ot({[m]:_e}),0)},Pt=ke=>{v(_e=>{var Xe;const De=typeof ke=="function"?ke(((Xe=_e[m])==null?void 0:Xe.shapes)||[]):ke,Ie=_e[m]??{shapes:[],texts:[]},je={shapes:De,texts:Ie.texts};return _t(Ie,je),{..._e,[m]:je}})},It=ke=>{v(_e=>{var Xe;const De=typeof ke=="function"?ke(((Xe=_e[m])==null?void 0:Xe.texts)||[]):ke,Ie=_e[m]??{shapes:[],texts:[]},je={shapes:Ie.shapes,texts:De};return _t(Ie,je),{..._e,[m]:je}})},ir=()=>{!m||J.length===0||v(ke=>{const _e=ke[m]??{shapes:[],texts:[]},De=J[J.length-1];ue(je=>je.slice(0,-1)),se(je=>[...je,_e]);const Ie={...ke,[m]:De};return setTimeout(()=>ot(Ie),0),Ie})},vn=()=>{!m||me.length===0||v(ke=>{const _e=ke[m]??{shapes:[],texts:[]},De=me[me.length-1];se(je=>je.slice(0,-1)),ue(je=>[...je,_e]);const Ie={...ke,[m]:De};return setTimeout(()=>ot(Ie),0),Ie})},Vn=ke=>{const _e=new window.Image;_e.onload=()=>{const De=Date.now(),Ie={id:De,type:"image",x:200,y:150,width:_e.width,height:_e.height,imageSrc:ke};j(De),Pt(je=>[...je,Ie])},_e.src=ke},Yt=async ke=>{try{await o(`${Ho}/presentations/${we}/slides/title`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({presentation_id:we,new_title:ke})}),K(ke)}catch(_e){console.error("프레젠테이션 제목 업데이트 실패:",_e)}},Xt=async()=>{try{if(!f.length)return alert("저장할 슬라이드가 없습니다."),!1;const ke=new Date().getTimezoneOffset()*6e4,_e=new Date(Date.now()-ke).toISOString().slice(0,-1),De={last_revision_user_id:(e==null?void 0:e.id)||"anonymous",slides:f.map(je=>{const Xe=S[je.id]??{shapes:[],texts:[]},yt=JSON.stringify({shapes:(Xe.shapes??[]).map(Je=>({id:Je.id,type:Je.type,x:Je.x,y:Je.y,rotation:Je.rotation??0,...Je.type==="rectangle"&&{width:Je.width||0,height:Je.height||0,color:Je.color||"#000000"},...Je.type==="circle"&&{radiusX:Je.radiusX??Je.radius??50,radiusY:Je.radiusY??Je.radius??50,color:Je.color||"#000000"},...Je.type==="triangle"&&{points:Je.points||[],color:Je.color||"#000000"},...Je.type==="image"&&{width:Je.width||0,height:Je.height||0,imageSrc:Je.imageSrc||""}})),texts:(Xe.texts??[]).map(Je=>({id:Je.id,text:Je.text,x:Je.x,y:Je.y,color:Je.color||"#000000",fontSize:Je.fontSize||18}))});return{slide_id:je.id,order:je.order,last_revision_user_id:(e==null?void 0:e.id)||"anonymous",last_revision_date:_e,data:yt}})},Ie=await o(`${Ho}/presentations/${we}/histories`,{method:"POST",mode:"cors",credentials:"omit",headers:{"Content-Type":"application/json"},body:JSON.stringify(De)});if(!Ie.ok){let je="";try{je=await Ie.text()}catch{}return console.error("히스토리 저장 실패:",Ie.status,je),alert(`히스토리 저장 실패 (${Ie.status})`),!1}return!0}catch(ke){return console.error("히스토리 저장 중 오류:",ke),alert("히스토리 저장 중 오류가 발생"),!1}};return G.jsxs("div",{className:"main-layout",ref:ee,children:[G.jsx(Dc,{variant:"main",presentationId:ve,isFullscreen:ge,onEnterFullscreen:L,onExitFullscreen:B,title:O,onTitleChange:K,onTitleSave:Yt,onSaveHistory:Xt}),G.jsxs("div",{className:"content",children:[G.jsx(Bp,{variant:"main",slides:f.map(ke=>ke.id),currentSlide:m,setCurrentSlide:y,onAddSlide:at,thumbnails:_,onReorderSlides:nt}),G.jsxs("div",{className:"canvas-container",children:[m&&S[m]&&G.jsx(Zv,{activeTool:a,selectedColor:c,setSelectedColor:d,setActiveTool:l,shapes:((Jr=S[m])==null?void 0:Jr.shapes)||[],texts:((Mi=S[m])==null?void 0:Mi.texts)||[],setShapes:ke=>Pt(ke),setTexts:ke=>It(ke),currentSlide:m,updateThumbnail:(ke,_e)=>{var Ie;C(je=>({...je,[ke]:_e}));const De=(Ie=f[0])==null?void 0:Ie.id;if(De&&ke===De){const je=_e.slice(0,4096);je!==X.current&&(X.current=je,oe.current&&clearTimeout(oe.current),oe.current=setTimeout(()=>{ut(_e,we).catch(Xe=>console.error("썸네일 업로드 실패:",Xe)),oe.current=null},400))}},sendEdit:()=>ot(S),setIsTyping:R,defaultFontSize:I,onSelectShape:j,onSelectText:Q,isFullscreen:ge,onEnterFullscreen:L,onExitFullscreen:B,isPresentationMode:V,goToNextSlide:Te,goToPrevSlide:Le,slides:f,eraserSize:x,eraserMode:A}),G.jsx(tC,{activeTool:a,setActiveTool:l,selectedColor:c,setSelectedColor:d,defaultFontSize:I,setDefaultFontSize:k,onImageUpload:Vn,eraserSize:x,setEraserSize:T,eraserMode:A,setEraserMode:M,onUndo:ir,onRedo:vn,canUndo:J.length>0,canRedo:me.length>0})]})]})]})},sC=({histories:e,selectedHistoryId:n,onSelect:o})=>{const a=W.useMemo(()=>{const f={};return e.forEach(h=>{f[h.displayDateOnly]||(f[h.displayDateOnly]=[]),f[h.displayDateOnly].some(y=>y.historyId.split("__")[0]===h.historyId.split("__")[0])||f[h.displayDateOnly].push(h)}),f},[e]),[l,c]=W.useState({}),d=f=>c(h=>({...h,[f]:!h[f]}));return G.jsxs("div",{className:"history-right",children:[G.jsx("h3",{className:"history-title",children:"history"}),Object.entries(a).map(([f,h])=>G.jsxs("div",{className:"history-group",children:[G.jsxs("div",{className:"history-date",onClick:()=>d(f),children:[l[f]?"▼":"▶"," ",f]}),l[f]&&G.jsx("div",{className:"history-timestamps",children:h.map(m=>{const y=n===m.historyId;return G.jsx("div",{className:`history-item ${y?"active":""}`,onClick:()=>o(m.historyId),children:G.jsx("span",{children:m.displayDateTime})},m.historyId)})})]},f))]})},jf="https://daisy.wisoft.io/kimbanana/app/api";async function aC(e,n){const o=[`${jf}/presentations/${e}/histories`,`${jf}/presentation/${e}/histories`],a={Accept:"application/json"};n&&(a.Authorization=`Bearer ${n}`);let l=null;for(const f of o)if(l=await fetch(f,{mode:"cors",credentials:"omit",headers:a}),l.ok)break;if(l&&l.status===403)throw new Error("인증 실패 (403 Forbidden). 유효한 토큰이 필요합니다.");if(!l||!l.ok)throw new Error("Failed to load histories");const d=(await l.json()).map(f=>({historyId:f.historyId,lastRevisionISO:f.lastRevisionDate}));return d.sort((f,h)=>new Date(h.lastRevisionISO).getTime()-new Date(f.lastRevisionISO).getTime()),d}async function lC(e,n,o){const a=[`${jf}/presentations/${e}/histories/${n}`,`${jf}/presentation/${e}/histories/${n}`],l={Accept:"application/json"};o&&(l.Authorization=`Bearer ${o}`);let c=null;for(const h of a)if(c=await fetch(h,{mode:"cors",credentials:"omit",headers:l}),c.ok)break;if(c&&c.status===403)throw new Error("인증 실패 (403 Forbidden). 히스토리 상세 정보를 불러올 권한이 없습니다.");if(!c||!c.ok)throw new Error("Failed to load history detail");const d=await c.json(),f=Array.isArray(d)?d:d==null?void 0:d.slides;return Array.isArray(f)?f:[]}const vf="https://daisy.wisoft.io/kimbanana/app/api",Cp=e=>e.split("__")[0],uC=e=>{const n=new Date(e),o=n.getFullYear(),a=n.getMonth()+1,l=n.getDate(),c=String(n.getHours()).padStart(2,"0"),d=String(n.getMinutes()).padStart(2,"0");return{dateOnly:`${o}년 ${a}월 ${l}일`,dateTime:`${o}년 ${a}월 ${l}일 ${c}:${d}`}},W1=e=>{let n=e;if(typeof n=="string")try{n=JSON.parse(n)}catch{n={}}const a=n&&typeof n=="object"?n:{};return{shapes:Array.isArray(a.shapes)?a.shapes:[],texts:Array.isArray(a.texts)?a.texts:[]}},cC=e=>typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e)),dC=()=>{const e=Uf(),{presentationId:n}=Kp(),{user:o,getAuthToken:a}=(so==null?void 0:so())??{user:null,getAuthToken:()=>Promise.resolve(null)},l=(o==null?void 0:o.name)||(o==null?void 0:o.id)||"anonymous",[c,d]=W.useState([]),[f,h]=W.useState({}),[m,y]=W.useState({}),[S,v]=W.useState(""),[_,C]=W.useState([]),[P,R]=W.useState(null),[I,k]=W.useState([]),[x,T]=W.useState(null),[A,M]=W.useState([]),Y=W.useRef({}),F=L=>Y.current[L]??L,z=W.useMemo(()=>{var L;return((L=I.find(B=>B.historyId===x))==null?void 0:L.displayDateTime)??"히스토리"},[I,x]),j=W.useMemo(()=>P||S||"",[P,S]),$=j?f[j]:void 0,Q=W.useCallback(async(L,B={})=>{const V=await a(),H={...B.headers,Accept:"application/json",...V&&{Authorization:`Bearer ${V}`}};return fetch(L,{...B,mode:"cors",credentials:"omit",headers:H})},[a]);W.useEffect(()=>{!n||!a||(async()=>{try{const L=await Q(`${vf}/presentations/${n}/slides`);if(!L.ok){console.error("슬라이드 목록 로드 실패:",L.status);return}const B=await L.json(),V=Array.isArray(B.slides)?B.slides:[];if(V.length===0)return;const H=V.map(K=>({id:K.slide_id,order:K.order})).sort((K,J)=>K.order-J.order),O=await Promise.all(V.map(async K=>{var ue;let J=K.data;if(J===void 0){const me=await Q(`${vf}/presentations/${n}/slides/${K.slide_id}`);J=me.ok?(ue=await me.json())==null?void 0:ue.data:void 0}return[K.slide_id,W1(J)]}));d(H),h(K=>({...K,...Object.fromEntries(O)})),v(K=>K||H[0].id)}catch(L){console.error("현재 슬라이드 불러오기 오류:",L)}})()},[n,a,Q]),W.useEffect(()=>{!n||!a||(async()=>{try{const L=await a(),B=await aC(n,L);k(B.map(V=>{const H=uC(V.lastRevisionISO);return{historyId:`${V.historyId}__${V.lastRevisionISO}`,displayDateOnly:H.dateOnly,displayDateTime:H.dateTime}}))}catch(L){console.error("히스토리 목록 로드 실패:",L)}})()},[n,a]),W.useEffect(()=>{if(!n||!x||!a){C([]),R(null),M([]),Y.current={};return}(async()=>{var L;try{const B=await a(),V=await lC(n,Cp(x),B);if(V.length===0){C([]),R(null);return}Y.current={};const H=V.map(K=>{const J=`restore-${x}-${K.slide_id}`;return Y.current[J]=K.slide_id,{id:J,order:K.order}}).sort((K,J)=>K.order-J.order),O=await Promise.all(V.map(async K=>[`restore-${x}-${K.slide_id}`,W1(K.data)]));C(H),h(K=>({...K,...Object.fromEntries(O)})),R(((L=H[0])==null?void 0:L.id)??null)}catch(B){console.error("히스토리 단건 조회 실패:",B),C([]),R(null)}})()},[n,x,a]);const te=W.useCallback((L,B)=>{y(V=>({...V,[L]:B}))},[]),re=W.useCallback(()=>{if(!S||!P)return;const L=f[P];L&&h(V=>({...V,[S]:cC(L)}));const B=F(P);M(V=>[...V.filter(H=>H.target_slide!==S),{target_slide:S,history_slide:B}])},[S,P,f]),ee=W.useCallback(async()=>{if(!(!n||!x))try{const L=await Q(`${vf}/presentations/${n}/restorations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"partial",history_id:Cp(x),last_revision_user_id:l,mappings:A})});if(L.status>=200&&L.status<400)alert("선택한 슬라이드가 복원되었습니다."),e(`/editor/${n}`);else{const B=await L.text().catch(()=>"");alert(`부분 복원 실패 (${L.status})
${B||"서버 응답이 없습니다."}`)}}catch(L){console.error(L),alert("복원 적용 중 오류가 발생했습니다.")}},[n,x,A,l,e,Q]),ge=W.useCallback(async()=>{if(!(!n||!x)&&window.confirm("선택한 히스토리의 전체 슬라이드를 현재 프레젠테이션에 복원할까요?"))try{const L=await Q(`${vf}/presentations/${n}/restorations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"all",history_id:Cp(x),last_revision_user_id:l})});if(L.status>=200&&L.status<400)alert("복원이 완료되었습니다."),e(`/editor/${n}`);else{const B=await L.text().catch(()=>"");alert(`히스토리 복원 실패 (${L.status})
${B||"서버 응답이 없습니다."}`)}}catch(L){console.error("히스토리 복원 중 오류:",L),alert("히스토리 복원 중 오류가 발생했습니다.")}},[n,x,l,e,Q]);return G.jsxs("div",{className:"history",children:[G.jsx(Dc,{variant:"history",title:z,onApplyRestore:ee}),G.jsxs("div",{className:"history-body",children:[G.jsx(Bp,{variant:"current",slides:c.map(L=>L.id),currentSlide:S,setCurrentSlide:v,thumbnails:m,selectedSlides:[S],setSelectedSlides:L=>{const B=typeof L=="function"?L([])[0]:L[0];return v(B||""),L}}),G.jsx(Bp,{variant:"restore",slides:_.map(L=>L.id),currentSlide:P||"",setCurrentSlide:L=>{const B=typeof L=="function"?L(P??""):L;R(B)},thumbnails:m,selectedSlides:P?[P]:[],setSelectedSlides:L=>{const B=typeof L=="function"?L([])[0]:L[0];return R(B||null),L},onRestoreSelected:re,isRestoreEnabled:!!(S&&P),onRestoreAll:ge,isRestoreAllEnabled:!!x}),G.jsxs("div",{className:"history-canvas",children:[G.jsx(Zv,{activeTool:"cursor",selectedColor:"#000000",setSelectedColor:()=>{},setActiveTool:()=>{},shapes:($==null?void 0:$.shapes)||[],setShapes:()=>{},texts:($==null?void 0:$.texts)||[],setTexts:()=>{},currentSlide:j,updateThumbnail:()=>{},sendEdit:()=>{},setIsTyping:()=>{},defaultFontSize:20,isHistoryPage:!0,onSelectShape:()=>{},onSelectText:()=>{}}),Object.entries(f).map(([L,B])=>G.jsx(o2,{slideId:L,slideData:B,onRendered:te},L))]}),G.jsx(sC,{histories:I,selectedHistoryId:x,onSelect:L=>T(L)})]})]})},V1=({onClose:e,onSwitchToRegister:n})=>{const{login:o,isLoading:a,error:l,clearError:c}=so(),[d,f]=W.useState({email:"",password:""}),[h,m]=W.useState(!1);W.useEffect(()=>{c()},[]);const y=C=>{const{name:P,value:R}=C.target;f(I=>({...I,[P]:R}))},S=async C=>{C.preventDefault(),(await o(d)).success&&e()},v=C=>{window.location.href=`/api/auth/${C}`},_=d.email&&d.password;return G.jsx("div",{className:"modal-overlay",onClick:e,children:G.jsxs("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[G.jsx("button",{className:"modal-close-btn",onClick:e,children:G.jsx(Zt,{icon:"material-symbols:close",width:"24"})}),G.jsxs("div",{className:"login-header",children:[G.jsx("h1",{className:"login-title",children:"로그인"}),G.jsxs("p",{className:"login-subtitle",children:["계정이 없으신가요?"," ",G.jsx("span",{onClick:n,className:"register-link",children:"회원가입"})]})]}),G.jsxs("form",{className:"login-form",onSubmit:S,children:[G.jsxs("div",{className:"form-group",children:[G.jsx("label",{htmlFor:"email",className:"form-label",children:"이메일"}),G.jsx("input",{type:"email",id:"email",name:"email",value:d.email,onChange:y,className:"form-input",placeholder:"이메일을 입력해주세요",autoComplete:"email",required:!0})]}),G.jsxs("div",{className:"form-group",children:[G.jsx("label",{htmlFor:"password",className:"form-label",children:"비밀번호"}),G.jsxs("div",{className:"password-input-container",children:[G.jsx("input",{type:h?"text":"password",id:"password",name:"password",value:d.password,onChange:y,className:"form-input",placeholder:"비밀번호를 입력해주세요",autoComplete:"current-password",required:!0}),G.jsx("button",{type:"button",className:"password-toggle",onClick:()=>m(!h),children:G.jsx(Zt,{icon:h?"material-symbols:visibility-off":"material-symbols:visibility",width:"20"})})]})]}),l&&G.jsx("div",{className:"error-message",children:l}),G.jsx("button",{type:"submit",className:"login-button",disabled:!_||a,children:a?"로그인 중...":"로그인"})]}),G.jsx("div",{className:"divider",children:G.jsx("span",{className:"divider-text",children:"또는"})}),G.jsxs("div",{className:"social-login",children:[G.jsxs("button",{className:"social-button google-button",onClick:()=>v("google"),disabled:a,children:[G.jsx(Zt,{icon:"logos:google-icon",width:"20"}),"Google로 로그인"]}),G.jsxs("button",{className:"social-button github-button",onClick:()=>v("github"),disabled:a,children:[G.jsx(Zt,{icon:"logos:github-icon",width:"20"}),"GitHub로 로그인"]})]}),G.jsx("div",{className:"login-footer",children:G.jsx("a",{href:"/forgot-password",onClick:C=>{C.preventDefault(),alert("비밀번호 찾기 기능 구현 필요")},className:"forgot-password",children:"비밀번호를 잊으셨나요?"})})]})})},$1=({onClose:e,onSwitchToLogin:n})=>{const{register:o,isLoading:a,error:l,clearError:c}=so(),[d,f]=W.useState({name:"",email:"",password:"",confirmPassword:""}),[h,m]=W.useState(!1),[y,S]=W.useState(!1),[v,_]=W.useState(0);W.useEffect(()=>{c()},[]),W.useEffect(()=>{const A=C(d.password);_(A)},[d.password]);const C=A=>{let M=0;return A.length>=8&&(M+=1),/[a-z]/.test(A)&&(M+=1),/[A-Z]/.test(A)&&(M+=1),/[0-9]/.test(A)&&(M+=1),/[^A-Za-z0-9]/.test(A)&&(M+=1),M},P=A=>{switch(A){case 0:case 1:return"매우 약함";case 2:return"약함";case 3:return"보통";case 4:return"강함";case 5:return"매우 강함";default:return""}},R=A=>{switch(A){case 0:case 1:return"#ff4444";case 2:return"#ff8800";case 3:return"#ffbb33";case 4:return"#00C851";case 5:return"#007E33";default:return"#e0e0e0"}},I=A=>{const{name:M,value:Y}=A.target;f(F=>({...F,[M]:Y}))},k=async A=>{if(A.preventDefault(),d.password!==d.confirmPassword){alert("비밀번호가 일치하지 않습니다.");return}if(v<3){alert("비밀번호가 너무 약합니다. 더 강한 비밀번호를 사용해주세요.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)){alert("올바른 이메일 형식을 입력해주세요.");return}if(!/^[a-zA-Z0-9_]{3,}$/.test(d.name)){alert("이름은 최소 3자 이상의 영문/숫자/언더스코어만 사용 가능합니다.");return}if(!/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{6,}$/.test(d.password)){alert("비밀번호는 영문과 숫자를 포함한 6자 이상이어야 합니다.");return}const{confirmPassword:z,...j}=d;(await o(j)).success&&e()},x=A=>{window.location.href=`/api/auth/${A}`},T=d.name&&d.email&&d.password&&d.confirmPassword&&d.password===d.confirmPassword&&v>=3;return G.jsx("div",{className:"modal-overlay",onClick:e,children:G.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[G.jsx("button",{className:"modal-close-btn",onClick:e,children:G.jsx(Zt,{icon:"material-symbols:close",width:"24"})}),G.jsxs("div",{className:"register-header",children:[G.jsx("h1",{className:"register-title",children:"회원가입"}),G.jsxs("p",{className:"register-subtitle",children:["이미 계정이 있으신가요?"," ",G.jsx("span",{onClick:n,className:"login-link",children:"로그인"})]})]}),G.jsxs("form",{className:"register-form",onSubmit:k,children:[G.jsxs("div",{className:"form-group",children:[G.jsx("label",{htmlFor:"name",className:"form-label",children:"이름"}),G.jsx("input",{type:"text",id:"name",name:"name",value:d.name,onChange:I,className:"form-input",placeholder:"이름을 입력해주세요",required:!0})]}),G.jsxs("div",{className:"form-group",children:[G.jsx("label",{htmlFor:"email",className:"form-label",children:"이메일"}),G.jsx("input",{type:"email",id:"email",name:"email",value:d.email,onChange:I,className:"form-input",placeholder:"이메일을 입력해주세요",required:!0})]}),G.jsxs("div",{className:"form-group",children:[G.jsx("label",{htmlFor:"password",className:"form-label",children:"비밀번호"}),G.jsxs("div",{className:"password-input-container",children:[G.jsx("input",{type:h?"text":"password",id:"password",name:"password",value:d.password,onChange:I,className:"form-input",placeholder:"비밀번호를 입력해주세요",required:!0}),G.jsx("button",{type:"button",className:"password-toggle",onClick:()=>m(!h),children:G.jsx(Zt,{icon:h?"material-symbols:visibility-off":"material-symbols:visibility",width:"20"})})]}),d.password&&G.jsxs("div",{className:"password-strength",children:[G.jsx("div",{className:"strength-bar",children:G.jsx("div",{className:"strength-fill",style:{width:`${v/5*100}%`,backgroundColor:R(v)}})}),G.jsx("span",{className:"strength-text",style:{color:R(v)},children:P(v)})]})]}),G.jsxs("div",{className:"form-group",children:[G.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"비밀번호 확인"}),G.jsxs("div",{className:"password-input-container",children:[G.jsx("input",{type:y?"text":"password",id:"confirmPassword",name:"confirmPassword",value:d.confirmPassword,onChange:I,className:`form-input ${d.confirmPassword&&d.password!==d.confirmPassword?"error":""}`,placeholder:"비밀번호를 다시 입력해주세요",required:!0}),G.jsx("button",{type:"button",className:"password-toggle",onClick:()=>S(!y),children:G.jsx(Zt,{icon:y?"material-symbols:visibility-off":"material-symbols:visibility",width:"20"})})]}),d.confirmPassword&&d.password!==d.confirmPassword&&G.jsx("div",{className:"error-message small",children:"비밀번호가 일치하지 않습니다."})]}),l&&G.jsx("div",{className:"error-message",children:l}),G.jsx("button",{type:"submit",className:"register-button",disabled:!T||a,children:a?"회원가입 중...":"회원가입"})]}),G.jsx("div",{className:"divider",children:G.jsx("span",{className:"divider-text",children:"또는"})}),G.jsxs("div",{className:"social-register",children:[G.jsxs("button",{className:"social-button google-button",onClick:()=>x("google"),disabled:a,children:[G.jsx(Zt,{icon:"logos:google-icon",width:"20"}),"Google로 회원가입"]}),G.jsxs("button",{className:"social-button github-button",onClick:()=>x("github"),disabled:a,children:[G.jsx(Zt,{icon:"logos:github-icon",width:"20"}),"GitHub로 회원가입"]})]}),G.jsx("div",{className:"register-footer",children:G.jsxs("p",{className:"terms-text",children:["회원가입 시"," ",G.jsx("a",{href:"/terms",className:"terms-link",children:"이용약관"}),"과"," ",G.jsx("a",{href:"/privacy",className:"terms-link",children:"개인정보처리방침"}),"에 동의하는 것으로 간주됩니다."]})})]})})},fC="https://daisy.wisoft.io/kimbanana/app",hC=e=>e?/^https?:\/\//i.test(e)?(e.includes("daisy.wisoft.io/kimbanana/app")&&e.replace(/^https?:\/\/daisy\.wisoft\.io\/kimbanana\/app/,""),e):`${fC}${e.startsWith("/")?e:`/${e}`}`:"",pC=()=>{const e=Uf(),{isAuthenticated:n,user:o}=so(),[a,l]=W.useState([]),[c,d]=W.useState(!0),[f,h]=W.useState(""),[m,y]=W.useState(!1),[S,v]=W.useState(!1),[_,C]=W.useState(null),[P,R]=W.useState(0),[I,k]=W.useState({}),x="https://daisy.wisoft.io/kimbanana/app/api",T=a.filter(O=>O.title.includes(f)),A=5,M=Math.ceil(T.length/A),Y=P*A,F=T.slice(Y,Y+A),z=async O=>{if(!O)return"/assets/default-thumbnail.png";if(I[O])return I[O];try{const K=localStorage.getItem("accessToken"),J={};K&&(J.Authorization=`Bearer ${K}`);const ue=await fetch(O,{method:"GET",headers:J});if(!ue.ok)return"/assets/default-thumbnail.png";const me=await ue.blob(),se=URL.createObjectURL(me);return k(X=>({...X,[O]:se})),se}catch{return"/assets/default-thumbnail.png"}},j=async()=>{try{d(!0),C(null);const O={user_id:(o==null?void 0:o.id)||""},K={Accept:"application/json","Content-Type":"application/json"},J=localStorage.getItem("accessToken");J&&(K.Authorization=`Bearer ${J}`);const ue=await fetch(`${x}/workspace/presentations/list`,{method:"POST",headers:K,body:JSON.stringify(O)});if(!ue.ok)throw ue.status===403?new Error("접근 권한이 없습니다. 로그인해주세요."):new Error(`HTTP error! status: ${ue.status}`);const me=await ue.json(),se=me.map(X=>({id:X.presentation.presentation_id,title:X.presentation.presentation_title,thumbnail:hC(X.thumbnail_url),createdAt:X.presentation.last_revision_date,updatedAt:X.presentation.last_revision_date,userId:X.presentation.user_id,isShared:!1,shareUrl:void 0}));l(se),se.forEach(async X=>{var ve;const oe=(ve=me.find(we=>we.presentation.presentation_id===X.id))==null?void 0:ve.thumbnail_url;if(oe&&oe.includes("daisy.wisoft.io")){const we=oe.replace(/^https?:\/\/daisy\.wisoft\.io\/kimbanana\/app/,"/api"),Te=await z(we);l(Le=>Le.map(Oe=>Oe.id===X.id?{...Oe,thumbnail:Te}:Oe))}})}catch(O){console.error("프레젠테이션 목록 조회 실패:",O),C("프레젠테이션을 불러오는데 실패했습니다.")}finally{d(!1)}},$=async()=>{try{const O={user_id:(o==null?void 0:o.id)||"anonymous"},K={"Content-Type":"application/json",Accept:"text/plain"},J=localStorage.getItem("accessToken");J&&(K.Authorization=`Bearer ${J}`);const ue=await fetch(`${x}/workspace/presentations`,{method:"POST",headers:K,body:JSON.stringify(O)});if(!ue.ok)throw new Error(`HTTP error! status: ${ue.status}`);return await ue.text()}catch(O){return console.error("프레젠테이션 생성 실패:",O),C("프레젠테이션 생성에 실패했습니다."),null}},Q=async O=>{try{const K={Accept:"application/json"},J=localStorage.getItem("accessToken");J&&(K.Authorization=`Bearer ${J}`);const ue=await fetch(`${x}/workspace/presentations/${O}`,{method:"DELETE",headers:K});if(!ue.ok)throw new Error(`HTTP error! status: ${ue.status}`);return!0}catch(K){return console.error("프레젠테이션 삭제 실패:",K),C("프레젠테이션 삭제에 실패했습니다."),!1}};W.useEffect(()=>{n?j():d(!1)},[n]),W.useEffect(()=>{R(0)},[f]);const te=async()=>{try{const O=await $();console.log("handleCreatePresentation"+O),O&&e(`/editor/${O}`)}catch(O){console.error("프레젠테이션 생성 핸들러 오류:",O)}},re=O=>{e(`/editor/${O}`)},ee=(O,K)=>{O.stopPropagation(),K.shareUrl&&(navigator.clipboard.writeText(K.shareUrl),alert("공유 링크가 클립보드에 복사되었습니다!"))},ge=async(O,K)=>{O.stopPropagation(),window.confirm("이 프레젠테이션을 삭제하시겠습니까?")&&await L(K.id)},L=async O=>{try{await Q(O)&&(l(J=>J.filter(ue=>ue.id!==O)),alert("프레젠테이션이 삭제되었습니다."))}catch(K){console.error("프레젠테이션 삭제 핸들러 오류:",K)}},B=O=>new Date(O).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}),V=()=>{v(!1),y(!0)},H=()=>{y(!1),v(!0)};return c?G.jsxs("div",{className:"workspace-loading",children:[G.jsx("div",{className:"loading-spinner"}),G.jsx("p",{children:"로딩 중..."})]}):_?G.jsxs("div",{className:"workspace",children:[G.jsx(Dc,{variant:"workspace",onLoginClick:V,onRegisterClick:H}),G.jsxs("div",{className:"workspace-error",children:[G.jsx("p",{children:_}),G.jsx("button",{onClick:j,children:"다시 시도"})]})]}):n?G.jsxs("div",{className:"workspace",children:[G.jsx(Dc,{variant:"workspace",onLoginClick:V,onRegisterClick:H}),G.jsxs("div",{className:"workspace-hero",children:[G.jsx("div",{className:"hero-left",children:G.jsxs("h2",{className:"hero-title",children:["슬라이드별 복원과 동시 편집으로,",G.jsx("br",{}),"더 빠르고 효율적인 협업을 시작하세요"]})}),G.jsx("div",{className:"hero-right",children:G.jsxs("button",{className:"create-presentation-btn",onClick:te,children:[G.jsx(Zt,{icon:"material-symbols:add",width:"24"}),"프레젠테이션 시작하기"]})})]}),G.jsx("div",{className:"workspace-footer-bg",children:G.jsxs("div",{className:"workspace-main",children:[G.jsxs("div",{className:"workspace-topbar",children:[G.jsx("h2",{className:"workspace-main-title",children:"Workspace"}),G.jsxs("div",{className:"workspace-search",children:[G.jsx(Zt,{icon:"material-symbols:search",width:"22"}),G.jsx("input",{type:"text",placeholder:"워크스페이스 검색",value:f,onChange:O=>h(O.target.value)})]})]}),G.jsx("div",{className:"presentations-row",children:F.map(O=>G.jsxs("div",{className:"presentation-card",onClick:()=>re(O.id),children:[G.jsxs("div",{className:"card-thumbnail",children:[G.jsx("img",{src:O.thumbnail||"/assets/default-thumbnail.png",alt:O.title,onError:K=>{K.currentTarget.src="/assets/default-thumbnail.png"}}),G.jsx("div",{className:"card-overlay",children:G.jsxs("div",{className:"card-actions",children:[O.isShared&&G.jsx("button",{className:"action-btn share-btn",onClick:K=>ee(K,O),title:"공유",children:G.jsx(Zt,{icon:"material-symbols:share",width:"20"})}),G.jsx("button",{className:"action-btn more-btn",onClick:K=>ge(K,O),title:"더보기",children:G.jsx(Zt,{icon:"material-symbols:more-vert",width:"20"})})]})})]}),G.jsxs("div",{className:"card-content",children:[G.jsx("h3",{className:"card-title",children:O.title}),G.jsx("p",{className:"card-date",children:B(O.updatedAt)})]})]},O.id))}),M>1&&G.jsxs("div",{className:"slide-navigation",children:[G.jsx("button",{onClick:()=>R(O=>Math.max(0,O-1)),disabled:P===0,className:"nav-btn prev-btn",children:G.jsx(Zt,{icon:"material-symbols:chevron-left",width:"24"})}),G.jsx("div",{className:"slide-indicators",children:Array.from({length:M},(O,K)=>G.jsx("button",{onClick:()=>R(K),className:`indicator ${K===P?"active":""}`},K))}),G.jsx("button",{onClick:()=>R(O=>Math.min(M-1,O+1)),disabled:P===M-1,className:"nav-btn next-btn",children:G.jsx(Zt,{icon:"material-symbols:chevron-right",width:"24"})})]})]})}),m&&G.jsx(V1,{onClose:()=>y(!1),onSwitchToRegister:H}),S&&G.jsx($1,{onClose:()=>v(!1),onSwitchToLogin:V})]}):G.jsxs("div",{className:"workspace",children:[G.jsx(Dc,{variant:"workspace",onLoginClick:V,onRegisterClick:H}),G.jsxs("div",{className:"workspace-hero",children:[G.jsxs("div",{className:"hero-left",children:[G.jsxs("h2",{className:"hero-title",children:["슬라이드별 복원과 동시 편집으로,",G.jsx("br",{}),"더 빠르고 효율적인 협업을 시작하세요"]}),G.jsx("p",{className:"hero-subtitle",children:"로그인하고 나만의 프레젠테이션을 만들어보세요"})]}),G.jsx("div",{className:"hero-right",children:G.jsxs("button",{className:"create-presentation-btn",onClick:V,children:[G.jsx(Zt,{icon:"material-symbols:add",width:"24"}),"로그인하고 시작하기"]})})]}),G.jsx("div",{className:"workspace-footer-bg",children:G.jsxs("div",{className:"workspace-main",children:[G.jsxs("div",{className:"workspace-features",children:[G.jsx("h2",{className:"features-title",children:"KimBanana의 특별한 기능"}),G.jsxs("div",{className:"features-grid",children:[G.jsxs("div",{className:"feature-card",children:[G.jsx("div",{className:"feature-icon",children:G.jsx(Zt,{icon:"material-symbols:history",width:"48"})}),G.jsx("h3",{className:"feature-title",children:"슬라이드별 복원"}),G.jsx("p",{className:"feature-description",children:"각 슬라이드의 변경 이력을 개별적으로 관리하고, 원하는 시점으로 언제든 복원할 수 있습니다."})]}),G.jsxs("div",{className:"feature-card",children:[G.jsx("div",{className:"feature-icon",children:G.jsx(Zt,{icon:"material-symbols:group",width:"48"})}),G.jsx("h3",{className:"feature-title",children:"실시간 협업"}),G.jsx("p",{className:"feature-description",children:"여러 사용자가 동시에 편집하며, 실시간으로 변경사항을 공유할 수 있습니다."})]}),G.jsxs("div",{className:"feature-card",children:[G.jsx("div",{className:"feature-icon",children:G.jsx(Zt,{icon:"material-symbols:draw",width:"48"})}),G.jsx("h3",{className:"feature-title",children:"직관적인 편집"}),G.jsx("p",{className:"feature-description",children:"드래그 앤 드롭으로 쉽게 도형을 추가하고, 자유로운 그리기 도구로 아이디어를 표현하세요."})]})]})]}),G.jsxs("div",{className:"demo-section",children:[G.jsx("h2",{className:"demo-title",children:"데모 프레젠테이션 살펴보기"}),G.jsxs("div",{className:"demo-presentations",children:[G.jsxs("div",{className:"demo-card",onClick:()=>e("/editor/demo-1"),children:[G.jsx("div",{className:"demo-thumbnail",children:G.jsx("img",{src:"/assets/demo/demo1.png",alt:"비즈니스 기획서",onError:O=>{O.currentTarget.src="/assets/default-thumbnail.png"}})}),G.jsxs("div",{className:"demo-content",children:[G.jsx("h3",{className:"demo-card-title",children:"비즈니스 기획서"}),G.jsx("p",{className:"demo-description",children:"전문적인 비즈니스 프레젠테이션 템플릿"}),G.jsx("span",{className:"demo-badge",children:"데모"})]})]}),G.jsxs("div",{className:"demo-card",onClick:()=>e("/editor/demo-2"),children:[G.jsx("div",{className:"demo-thumbnail",children:G.jsx("img",{src:"/assets/demo/demo2.png",alt:"교육 자료",onError:O=>{O.currentTarget.src="/assets/default-thumbnail.png"}})}),G.jsxs("div",{className:"demo-content",children:[G.jsx("h3",{className:"demo-card-title",children:"교육 자료"}),G.jsx("p",{className:"demo-description",children:"시각적이고 이해하기 쉬운 교육용 템플릿"}),G.jsx("span",{className:"demo-badge",children:"데모"})]})]}),G.jsxs("div",{className:"demo-card",onClick:()=>e("/editor/demo-3"),children:[G.jsx("div",{className:"demo-thumbnail",children:G.jsx("img",{src:"/assets/demo/demo3.png",alt:"제품 소개",onError:O=>{O.currentTarget.src="/assets/default-thumbnail.png"}})}),G.jsxs("div",{className:"demo-content",children:[G.jsx("h3",{className:"demo-card-title",children:"제품 소개"}),G.jsx("p",{className:"demo-description",children:"매력적인 제품 프레젠테이션 템플릿"}),G.jsx("span",{className:"demo-badge",children:"데모"})]})]})]})]})]})}),m&&G.jsx(V1,{onClose:()=>y(!1),onSwitchToRegister:H}),S&&G.jsx($1,{onClose:()=>v(!1),onSwitchToLogin:V})]})},gC=()=>G.jsx(s4,{children:G.jsx(q3,{basename:"/kimbanana/ui",children:G.jsxs(E3,{children:[G.jsx(Sf,{path:"/",element:G.jsx(pC,{})}),G.jsx(Sf,{path:"/editor/:id",element:G.jsx(oC,{})}),G.jsx(Sf,{path:"/history/:presentationId",element:G.jsx(dC,{})})]})})});K1.createRoot(document.getElementById("root")).render(G.jsx(W.StrictMode,{children:G.jsx(gC,{})}));
