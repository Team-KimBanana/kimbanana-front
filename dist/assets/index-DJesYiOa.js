var Wb=Object.defineProperty;var qb=(t,e,n)=>e in t?Wb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Tr=(t,e,n)=>qb(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var a5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N1={exports:{}},mf={},E1={exports:{}},$n={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l5;function Vb(){if(l5)return $n;l5=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function E($,j,K){this.props=$,this.context=j,this.refs=S,this.updater=K||g}E.prototype.isReactComponent={},E.prototype.setState=function($,j){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,j,"setState")},E.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function A(){}A.prototype=E.prototype;function N($,j,K){this.props=$,this.context=j,this.refs=S,this.updater=K||g}var x=N.prototype=new A;x.constructor=N,_(x,E.prototype),x.isPureReactComponent=!0;var L=Array.isArray,D=Object.prototype.hasOwnProperty,W={current:null},re={key:!0,ref:!0,__self:!0,__source:!0};function U($,j,K){var X,ce={},ae=null,J=null;if(j!=null)for(X in j.ref!==void 0&&(J=j.ref),j.key!==void 0&&(ae=""+j.key),j)D.call(j,X)&&!re.hasOwnProperty(X)&&(ce[X]=j[X]);var ge=arguments.length-2;if(ge===1)ce.children=K;else if(1<ge){for(var _e=Array(ge),Se=0;Se<ge;Se++)_e[Se]=arguments[Se+2];ce.children=_e}if($&&$.defaultProps)for(X in ge=$.defaultProps,ge)ce[X]===void 0&&(ce[X]=ge[X]);return{$$typeof:t,type:$,key:ae,ref:J,props:ce,_owner:W.current}}function M($,j){return{$$typeof:t,type:$.type,key:j,ref:$.ref,props:$.props,_owner:$._owner}}function V($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function F($){var j={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(K){return j[K]})}var H=/\/+/g;function Z($,j){return typeof $=="object"&&$!==null&&$.key!=null?F(""+$.key):j.toString(36)}function ne($,j,K,X,ce){var ae=typeof $;(ae==="undefined"||ae==="boolean")&&($=null);var J=!1;if($===null)J=!0;else switch(ae){case"string":case"number":J=!0;break;case"object":switch($.$$typeof){case t:case e:J=!0}}if(J)return J=$,ce=ce(J),$=X===""?"."+Z(J,0):X,L(ce)?(K="",$!=null&&(K=$.replace(H,"$&/")+"/"),ne(ce,j,K,"",function(Se){return Se})):ce!=null&&(V(ce)&&(ce=M(ce,K+(!ce.key||J&&J.key===ce.key?"":(""+ce.key).replace(H,"$&/")+"/")+$)),j.push(ce)),1;if(J=0,X=X===""?".":X+":",L($))for(var ge=0;ge<$.length;ge++){ae=$[ge];var _e=X+Z(ae,ge);J+=ne(ae,j,K,_e,ce)}else if(_e=v($),typeof _e=="function")for($=_e.call($),ge=0;!(ae=$.next()).done;)ae=ae.value,_e=X+Z(ae,ge++),J+=ne(ae,j,K,_e,ce);else if(ae==="object")throw j=String($),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return J}function le($,j,K){if($==null)return $;var X=[],ce=0;return ne($,X,"","",function(ae){return j.call(K,ae,ce++)}),X}function xe($){if($._status===-1){var j=$._result;j=j(),j.then(function(K){($._status===0||$._status===-1)&&($._status=1,$._result=K)},function(K){($._status===0||$._status===-1)&&($._status=2,$._result=K)}),$._status===-1&&($._status=0,$._result=j)}if($._status===1)return $._result.default;throw $._result}var B={current:null},G={transition:null},Q={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:G,ReactCurrentOwner:W};function ee(){throw Error("act(...) is not supported in production builds of React.")}return $n.Children={map:le,forEach:function($,j,K){le($,function(){j.apply(this,arguments)},K)},count:function($){var j=0;return le($,function(){j++}),j},toArray:function($){return le($,function(j){return j})||[]},only:function($){if(!V($))throw Error("React.Children.only expected to receive a single React element child.");return $}},$n.Component=E,$n.Fragment=n,$n.Profiler=i,$n.PureComponent=N,$n.StrictMode=r,$n.Suspense=c,$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,$n.act=ee,$n.cloneElement=function($,j,K){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var X=_({},$.props),ce=$.key,ae=$.ref,J=$._owner;if(j!=null){if(j.ref!==void 0&&(ae=j.ref,J=W.current),j.key!==void 0&&(ce=""+j.key),$.type&&$.type.defaultProps)var ge=$.type.defaultProps;for(_e in j)D.call(j,_e)&&!re.hasOwnProperty(_e)&&(X[_e]=j[_e]===void 0&&ge!==void 0?ge[_e]:j[_e])}var _e=arguments.length-2;if(_e===1)X.children=K;else if(1<_e){ge=Array(_e);for(var Se=0;Se<_e;Se++)ge[Se]=arguments[Se+2];X.children=ge}return{$$typeof:t,type:$.type,key:ce,ref:ae,props:X,_owner:J}},$n.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:s,_context:$},$.Consumer=$},$n.createElement=U,$n.createFactory=function($){var j=U.bind(null,$);return j.type=$,j},$n.createRef=function(){return{current:null}},$n.forwardRef=function($){return{$$typeof:u,render:$}},$n.isValidElement=V,$n.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:xe}},$n.memo=function($,j){return{$$typeof:h,type:$,compare:j===void 0?null:j}},$n.startTransition=function($){var j=G.transition;G.transition={};try{$()}finally{G.transition=j}},$n.unstable_act=ee,$n.useCallback=function($,j){return B.current.useCallback($,j)},$n.useContext=function($){return B.current.useContext($)},$n.useDebugValue=function(){},$n.useDeferredValue=function($){return B.current.useDeferredValue($)},$n.useEffect=function($,j){return B.current.useEffect($,j)},$n.useId=function(){return B.current.useId()},$n.useImperativeHandle=function($,j,K){return B.current.useImperativeHandle($,j,K)},$n.useInsertionEffect=function($,j){return B.current.useInsertionEffect($,j)},$n.useLayoutEffect=function($,j){return B.current.useLayoutEffect($,j)},$n.useMemo=function($,j){return B.current.useMemo($,j)},$n.useReducer=function($,j,K){return B.current.useReducer($,j,K)},$n.useRef=function($){return B.current.useRef($)},$n.useState=function($){return B.current.useState($)},$n.useSyncExternalStore=function($,j,K){return B.current.useSyncExternalStore($,j,K)},$n.useTransition=function(){return B.current.useTransition()},$n.version="18.3.1",$n}var u5;function $d(){return u5||(u5=1,E1.exports=Vb()),E1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c5;function $b(){if(c5)return mf;c5=1;var t=$d(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,c,h){var p,y={},v=null,g=null;h!==void 0&&(v=""+h),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(g=c.ref);for(p in c)r.call(c,p)&&!s.hasOwnProperty(p)&&(y[p]=c[p]);if(u&&u.defaultProps)for(p in c=u.defaultProps,c)y[p]===void 0&&(y[p]=c[p]);return{$$typeof:e,type:u,key:v,ref:g,props:y,_owner:i.current}}return mf.Fragment=n,mf.jsx=l,mf.jsxs=l,mf}var d5;function Yb(){return d5||(d5=1,N1.exports=$b()),N1.exports}var fe=Yb(),ue=$d();const tn=sd(ue);var xp={},A1={exports:{}},Sa={},L1={exports:{}},P1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f5;function Kb(){return f5||(f5=1,(function(t){function e(G,Q){var ee=G.length;G.push(Q);e:for(;0<ee;){var $=ee-1>>>1,j=G[$];if(0<i(j,Q))G[$]=Q,G[ee]=j,ee=$;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Q=G[0],ee=G.pop();if(ee!==Q){G[0]=ee;e:for(var $=0,j=G.length,K=j>>>1;$<K;){var X=2*($+1)-1,ce=G[X],ae=X+1,J=G[ae];if(0>i(ce,ee))ae<j&&0>i(J,ce)?(G[$]=J,G[ae]=ee,$=ae):(G[$]=ce,G[X]=ee,$=X);else if(ae<j&&0>i(J,ee))G[$]=J,G[ae]=ee,$=ae;else break e}}return Q}function i(G,Q){var ee=G.sortIndex-Q.sortIndex;return ee!==0?ee:G.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],h=[],p=1,y=null,v=3,g=!1,_=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(G){for(var Q=n(h);Q!==null;){if(Q.callback===null)r(h);else if(Q.startTime<=G)r(h),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(h)}}function L(G){if(S=!1,x(G),!_)if(n(c)!==null)_=!0,xe(D);else{var Q=n(h);Q!==null&&B(L,Q.startTime-G)}}function D(G,Q){_=!1,S&&(S=!1,A(U),U=-1),g=!0;var ee=v;try{for(x(Q),y=n(c);y!==null&&(!(y.expirationTime>Q)||G&&!F());){var $=y.callback;if(typeof $=="function"){y.callback=null,v=y.priorityLevel;var j=$(y.expirationTime<=Q);Q=t.unstable_now(),typeof j=="function"?y.callback=j:y===n(c)&&r(c),x(Q)}else r(c);y=n(c)}if(y!==null)var K=!0;else{var X=n(h);X!==null&&B(L,X.startTime-Q),K=!1}return K}finally{y=null,v=ee,g=!1}}var W=!1,re=null,U=-1,M=5,V=-1;function F(){return!(t.unstable_now()-V<M)}function H(){if(re!==null){var G=t.unstable_now();V=G;var Q=!0;try{Q=re(!0,G)}finally{Q?Z():(W=!1,re=null)}}else W=!1}var Z;if(typeof N=="function")Z=function(){N(H)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,le=ne.port2;ne.port1.onmessage=H,Z=function(){le.postMessage(null)}}else Z=function(){E(H,0)};function xe(G){re=G,W||(W=!0,Z())}function B(G,Q){U=E(function(){G(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,xe(D))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var ee=v;v=Q;try{return G()}finally{v=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,Q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ee=v;v=G;try{return Q()}finally{v=ee}},t.unstable_scheduleCallback=function(G,Q,ee){var $=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?$+ee:$):ee=$,G){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ee+j,G={id:p++,callback:Q,priorityLevel:G,startTime:ee,expirationTime:j,sortIndex:-1},ee>$?(G.sortIndex=ee,e(h,G),n(c)===null&&G===n(h)&&(S?(A(U),U=-1):S=!0,B(L,ee-$))):(G.sortIndex=j,e(c,G),_||g||(_=!0,xe(D))),G},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(G){var Q=v;return function(){var ee=v;v=Q;try{return G.apply(this,arguments)}finally{v=ee}}}})(P1)),P1}var h5;function P2(){return h5||(h5=1,L1.exports=Kb()),L1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p5;function Xb(){if(p5)return Sa;p5=1;var t=$d(),e=P2();function n(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,m=1;m<arguments.length;m++)a+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},y={};function v(o){return c.call(y,o)?!0:c.call(p,o)?!1:h.test(o)?y[o]=!0:(p[o]=!0,!1)}function g(o,a,m,k){if(m!==null&&m.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return k?!1:m!==null?!m.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function _(o,a,m,k){if(a===null||typeof a>"u"||g(o,a,m,k))return!0;if(k)return!1;if(m!==null)switch(m.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function S(o,a,m,k,R,z,se){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=k,this.attributeNamespace=R,this.mustUseProperty=m,this.propertyName=o,this.type=a,this.sanitizeURL=z,this.removeEmptyString=se}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){E[o]=new S(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];E[a]=new S(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){E[o]=new S(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){E[o]=new S(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){E[o]=new S(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){E[o]=new S(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){E[o]=new S(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){E[o]=new S(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){E[o]=new S(o,5,!1,o.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function N(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(A,N);E[a]=new S(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(A,N);E[a]=new S(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(A,N);E[a]=new S(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){E[o]=new S(o,1,!1,o.toLowerCase(),null,!1,!1)}),E.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){E[o]=new S(o,1,!1,o.toLowerCase(),null,!0,!0)});function x(o,a,m,k){var R=E.hasOwnProperty(a)?E[a]:null;(R!==null?R.type!==0:k||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(_(a,m,R,k)&&(m=null),k||R===null?v(a)&&(m===null?o.removeAttribute(a):o.setAttribute(a,""+m)):R.mustUseProperty?o[R.propertyName]=m===null?R.type===3?!1:"":m:(a=R.attributeName,k=R.attributeNamespace,m===null?o.removeAttribute(a):(R=R.type,m=R===3||R===4&&m===!0?"":""+m,k?o.setAttributeNS(k,a,m):o.setAttribute(a,m))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),W=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),F=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),G=Symbol.iterator;function Q(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var ee=Object.assign,$;function j(o){if($===void 0)try{throw Error()}catch(m){var a=m.stack.trim().match(/\n( *(at )?)/);$=a&&a[1]||""}return`
`+$+o}var K=!1;function X(o,a){if(!o||K)return"";K=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(qe){var k=qe}Reflect.construct(o,[],a)}else{try{a.call()}catch(qe){k=qe}o.call(a.prototype)}else{try{throw Error()}catch(qe){k=qe}o()}}catch(qe){if(qe&&k&&typeof qe.stack=="string"){for(var R=qe.stack.split(`
`),z=k.stack.split(`
`),se=R.length-1,ke=z.length-1;1<=se&&0<=ke&&R[se]!==z[ke];)ke--;for(;1<=se&&0<=ke;se--,ke--)if(R[se]!==z[ke]){if(se!==1||ke!==1)do if(se--,ke--,0>ke||R[se]!==z[ke]){var Ee=`
`+R[se].replace(" at new "," at ");return o.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",o.displayName)),Ee}while(1<=se&&0<=ke);break}}}finally{K=!1,Error.prepareStackTrace=m}return(o=o?o.displayName||o.name:"")?j(o):""}function ce(o){switch(o.tag){case 5:return j(o.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return o=X(o.type,!1),o;case 11:return o=X(o.type.render,!1),o;case 1:return o=X(o.type,!0),o;default:return""}}function ae(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case re:return"Fragment";case W:return"Portal";case M:return"Profiler";case U:return"StrictMode";case Z:return"Suspense";case ne:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case F:return(o.displayName||"Context")+".Consumer";case V:return(o._context.displayName||"Context")+".Provider";case H:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case le:return a=o.displayName||null,a!==null?a:ae(o.type)||"Memo";case xe:a=o._payload,o=o._init;try{return ae(o(a))}catch{}}return null}function J(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(a);case 8:return a===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ge(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function _e(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Se(o){var a=_e(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),k=""+o[a];if(!o.hasOwnProperty(a)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var R=m.get,z=m.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return R.call(this)},set:function(se){k=""+se,z.call(this,se)}}),Object.defineProperty(o,a,{enumerable:m.enumerable}),{getValue:function(){return k},setValue:function(se){k=""+se},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Re(o){o._valueTracker||(o._valueTracker=Se(o))}function Ue(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var m=a.getValue(),k="";return o&&(k=_e(o)?o.checked?"true":"false":o.value),o=k,o!==m?(a.setValue(o),!0):!1}function Ve(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Be(o,a){var m=a.checked;return ee({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??o._wrapperState.initialChecked})}function ye(o,a){var m=a.defaultValue==null?"":a.defaultValue,k=a.checked!=null?a.checked:a.defaultChecked;m=ge(a.value!=null?a.value:m),o._wrapperState={initialChecked:k,initialValue:m,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Fe(o,a){a=a.checked,a!=null&&x(o,"checked",a,!1)}function Ge(o,a){Fe(o,a);var m=ge(a.value),k=a.type;if(m!=null)k==="number"?(m===0&&o.value===""||o.value!=m)&&(o.value=""+m):o.value!==""+m&&(o.value=""+m);else if(k==="submit"||k==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Qe(o,a.type,m):a.hasOwnProperty("defaultValue")&&Qe(o,a.type,ge(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Je(o,a,m){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var k=a.type;if(!(k!=="submit"&&k!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,m||a===o.value||(o.value=a),o.defaultValue=a}m=o.name,m!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,m!==""&&(o.name=m)}function Qe(o,a,m){(a!=="number"||Ve(o.ownerDocument)!==o)&&(m==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+m&&(o.defaultValue=""+m))}var ut=Array.isArray;function ot(o,a,m,k){if(o=o.options,a){a={};for(var R=0;R<m.length;R++)a["$"+m[R]]=!0;for(m=0;m<o.length;m++)R=a.hasOwnProperty("$"+o[m].value),o[m].selected!==R&&(o[m].selected=R),R&&k&&(o[m].defaultSelected=!0)}else{for(m=""+ge(m),a=null,R=0;R<o.length;R++){if(o[R].value===m){o[R].selected=!0,k&&(o[R].defaultSelected=!0);return}a!==null||o[R].disabled||(a=o[R])}a!==null&&(a.selected=!0)}}function ht(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ct(o,a){var m=a.value;if(m==null){if(m=a.children,a=a.defaultValue,m!=null){if(a!=null)throw Error(n(92));if(ut(m)){if(1<m.length)throw Error(n(93));m=m[0]}a=m}a==null&&(a=""),m=a}o._wrapperState={initialValue:ge(m)}}function Bt(o,a){var m=ge(a.value),k=ge(a.defaultValue);m!=null&&(m=""+m,m!==o.value&&(o.value=m),a.defaultValue==null&&o.defaultValue!==m&&(o.defaultValue=m)),k!=null&&(o.defaultValue=""+k)}function kt(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function Et(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sn(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?Et(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Vt,Lt=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,m,k,R){MSApp.execUnsafeLocalFunction(function(){return o(a,m,k,R)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Vt=Vt||document.createElement("div"),Vt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Vt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function St(o,a){if(a){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=a;return}}o.textContent=a}var wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wn=["Webkit","ms","Moz","O"];Object.keys(wt).forEach(function(o){wn.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),wt[a]=wt[o]})});function In(o,a,m){return a==null||typeof a=="boolean"||a===""?"":m||typeof a!="number"||a===0||wt.hasOwnProperty(o)&&wt[o]?(""+a).trim():a+"px"}function Dt(o,a){o=o.style;for(var m in a)if(a.hasOwnProperty(m)){var k=m.indexOf("--")===0,R=In(m,a[m],k);m==="float"&&(m="cssFloat"),k?o.setProperty(m,R):o[m]=R}}var rn=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wn(o,a){if(a){if(rn[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Yt(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var An=null;function dn(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Er=null,xr=null,qn=null;function on(o){if(o=Xl(o)){if(typeof Er!="function")throw Error(n(280));var a=o.stateNode;a&&(a=Ei(a),Er(o.stateNode,o.type,a))}}function Vn(o){xr?qn?qn.push(o):qn=[o]:xr=o}function jo(){if(xr){var o=xr,a=qn;if(qn=xr=null,on(o),a)for(o=0;o<a.length;o++)on(a[o])}}function vi(o,a){return o(a)}function ps(){}var gs=!1;function Jt(o,a,m){if(gs)return o(a,m);gs=!0;try{return vi(o,a,m)}finally{gs=!1,(xr!==null||qn!==null)&&(ps(),jo())}}function ts(o,a){var m=o.stateNode;if(m===null)return null;var k=Ei(m);if(k===null)return null;m=k[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(o=o.type,k=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!k;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(n(231,a,typeof m));return m}var ks=!1;if(u)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){ks=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{ks=!1}function $e(o,a,m,k,R,z,se,ke,Ee){var qe=Array.prototype.slice.call(arguments,3);try{a.apply(m,qe)}catch(ft){this.onError(ft)}}var st=!1,at=null,gt=!1,yt=null,Ct={onError:function(o){st=!0,at=o}};function dt(o,a,m,k,R,z,se,ke,Ee){st=!1,at=null,$e.apply(Ct,arguments)}function Gt(o,a,m,k,R,z,se,ke,Ee){if(dt.apply(this,arguments),st){if(st){var qe=at;st=!1,at=null}else throw Error(n(198));gt||(gt=!0,yt=qe)}}function It(o){var a=o,m=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(m=a.return),o=a.return;while(o)}return a.tag===3?m:null}function bn(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function nn(o){if(It(o)!==o)throw Error(n(188))}function an(o){var a=o.alternate;if(!a){if(a=It(o),a===null)throw Error(n(188));return a!==o?null:o}for(var m=o,k=a;;){var R=m.return;if(R===null)break;var z=R.alternate;if(z===null){if(k=R.return,k!==null){m=k;continue}break}if(R.child===z.child){for(z=R.child;z;){if(z===m)return nn(R),o;if(z===k)return nn(R),a;z=z.sibling}throw Error(n(188))}if(m.return!==k.return)m=R,k=z;else{for(var se=!1,ke=R.child;ke;){if(ke===m){se=!0,m=R,k=z;break}if(ke===k){se=!0,k=R,m=z;break}ke=ke.sibling}if(!se){for(ke=z.child;ke;){if(ke===m){se=!0,m=z,k=R;break}if(ke===k){se=!0,k=z,m=R;break}ke=ke.sibling}if(!se)throw Error(n(189))}}if(m.alternate!==k)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?o:a}function Xt(o){return o=an(o),o!==null?Rn(o):null}function Rn(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Rn(o);if(a!==null)return a;o=o.sibling}return null}var sr=e.unstable_scheduleCallback,Mn=e.unstable_cancelCallback,Bn=e.unstable_shouldYield,wi=e.unstable_requestPaint,On=e.unstable_now,go=e.unstable_getCurrentPriorityLevel,Cs=e.unstable_ImmediatePriority,bi=e.unstable_UserBlockingPriority,Ns=e.unstable_NormalPriority,Va=e.unstable_LowPriority,Uo=e.unstable_IdlePriority,mo=null,ui=null;function gr(o){if(ui&&typeof ui.onCommitFiberRoot=="function")try{ui.onCommitFiberRoot(mo,o,void 0,(o.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:Ui,ea=Math.log,jn=Math.LN2;function Ui(o){return o>>>=0,o===0?32:31-(ea(o)/jn|0)|0}var $s=64,zi=4194304;function Or(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Gi(o,a){var m=o.pendingLanes;if(m===0)return 0;var k=0,R=o.suspendedLanes,z=o.pingedLanes,se=m&268435455;if(se!==0){var ke=se&~R;ke!==0?k=Or(ke):(z&=se,z!==0&&(k=Or(z)))}else se=m&~R,se!==0?k=Or(se):z!==0&&(k=Or(z));if(k===0)return 0;if(a!==0&&a!==k&&(a&R)===0&&(R=k&-k,z=a&-a,R>=z||R===16&&(z&4194240)!==0))return a;if((k&4)!==0&&(k|=m&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=k;0<a;)m=31-kn(a),R=1<<m,k|=o[m],a&=~R;return k}function $a(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jr(o,a){for(var m=o.suspendedLanes,k=o.pingedLanes,R=o.expirationTimes,z=o.pendingLanes;0<z;){var se=31-kn(z),ke=1<<se,Ee=R[se];Ee===-1?((ke&m)===0||(ke&k)!==0)&&(R[se]=$a(ke,a)):Ee<=a&&(o.expiredLanes|=ke),z&=~ke}}function ta(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yu(){var o=$s;return $s<<=1,($s&4194240)===0&&($s=64),o}function ms(o){for(var a=[],m=0;31>m;m++)a.push(o);return a}function pl(o,a,m){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-kn(a),o[a]=m}function na(o,a){var m=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var k=o.eventTimes;for(o=o.expirationTimes;0<m;){var R=31-kn(m),z=1<<R;a[R]=0,k[R]=-1,o[R]=-1,m&=~z}}function Ul(o,a){var m=o.entangledLanes|=a;for(o=o.entanglements;m;){var k=31-kn(m),R=1<<k;R&a|o[k]&a&&(o[k]|=a),m&=~R}}var Un=0;function yo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var ra,Ya,Gu,Hu,Ka,ia=!1,Ys=[],Es=null,As=null,Ls=null,_t=new Map,Xa=new Map,vo=[],Wu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qu(o,a){switch(o){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":_t.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(a.pointerId)}}function Ks(o,a,m,k,R,z){return o===null||o.nativeEvent!==z?(o={blockedOn:a,domEventName:m,eventSystemFlags:k,nativeEvent:z,targetContainers:[R]},a!==null&&(a=Xl(a),a!==null&&Ya(a)),o):(o.eventSystemFlags|=k,a=o.targetContainers,R!==null&&a.indexOf(R)===-1&&a.push(R),o)}function Sr(o,a,m,k,R){switch(a){case"focusin":return Es=Ks(Es,o,a,m,k,R),!0;case"dragenter":return As=Ks(As,o,a,m,k,R),!0;case"mouseover":return Ls=Ks(Ls,o,a,m,k,R),!0;case"pointerover":var z=R.pointerId;return _t.set(z,Ks(_t.get(z)||null,o,a,m,k,R)),!0;case"gotpointercapture":return z=R.pointerId,Xa.set(z,Ks(Xa.get(z)||null,o,a,m,k,R)),!0}return!1}function zl(o){var a=Fa(o.target);if(a!==null){var m=It(a);if(m!==null){if(a=m.tag,a===13){if(a=bn(m),a!==null){o.blockedOn=a,Ka(o.priority,function(){Gu(m)});return}}else if(a===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Gl(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var m=Ja(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(m===null){m=o.nativeEvent;var k=new m.constructor(m.type,m);An=k,m.target.dispatchEvent(k),An=null}else return a=Xl(m),a!==null&&Ya(a),o.blockedOn=m,!1;a.shift()}return!0}function Aa(o,a,m){Gl(o)&&m.delete(a)}function vu(){ia=!1,Es!==null&&Gl(Es)&&(Es=null),As!==null&&Gl(As)&&(As=null),Ls!==null&&Gl(Ls)&&(Ls=null),_t.forEach(Aa),Xa.forEach(Aa)}function Ps(o,a){o.blockedOn===a&&(o.blockedOn=null,ia||(ia=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vu)))}function _i(o){function a(R){return Ps(R,o)}if(0<Ys.length){Ps(Ys[0],o);for(var m=1;m<Ys.length;m++){var k=Ys[m];k.blockedOn===o&&(k.blockedOn=null)}}for(Es!==null&&Ps(Es,o),As!==null&&Ps(As,o),Ls!==null&&Ps(Ls,o),_t.forEach(a),Xa.forEach(a),m=0;m<vo.length;m++)k=vo[m],k.blockedOn===o&&(k.blockedOn=null);for(;0<vo.length&&(m=vo[0],m.blockedOn===null);)zl(m),m.blockedOn===null&&vo.shift()}var zo=L.ReactCurrentBatchConfig,Hl=!0;function ys(o,a,m,k){var R=Un,z=zo.transition;zo.transition=null;try{Un=1,wo(o,a,m,k)}finally{Un=R,zo.transition=z}}function Xs(o,a,m,k){var R=Un,z=zo.transition;zo.transition=null;try{Un=4,wo(o,a,m,k)}finally{Un=R,zo.transition=z}}function wo(o,a,m,k){if(Hl){var R=Ja(o,a,m,k);if(R===null)$l(o,a,k,bo,m),qu(o,k);else if(Sr(R,o,a,m,k))k.stopPropagation();else if(qu(o,k),a&4&&-1<Wu.indexOf(o)){for(;R!==null;){var z=Xl(R);if(z!==null&&ra(z),z=Ja(o,a,m,k),z===null&&$l(o,a,k,bo,m),z===R)break;R=z}R!==null&&k.stopPropagation()}else $l(o,a,k,null,m)}}var bo=null;function Ja(o,a,m,k){if(bo=null,o=dn(k),o=Fa(o),o!==null)if(a=It(o),a===null)o=null;else if(m=a.tag,m===13){if(o=bn(a),o!==null)return o;o=null}else if(m===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return bo=o,null}function gl(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(go()){case Cs:return 1;case bi:return 4;case Ns:case Va:return 16;case Uo:return 536870912;default:return 16}default:return 16}}var ni=null,Is=null,_o=null;function Qa(){if(_o)return _o;var o,a=Is,m=a.length,k,R="value"in ni?ni.value:ni.textContent,z=R.length;for(o=0;o<m&&a[o]===R[o];o++);var se=m-o;for(k=1;k<=se&&a[m-k]===R[z-k];k++);return _o=R.slice(o,1<k?1-k:void 0)}function vs(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Ur(){return!0}function ns(){return!1}function Qr(o){function a(m,k,R,z,se){this._reactName=m,this._targetInst=R,this.type=k,this.nativeEvent=z,this.target=se,this.currentTarget=null;for(var ke in o)o.hasOwnProperty(ke)&&(m=o[ke],this[ke]=m?m(z):z[ke]);return this.isDefaultPrevented=(z.defaultPrevented!=null?z.defaultPrevented:z.returnValue===!1)?Ur:ns,this.isPropagationStopped=ns,this}return ee(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),a}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rs=Qr(ci),I=ee({},ci,{view:0,detail:0}),ie=Qr(I),be,Ce,Pe,Ke=ee({},I,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:So,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Pe&&(Pe&&o.type==="mousemove"?(be=o.screenX-Pe.screenX,Ce=o.screenY-Pe.screenY):Ce=be=0,Pe=o),be)},movementY:function(o){return"movementY"in o?o.movementY:Ce}}),tt=Qr(Ke),Rt=ee({},Ke,{dataTransfer:0}),Pt=Qr(Rt),fn=ee({},I,{relatedTarget:0}),hn=Qr(fn),Yn=ee({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Ar=Qr(Yn),ri=ee({},ci,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),dr=Qr(ri),di=ee({},ci,{data:0}),kr=Qr(di),xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=Hi[o])?!!a[o]:!1}function So(){return Vu}var sa=ee({},I,{key:function(o){if(o.key){var a=xi[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=vs(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?xo[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:So,charCode:function(o){return o.type==="keypress"?vs(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?vs(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),La=Qr(sa),Za=ee({},Ke,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Js=Qr(Za),el=ee({},I,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:So}),Si=Qr(el),oa=ee({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),ko=Qr(oa),ml=ee({},Ke,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),yl=Qr(ml),zr=[9,13,27,32],Qs=u&&"CompositionEvent"in window,Co=null;u&&"documentMode"in document&&(Co=document.documentMode);var Pa=u&&"TextEvent"in window&&!Co,Fr=u&&(!Qs||Co&&8<Co&&11>=Co),Ts=" ",tl=!1;function vl(o,a){switch(o){case"keyup":return zr.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ii(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ki=!1;function ws(o,a){switch(o){case"compositionend":return Ii(a);case"keypress":return a.which!==32?null:(tl=!0,Ts);case"textInput":return o=a.data,o===Ts&&tl?null:o;default:return null}}function Ds(o,a){if(ki)return o==="compositionend"||!Qs&&vl(o,a)?(o=Qa(),_o=Is=ni=null,ki=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Fr&&a.locale!=="ko"?null:a.data;default:return null}}var rs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wi(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!rs[o.type]:a==="textarea"}function No(o,a,m,k){Vn(k),a=Zu(a,"onChange"),0<a.length&&(m=new Rs("onChange","change",null,m,k),o.push({event:m,listeners:a}))}var aa=null,Zs=null;function Zr(o){ql(o,0)}function Go(o){var a=fi(o);if(Ue(a))return o}function ii(o,a){if(o==="change")return a}var bs=!1;if(u){var Eo;if(u){var is="oninput"in document;if(!is){var nl=document.createElement("div");nl.setAttribute("oninput","return;"),is=typeof nl.oninput=="function"}Eo=is}else Eo=!1;bs=Eo&&(!document.documentMode||9<document.documentMode)}function Ho(){aa&&(aa.detachEvent("onpropertychange",la),Zs=aa=null)}function la(o){if(o.propertyName==="value"&&Go(Zs)){var a=[];No(a,Zs,o,dn(o)),Jt(Zr,a)}}function ua(o,a,m){o==="focusin"?(Ho(),aa=a,Zs=m,aa.attachEvent("onpropertychange",la)):o==="focusout"&&Ho()}function or(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Go(Zs)}function ca(o,a){if(o==="click")return Go(a)}function da(o,a){if(o==="input"||o==="change")return Go(a)}function Ia(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Lr=typeof Object.is=="function"?Object.is:Ia;function ss(o,a){if(Lr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var m=Object.keys(o),k=Object.keys(a);if(m.length!==k.length)return!1;for(k=0;k<m.length;k++){var R=m[k];if(!c.call(a,R)||!Lr(o[R],a[R]))return!1}return!0}function Tn(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function sn(o,a){var m=Tn(o);o=0;for(var k;m;){if(m.nodeType===3){if(k=o+m.textContent.length,o<=a&&k>=a)return{node:m,offset:a-o};o=k}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Tn(m)}}function Cn(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?Cn(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function Dn(){for(var o=window,a=Ve();a instanceof o.HTMLIFrameElement;){try{var m=typeof a.contentWindow.location.href=="string"}catch{m=!1}if(m)o=a.contentWindow;else break;a=Ve(o.document)}return a}function Os(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function Ra(o){var a=Dn(),m=o.focusedElem,k=o.selectionRange;if(a!==m&&m&&m.ownerDocument&&Cn(m.ownerDocument.documentElement,m)){if(k!==null&&Os(m)){if(a=k.start,o=k.end,o===void 0&&(o=a),"selectionStart"in m)m.selectionStart=a,m.selectionEnd=Math.min(o,m.value.length);else if(o=(a=m.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var R=m.textContent.length,z=Math.min(k.start,R);k=k.end===void 0?z:Math.min(k.end,R),!o.extend&&z>k&&(R=k,k=z,z=R),R=sn(m,z);var se=sn(m,k);R&&se&&(o.rangeCount!==1||o.anchorNode!==R.node||o.anchorOffset!==R.offset||o.focusNode!==se.node||o.focusOffset!==se.offset)&&(a=a.createRange(),a.setStart(R.node,R.offset),o.removeAllRanges(),z>k?(o.addRange(a),o.extend(se.node,se.offset)):(a.setEnd(se.node,se.offset),o.addRange(a)))}}for(a=[],o=m;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<a.length;m++)o=a[m],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var fa=u&&"documentMode"in document&&11>=document.documentMode,Ta=null,Ci=null,rl=null,Wl=!1;function wu(o,a,m){var k=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Wl||Ta==null||Ta!==Ve(k)||(k=Ta,"selectionStart"in k&&Os(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),rl&&ss(rl,k)||(rl=k,k=Zu(Ci,"onSelect"),0<k.length&&(a=new Rs("onSelect","select",null,a,m),o.push({event:a,listeners:k}),a.target=Ta)))}function Fs(o,a){var m={};return m[o.toLowerCase()]=a.toLowerCase(),m["Webkit"+o]="webkit"+a,m["Moz"+o]="moz"+a,m}var Ri={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionend:Fs("Transition","TransitionEnd")},Wo={},bu={};u&&(bu=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function wl(o){if(Wo[o])return Wo[o];if(!Ri[o])return o;var a=Ri[o],m;for(m in a)if(a.hasOwnProperty(m)&&m in bu)return Wo[o]=a[m];return o}var $u=wl("animationend"),Yu=wl("animationiteration"),Ku=wl("animationstart"),Xu=wl("transitionend"),Ju=new Map,Qu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(o,a){Ju.set(o,a),s(a,[o])}for(var bl=0;bl<Qu.length;bl++){var Ni=Qu[bl],eo=Ni.toLowerCase(),_l=Ni[0].toUpperCase()+Ni.slice(1);qo(eo,"on"+_l)}qo($u,"onAnimationEnd"),qo(Yu,"onAnimationIteration"),qo(Ku,"onAnimationStart"),qo("dblclick","onDoubleClick"),qo("focusin","onFocus"),qo("focusout","onBlur"),qo(Xu,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oc=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function xl(o,a,m){var k=o.type||"unknown-event";o.currentTarget=m,Gt(k,a,void 0,o),o.currentTarget=null}function ql(o,a){a=(a&4)!==0;for(var m=0;m<o.length;m++){var k=o[m],R=k.event;k=k.listeners;e:{var z=void 0;if(a)for(var se=k.length-1;0<=se;se--){var ke=k[se],Ee=ke.instance,qe=ke.currentTarget;if(ke=ke.listener,Ee!==z&&R.isPropagationStopped())break e;xl(R,ke,qe),z=Ee}else for(se=0;se<k.length;se++){if(ke=k[se],Ee=ke.instance,qe=ke.currentTarget,ke=ke.listener,Ee!==z&&R.isPropagationStopped())break e;xl(R,ke,qe),z=Ee}}}if(gt)throw o=yt,gt=!1,yt=null,o}function mr(o,a){var m=a[_s];m===void 0&&(m=a[_s]=new Set);var k=o+"__bubble";m.has(k)||(Vl(a,o,2,!1),m.add(k))}function _u(o,a,m){var k=0;a&&(k|=4),Vl(m,o,k,a)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function Da(o){if(!o[Sl]){o[Sl]=!0,r.forEach(function(m){m!=="selectionchange"&&(Oc.has(m)||_u(m,!1,o),_u(m,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Sl]||(a[Sl]=!0,_u("selectionchange",!1,a))}}function Vl(o,a,m,k){switch(gl(a)){case 1:var R=ys;break;case 4:R=Xs;break;default:R=wo}m=R.bind(null,a,m,o),R=void 0,!ks||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(R=!0),k?R!==void 0?o.addEventListener(a,m,{capture:!0,passive:R}):o.addEventListener(a,m,!0):R!==void 0?o.addEventListener(a,m,{passive:R}):o.addEventListener(a,m,!1)}function $l(o,a,m,k,R){var z=k;if((a&1)===0&&(a&2)===0&&k!==null)e:for(;;){if(k===null)return;var se=k.tag;if(se===3||se===4){var ke=k.stateNode.containerInfo;if(ke===R||ke.nodeType===8&&ke.parentNode===R)break;if(se===4)for(se=k.return;se!==null;){var Ee=se.tag;if((Ee===3||Ee===4)&&(Ee=se.stateNode.containerInfo,Ee===R||Ee.nodeType===8&&Ee.parentNode===R))return;se=se.return}for(;ke!==null;){if(se=Fa(ke),se===null)return;if(Ee=se.tag,Ee===5||Ee===6){k=z=se;continue e}ke=ke.parentNode}}k=k.return}Jt(function(){var qe=z,ft=dn(m),pt=[];e:{var lt=Ju.get(o);if(lt!==void 0){var Mt=Rs,Wt=o;switch(o){case"keypress":if(vs(m)===0)break e;case"keydown":case"keyup":Mt=La;break;case"focusin":Wt="focus",Mt=hn;break;case"focusout":Wt="blur",Mt=hn;break;case"beforeblur":case"afterblur":Mt=hn;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=tt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=Pt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=Si;break;case $u:case Yu:case Ku:Mt=Ar;break;case Xu:Mt=ko;break;case"scroll":Mt=ie;break;case"wheel":Mt=yl;break;case"copy":case"cut":case"paste":Mt=dr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=Js}var $t=(a&4)!==0,Xi=!$t&&o==="scroll",ze=$t?lt!==null?lt+"Capture":null:lt;$t=[];for(var Ie=qe,He;Ie!==null;){He=Ie;var vt=He.stateNode;if(He.tag===5&&vt!==null&&(He=vt,ze!==null&&(vt=ts(Ie,ze),vt!=null&&$t.push(Yl(Ie,vt,He)))),Xi)break;Ie=Ie.return}0<$t.length&&(lt=new Mt(lt,Wt,null,m,ft),pt.push({event:lt,listeners:$t}))}}if((a&7)===0){e:{if(lt=o==="mouseover"||o==="pointerover",Mt=o==="mouseout"||o==="pointerout",lt&&m!==An&&(Wt=m.relatedTarget||m.fromElement)&&(Fa(Wt)||Wt[$i]))break e;if((Mt||lt)&&(lt=ft.window===ft?ft:(lt=ft.ownerDocument)?lt.defaultView||lt.parentWindow:window,Mt?(Wt=m.relatedTarget||m.toElement,Mt=qe,Wt=Wt?Fa(Wt):null,Wt!==null&&(Xi=It(Wt),Wt!==Xi||Wt.tag!==5&&Wt.tag!==6)&&(Wt=null)):(Mt=null,Wt=qe),Mt!==Wt)){if($t=tt,vt="onMouseLeave",ze="onMouseEnter",Ie="mouse",(o==="pointerout"||o==="pointerover")&&($t=Js,vt="onPointerLeave",ze="onPointerEnter",Ie="pointer"),Xi=Mt==null?lt:fi(Mt),He=Wt==null?lt:fi(Wt),lt=new $t(vt,Ie+"leave",Mt,m,ft),lt.target=Xi,lt.relatedTarget=He,vt=null,Fa(ft)===qe&&($t=new $t(ze,Ie+"enter",Wt,m,ft),$t.target=He,$t.relatedTarget=Xi,vt=$t),Xi=vt,Mt&&Wt)t:{for($t=Mt,ze=Wt,Ie=0,He=$t;He;He=il(He))Ie++;for(He=0,vt=ze;vt;vt=il(vt))He++;for(;0<Ie-He;)$t=il($t),Ie--;for(;0<He-Ie;)ze=il(ze),He--;for(;Ie--;){if($t===ze||ze!==null&&$t===ze.alternate)break t;$t=il($t),ze=il(ze)}$t=null}else $t=null;Mt!==null&&ld(pt,lt,Mt,$t,!1),Wt!==null&&Xi!==null&&ld(pt,Xi,Wt,$t,!0)}}e:{if(lt=qe?fi(qe):window,Mt=lt.nodeName&&lt.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&lt.type==="file")var Kt=ii;else if(Wi(lt))if(bs)Kt=da;else{Kt=or;var un=ua}else(Mt=lt.nodeName)&&Mt.toLowerCase()==="input"&&(lt.type==="checkbox"||lt.type==="radio")&&(Kt=ca);if(Kt&&(Kt=Kt(o,qe))){No(pt,Kt,m,ft);break e}un&&un(o,lt,qe),o==="focusout"&&(un=lt._wrapperState)&&un.controlled&&lt.type==="number"&&Qe(lt,"number",lt.value)}switch(un=qe?fi(qe):window,o){case"focusin":(Wi(un)||un.contentEditable==="true")&&(Ta=un,Ci=qe,rl=null);break;case"focusout":rl=Ci=Ta=null;break;case"mousedown":Wl=!0;break;case"contextmenu":case"mouseup":case"dragend":Wl=!1,wu(pt,m,ft);break;case"selectionchange":if(fa)break;case"keydown":case"keyup":wu(pt,m,ft)}var cn;if(Qs)e:{switch(o){case"compositionstart":var yn="onCompositionStart";break e;case"compositionend":yn="onCompositionEnd";break e;case"compositionupdate":yn="onCompositionUpdate";break e}yn=void 0}else ki?vl(o,m)&&(yn="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(yn="onCompositionStart");yn&&(Fr&&m.locale!=="ko"&&(ki||yn!=="onCompositionStart"?yn==="onCompositionEnd"&&ki&&(cn=Qa()):(ni=ft,Is="value"in ni?ni.value:ni.textContent,ki=!0)),un=Zu(qe,yn),0<un.length&&(yn=new kr(yn,o,null,m,ft),pt.push({event:yn,listeners:un}),cn?yn.data=cn:(cn=Ii(m),cn!==null&&(yn.data=cn)))),(cn=Pa?ws(o,m):Ds(o,m))&&(qe=Zu(qe,"onBeforeInput"),0<qe.length&&(ft=new kr("onBeforeInput","beforeinput",null,m,ft),pt.push({event:ft,listeners:qe}),ft.data=cn))}ql(pt,a)})}function Yl(o,a,m){return{instance:o,listener:a,currentTarget:m}}function Zu(o,a){for(var m=a+"Capture",k=[];o!==null;){var R=o,z=R.stateNode;R.tag===5&&z!==null&&(R=z,z=ts(o,m),z!=null&&k.unshift(Yl(o,z,R)),z=ts(o,a),z!=null&&k.push(Yl(o,z,R))),o=o.return}return k}function il(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function ld(o,a,m,k,R){for(var z=a._reactName,se=[];m!==null&&m!==k;){var ke=m,Ee=ke.alternate,qe=ke.stateNode;if(Ee!==null&&Ee===k)break;ke.tag===5&&qe!==null&&(ke=qe,R?(Ee=ts(m,z),Ee!=null&&se.unshift(Yl(m,Ee,ke))):R||(Ee=ts(m,z),Ee!=null&&se.push(Yl(m,Ee,ke)))),m=m.return}se.length!==0&&o.push({event:a,listeners:se})}var of=/\r\n?/g,ud=/\u0000|\uFFFD/g;function Fc(o){return(typeof o=="string"?o:""+o).replace(of,`
`).replace(ud,"")}function xu(o,a,m){if(a=Fc(a),Fc(o)!==a&&m)throw Error(n(425))}function Oa(){}var Su=null,kl=null;function Mc(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var to=typeof setTimeout=="function"?setTimeout:void 0,ec=typeof clearTimeout=="function"?clearTimeout:void 0,ku=typeof Promise=="function"?Promise:void 0,cd=typeof queueMicrotask=="function"?queueMicrotask:typeof ku<"u"?function(o){return ku.resolve(null).then(o).catch(dd)}:to;function dd(o){setTimeout(function(){throw o})}function tc(o,a){var m=a,k=0;do{var R=m.nextSibling;if(o.removeChild(m),R&&R.nodeType===8)if(m=R.data,m==="/$"){if(k===0){o.removeChild(R),_i(a);return}k--}else m!=="$"&&m!=="$?"&&m!=="$!"||k++;m=R}while(m);_i(a)}function qi(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function Vi(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(a===0)return o;a--}else m==="/$"&&a++}o=o.previousSibling}return null}var os=Math.random().toString(36).slice(2),Ao="__reactFiber$"+os,Kl="__reactProps$"+os,$i="__reactContainer$"+os,_s="__reactEvents$"+os,fd="__reactListeners$"+os,hd="__reactHandles$"+os;function Fa(o){var a=o[Ao];if(a)return a;for(var m=o.parentNode;m;){if(a=m[$i]||m[Ao]){if(m=a.alternate,a.child!==null||m!==null&&m.child!==null)for(o=Vi(o);o!==null;){if(m=o[Ao])return m;o=Vi(o)}return a}o=m,m=o.parentNode}return null}function Xl(o){return o=o[Ao]||o[$i],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function fi(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Ei(o){return o[Kl]||null}var nc=[],ha=-1;function Lo(o){return{current:o}}function ar(o){0>ha||(o.current=nc[ha],nc[ha]=null,ha--)}function fr(o,a){ha++,nc[ha]=o.current,o.current=a}var pa={},Ti=Lo(pa),as=Lo(!1),sl=pa;function Cl(o,a){var m=o.type.contextTypes;if(!m)return pa;var k=o.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===a)return k.__reactInternalMemoizedMaskedChildContext;var R={},z;for(z in m)R[z]=a[z];return k&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=R),R}function ls(o){return o=o.childContextTypes,o!=null}function Jl(){ar(as),ar(Ti)}function Bc(o,a,m){if(Ti.current!==pa)throw Error(n(168));fr(Ti,a),fr(as,m)}function Cu(o,a,m){var k=o.stateNode;if(a=a.childContextTypes,typeof k.getChildContext!="function")return m;k=k.getChildContext();for(var R in k)if(!(R in a))throw Error(n(108,J(o)||"Unknown",R));return ee({},m,k)}function ga(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||pa,sl=Ti.current,fr(Ti,o),fr(as,as.current),!0}function pd(o,a,m){var k=o.stateNode;if(!k)throw Error(n(169));m?(o=Cu(o,a,sl),k.__reactInternalMemoizedMergedChildContext=o,ar(as),ar(Ti),fr(Ti,o)):ar(as),fr(as,m)}var ma=null,Nl=!1,w=!1;function C(o){ma===null?ma=[o]:ma.push(o)}function O(o){Nl=!0,C(o)}function q(){if(!w&&ma!==null){w=!0;var o=0,a=Un;try{var m=ma;for(Un=1;o<m.length;o++){var k=m[o];do k=k(!0);while(k!==null)}ma=null,Nl=!1}catch(R){throw ma!==null&&(ma=ma.slice(o+1)),sr(Cs,q),R}finally{Un=a,w=!1}}return null}var te=[],oe=0,de=null,he=0,pe=[],we=0,Ne=null,je=1,ve="";function Le(o,a){te[oe++]=he,te[oe++]=de,de=o,he=a}function Me(o,a,m){pe[we++]=je,pe[we++]=ve,pe[we++]=Ne,Ne=o;var k=je;o=ve;var R=32-kn(k)-1;k&=~(1<<R),m+=1;var z=32-kn(a)+R;if(30<z){var se=R-R%5;z=(k&(1<<se)-1).toString(32),k>>=se,R-=se,je=1<<32-kn(a)+R|m<<R|k,ve=z+o}else je=1<<z|m<<R|k,ve=o}function Ze(o){o.return!==null&&(Le(o,1),Me(o,1,0))}function De(o){for(;o===de;)de=te[--oe],te[oe]=null,he=te[--oe],te[oe]=null;for(;o===Ne;)Ne=pe[--we],pe[we]=null,ve=pe[--we],pe[we]=null,je=pe[--we],pe[we]=null}var Xe=null,Ae=null,nt=!1,it=null;function Ht(o,a){var m=ul(5,null,null,0);m.elementType="DELETED",m.stateNode=a,m.return=o,a=o.deletions,a===null?(o.deletions=[m],o.flags|=16):a.push(m)}function Ot(o,a){switch(o.tag){case 5:var m=o.type;return a=a.nodeType!==1||m.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,Xe=o,Ae=qi(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,Xe=o,Ae=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(m=Ne!==null?{id:je,overflow:ve}:null,o.memoizedState={dehydrated:a,treeContext:m,retryLane:1073741824},m=ul(18,null,null,0),m.stateNode=a,m.return=o,o.child=m,Xe=o,Ae=null,!0):!1;default:return!1}}function pn(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Ft(o){if(nt){var a=Ae;if(a){var m=a;if(!Ot(o,a)){if(pn(o))throw Error(n(418));a=qi(m.nextSibling);var k=Xe;a&&Ot(o,a)?Ht(k,m):(o.flags=o.flags&-4097|2,nt=!1,Xe=o)}}else{if(pn(o))throw Error(n(418));o.flags=o.flags&-4097|2,nt=!1,Xe=o}}}function Ln(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Xe=o}function Gr(o){if(o!==Xe)return!1;if(!nt)return Ln(o),nt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Mc(o.type,o.memoizedProps)),a&&(a=Ae)){if(pn(o))throw mn(),Error(n(418));for(;a;)Ht(o,a),a=qi(a.nextSibling)}if(Ln(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"){if(a===0){Ae=qi(o.nextSibling);break e}a--}else m!=="$"&&m!=="$!"&&m!=="$?"||a++}o=o.nextSibling}Ae=null}}else Ae=Xe?qi(o.stateNode.nextSibling):null;return!0}function mn(){for(var o=Ae;o;)o=qi(o.nextSibling)}function Tt(){Ae=Xe=null,nt=!1}function bt(o){it===null?it=[o]:it.push(o)}var Hr=L.ReactCurrentBatchConfig;function jt(o,a,m){if(o=m.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var k=m.stateNode}if(!k)throw Error(n(147,o));var R=k,z=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===z?a.ref:(a=function(se){var ke=R.refs;se===null?delete ke[z]:ke[z]=se},a._stringRef=z,a)}if(typeof o!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,o))}return o}function gn(o,a){throw o=Object.prototype.toString.call(a),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function zn(o){var a=o._init;return a(o._payload)}function hi(o){function a(ze,Ie){if(o){var He=ze.deletions;He===null?(ze.deletions=[Ie],ze.flags|=16):He.push(Ie)}}function m(ze,Ie){if(!o)return null;for(;Ie!==null;)a(ze,Ie),Ie=Ie.sibling;return null}function k(ze,Ie){for(ze=new Map;Ie!==null;)Ie.key!==null?ze.set(Ie.key,Ie):ze.set(Ie.index,Ie),Ie=Ie.sibling;return ze}function R(ze,Ie){return ze=mc(ze,Ie),ze.index=0,ze.sibling=null,ze}function z(ze,Ie,He){return ze.index=He,o?(He=ze.alternate,He!==null?(He=He.index,He<Ie?(ze.flags|=2,Ie):He):(ze.flags|=2,Ie)):(ze.flags|=1048576,Ie)}function se(ze){return o&&ze.alternate===null&&(ze.flags|=2),ze}function ke(ze,Ie,He,vt){return Ie===null||Ie.tag!==6?(Ie=b1(He,ze.mode,vt),Ie.return=ze,Ie):(Ie=R(Ie,He),Ie.return=ze,Ie)}function Ee(ze,Ie,He,vt){var Kt=He.type;return Kt===re?ft(ze,Ie,He.props.children,vt,He.key):Ie!==null&&(Ie.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===xe&&zn(Kt)===Ie.type)?(vt=R(Ie,He.props),vt.ref=jt(ze,Ie,He),vt.return=ze,vt):(vt=pp(He.type,He.key,He.props,null,ze.mode,vt),vt.ref=jt(ze,Ie,He),vt.return=ze,vt)}function qe(ze,Ie,He,vt){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==He.containerInfo||Ie.stateNode.implementation!==He.implementation?(Ie=_1(He,ze.mode,vt),Ie.return=ze,Ie):(Ie=R(Ie,He.children||[]),Ie.return=ze,Ie)}function ft(ze,Ie,He,vt,Kt){return Ie===null||Ie.tag!==7?(Ie=qc(He,ze.mode,vt,Kt),Ie.return=ze,Ie):(Ie=R(Ie,He),Ie.return=ze,Ie)}function pt(ze,Ie,He){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return Ie=b1(""+Ie,ze.mode,He),Ie.return=ze,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case D:return He=pp(Ie.type,Ie.key,Ie.props,null,ze.mode,He),He.ref=jt(ze,null,Ie),He.return=ze,He;case W:return Ie=_1(Ie,ze.mode,He),Ie.return=ze,Ie;case xe:var vt=Ie._init;return pt(ze,vt(Ie._payload),He)}if(ut(Ie)||Q(Ie))return Ie=qc(Ie,ze.mode,He,null),Ie.return=ze,Ie;gn(ze,Ie)}return null}function lt(ze,Ie,He,vt){var Kt=Ie!==null?Ie.key:null;if(typeof He=="string"&&He!==""||typeof He=="number")return Kt!==null?null:ke(ze,Ie,""+He,vt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case D:return He.key===Kt?Ee(ze,Ie,He,vt):null;case W:return He.key===Kt?qe(ze,Ie,He,vt):null;case xe:return Kt=He._init,lt(ze,Ie,Kt(He._payload),vt)}if(ut(He)||Q(He))return Kt!==null?null:ft(ze,Ie,He,vt,null);gn(ze,He)}return null}function Mt(ze,Ie,He,vt,Kt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return ze=ze.get(He)||null,ke(Ie,ze,""+vt,Kt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case D:return ze=ze.get(vt.key===null?He:vt.key)||null,Ee(Ie,ze,vt,Kt);case W:return ze=ze.get(vt.key===null?He:vt.key)||null,qe(Ie,ze,vt,Kt);case xe:var un=vt._init;return Mt(ze,Ie,He,un(vt._payload),Kt)}if(ut(vt)||Q(vt))return ze=ze.get(He)||null,ft(Ie,ze,vt,Kt,null);gn(Ie,vt)}return null}function Wt(ze,Ie,He,vt){for(var Kt=null,un=null,cn=Ie,yn=Ie=0,Us=null;cn!==null&&yn<He.length;yn++){cn.index>yn?(Us=cn,cn=null):Us=cn.sibling;var wr=lt(ze,cn,He[yn],vt);if(wr===null){cn===null&&(cn=Us);break}o&&cn&&wr.alternate===null&&a(ze,cn),Ie=z(wr,Ie,yn),un===null?Kt=wr:un.sibling=wr,un=wr,cn=Us}if(yn===He.length)return m(ze,cn),nt&&Le(ze,yn),Kt;if(cn===null){for(;yn<He.length;yn++)cn=pt(ze,He[yn],vt),cn!==null&&(Ie=z(cn,Ie,yn),un===null?Kt=cn:un.sibling=cn,un=cn);return nt&&Le(ze,yn),Kt}for(cn=k(ze,cn);yn<He.length;yn++)Us=Mt(cn,ze,yn,He[yn],vt),Us!==null&&(o&&Us.alternate!==null&&cn.delete(Us.key===null?yn:Us.key),Ie=z(Us,Ie,yn),un===null?Kt=Us:un.sibling=Us,un=Us);return o&&cn.forEach(function(yc){return a(ze,yc)}),nt&&Le(ze,yn),Kt}function $t(ze,Ie,He,vt){var Kt=Q(He);if(typeof Kt!="function")throw Error(n(150));if(He=Kt.call(He),He==null)throw Error(n(151));for(var un=Kt=null,cn=Ie,yn=Ie=0,Us=null,wr=He.next();cn!==null&&!wr.done;yn++,wr=He.next()){cn.index>yn?(Us=cn,cn=null):Us=cn.sibling;var yc=lt(ze,cn,wr.value,vt);if(yc===null){cn===null&&(cn=Us);break}o&&cn&&yc.alternate===null&&a(ze,cn),Ie=z(yc,Ie,yn),un===null?Kt=yc:un.sibling=yc,un=yc,cn=Us}if(wr.done)return m(ze,cn),nt&&Le(ze,yn),Kt;if(cn===null){for(;!wr.done;yn++,wr=He.next())wr=pt(ze,wr.value,vt),wr!==null&&(Ie=z(wr,Ie,yn),un===null?Kt=wr:un.sibling=wr,un=wr);return nt&&Le(ze,yn),Kt}for(cn=k(ze,cn);!wr.done;yn++,wr=He.next())wr=Mt(cn,ze,yn,wr.value,vt),wr!==null&&(o&&wr.alternate!==null&&cn.delete(wr.key===null?yn:wr.key),Ie=z(wr,Ie,yn),un===null?Kt=wr:un.sibling=wr,un=wr);return o&&cn.forEach(function(Hb){return a(ze,Hb)}),nt&&Le(ze,yn),Kt}function Xi(ze,Ie,He,vt){if(typeof He=="object"&&He!==null&&He.type===re&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case D:e:{for(var Kt=He.key,un=Ie;un!==null;){if(un.key===Kt){if(Kt=He.type,Kt===re){if(un.tag===7){m(ze,un.sibling),Ie=R(un,He.props.children),Ie.return=ze,ze=Ie;break e}}else if(un.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===xe&&zn(Kt)===un.type){m(ze,un.sibling),Ie=R(un,He.props),Ie.ref=jt(ze,un,He),Ie.return=ze,ze=Ie;break e}m(ze,un);break}else a(ze,un);un=un.sibling}He.type===re?(Ie=qc(He.props.children,ze.mode,vt,He.key),Ie.return=ze,ze=Ie):(vt=pp(He.type,He.key,He.props,null,ze.mode,vt),vt.ref=jt(ze,Ie,He),vt.return=ze,ze=vt)}return se(ze);case W:e:{for(un=He.key;Ie!==null;){if(Ie.key===un)if(Ie.tag===4&&Ie.stateNode.containerInfo===He.containerInfo&&Ie.stateNode.implementation===He.implementation){m(ze,Ie.sibling),Ie=R(Ie,He.children||[]),Ie.return=ze,ze=Ie;break e}else{m(ze,Ie);break}else a(ze,Ie);Ie=Ie.sibling}Ie=_1(He,ze.mode,vt),Ie.return=ze,ze=Ie}return se(ze);case xe:return un=He._init,Xi(ze,Ie,un(He._payload),vt)}if(ut(He))return Wt(ze,Ie,He,vt);if(Q(He))return $t(ze,Ie,He,vt);gn(ze,He)}return typeof He=="string"&&He!==""||typeof He=="number"?(He=""+He,Ie!==null&&Ie.tag===6?(m(ze,Ie.sibling),Ie=R(Ie,He),Ie.return=ze,ze=Ie):(m(ze,Ie),Ie=b1(He,ze.mode,vt),Ie.return=ze,ze=Ie),se(ze)):m(ze,Ie)}return Xi}var si=hi(!0),Kn=hi(!1),pi=Lo(null),br=null,Mr=null,Fn=null;function Qn(){Fn=Mr=br=null}function Pr(o){var a=pi.current;ar(pi),o._currentValue=a}function Zn(o,a,m){for(;o!==null;){var k=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,k!==null&&(k.childLanes|=a)):k!==null&&(k.childLanes&a)!==a&&(k.childLanes|=a),o===m)break;o=o.return}}function Ir(o,a){br=o,Fn=Mr=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Y=!0),o.firstContext=null)}function Rr(o){var a=o._currentValue;if(Fn!==o)if(o={context:o,memoizedValue:a,next:null},Mr===null){if(br===null)throw Error(n(308));Mr=o,br.dependencies={lanes:0,firstContext:o}}else Mr=Mr.next=o;return a}var lr=null;function Ai(o){lr===null?lr=[o]:lr.push(o)}function rr(o,a,m,k){var R=a.interleaved;return R===null?(m.next=m,Ai(a)):(m.next=R.next,R.next=m),a.interleaved=m,ir(o,k)}function ir(o,a){o.lanes|=a;var m=o.alternate;for(m!==null&&(m.lanes|=a),m=o,o=o.return;o!==null;)o.childLanes|=a,m=o.alternate,m!==null&&(m.childLanes|=a),m=o,o=o.return;return m.tag===3?m.stateNode:null}var ei=!1;function Li(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function us(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ti(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Wr(o,a,m){var k=o.updateQueue;if(k===null)return null;if(k=k.shared,(pr&2)!==0){var R=k.pending;return R===null?a.next=a:(a.next=R.next,R.next=a),k.pending=a,ir(o,m)}return R=k.interleaved,R===null?(a.next=a,Ai(k)):(a.next=R.next,R.next=a),k.interleaved=a,ir(o,m)}function cs(o,a,m){if(a=a.updateQueue,a!==null&&(a=a.shared,(m&4194240)!==0)){var k=a.lanes;k&=o.pendingLanes,m|=k,a.lanes=m,Ul(o,m)}}function ur(o,a){var m=o.updateQueue,k=o.alternate;if(k!==null&&(k=k.updateQueue,m===k)){var R=null,z=null;if(m=m.firstBaseUpdate,m!==null){do{var se={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};z===null?R=z=se:z=z.next=se,m=m.next}while(m!==null);z===null?R=z=a:z=z.next=a}else R=z=a;m={baseState:k.baseState,firstBaseUpdate:R,lastBaseUpdate:z,shared:k.shared,effects:k.effects},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=a:o.next=a,m.lastBaseUpdate=a}function Di(o,a,m,k){var R=o.updateQueue;ei=!1;var z=R.firstBaseUpdate,se=R.lastBaseUpdate,ke=R.shared.pending;if(ke!==null){R.shared.pending=null;var Ee=ke,qe=Ee.next;Ee.next=null,se===null?z=qe:se.next=qe,se=Ee;var ft=o.alternate;ft!==null&&(ft=ft.updateQueue,ke=ft.lastBaseUpdate,ke!==se&&(ke===null?ft.firstBaseUpdate=qe:ke.next=qe,ft.lastBaseUpdate=Ee))}if(z!==null){var pt=R.baseState;se=0,ft=qe=Ee=null,ke=z;do{var lt=ke.lane,Mt=ke.eventTime;if((k&lt)===lt){ft!==null&&(ft=ft.next={eventTime:Mt,lane:0,tag:ke.tag,payload:ke.payload,callback:ke.callback,next:null});e:{var Wt=o,$t=ke;switch(lt=a,Mt=m,$t.tag){case 1:if(Wt=$t.payload,typeof Wt=="function"){pt=Wt.call(Mt,pt,lt);break e}pt=Wt;break e;case 3:Wt.flags=Wt.flags&-65537|128;case 0:if(Wt=$t.payload,lt=typeof Wt=="function"?Wt.call(Mt,pt,lt):Wt,lt==null)break e;pt=ee({},pt,lt);break e;case 2:ei=!0}}ke.callback!==null&&ke.lane!==0&&(o.flags|=64,lt=R.effects,lt===null?R.effects=[ke]:lt.push(ke))}else Mt={eventTime:Mt,lane:lt,tag:ke.tag,payload:ke.payload,callback:ke.callback,next:null},ft===null?(qe=ft=Mt,Ee=pt):ft=ft.next=Mt,se|=lt;if(ke=ke.next,ke===null){if(ke=R.shared.pending,ke===null)break;lt=ke,ke=lt.next,lt.next=null,R.lastBaseUpdate=lt,R.shared.pending=null}}while(!0);if(ft===null&&(Ee=pt),R.baseState=Ee,R.firstBaseUpdate=qe,R.lastBaseUpdate=ft,a=R.shared.interleaved,a!==null){R=a;do se|=R.lane,R=R.next;while(R!==a)}else z===null&&(R.shared.lanes=0);zc|=se,o.lanes=se,o.memoizedState=pt}}function er(o,a,m){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var k=o[a],R=k.callback;if(R!==null){if(k.callback=null,k=m,typeof R!="function")throw Error(n(191,R));R.call(k)}}}var ln={},Gn=Lo(ln),Nn=Lo(ln),Br=Lo(ln);function oi(o){if(o===ln)throw Error(n(174));return o}function $o(o,a){switch(fr(Br,a),fr(Nn,o),fr(Gn,ln),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Sn(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Sn(a,o)}ar(Gn),fr(Gn,a)}function yr(){ar(Gn),ar(Nn),ar(Br)}function Ql(o){oi(Br.current);var a=oi(Gn.current),m=Sn(a,o.type);a!==m&&(fr(Nn,o),fr(Gn,m))}function Ma(o){Nn.current===o&&(ar(Gn),ar(Nn))}var vr=Lo(0);function no(o){for(var a=o;a!==null;){if(a.tag===13){var m=a.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var El=[];function ds(){for(var o=0;o<El.length;o++)El[o]._workInProgressVersionPrimary=null;El.length=0}var Zl=L.ReactCurrentDispatcher,eu=L.ReactCurrentBatchConfig,Oi=0,hr=null,qr=null,Vr=null,ro=!1,Po=!1,io=0,rc=0;function $r(){throw Error(n(321))}function tu(o,a){if(a===null)return!1;for(var m=0;m<a.length&&m<o.length;m++)if(!Lr(o[m],a[m]))return!1;return!0}function ol(o,a,m,k,R,z){if(Oi=z,hr=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Zl.current=o===null||o.memoizedState===null?t1:ru,o=m(k,R),Po){z=0;do{if(Po=!1,io=0,25<=z)throw Error(n(301));z+=1,Vr=qr=null,a.updateQueue=null,Zl.current=md,o=m(k,R)}while(Po)}if(Zl.current=ac,a=qr!==null&&qr.next!==null,Oi=0,Vr=qr=hr=null,ro=!1,a)throw Error(n(300));return o}function so(){var o=io!==0;return io=0,o}function Cr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?hr.memoizedState=Vr=o:Vr=Vr.next=o,Vr}function gi(){if(qr===null){var o=hr.alternate;o=o!==null?o.memoizedState:null}else o=qr.next;var a=Vr===null?hr.memoizedState:Vr.next;if(a!==null)Vr=a,qr=o;else{if(o===null)throw Error(n(310));qr=o,o={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},Vr===null?hr.memoizedState=Vr=o:Vr=Vr.next=o}return Vr}function fs(o,a){return typeof a=="function"?a(o):a}function Yi(o){var a=gi(),m=a.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=o;var k=qr,R=k.baseQueue,z=m.pending;if(z!==null){if(R!==null){var se=R.next;R.next=z.next,z.next=se}k.baseQueue=R=z,m.pending=null}if(R!==null){z=R.next,k=k.baseState;var ke=se=null,Ee=null,qe=z;do{var ft=qe.lane;if((Oi&ft)===ft)Ee!==null&&(Ee=Ee.next={lane:0,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null}),k=qe.hasEagerState?qe.eagerState:o(k,qe.action);else{var pt={lane:ft,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null};Ee===null?(ke=Ee=pt,se=k):Ee=Ee.next=pt,hr.lanes|=ft,zc|=ft}qe=qe.next}while(qe!==null&&qe!==z);Ee===null?se=k:Ee.next=ke,Lr(k,a.memoizedState)||(Y=!0),a.memoizedState=k,a.baseState=se,a.baseQueue=Ee,m.lastRenderedState=k}if(o=m.interleaved,o!==null){R=o;do z=R.lane,hr.lanes|=z,zc|=z,R=R.next;while(R!==o)}else R===null&&(m.lanes=0);return[a.memoizedState,m.dispatch]}function Ba(o){var a=gi(),m=a.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=o;var k=m.dispatch,R=m.pending,z=a.memoizedState;if(R!==null){m.pending=null;var se=R=R.next;do z=o(z,se.action),se=se.next;while(se!==R);Lr(z,a.memoizedState)||(Y=!0),a.memoizedState=z,a.baseQueue===null&&(a.baseState=z),m.lastRenderedState=z}return[z,k]}function ic(){}function Nu(o,a){var m=hr,k=gi(),R=a(),z=!Lr(k.memoizedState,R);if(z&&(k.memoizedState=R,Y=!0),k=k.queue,oc(jc.bind(null,m,k,o),[o]),k.getSnapshot!==a||z||Vr!==null&&Vr.memoizedState.tag&1){if(m.flags|=2048,Ms(9,ya.bind(null,m,k,R,a),void 0,null),js===null)throw Error(n(349));(Oi&30)!==0||gd(m,a,R)}return R}function gd(o,a,m){o.flags|=16384,o={getSnapshot:a,value:m},a=hr.updateQueue,a===null?(a={lastEffect:null,stores:null},hr.updateQueue=a,a.stores=[o]):(m=a.stores,m===null?a.stores=[o]:m.push(o))}function ya(o,a,m,k){a.value=m,a.getSnapshot=k,Al(a)&&nu(o)}function jc(o,a,m){return m(function(){Al(a)&&nu(o)})}function Al(o){var a=o.getSnapshot;o=o.value;try{var m=a();return!Lr(o,m)}catch{return!0}}function nu(o){var a=ir(o,1);a!==null&&Rl(a,o,1,-1)}function Yo(o){var a=Cr();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:o},a.queue=o,o=o.dispatch=ep.bind(null,hr,o),[a.memoizedState,o]}function Ms(o,a,m,k){return o={tag:o,create:a,destroy:m,deps:k,next:null},a=hr.updateQueue,a===null?(a={lastEffect:null,stores:null},hr.updateQueue=a,a.lastEffect=o.next=o):(m=a.lastEffect,m===null?a.lastEffect=o.next=o:(k=m.next,m.next=o,o.next=k,a.lastEffect=o)),o}function va(){return gi().memoizedState}function oo(o,a,m,k){var R=Cr();hr.flags|=o,R.memoizedState=Ms(1|a,m,void 0,k===void 0?null:k)}function wa(o,a,m,k){var R=gi();k=k===void 0?null:k;var z=void 0;if(qr!==null){var se=qr.memoizedState;if(z=se.destroy,k!==null&&tu(k,se.deps)){R.memoizedState=Ms(a,m,z,k);return}}hr.flags|=o,R.memoizedState=Ms(1|a,m,z,k)}function sc(o,a){return oo(8390656,8,o,a)}function oc(o,a){return wa(2048,8,o,a)}function Uc(o,a){return wa(4,2,o,a)}function Eu(o,a){return wa(4,4,o,a)}function ba(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function Xh(o,a,m){return m=m!=null?m.concat([o]):null,wa(4,4,ba.bind(null,a,o),m)}function Ll(){}function af(o,a){var m=gi();a=a===void 0?null:a;var k=m.memoizedState;return k!==null&&a!==null&&tu(a,k[1])?k[0]:(m.memoizedState=[o,a],o)}function Yr(o,a){var m=gi();a=a===void 0?null:a;var k=m.memoizedState;return k!==null&&a!==null&&tu(a,k[1])?k[0]:(o=o(),m.memoizedState=[o,a],o)}function Jh(o,a,m){return(Oi&21)===0?(o.baseState&&(o.baseState=!1,Y=!0),o.memoizedState=m):(Lr(m,a)||(m=yu(),hr.lanes|=m,zc|=m,o.baseState=!0),a)}function Qh(o,a){var m=Un;Un=m!==0&&4>m?m:4,o(!0);var k=eu.transition;eu.transition={};try{o(!1),a()}finally{Un=m,eu.transition=k}}function Zh(){return gi().memoizedState}function e1(o,a,m){var k=pc(o);if(m={lane:k,action:m,hasEagerState:!1,eagerState:null,next:null},lf(o))tp(a,m);else if(m=rr(o,a,m,k),m!==null){var R=Xo();Rl(m,o,k,R),Ko(m,a,k)}}function ep(o,a,m){var k=pc(o),R={lane:k,action:m,hasEagerState:!1,eagerState:null,next:null};if(lf(o))tp(a,R);else{var z=o.alternate;if(o.lanes===0&&(z===null||z.lanes===0)&&(z=a.lastRenderedReducer,z!==null))try{var se=a.lastRenderedState,ke=z(se,m);if(R.hasEagerState=!0,R.eagerState=ke,Lr(ke,se)){var Ee=a.interleaved;Ee===null?(R.next=R,Ai(a)):(R.next=Ee.next,Ee.next=R),a.interleaved=R;return}}catch{}finally{}m=rr(o,a,R,k),m!==null&&(R=Xo(),Rl(m,o,k,R),Ko(m,a,k))}}function lf(o){var a=o.alternate;return o===hr||a!==null&&a===hr}function tp(o,a){Po=ro=!0;var m=o.pending;m===null?a.next=a:(a.next=m.next,m.next=a),o.pending=a}function Ko(o,a,m){if((m&4194240)!==0){var k=a.lanes;k&=o.pendingLanes,m|=k,a.lanes=m,Ul(o,m)}}var ac={readContext:Rr,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},t1={readContext:Rr,useCallback:function(o,a){return Cr().memoizedState=[o,a===void 0?null:a],o},useContext:Rr,useEffect:sc,useImperativeHandle:function(o,a,m){return m=m!=null?m.concat([o]):null,oo(4194308,4,ba.bind(null,a,o),m)},useLayoutEffect:function(o,a){return oo(4194308,4,o,a)},useInsertionEffect:function(o,a){return oo(4,2,o,a)},useMemo:function(o,a){var m=Cr();return a=a===void 0?null:a,o=o(),m.memoizedState=[o,a],o},useReducer:function(o,a,m){var k=Cr();return a=m!==void 0?m(a):a,k.memoizedState=k.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},k.queue=o,o=o.dispatch=e1.bind(null,hr,o),[k.memoizedState,o]},useRef:function(o){var a=Cr();return o={current:o},a.memoizedState=o},useState:Yo,useDebugValue:Ll,useDeferredValue:function(o){return Cr().memoizedState=o},useTransition:function(){var o=Yo(!1),a=o[0];return o=Qh.bind(null,o[1]),Cr().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,m){var k=hr,R=Cr();if(nt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=a(),js===null)throw Error(n(349));(Oi&30)!==0||gd(k,a,m)}R.memoizedState=m;var z={value:m,getSnapshot:a};return R.queue=z,sc(jc.bind(null,k,z,o),[o]),k.flags|=2048,Ms(9,ya.bind(null,k,z,m,a),void 0,null),m},useId:function(){var o=Cr(),a=js.identifierPrefix;if(nt){var m=ve,k=je;m=(k&~(1<<32-kn(k)-1)).toString(32)+m,a=":"+a+"R"+m,m=io++,0<m&&(a+="H"+m.toString(32)),a+=":"}else m=rc++,a=":"+a+"r"+m.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},ru={readContext:Rr,useCallback:af,useContext:Rr,useEffect:oc,useImperativeHandle:Xh,useInsertionEffect:Uc,useLayoutEffect:Eu,useMemo:Yr,useReducer:Yi,useRef:va,useState:function(){return Yi(fs)},useDebugValue:Ll,useDeferredValue:function(o){var a=gi();return Jh(a,qr.memoizedState,o)},useTransition:function(){var o=Yi(fs)[0],a=gi().memoizedState;return[o,a]},useMutableSource:ic,useSyncExternalStore:Nu,useId:Zh,unstable_isNewReconciler:!1},md={readContext:Rr,useCallback:af,useContext:Rr,useEffect:oc,useImperativeHandle:Xh,useInsertionEffect:Uc,useLayoutEffect:Eu,useMemo:Yr,useReducer:Ba,useRef:va,useState:function(){return Ba(fs)},useDebugValue:Ll,useDeferredValue:function(o){var a=gi();return qr===null?a.memoizedState=o:Jh(a,qr.memoizedState,o)},useTransition:function(){var o=Ba(fs)[0],a=gi().memoizedState;return[o,a]},useMutableSource:ic,useSyncExternalStore:Nu,useId:Zh,unstable_isNewReconciler:!1};function xs(o,a){if(o&&o.defaultProps){a=ee({},a),o=o.defaultProps;for(var m in o)a[m]===void 0&&(a[m]=o[m]);return a}return a}function lc(o,a,m,k){a=o.memoizedState,m=m(k,a),m=m==null?a:ee({},a,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var uc={isMounted:function(o){return(o=o._reactInternals)?It(o)===o:!1},enqueueSetState:function(o,a,m){o=o._reactInternals;var k=Xo(),R=pc(o),z=ti(k,R);z.payload=a,m!=null&&(z.callback=m),a=Wr(o,z,R),a!==null&&(Rl(a,o,R,k),cs(a,o,R))},enqueueReplaceState:function(o,a,m){o=o._reactInternals;var k=Xo(),R=pc(o),z=ti(k,R);z.tag=1,z.payload=a,m!=null&&(z.callback=m),a=Wr(o,z,R),a!==null&&(Rl(a,o,R,k),cs(a,o,R))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var m=Xo(),k=pc(o),R=ti(m,k);R.tag=2,a!=null&&(R.callback=a),a=Wr(o,R,k),a!==null&&(Rl(a,o,k,m),cs(a,o,k))}};function yd(o,a,m,k,R,z,se){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(k,z,se):a.prototype&&a.prototype.isPureReactComponent?!ss(m,k)||!ss(R,z):!0}function np(o,a,m){var k=!1,R=pa,z=a.contextType;return typeof z=="object"&&z!==null?z=Rr(z):(R=ls(a)?sl:Ti.current,k=a.contextTypes,z=(k=k!=null)?Cl(o,R):pa),a=new a(m,z),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=uc,o.stateNode=a,a._reactInternals=o,k&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=R,o.__reactInternalMemoizedMaskedChildContext=z),a}function uf(o,a,m,k){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(m,k),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(m,k),a.state!==o&&uc.enqueueReplaceState(a,a.state,null)}function vd(o,a,m,k){var R=o.stateNode;R.props=m,R.state=o.memoizedState,R.refs={},Li(o);var z=a.contextType;typeof z=="object"&&z!==null?R.context=Rr(z):(z=ls(a)?sl:Ti.current,R.context=Cl(o,z)),R.state=o.memoizedState,z=a.getDerivedStateFromProps,typeof z=="function"&&(lc(o,a,z,m),R.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(a=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),a!==R.state&&uc.enqueueReplaceState(R,R.state,null),Di(o,m,R,k),R.state=o.memoizedState),typeof R.componentDidMount=="function"&&(o.flags|=4194308)}function Au(o,a){try{var m="",k=a;do m+=ce(k),k=k.return;while(k);var R=m}catch(z){R=`
Error generating stack: `+z.message+`
`+z.stack}return{value:o,source:a,stack:R,digest:null}}function wd(o,a,m){return{value:o,source:null,stack:m??null,digest:a??null}}function cc(o,a){try{console.error(a.value)}catch(m){setTimeout(function(){throw m})}}var n1=typeof WeakMap=="function"?WeakMap:Map;function rp(o,a,m){m=ti(-1,m),m.tag=3,m.payload={element:null};var k=a.value;return m.callback=function(){lp||(lp=!0,f1=k),cc(o,a)},m}function d(o,a,m){m=ti(-1,m),m.tag=3;var k=o.type.getDerivedStateFromError;if(typeof k=="function"){var R=a.value;m.payload=function(){return k(R)},m.callback=function(){cc(o,a)}}var z=o.stateNode;return z!==null&&typeof z.componentDidCatch=="function"&&(m.callback=function(){cc(o,a),typeof k!="function"&&(fc===null?fc=new Set([this]):fc.add(this));var se=a.stack;this.componentDidCatch(a.value,{componentStack:se!==null?se:""})}),m}function f(o,a,m){var k=o.pingCache;if(k===null){k=o.pingCache=new n1;var R=new Set;k.set(a,R)}else R=k.get(a),R===void 0&&(R=new Set,k.set(a,R));R.has(m)||(R.add(m),o=Rb.bind(null,o,a,m),a.then(o,o))}function b(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function P(o,a,m,k,R){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(a=ti(-1,1),a.tag=2,Wr(m,a,1))),m.lanes|=1),o):(o.flags|=65536,o.lanes=R,o)}var T=L.ReactCurrentOwner,Y=!1;function me(o,a,m,k){a.child=o===null?Kn(a,null,m,k):si(a,o.child,m,k)}function Te(o,a,m,k,R){m=m.render;var z=a.ref;return Ir(a,R),k=ol(o,a,m,k,z,R),m=so(),o!==null&&!Y?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~R,Bs(o,a,R)):(nt&&m&&Ze(a),a.flags|=1,me(o,a,k,R),a.child)}function Ye(o,a,m,k,R){if(o===null){var z=m.type;return typeof z=="function"&&!w1(z)&&z.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(a.tag=15,a.type=z,mt(o,a,z,k,R)):(o=pp(m.type,null,k,a,a.mode,R),o.ref=a.ref,o.return=a,a.child=o)}if(z=o.child,(o.lanes&R)===0){var se=z.memoizedProps;if(m=m.compare,m=m!==null?m:ss,m(se,k)&&o.ref===a.ref)return Bs(o,a,R)}return a.flags|=1,o=mc(z,k),o.ref=a.ref,o.return=a,a.child=o}function mt(o,a,m,k,R){if(o!==null){var z=o.memoizedProps;if(ss(z,k)&&o.ref===a.ref)if(Y=!1,a.pendingProps=k=z,(o.lanes&R)!==0)(o.flags&131072)!==0&&(Y=!0);else return a.lanes=o.lanes,Bs(o,a,R)}return Nt(o,a,m,k,R)}function Ut(o,a,m){var k=a.pendingProps,R=k.children,z=o!==null?o.memoizedState:null;if(k.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},fr(_d,ja),ja|=m;else{if((m&1073741824)===0)return o=z!==null?z.baseLanes|m:m,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,fr(_d,ja),ja|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},k=z!==null?z.baseLanes:m,fr(_d,ja),ja|=k}else z!==null?(k=z.baseLanes|m,a.memoizedState=null):k=m,fr(_d,ja),ja|=k;return me(o,a,R,m),a.child}function _n(o,a){var m=a.ref;(o===null&&m!==null||o!==null&&o.ref!==m)&&(a.flags|=512,a.flags|=2097152)}function Nt(o,a,m,k,R){var z=ls(m)?sl:Ti.current;return z=Cl(a,z),Ir(a,R),m=ol(o,a,m,k,z,R),k=so(),o!==null&&!Y?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~R,Bs(o,a,R)):(nt&&k&&Ze(a),a.flags|=1,me(o,a,m,R),a.child)}function jr(o,a,m,k,R){if(ls(m)){var z=!0;ga(a)}else z=!1;if(Ir(a,R),a.stateNode===null)Xn(o,a),np(a,m,k),vd(a,m,k,R),k=!0;else if(o===null){var se=a.stateNode,ke=a.memoizedProps;se.props=ke;var Ee=se.context,qe=m.contextType;typeof qe=="object"&&qe!==null?qe=Rr(qe):(qe=ls(m)?sl:Ti.current,qe=Cl(a,qe));var ft=m.getDerivedStateFromProps,pt=typeof ft=="function"||typeof se.getSnapshotBeforeUpdate=="function";pt||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(ke!==k||Ee!==qe)&&uf(a,se,k,qe),ei=!1;var lt=a.memoizedState;se.state=lt,Di(a,k,se,R),Ee=a.memoizedState,ke!==k||lt!==Ee||as.current||ei?(typeof ft=="function"&&(lc(a,m,ft,k),Ee=a.memoizedState),(ke=ei||yd(a,m,ke,k,lt,Ee,qe))?(pt||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(a.flags|=4194308)):(typeof se.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=k,a.memoizedState=Ee),se.props=k,se.state=Ee,se.context=qe,k=ke):(typeof se.componentDidMount=="function"&&(a.flags|=4194308),k=!1)}else{se=a.stateNode,us(o,a),ke=a.memoizedProps,qe=a.type===a.elementType?ke:xs(a.type,ke),se.props=qe,pt=a.pendingProps,lt=se.context,Ee=m.contextType,typeof Ee=="object"&&Ee!==null?Ee=Rr(Ee):(Ee=ls(m)?sl:Ti.current,Ee=Cl(a,Ee));var Mt=m.getDerivedStateFromProps;(ft=typeof Mt=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(ke!==pt||lt!==Ee)&&uf(a,se,k,Ee),ei=!1,lt=a.memoizedState,se.state=lt,Di(a,k,se,R);var Wt=a.memoizedState;ke!==pt||lt!==Wt||as.current||ei?(typeof Mt=="function"&&(lc(a,m,Mt,k),Wt=a.memoizedState),(qe=ei||yd(a,m,qe,k,lt,Wt,Ee)||!1)?(ft||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(k,Wt,Ee),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(k,Wt,Ee)),typeof se.componentDidUpdate=="function"&&(a.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof se.componentDidUpdate!="function"||ke===o.memoizedProps&&lt===o.memoizedState||(a.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||ke===o.memoizedProps&&lt===o.memoizedState||(a.flags|=1024),a.memoizedProps=k,a.memoizedState=Wt),se.props=k,se.state=Wt,se.context=Ee,k=qe):(typeof se.componentDidUpdate!="function"||ke===o.memoizedProps&&lt===o.memoizedState||(a.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||ke===o.memoizedProps&&lt===o.memoizedState||(a.flags|=1024),k=!1)}return _r(o,a,m,k,z,R)}function _r(o,a,m,k,R,z){_n(o,a);var se=(a.flags&128)!==0;if(!k&&!se)return R&&pd(a,m,!1),Bs(o,a,z);k=a.stateNode,T.current=a;var ke=se&&typeof m.getDerivedStateFromError!="function"?null:k.render();return a.flags|=1,o!==null&&se?(a.child=si(a,o.child,null,z),a.child=si(a,null,ke,z)):me(o,a,ke,z),a.memoizedState=k.state,R&&pd(a,m,!0),a.child}function ao(o){var a=o.stateNode;a.pendingContext?Bc(o,a.pendingContext,a.pendingContext!==a.context):a.context&&Bc(o,a.context,!1),$o(o,a.containerInfo)}function al(o,a,m,k,R){return Tt(),bt(R),a.flags|=256,me(o,a,m,k),a.child}var We={dehydrated:null,treeContext:null,retryLane:0};function Oe(o){return{baseLanes:o,cachePool:null,transitions:null}}function et(o,a,m){var k=a.pendingProps,R=vr.current,z=!1,se=(a.flags&128)!==0,ke;if((ke=se)||(ke=o!==null&&o.memoizedState===null?!1:(R&2)!==0),ke?(z=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(R|=1),fr(vr,R&1),o===null)return Ft(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(se=k.children,o=k.fallback,z?(k=a.mode,z=a.child,se={mode:"hidden",children:se},(k&1)===0&&z!==null?(z.childLanes=0,z.pendingProps=se):z=gp(se,k,0,null),o=qc(o,k,m,null),z.return=a,o.return=a,z.sibling=o,a.child=z,a.child.memoizedState=Oe(m),a.memoizedState=We,o):At(a,se));if(R=o.memoizedState,R!==null&&(ke=R.dehydrated,ke!==null))return Pn(o,a,se,k,ke,R,m);if(z){z=k.fallback,se=a.mode,R=o.child,ke=R.sibling;var Ee={mode:"hidden",children:k.children};return(se&1)===0&&a.child!==R?(k=a.child,k.childLanes=0,k.pendingProps=Ee,a.deletions=null):(k=mc(R,Ee),k.subtreeFlags=R.subtreeFlags&14680064),ke!==null?z=mc(ke,z):(z=qc(z,se,m,null),z.flags|=2),z.return=a,k.return=a,k.sibling=z,a.child=k,k=z,z=a.child,se=o.child.memoizedState,se=se===null?Oe(m):{baseLanes:se.baseLanes|m,cachePool:null,transitions:se.transitions},z.memoizedState=se,z.childLanes=o.childLanes&~m,a.memoizedState=We,k}return z=o.child,o=z.sibling,k=mc(z,{mode:"visible",children:k.children}),(a.mode&1)===0&&(k.lanes=m),k.return=a,k.sibling=null,o!==null&&(m=a.deletions,m===null?(a.deletions=[o],a.flags|=16):m.push(o)),a.child=k,a.memoizedState=null,k}function At(o,a){return a=gp({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Zt(o,a,m,k){return k!==null&&bt(k),si(a,o.child,null,m),o=At(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function Pn(o,a,m,k,R,z,se){if(m)return a.flags&256?(a.flags&=-257,k=wd(Error(n(422))),Zt(o,a,se,k)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(z=k.fallback,R=a.mode,k=gp({mode:"visible",children:k.children},R,0,null),z=qc(z,R,se,null),z.flags|=2,k.return=a,z.return=a,k.sibling=z,a.child=k,(a.mode&1)!==0&&si(a,o.child,null,se),a.child.memoizedState=Oe(se),a.memoizedState=We,z);if((a.mode&1)===0)return Zt(o,a,se,null);if(R.data==="$!"){if(k=R.nextSibling&&R.nextSibling.dataset,k)var ke=k.dgst;return k=ke,z=Error(n(419)),k=wd(z,k,void 0),Zt(o,a,se,k)}if(ke=(se&o.childLanes)!==0,Y||ke){if(k=js,k!==null){switch(se&-se){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(k.suspendedLanes|se))!==0?0:R,R!==0&&R!==z.retryLane&&(z.retryLane=R,ir(o,R),Rl(k,o,R,-1))}return v1(),k=wd(Error(n(421))),Zt(o,a,se,k)}return R.data==="$?"?(a.flags|=128,a.child=o.child,a=Tb.bind(null,o),R._reactRetry=a,null):(o=z.treeContext,Ae=qi(R.nextSibling),Xe=a,nt=!0,it=null,o!==null&&(pe[we++]=je,pe[we++]=ve,pe[we++]=Ne,je=o.id,ve=o.overflow,Ne=a),a=At(a,k.children),a.flags|=4096,a)}function xn(o,a,m){o.lanes|=a;var k=o.alternate;k!==null&&(k.lanes|=a),Zn(o.return,a,m)}function tr(o,a,m,k,R){var z=o.memoizedState;z===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:k,tail:m,tailMode:R}:(z.isBackwards=a,z.rendering=null,z.renderingStartTime=0,z.last=k,z.tail=m,z.tailMode=R)}function Ki(o,a,m){var k=a.pendingProps,R=k.revealOrder,z=k.tail;if(me(o,a,k.children,m),k=vr.current,(k&2)!==0)k=k&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&xn(o,m,a);else if(o.tag===19)xn(o,m,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}k&=1}if(fr(vr,k),(a.mode&1)===0)a.memoizedState=null;else switch(R){case"forwards":for(m=a.child,R=null;m!==null;)o=m.alternate,o!==null&&no(o)===null&&(R=m),m=m.sibling;m=R,m===null?(R=a.child,a.child=null):(R=m.sibling,m.sibling=null),tr(a,!1,R,m,z);break;case"backwards":for(m=null,R=a.child,a.child=null;R!==null;){if(o=R.alternate,o!==null&&no(o)===null){a.child=R;break}o=R.sibling,R.sibling=m,m=R,R=o}tr(a,!0,m,null,z);break;case"together":tr(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Xn(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function Bs(o,a,m){if(o!==null&&(a.dependencies=o.dependencies),zc|=a.lanes,(m&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(n(153));if(a.child!==null){for(o=a.child,m=mc(o,o.pendingProps),a.child=m,m.return=a;o.sibling!==null;)o=o.sibling,m=m.sibling=mc(o,o.pendingProps),m.return=a;m.sibling=null}return a.child}function r1(o,a,m){switch(a.tag){case 3:ao(a),Tt();break;case 5:Ql(a);break;case 1:ls(a.type)&&ga(a);break;case 4:$o(a,a.stateNode.containerInfo);break;case 10:var k=a.type._context,R=a.memoizedProps.value;fr(pi,k._currentValue),k._currentValue=R;break;case 13:if(k=a.memoizedState,k!==null)return k.dehydrated!==null?(fr(vr,vr.current&1),a.flags|=128,null):(m&a.child.childLanes)!==0?et(o,a,m):(fr(vr,vr.current&1),o=Bs(o,a,m),o!==null?o.sibling:null);fr(vr,vr.current&1);break;case 19:if(k=(m&a.childLanes)!==0,(o.flags&128)!==0){if(k)return Ki(o,a,m);a.flags|=128}if(R=a.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),fr(vr,vr.current),k)break;return null;case 22:case 23:return a.lanes=0,Ut(o,a,m)}return Bs(o,a,m)}var Rm,i1,Tm,Dm;Rm=function(o,a){for(var m=a.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break;for(;m.sibling===null;){if(m.return===null||m.return===a)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},i1=function(){},Tm=function(o,a,m,k){var R=o.memoizedProps;if(R!==k){o=a.stateNode,oi(Gn.current);var z=null;switch(m){case"input":R=Be(o,R),k=Be(o,k),z=[];break;case"select":R=ee({},R,{value:void 0}),k=ee({},k,{value:void 0}),z=[];break;case"textarea":R=ht(o,R),k=ht(o,k),z=[];break;default:typeof R.onClick!="function"&&typeof k.onClick=="function"&&(o.onclick=Oa)}Wn(m,k);var se;m=null;for(qe in R)if(!k.hasOwnProperty(qe)&&R.hasOwnProperty(qe)&&R[qe]!=null)if(qe==="style"){var ke=R[qe];for(se in ke)ke.hasOwnProperty(se)&&(m||(m={}),m[se]="")}else qe!=="dangerouslySetInnerHTML"&&qe!=="children"&&qe!=="suppressContentEditableWarning"&&qe!=="suppressHydrationWarning"&&qe!=="autoFocus"&&(i.hasOwnProperty(qe)?z||(z=[]):(z=z||[]).push(qe,null));for(qe in k){var Ee=k[qe];if(ke=R!=null?R[qe]:void 0,k.hasOwnProperty(qe)&&Ee!==ke&&(Ee!=null||ke!=null))if(qe==="style")if(ke){for(se in ke)!ke.hasOwnProperty(se)||Ee&&Ee.hasOwnProperty(se)||(m||(m={}),m[se]="");for(se in Ee)Ee.hasOwnProperty(se)&&ke[se]!==Ee[se]&&(m||(m={}),m[se]=Ee[se])}else m||(z||(z=[]),z.push(qe,m)),m=Ee;else qe==="dangerouslySetInnerHTML"?(Ee=Ee?Ee.__html:void 0,ke=ke?ke.__html:void 0,Ee!=null&&ke!==Ee&&(z=z||[]).push(qe,Ee)):qe==="children"?typeof Ee!="string"&&typeof Ee!="number"||(z=z||[]).push(qe,""+Ee):qe!=="suppressContentEditableWarning"&&qe!=="suppressHydrationWarning"&&(i.hasOwnProperty(qe)?(Ee!=null&&qe==="onScroll"&&mr("scroll",o),z||ke===Ee||(z=[])):(z=z||[]).push(qe,Ee))}m&&(z=z||[]).push("style",m);var qe=z;(a.updateQueue=qe)&&(a.flags|=4)}},Dm=function(o,a,m,k){m!==k&&(a.flags|=4)};function cf(o,a){if(!nt)switch(o.tailMode){case"hidden":a=o.tail;for(var m=null;a!==null;)a.alternate!==null&&(m=a),a=a.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var k=null;m!==null;)m.alternate!==null&&(k=m),m=m.sibling;k===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:k.sibling=null}}function Io(o){var a=o.alternate!==null&&o.alternate.child===o.child,m=0,k=0;if(a)for(var R=o.child;R!==null;)m|=R.lanes|R.childLanes,k|=R.subtreeFlags&14680064,k|=R.flags&14680064,R.return=o,R=R.sibling;else for(R=o.child;R!==null;)m|=R.lanes|R.childLanes,k|=R.subtreeFlags,k|=R.flags,R.return=o,R=R.sibling;return o.subtreeFlags|=k,o.childLanes=m,a}function xb(o,a,m){var k=a.pendingProps;switch(De(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Io(a),null;case 1:return ls(a.type)&&Jl(),Io(a),null;case 3:return k=a.stateNode,yr(),ar(as),ar(Ti),ds(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(o===null||o.child===null)&&(Gr(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,it!==null&&(g1(it),it=null))),i1(o,a),Io(a),null;case 5:Ma(a);var R=oi(Br.current);if(m=a.type,o!==null&&a.stateNode!=null)Tm(o,a,m,k,R),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!k){if(a.stateNode===null)throw Error(n(166));return Io(a),null}if(o=oi(Gn.current),Gr(a)){k=a.stateNode,m=a.type;var z=a.memoizedProps;switch(k[Ao]=a,k[Kl]=z,o=(a.mode&1)!==0,m){case"dialog":mr("cancel",k),mr("close",k);break;case"iframe":case"object":case"embed":mr("load",k);break;case"video":case"audio":for(R=0;R<Vo.length;R++)mr(Vo[R],k);break;case"source":mr("error",k);break;case"img":case"image":case"link":mr("error",k),mr("load",k);break;case"details":mr("toggle",k);break;case"input":ye(k,z),mr("invalid",k);break;case"select":k._wrapperState={wasMultiple:!!z.multiple},mr("invalid",k);break;case"textarea":ct(k,z),mr("invalid",k)}Wn(m,z),R=null;for(var se in z)if(z.hasOwnProperty(se)){var ke=z[se];se==="children"?typeof ke=="string"?k.textContent!==ke&&(z.suppressHydrationWarning!==!0&&xu(k.textContent,ke,o),R=["children",ke]):typeof ke=="number"&&k.textContent!==""+ke&&(z.suppressHydrationWarning!==!0&&xu(k.textContent,ke,o),R=["children",""+ke]):i.hasOwnProperty(se)&&ke!=null&&se==="onScroll"&&mr("scroll",k)}switch(m){case"input":Re(k),Je(k,z,!0);break;case"textarea":Re(k),kt(k);break;case"select":case"option":break;default:typeof z.onClick=="function"&&(k.onclick=Oa)}k=R,a.updateQueue=k,k!==null&&(a.flags|=4)}else{se=R.nodeType===9?R:R.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Et(m)),o==="http://www.w3.org/1999/xhtml"?m==="script"?(o=se.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof k.is=="string"?o=se.createElement(m,{is:k.is}):(o=se.createElement(m),m==="select"&&(se=o,k.multiple?se.multiple=!0:k.size&&(se.size=k.size))):o=se.createElementNS(o,m),o[Ao]=a,o[Kl]=k,Rm(o,a,!1,!1),a.stateNode=o;e:{switch(se=Yt(m,k),m){case"dialog":mr("cancel",o),mr("close",o),R=k;break;case"iframe":case"object":case"embed":mr("load",o),R=k;break;case"video":case"audio":for(R=0;R<Vo.length;R++)mr(Vo[R],o);R=k;break;case"source":mr("error",o),R=k;break;case"img":case"image":case"link":mr("error",o),mr("load",o),R=k;break;case"details":mr("toggle",o),R=k;break;case"input":ye(o,k),R=Be(o,k),mr("invalid",o);break;case"option":R=k;break;case"select":o._wrapperState={wasMultiple:!!k.multiple},R=ee({},k,{value:void 0}),mr("invalid",o);break;case"textarea":ct(o,k),R=ht(o,k),mr("invalid",o);break;default:R=k}Wn(m,R),ke=R;for(z in ke)if(ke.hasOwnProperty(z)){var Ee=ke[z];z==="style"?Dt(o,Ee):z==="dangerouslySetInnerHTML"?(Ee=Ee?Ee.__html:void 0,Ee!=null&&Lt(o,Ee)):z==="children"?typeof Ee=="string"?(m!=="textarea"||Ee!=="")&&St(o,Ee):typeof Ee=="number"&&St(o,""+Ee):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(i.hasOwnProperty(z)?Ee!=null&&z==="onScroll"&&mr("scroll",o):Ee!=null&&x(o,z,Ee,se))}switch(m){case"input":Re(o),Je(o,k,!1);break;case"textarea":Re(o),kt(o);break;case"option":k.value!=null&&o.setAttribute("value",""+ge(k.value));break;case"select":o.multiple=!!k.multiple,z=k.value,z!=null?ot(o,!!k.multiple,z,!1):k.defaultValue!=null&&ot(o,!!k.multiple,k.defaultValue,!0);break;default:typeof R.onClick=="function"&&(o.onclick=Oa)}switch(m){case"button":case"input":case"select":case"textarea":k=!!k.autoFocus;break e;case"img":k=!0;break e;default:k=!1}}k&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Io(a),null;case 6:if(o&&a.stateNode!=null)Dm(o,a,o.memoizedProps,k);else{if(typeof k!="string"&&a.stateNode===null)throw Error(n(166));if(m=oi(Br.current),oi(Gn.current),Gr(a)){if(k=a.stateNode,m=a.memoizedProps,k[Ao]=a,(z=k.nodeValue!==m)&&(o=Xe,o!==null))switch(o.tag){case 3:xu(k.nodeValue,m,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&xu(k.nodeValue,m,(o.mode&1)!==0)}z&&(a.flags|=4)}else k=(m.nodeType===9?m:m.ownerDocument).createTextNode(k),k[Ao]=a,a.stateNode=k}return Io(a),null;case 13:if(ar(vr),k=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(nt&&Ae!==null&&(a.mode&1)!==0&&(a.flags&128)===0)mn(),Tt(),a.flags|=98560,z=!1;else if(z=Gr(a),k!==null&&k.dehydrated!==null){if(o===null){if(!z)throw Error(n(318));if(z=a.memoizedState,z=z!==null?z.dehydrated:null,!z)throw Error(n(317));z[Ao]=a}else Tt(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Io(a),z=!1}else it!==null&&(g1(it),it=null),z=!0;if(!z)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=m,a):(k=k!==null,k!==(o!==null&&o.memoizedState!==null)&&k&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(vr.current&1)!==0?Ss===0&&(Ss=3):v1())),a.updateQueue!==null&&(a.flags|=4),Io(a),null);case 4:return yr(),i1(o,a),o===null&&Da(a.stateNode.containerInfo),Io(a),null;case 10:return Pr(a.type._context),Io(a),null;case 17:return ls(a.type)&&Jl(),Io(a),null;case 19:if(ar(vr),z=a.memoizedState,z===null)return Io(a),null;if(k=(a.flags&128)!==0,se=z.rendering,se===null)if(k)cf(z,!1);else{if(Ss!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(se=no(o),se!==null){for(a.flags|=128,cf(z,!1),k=se.updateQueue,k!==null&&(a.updateQueue=k,a.flags|=4),a.subtreeFlags=0,k=m,m=a.child;m!==null;)z=m,o=k,z.flags&=14680066,se=z.alternate,se===null?(z.childLanes=0,z.lanes=o,z.child=null,z.subtreeFlags=0,z.memoizedProps=null,z.memoizedState=null,z.updateQueue=null,z.dependencies=null,z.stateNode=null):(z.childLanes=se.childLanes,z.lanes=se.lanes,z.child=se.child,z.subtreeFlags=0,z.deletions=null,z.memoizedProps=se.memoizedProps,z.memoizedState=se.memoizedState,z.updateQueue=se.updateQueue,z.type=se.type,o=se.dependencies,z.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),m=m.sibling;return fr(vr,vr.current&1|2),a.child}o=o.sibling}z.tail!==null&&On()>xd&&(a.flags|=128,k=!0,cf(z,!1),a.lanes=4194304)}else{if(!k)if(o=no(se),o!==null){if(a.flags|=128,k=!0,m=o.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),cf(z,!0),z.tail===null&&z.tailMode==="hidden"&&!se.alternate&&!nt)return Io(a),null}else 2*On()-z.renderingStartTime>xd&&m!==1073741824&&(a.flags|=128,k=!0,cf(z,!1),a.lanes=4194304);z.isBackwards?(se.sibling=a.child,a.child=se):(m=z.last,m!==null?m.sibling=se:a.child=se,z.last=se)}return z.tail!==null?(a=z.tail,z.rendering=a,z.tail=a.sibling,z.renderingStartTime=On(),a.sibling=null,m=vr.current,fr(vr,k?m&1|2:m&1),a):(Io(a),null);case 22:case 23:return y1(),k=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==k&&(a.flags|=8192),k&&(a.mode&1)!==0?(ja&1073741824)!==0&&(Io(a),a.subtreeFlags&6&&(a.flags|=8192)):Io(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function Sb(o,a){switch(De(a),a.tag){case 1:return ls(a.type)&&Jl(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return yr(),ar(as),ar(Ti),ds(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return Ma(a),null;case 13:if(ar(vr),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Tt()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return ar(vr),null;case 4:return yr(),null;case 10:return Pr(a.type._context),null;case 22:case 23:return y1(),null;case 24:return null;default:return null}}var ip=!1,Ro=!1,kb=typeof WeakSet=="function"?WeakSet:Set,zt=null;function bd(o,a){var m=o.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(k){Fi(o,a,k)}else m.current=null}function s1(o,a,m){try{m()}catch(k){Fi(o,a,k)}}var Om=!1;function Cb(o,a){if(Su=Hl,o=Dn(),Os(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var k=m.getSelection&&m.getSelection();if(k&&k.rangeCount!==0){m=k.anchorNode;var R=k.anchorOffset,z=k.focusNode;k=k.focusOffset;try{m.nodeType,z.nodeType}catch{m=null;break e}var se=0,ke=-1,Ee=-1,qe=0,ft=0,pt=o,lt=null;t:for(;;){for(var Mt;pt!==m||R!==0&&pt.nodeType!==3||(ke=se+R),pt!==z||k!==0&&pt.nodeType!==3||(Ee=se+k),pt.nodeType===3&&(se+=pt.nodeValue.length),(Mt=pt.firstChild)!==null;)lt=pt,pt=Mt;for(;;){if(pt===o)break t;if(lt===m&&++qe===R&&(ke=se),lt===z&&++ft===k&&(Ee=se),(Mt=pt.nextSibling)!==null)break;pt=lt,lt=pt.parentNode}pt=Mt}m=ke===-1||Ee===-1?null:{start:ke,end:Ee}}else m=null}m=m||{start:0,end:0}}else m=null;for(kl={focusedElem:o,selectionRange:m},Hl=!1,zt=a;zt!==null;)if(a=zt,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,zt=o;else for(;zt!==null;){a=zt;try{var Wt=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Wt!==null){var $t=Wt.memoizedProps,Xi=Wt.memoizedState,ze=a.stateNode,Ie=ze.getSnapshotBeforeUpdate(a.elementType===a.type?$t:xs(a.type,$t),Xi);ze.__reactInternalSnapshotBeforeUpdate=Ie}break;case 3:var He=a.stateNode.containerInfo;He.nodeType===1?He.textContent="":He.nodeType===9&&He.documentElement&&He.removeChild(He.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(vt){Fi(a,a.return,vt)}if(o=a.sibling,o!==null){o.return=a.return,zt=o;break}zt=a.return}return Wt=Om,Om=!1,Wt}function df(o,a,m){var k=a.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var R=k=k.next;do{if((R.tag&o)===o){var z=R.destroy;R.destroy=void 0,z!==void 0&&s1(a,m,z)}R=R.next}while(R!==k)}}function sp(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var m=a=a.next;do{if((m.tag&o)===o){var k=m.create;m.destroy=k()}m=m.next}while(m!==a)}}function o1(o){var a=o.ref;if(a!==null){var m=o.stateNode;switch(o.tag){case 5:o=m;break;default:o=m}typeof a=="function"?a(o):a.current=o}}function Fm(o){var a=o.alternate;a!==null&&(o.alternate=null,Fm(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Ao],delete a[Kl],delete a[_s],delete a[fd],delete a[hd])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Mm(o){return o.tag===5||o.tag===3||o.tag===4}function Bm(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Mm(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function a1(o,a,m){var k=o.tag;if(k===5||k===6)o=o.stateNode,a?m.nodeType===8?m.parentNode.insertBefore(o,a):m.insertBefore(o,a):(m.nodeType===8?(a=m.parentNode,a.insertBefore(o,m)):(a=m,a.appendChild(o)),m=m._reactRootContainer,m!=null||a.onclick!==null||(a.onclick=Oa));else if(k!==4&&(o=o.child,o!==null))for(a1(o,a,m),o=o.sibling;o!==null;)a1(o,a,m),o=o.sibling}function l1(o,a,m){var k=o.tag;if(k===5||k===6)o=o.stateNode,a?m.insertBefore(o,a):m.appendChild(o);else if(k!==4&&(o=o.child,o!==null))for(l1(o,a,m),o=o.sibling;o!==null;)l1(o,a,m),o=o.sibling}var lo=null,Pl=!1;function dc(o,a,m){for(m=m.child;m!==null;)jm(o,a,m),m=m.sibling}function jm(o,a,m){if(ui&&typeof ui.onCommitFiberUnmount=="function")try{ui.onCommitFiberUnmount(mo,m)}catch{}switch(m.tag){case 5:Ro||bd(m,a);case 6:var k=lo,R=Pl;lo=null,dc(o,a,m),lo=k,Pl=R,lo!==null&&(Pl?(o=lo,m=m.stateNode,o.nodeType===8?o.parentNode.removeChild(m):o.removeChild(m)):lo.removeChild(m.stateNode));break;case 18:lo!==null&&(Pl?(o=lo,m=m.stateNode,o.nodeType===8?tc(o.parentNode,m):o.nodeType===1&&tc(o,m),_i(o)):tc(lo,m.stateNode));break;case 4:k=lo,R=Pl,lo=m.stateNode.containerInfo,Pl=!0,dc(o,a,m),lo=k,Pl=R;break;case 0:case 11:case 14:case 15:if(!Ro&&(k=m.updateQueue,k!==null&&(k=k.lastEffect,k!==null))){R=k=k.next;do{var z=R,se=z.destroy;z=z.tag,se!==void 0&&((z&2)!==0||(z&4)!==0)&&s1(m,a,se),R=R.next}while(R!==k)}dc(o,a,m);break;case 1:if(!Ro&&(bd(m,a),k=m.stateNode,typeof k.componentWillUnmount=="function"))try{k.props=m.memoizedProps,k.state=m.memoizedState,k.componentWillUnmount()}catch(ke){Fi(m,a,ke)}dc(o,a,m);break;case 21:dc(o,a,m);break;case 22:m.mode&1?(Ro=(k=Ro)||m.memoizedState!==null,dc(o,a,m),Ro=k):dc(o,a,m);break;default:dc(o,a,m)}}function Um(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var m=o.stateNode;m===null&&(m=o.stateNode=new kb),a.forEach(function(k){var R=Db.bind(null,o,k);m.has(k)||(m.add(k),k.then(R,R))})}}function Il(o,a){var m=a.deletions;if(m!==null)for(var k=0;k<m.length;k++){var R=m[k];try{var z=o,se=a,ke=se;e:for(;ke!==null;){switch(ke.tag){case 5:lo=ke.stateNode,Pl=!1;break e;case 3:lo=ke.stateNode.containerInfo,Pl=!0;break e;case 4:lo=ke.stateNode.containerInfo,Pl=!0;break e}ke=ke.return}if(lo===null)throw Error(n(160));jm(z,se,R),lo=null,Pl=!1;var Ee=R.alternate;Ee!==null&&(Ee.return=null),R.return=null}catch(qe){Fi(R,a,qe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)zm(a,o),a=a.sibling}function zm(o,a){var m=o.alternate,k=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Il(a,o),iu(o),k&4){try{df(3,o,o.return),sp(3,o)}catch($t){Fi(o,o.return,$t)}try{df(5,o,o.return)}catch($t){Fi(o,o.return,$t)}}break;case 1:Il(a,o),iu(o),k&512&&m!==null&&bd(m,m.return);break;case 5:if(Il(a,o),iu(o),k&512&&m!==null&&bd(m,m.return),o.flags&32){var R=o.stateNode;try{St(R,"")}catch($t){Fi(o,o.return,$t)}}if(k&4&&(R=o.stateNode,R!=null)){var z=o.memoizedProps,se=m!==null?m.memoizedProps:z,ke=o.type,Ee=o.updateQueue;if(o.updateQueue=null,Ee!==null)try{ke==="input"&&z.type==="radio"&&z.name!=null&&Fe(R,z),Yt(ke,se);var qe=Yt(ke,z);for(se=0;se<Ee.length;se+=2){var ft=Ee[se],pt=Ee[se+1];ft==="style"?Dt(R,pt):ft==="dangerouslySetInnerHTML"?Lt(R,pt):ft==="children"?St(R,pt):x(R,ft,pt,qe)}switch(ke){case"input":Ge(R,z);break;case"textarea":Bt(R,z);break;case"select":var lt=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!z.multiple;var Mt=z.value;Mt!=null?ot(R,!!z.multiple,Mt,!1):lt!==!!z.multiple&&(z.defaultValue!=null?ot(R,!!z.multiple,z.defaultValue,!0):ot(R,!!z.multiple,z.multiple?[]:"",!1))}R[Kl]=z}catch($t){Fi(o,o.return,$t)}}break;case 6:if(Il(a,o),iu(o),k&4){if(o.stateNode===null)throw Error(n(162));R=o.stateNode,z=o.memoizedProps;try{R.nodeValue=z}catch($t){Fi(o,o.return,$t)}}break;case 3:if(Il(a,o),iu(o),k&4&&m!==null&&m.memoizedState.isDehydrated)try{_i(a.containerInfo)}catch($t){Fi(o,o.return,$t)}break;case 4:Il(a,o),iu(o);break;case 13:Il(a,o),iu(o),R=o.child,R.flags&8192&&(z=R.memoizedState!==null,R.stateNode.isHidden=z,!z||R.alternate!==null&&R.alternate.memoizedState!==null||(d1=On())),k&4&&Um(o);break;case 22:if(ft=m!==null&&m.memoizedState!==null,o.mode&1?(Ro=(qe=Ro)||ft,Il(a,o),Ro=qe):Il(a,o),iu(o),k&8192){if(qe=o.memoizedState!==null,(o.stateNode.isHidden=qe)&&!ft&&(o.mode&1)!==0)for(zt=o,ft=o.child;ft!==null;){for(pt=zt=ft;zt!==null;){switch(lt=zt,Mt=lt.child,lt.tag){case 0:case 11:case 14:case 15:df(4,lt,lt.return);break;case 1:bd(lt,lt.return);var Wt=lt.stateNode;if(typeof Wt.componentWillUnmount=="function"){k=lt,m=lt.return;try{a=k,Wt.props=a.memoizedProps,Wt.state=a.memoizedState,Wt.componentWillUnmount()}catch($t){Fi(k,m,$t)}}break;case 5:bd(lt,lt.return);break;case 22:if(lt.memoizedState!==null){Wm(pt);continue}}Mt!==null?(Mt.return=lt,zt=Mt):Wm(pt)}ft=ft.sibling}e:for(ft=null,pt=o;;){if(pt.tag===5){if(ft===null){ft=pt;try{R=pt.stateNode,qe?(z=R.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none"):(ke=pt.stateNode,Ee=pt.memoizedProps.style,se=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null,ke.style.display=In("display",se))}catch($t){Fi(o,o.return,$t)}}}else if(pt.tag===6){if(ft===null)try{pt.stateNode.nodeValue=qe?"":pt.memoizedProps}catch($t){Fi(o,o.return,$t)}}else if((pt.tag!==22&&pt.tag!==23||pt.memoizedState===null||pt===o)&&pt.child!==null){pt.child.return=pt,pt=pt.child;continue}if(pt===o)break e;for(;pt.sibling===null;){if(pt.return===null||pt.return===o)break e;ft===pt&&(ft=null),pt=pt.return}ft===pt&&(ft=null),pt.sibling.return=pt.return,pt=pt.sibling}}break;case 19:Il(a,o),iu(o),k&4&&Um(o);break;case 21:break;default:Il(a,o),iu(o)}}function iu(o){var a=o.flags;if(a&2){try{e:{for(var m=o.return;m!==null;){if(Mm(m)){var k=m;break e}m=m.return}throw Error(n(160))}switch(k.tag){case 5:var R=k.stateNode;k.flags&32&&(St(R,""),k.flags&=-33);var z=Bm(o);l1(o,z,R);break;case 3:case 4:var se=k.stateNode.containerInfo,ke=Bm(o);a1(o,ke,se);break;default:throw Error(n(161))}}catch(Ee){Fi(o,o.return,Ee)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function Nb(o,a,m){zt=o,Gm(o)}function Gm(o,a,m){for(var k=(o.mode&1)!==0;zt!==null;){var R=zt,z=R.child;if(R.tag===22&&k){var se=R.memoizedState!==null||ip;if(!se){var ke=R.alternate,Ee=ke!==null&&ke.memoizedState!==null||Ro;ke=ip;var qe=Ro;if(ip=se,(Ro=Ee)&&!qe)for(zt=R;zt!==null;)se=zt,Ee=se.child,se.tag===22&&se.memoizedState!==null?qm(R):Ee!==null?(Ee.return=se,zt=Ee):qm(R);for(;z!==null;)zt=z,Gm(z),z=z.sibling;zt=R,ip=ke,Ro=qe}Hm(o)}else(R.subtreeFlags&8772)!==0&&z!==null?(z.return=R,zt=z):Hm(o)}}function Hm(o){for(;zt!==null;){var a=zt;if((a.flags&8772)!==0){var m=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Ro||sp(5,a);break;case 1:var k=a.stateNode;if(a.flags&4&&!Ro)if(m===null)k.componentDidMount();else{var R=a.elementType===a.type?m.memoizedProps:xs(a.type,m.memoizedProps);k.componentDidUpdate(R,m.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var z=a.updateQueue;z!==null&&er(a,z,k);break;case 3:var se=a.updateQueue;if(se!==null){if(m=null,a.child!==null)switch(a.child.tag){case 5:m=a.child.stateNode;break;case 1:m=a.child.stateNode}er(a,se,m)}break;case 5:var ke=a.stateNode;if(m===null&&a.flags&4){m=ke;var Ee=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Ee.autoFocus&&m.focus();break;case"img":Ee.src&&(m.src=Ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var qe=a.alternate;if(qe!==null){var ft=qe.memoizedState;if(ft!==null){var pt=ft.dehydrated;pt!==null&&_i(pt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ro||a.flags&512&&o1(a)}catch(lt){Fi(a,a.return,lt)}}if(a===o){zt=null;break}if(m=a.sibling,m!==null){m.return=a.return,zt=m;break}zt=a.return}}function Wm(o){for(;zt!==null;){var a=zt;if(a===o){zt=null;break}var m=a.sibling;if(m!==null){m.return=a.return,zt=m;break}zt=a.return}}function qm(o){for(;zt!==null;){var a=zt;try{switch(a.tag){case 0:case 11:case 15:var m=a.return;try{sp(4,a)}catch(Ee){Fi(a,m,Ee)}break;case 1:var k=a.stateNode;if(typeof k.componentDidMount=="function"){var R=a.return;try{k.componentDidMount()}catch(Ee){Fi(a,R,Ee)}}var z=a.return;try{o1(a)}catch(Ee){Fi(a,z,Ee)}break;case 5:var se=a.return;try{o1(a)}catch(Ee){Fi(a,se,Ee)}}}catch(Ee){Fi(a,a.return,Ee)}if(a===o){zt=null;break}var ke=a.sibling;if(ke!==null){ke.return=a.return,zt=ke;break}zt=a.return}}var Eb=Math.ceil,op=L.ReactCurrentDispatcher,u1=L.ReactCurrentOwner,ll=L.ReactCurrentBatchConfig,pr=0,js=null,hs=null,uo=0,ja=0,_d=Lo(0),Ss=0,ff=null,zc=0,ap=0,c1=0,hf=null,_a=null,d1=0,xd=1/0,Lu=null,lp=!1,f1=null,fc=null,up=!1,hc=null,cp=0,pf=0,h1=null,dp=-1,fp=0;function Xo(){return(pr&6)!==0?On():dp!==-1?dp:dp=On()}function pc(o){return(o.mode&1)===0?1:(pr&2)!==0&&uo!==0?uo&-uo:Hr.transition!==null?(fp===0&&(fp=yu()),fp):(o=Un,o!==0||(o=window.event,o=o===void 0?16:gl(o.type)),o)}function Rl(o,a,m,k){if(50<pf)throw pf=0,h1=null,Error(n(185));pl(o,m,k),((pr&2)===0||o!==js)&&(o===js&&((pr&2)===0&&(ap|=m),Ss===4&&gc(o,uo)),xa(o,k),m===1&&pr===0&&(a.mode&1)===0&&(xd=On()+500,Nl&&q()))}function xa(o,a){var m=o.callbackNode;Jr(o,a);var k=Gi(o,o===js?uo:0);if(k===0)m!==null&&Mn(m),o.callbackNode=null,o.callbackPriority=0;else if(a=k&-k,o.callbackPriority!==a){if(m!=null&&Mn(m),a===1)o.tag===0?O($m.bind(null,o)):C($m.bind(null,o)),cd(function(){(pr&6)===0&&q()}),m=null;else{switch(yo(k)){case 1:m=Cs;break;case 4:m=bi;break;case 16:m=Ns;break;case 536870912:m=Uo;break;default:m=Ns}m=t5(m,Vm.bind(null,o))}o.callbackPriority=a,o.callbackNode=m}}function Vm(o,a){if(dp=-1,fp=0,(pr&6)!==0)throw Error(n(327));var m=o.callbackNode;if(Sd()&&o.callbackNode!==m)return null;var k=Gi(o,o===js?uo:0);if(k===0)return null;if((k&30)!==0||(k&o.expiredLanes)!==0||a)a=hp(o,k);else{a=k;var R=pr;pr|=2;var z=Km();(js!==o||uo!==a)&&(Lu=null,xd=On()+500,Hc(o,a));do try{Pb();break}catch(ke){Ym(o,ke)}while(!0);Qn(),op.current=z,pr=R,hs!==null?a=0:(js=null,uo=0,a=Ss)}if(a!==0){if(a===2&&(R=ta(o),R!==0&&(k=R,a=p1(o,R))),a===1)throw m=ff,Hc(o,0),gc(o,k),xa(o,On()),m;if(a===6)gc(o,k);else{if(R=o.current.alternate,(k&30)===0&&!Ab(R)&&(a=hp(o,k),a===2&&(z=ta(o),z!==0&&(k=z,a=p1(o,z))),a===1))throw m=ff,Hc(o,0),gc(o,k),xa(o,On()),m;switch(o.finishedWork=R,o.finishedLanes=k,a){case 0:case 1:throw Error(n(345));case 2:Wc(o,_a,Lu);break;case 3:if(gc(o,k),(k&130023424)===k&&(a=d1+500-On(),10<a)){if(Gi(o,0)!==0)break;if(R=o.suspendedLanes,(R&k)!==k){Xo(),o.pingedLanes|=o.suspendedLanes&R;break}o.timeoutHandle=to(Wc.bind(null,o,_a,Lu),a);break}Wc(o,_a,Lu);break;case 4:if(gc(o,k),(k&4194240)===k)break;for(a=o.eventTimes,R=-1;0<k;){var se=31-kn(k);z=1<<se,se=a[se],se>R&&(R=se),k&=~z}if(k=R,k=On()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*Eb(k/1960))-k,10<k){o.timeoutHandle=to(Wc.bind(null,o,_a,Lu),k);break}Wc(o,_a,Lu);break;case 5:Wc(o,_a,Lu);break;default:throw Error(n(329))}}}return xa(o,On()),o.callbackNode===m?Vm.bind(null,o):null}function p1(o,a){var m=hf;return o.current.memoizedState.isDehydrated&&(Hc(o,a).flags|=256),o=hp(o,a),o!==2&&(a=_a,_a=m,a!==null&&g1(a)),o}function g1(o){_a===null?_a=o:_a.push.apply(_a,o)}function Ab(o){for(var a=o;;){if(a.flags&16384){var m=a.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var k=0;k<m.length;k++){var R=m[k],z=R.getSnapshot;R=R.value;try{if(!Lr(z(),R))return!1}catch{return!1}}}if(m=a.child,a.subtreeFlags&16384&&m!==null)m.return=a,a=m;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function gc(o,a){for(a&=~c1,a&=~ap,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var m=31-kn(a),k=1<<m;o[m]=-1,a&=~k}}function $m(o){if((pr&6)!==0)throw Error(n(327));Sd();var a=Gi(o,0);if((a&1)===0)return xa(o,On()),null;var m=hp(o,a);if(o.tag!==0&&m===2){var k=ta(o);k!==0&&(a=k,m=p1(o,k))}if(m===1)throw m=ff,Hc(o,0),gc(o,a),xa(o,On()),m;if(m===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Wc(o,_a,Lu),xa(o,On()),null}function m1(o,a){var m=pr;pr|=1;try{return o(a)}finally{pr=m,pr===0&&(xd=On()+500,Nl&&q())}}function Gc(o){hc!==null&&hc.tag===0&&(pr&6)===0&&Sd();var a=pr;pr|=1;var m=ll.transition,k=Un;try{if(ll.transition=null,Un=1,o)return o()}finally{Un=k,ll.transition=m,pr=a,(pr&6)===0&&q()}}function y1(){ja=_d.current,ar(_d)}function Hc(o,a){o.finishedWork=null,o.finishedLanes=0;var m=o.timeoutHandle;if(m!==-1&&(o.timeoutHandle=-1,ec(m)),hs!==null)for(m=hs.return;m!==null;){var k=m;switch(De(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&Jl();break;case 3:yr(),ar(as),ar(Ti),ds();break;case 5:Ma(k);break;case 4:yr();break;case 13:ar(vr);break;case 19:ar(vr);break;case 10:Pr(k.type._context);break;case 22:case 23:y1()}m=m.return}if(js=o,hs=o=mc(o.current,null),uo=ja=a,Ss=0,ff=null,c1=ap=zc=0,_a=hf=null,lr!==null){for(a=0;a<lr.length;a++)if(m=lr[a],k=m.interleaved,k!==null){m.interleaved=null;var R=k.next,z=m.pending;if(z!==null){var se=z.next;z.next=R,k.next=se}m.pending=k}lr=null}return o}function Ym(o,a){do{var m=hs;try{if(Qn(),Zl.current=ac,ro){for(var k=hr.memoizedState;k!==null;){var R=k.queue;R!==null&&(R.pending=null),k=k.next}ro=!1}if(Oi=0,Vr=qr=hr=null,Po=!1,io=0,u1.current=null,m===null||m.return===null){Ss=1,ff=a,hs=null;break}e:{var z=o,se=m.return,ke=m,Ee=a;if(a=uo,ke.flags|=32768,Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var qe=Ee,ft=ke,pt=ft.tag;if((ft.mode&1)===0&&(pt===0||pt===11||pt===15)){var lt=ft.alternate;lt?(ft.updateQueue=lt.updateQueue,ft.memoizedState=lt.memoizedState,ft.lanes=lt.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var Mt=b(se);if(Mt!==null){Mt.flags&=-257,P(Mt,se,ke,z,a),Mt.mode&1&&f(z,qe,a),a=Mt,Ee=qe;var Wt=a.updateQueue;if(Wt===null){var $t=new Set;$t.add(Ee),a.updateQueue=$t}else Wt.add(Ee);break e}else{if((a&1)===0){f(z,qe,a),v1();break e}Ee=Error(n(426))}}else if(nt&&ke.mode&1){var Xi=b(se);if(Xi!==null){(Xi.flags&65536)===0&&(Xi.flags|=256),P(Xi,se,ke,z,a),bt(Au(Ee,ke));break e}}z=Ee=Au(Ee,ke),Ss!==4&&(Ss=2),hf===null?hf=[z]:hf.push(z),z=se;do{switch(z.tag){case 3:z.flags|=65536,a&=-a,z.lanes|=a;var ze=rp(z,Ee,a);ur(z,ze);break e;case 1:ke=Ee;var Ie=z.type,He=z.stateNode;if((z.flags&128)===0&&(typeof Ie.getDerivedStateFromError=="function"||He!==null&&typeof He.componentDidCatch=="function"&&(fc===null||!fc.has(He)))){z.flags|=65536,a&=-a,z.lanes|=a;var vt=d(z,ke,a);ur(z,vt);break e}}z=z.return}while(z!==null)}Jm(m)}catch(Kt){a=Kt,hs===m&&m!==null&&(hs=m=m.return);continue}break}while(!0)}function Km(){var o=op.current;return op.current=ac,o===null?ac:o}function v1(){(Ss===0||Ss===3||Ss===2)&&(Ss=4),js===null||(zc&268435455)===0&&(ap&268435455)===0||gc(js,uo)}function hp(o,a){var m=pr;pr|=2;var k=Km();(js!==o||uo!==a)&&(Lu=null,Hc(o,a));do try{Lb();break}catch(R){Ym(o,R)}while(!0);if(Qn(),pr=m,op.current=k,hs!==null)throw Error(n(261));return js=null,uo=0,Ss}function Lb(){for(;hs!==null;)Xm(hs)}function Pb(){for(;hs!==null&&!Bn();)Xm(hs)}function Xm(o){var a=e5(o.alternate,o,ja);o.memoizedProps=o.pendingProps,a===null?Jm(o):hs=a,u1.current=null}function Jm(o){var a=o;do{var m=a.alternate;if(o=a.return,(a.flags&32768)===0){if(m=xb(m,a,ja),m!==null){hs=m;return}}else{if(m=Sb(m,a),m!==null){m.flags&=32767,hs=m;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Ss=6,hs=null;return}}if(a=a.sibling,a!==null){hs=a;return}hs=a=o}while(a!==null);Ss===0&&(Ss=5)}function Wc(o,a,m){var k=Un,R=ll.transition;try{ll.transition=null,Un=1,Ib(o,a,m,k)}finally{ll.transition=R,Un=k}return null}function Ib(o,a,m,k){do Sd();while(hc!==null);if((pr&6)!==0)throw Error(n(327));m=o.finishedWork;var R=o.finishedLanes;if(m===null)return null;if(o.finishedWork=null,o.finishedLanes=0,m===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var z=m.lanes|m.childLanes;if(na(o,z),o===js&&(hs=js=null,uo=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||up||(up=!0,t5(Ns,function(){return Sd(),null})),z=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||z){z=ll.transition,ll.transition=null;var se=Un;Un=1;var ke=pr;pr|=4,u1.current=null,Cb(o,m),zm(m,o),Ra(kl),Hl=!!Su,kl=Su=null,o.current=m,Nb(m),wi(),pr=ke,Un=se,ll.transition=z}else o.current=m;if(up&&(up=!1,hc=o,cp=R),z=o.pendingLanes,z===0&&(fc=null),gr(m.stateNode),xa(o,On()),a!==null)for(k=o.onRecoverableError,m=0;m<a.length;m++)R=a[m],k(R.value,{componentStack:R.stack,digest:R.digest});if(lp)throw lp=!1,o=f1,f1=null,o;return(cp&1)!==0&&o.tag!==0&&Sd(),z=o.pendingLanes,(z&1)!==0?o===h1?pf++:(pf=0,h1=o):pf=0,q(),null}function Sd(){if(hc!==null){var o=yo(cp),a=ll.transition,m=Un;try{if(ll.transition=null,Un=16>o?16:o,hc===null)var k=!1;else{if(o=hc,hc=null,cp=0,(pr&6)!==0)throw Error(n(331));var R=pr;for(pr|=4,zt=o.current;zt!==null;){var z=zt,se=z.child;if((zt.flags&16)!==0){var ke=z.deletions;if(ke!==null){for(var Ee=0;Ee<ke.length;Ee++){var qe=ke[Ee];for(zt=qe;zt!==null;){var ft=zt;switch(ft.tag){case 0:case 11:case 15:df(8,ft,z)}var pt=ft.child;if(pt!==null)pt.return=ft,zt=pt;else for(;zt!==null;){ft=zt;var lt=ft.sibling,Mt=ft.return;if(Fm(ft),ft===qe){zt=null;break}if(lt!==null){lt.return=Mt,zt=lt;break}zt=Mt}}}var Wt=z.alternate;if(Wt!==null){var $t=Wt.child;if($t!==null){Wt.child=null;do{var Xi=$t.sibling;$t.sibling=null,$t=Xi}while($t!==null)}}zt=z}}if((z.subtreeFlags&2064)!==0&&se!==null)se.return=z,zt=se;else e:for(;zt!==null;){if(z=zt,(z.flags&2048)!==0)switch(z.tag){case 0:case 11:case 15:df(9,z,z.return)}var ze=z.sibling;if(ze!==null){ze.return=z.return,zt=ze;break e}zt=z.return}}var Ie=o.current;for(zt=Ie;zt!==null;){se=zt;var He=se.child;if((se.subtreeFlags&2064)!==0&&He!==null)He.return=se,zt=He;else e:for(se=Ie;zt!==null;){if(ke=zt,(ke.flags&2048)!==0)try{switch(ke.tag){case 0:case 11:case 15:sp(9,ke)}}catch(Kt){Fi(ke,ke.return,Kt)}if(ke===se){zt=null;break e}var vt=ke.sibling;if(vt!==null){vt.return=ke.return,zt=vt;break e}zt=ke.return}}if(pr=R,q(),ui&&typeof ui.onPostCommitFiberRoot=="function")try{ui.onPostCommitFiberRoot(mo,o)}catch{}k=!0}return k}finally{Un=m,ll.transition=a}}return!1}function Qm(o,a,m){a=Au(m,a),a=rp(o,a,1),o=Wr(o,a,1),a=Xo(),o!==null&&(pl(o,1,a),xa(o,a))}function Fi(o,a,m){if(o.tag===3)Qm(o,o,m);else for(;a!==null;){if(a.tag===3){Qm(a,o,m);break}else if(a.tag===1){var k=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(fc===null||!fc.has(k))){o=Au(m,o),o=d(a,o,1),a=Wr(a,o,1),o=Xo(),a!==null&&(pl(a,1,o),xa(a,o));break}}a=a.return}}function Rb(o,a,m){var k=o.pingCache;k!==null&&k.delete(a),a=Xo(),o.pingedLanes|=o.suspendedLanes&m,js===o&&(uo&m)===m&&(Ss===4||Ss===3&&(uo&130023424)===uo&&500>On()-d1?Hc(o,0):c1|=m),xa(o,a)}function Zm(o,a){a===0&&((o.mode&1)===0?a=1:(a=zi,zi<<=1,(zi&130023424)===0&&(zi=4194304)));var m=Xo();o=ir(o,a),o!==null&&(pl(o,a,m),xa(o,m))}function Tb(o){var a=o.memoizedState,m=0;a!==null&&(m=a.retryLane),Zm(o,m)}function Db(o,a){var m=0;switch(o.tag){case 13:var k=o.stateNode,R=o.memoizedState;R!==null&&(m=R.retryLane);break;case 19:k=o.stateNode;break;default:throw Error(n(314))}k!==null&&k.delete(a),Zm(o,m)}var e5;e5=function(o,a,m){if(o!==null)if(o.memoizedProps!==a.pendingProps||as.current)Y=!0;else{if((o.lanes&m)===0&&(a.flags&128)===0)return Y=!1,r1(o,a,m);Y=(o.flags&131072)!==0}else Y=!1,nt&&(a.flags&1048576)!==0&&Me(a,he,a.index);switch(a.lanes=0,a.tag){case 2:var k=a.type;Xn(o,a),o=a.pendingProps;var R=Cl(a,Ti.current);Ir(a,m),R=ol(null,a,k,o,R,m);var z=so();return a.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ls(k)?(z=!0,ga(a)):z=!1,a.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Li(a),R.updater=uc,a.stateNode=R,R._reactInternals=a,vd(a,k,o,m),a=_r(null,a,k,!0,z,m)):(a.tag=0,nt&&z&&Ze(a),me(null,a,R,m),a=a.child),a;case 16:k=a.elementType;e:{switch(Xn(o,a),o=a.pendingProps,R=k._init,k=R(k._payload),a.type=k,R=a.tag=Fb(k),o=xs(k,o),R){case 0:a=Nt(null,a,k,o,m);break e;case 1:a=jr(null,a,k,o,m);break e;case 11:a=Te(null,a,k,o,m);break e;case 14:a=Ye(null,a,k,xs(k.type,o),m);break e}throw Error(n(306,k,""))}return a;case 0:return k=a.type,R=a.pendingProps,R=a.elementType===k?R:xs(k,R),Nt(o,a,k,R,m);case 1:return k=a.type,R=a.pendingProps,R=a.elementType===k?R:xs(k,R),jr(o,a,k,R,m);case 3:e:{if(ao(a),o===null)throw Error(n(387));k=a.pendingProps,z=a.memoizedState,R=z.element,us(o,a),Di(a,k,null,m);var se=a.memoizedState;if(k=se.element,z.isDehydrated)if(z={element:k,isDehydrated:!1,cache:se.cache,pendingSuspenseBoundaries:se.pendingSuspenseBoundaries,transitions:se.transitions},a.updateQueue.baseState=z,a.memoizedState=z,a.flags&256){R=Au(Error(n(423)),a),a=al(o,a,k,m,R);break e}else if(k!==R){R=Au(Error(n(424)),a),a=al(o,a,k,m,R);break e}else for(Ae=qi(a.stateNode.containerInfo.firstChild),Xe=a,nt=!0,it=null,m=Kn(a,null,k,m),a.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Tt(),k===R){a=Bs(o,a,m);break e}me(o,a,k,m)}a=a.child}return a;case 5:return Ql(a),o===null&&Ft(a),k=a.type,R=a.pendingProps,z=o!==null?o.memoizedProps:null,se=R.children,Mc(k,R)?se=null:z!==null&&Mc(k,z)&&(a.flags|=32),_n(o,a),me(o,a,se,m),a.child;case 6:return o===null&&Ft(a),null;case 13:return et(o,a,m);case 4:return $o(a,a.stateNode.containerInfo),k=a.pendingProps,o===null?a.child=si(a,null,k,m):me(o,a,k,m),a.child;case 11:return k=a.type,R=a.pendingProps,R=a.elementType===k?R:xs(k,R),Te(o,a,k,R,m);case 7:return me(o,a,a.pendingProps,m),a.child;case 8:return me(o,a,a.pendingProps.children,m),a.child;case 12:return me(o,a,a.pendingProps.children,m),a.child;case 10:e:{if(k=a.type._context,R=a.pendingProps,z=a.memoizedProps,se=R.value,fr(pi,k._currentValue),k._currentValue=se,z!==null)if(Lr(z.value,se)){if(z.children===R.children&&!as.current){a=Bs(o,a,m);break e}}else for(z=a.child,z!==null&&(z.return=a);z!==null;){var ke=z.dependencies;if(ke!==null){se=z.child;for(var Ee=ke.firstContext;Ee!==null;){if(Ee.context===k){if(z.tag===1){Ee=ti(-1,m&-m),Ee.tag=2;var qe=z.updateQueue;if(qe!==null){qe=qe.shared;var ft=qe.pending;ft===null?Ee.next=Ee:(Ee.next=ft.next,ft.next=Ee),qe.pending=Ee}}z.lanes|=m,Ee=z.alternate,Ee!==null&&(Ee.lanes|=m),Zn(z.return,m,a),ke.lanes|=m;break}Ee=Ee.next}}else if(z.tag===10)se=z.type===a.type?null:z.child;else if(z.tag===18){if(se=z.return,se===null)throw Error(n(341));se.lanes|=m,ke=se.alternate,ke!==null&&(ke.lanes|=m),Zn(se,m,a),se=z.sibling}else se=z.child;if(se!==null)se.return=z;else for(se=z;se!==null;){if(se===a){se=null;break}if(z=se.sibling,z!==null){z.return=se.return,se=z;break}se=se.return}z=se}me(o,a,R.children,m),a=a.child}return a;case 9:return R=a.type,k=a.pendingProps.children,Ir(a,m),R=Rr(R),k=k(R),a.flags|=1,me(o,a,k,m),a.child;case 14:return k=a.type,R=xs(k,a.pendingProps),R=xs(k.type,R),Ye(o,a,k,R,m);case 15:return mt(o,a,a.type,a.pendingProps,m);case 17:return k=a.type,R=a.pendingProps,R=a.elementType===k?R:xs(k,R),Xn(o,a),a.tag=1,ls(k)?(o=!0,ga(a)):o=!1,Ir(a,m),np(a,k,R),vd(a,k,R,m),_r(null,a,k,!0,o,m);case 19:return Ki(o,a,m);case 22:return Ut(o,a,m)}throw Error(n(156,a.tag))};function t5(o,a){return sr(o,a)}function Ob(o,a,m,k){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ul(o,a,m,k){return new Ob(o,a,m,k)}function w1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Fb(o){if(typeof o=="function")return w1(o)?1:0;if(o!=null){if(o=o.$$typeof,o===H)return 11;if(o===le)return 14}return 2}function mc(o,a){var m=o.alternate;return m===null?(m=ul(o.tag,a,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=a,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&14680064,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,a=o.dependencies,m.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m}function pp(o,a,m,k,R,z){var se=2;if(k=o,typeof o=="function")w1(o)&&(se=1);else if(typeof o=="string")se=5;else e:switch(o){case re:return qc(m.children,R,z,a);case U:se=8,R|=8;break;case M:return o=ul(12,m,a,R|2),o.elementType=M,o.lanes=z,o;case Z:return o=ul(13,m,a,R),o.elementType=Z,o.lanes=z,o;case ne:return o=ul(19,m,a,R),o.elementType=ne,o.lanes=z,o;case B:return gp(m,R,z,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case V:se=10;break e;case F:se=9;break e;case H:se=11;break e;case le:se=14;break e;case xe:se=16,k=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return a=ul(se,m,a,R),a.elementType=o,a.type=k,a.lanes=z,a}function qc(o,a,m,k){return o=ul(7,o,k,a),o.lanes=m,o}function gp(o,a,m,k){return o=ul(22,o,k,a),o.elementType=B,o.lanes=m,o.stateNode={isHidden:!1},o}function b1(o,a,m){return o=ul(6,o,null,a),o.lanes=m,o}function _1(o,a,m){return a=ul(4,o.children!==null?o.children:[],o.key,a),a.lanes=m,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function Mb(o,a,m,k,R){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ms(0),this.expirationTimes=ms(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ms(0),this.identifierPrefix=k,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function x1(o,a,m,k,R,z,se,ke,Ee){return o=new Mb(o,a,m,ke,Ee),a===1?(a=1,z===!0&&(a|=8)):a=0,z=ul(3,null,null,a),o.current=z,z.stateNode=o,z.memoizedState={element:k,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(z),o}function Bb(o,a,m){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:k==null?null:""+k,children:o,containerInfo:a,implementation:m}}function n5(o){if(!o)return pa;o=o._reactInternals;e:{if(It(o)!==o||o.tag!==1)throw Error(n(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ls(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(o.tag===1){var m=o.type;if(ls(m))return Cu(o,m,a)}return a}function r5(o,a,m,k,R,z,se,ke,Ee){return o=x1(m,k,!0,o,R,z,se,ke,Ee),o.context=n5(null),m=o.current,k=Xo(),R=pc(m),z=ti(k,R),z.callback=a??null,Wr(m,z,R),o.current.lanes=R,pl(o,R,k),xa(o,k),o}function mp(o,a,m,k){var R=a.current,z=Xo(),se=pc(R);return m=n5(m),a.context===null?a.context=m:a.pendingContext=m,a=ti(z,se),a.payload={element:o},k=k===void 0?null:k,k!==null&&(a.callback=k),o=Wr(R,a,se),o!==null&&(Rl(o,R,se,z),cs(o,R,se)),se}function yp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function i5(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<a?m:a}}function S1(o,a){i5(o,a),(o=o.alternate)&&i5(o,a)}function jb(){return null}var s5=typeof reportError=="function"?reportError:function(o){console.error(o)};function k1(o){this._internalRoot=o}vp.prototype.render=k1.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(n(409));mp(o,a,null,null)},vp.prototype.unmount=k1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Gc(function(){mp(null,o,null,null)}),a[$i]=null}};function vp(o){this._internalRoot=o}vp.prototype.unstable_scheduleHydration=function(o){if(o){var a=Hu();o={blockedOn:null,target:o,priority:a};for(var m=0;m<vo.length&&a!==0&&a<vo[m].priority;m++);vo.splice(m,0,o),m===0&&zl(o)}};function C1(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function wp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function o5(){}function Ub(o,a,m,k,R){if(R){if(typeof k=="function"){var z=k;k=function(){var qe=yp(se);z.call(qe)}}var se=r5(a,k,o,0,null,!1,!1,"",o5);return o._reactRootContainer=se,o[$i]=se.current,Da(o.nodeType===8?o.parentNode:o),Gc(),se}for(;R=o.lastChild;)o.removeChild(R);if(typeof k=="function"){var ke=k;k=function(){var qe=yp(Ee);ke.call(qe)}}var Ee=x1(o,0,!1,null,null,!1,!1,"",o5);return o._reactRootContainer=Ee,o[$i]=Ee.current,Da(o.nodeType===8?o.parentNode:o),Gc(function(){mp(a,Ee,m,k)}),Ee}function bp(o,a,m,k,R){var z=m._reactRootContainer;if(z){var se=z;if(typeof R=="function"){var ke=R;R=function(){var Ee=yp(se);ke.call(Ee)}}mp(a,se,o,R)}else se=Ub(m,a,o,R,k);return yp(se)}ra=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var m=Or(a.pendingLanes);m!==0&&(Ul(a,m|1),xa(a,On()),(pr&6)===0&&(xd=On()+500,q()))}break;case 13:Gc(function(){var k=ir(o,1);if(k!==null){var R=Xo();Rl(k,o,1,R)}}),S1(o,1)}},Ya=function(o){if(o.tag===13){var a=ir(o,134217728);if(a!==null){var m=Xo();Rl(a,o,134217728,m)}S1(o,134217728)}},Gu=function(o){if(o.tag===13){var a=pc(o),m=ir(o,a);if(m!==null){var k=Xo();Rl(m,o,a,k)}S1(o,a)}},Hu=function(){return Un},Ka=function(o,a){var m=Un;try{return Un=o,a()}finally{Un=m}},Er=function(o,a,m){switch(a){case"input":if(Ge(o,m),a=m.name,m.type==="radio"&&a!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<m.length;a++){var k=m[a];if(k!==o&&k.form===o.form){var R=Ei(k);if(!R)throw Error(n(90));Ue(k),Ge(k,R)}}}break;case"textarea":Bt(o,m);break;case"select":a=m.value,a!=null&&ot(o,!!m.multiple,a,!1)}},vi=m1,ps=Gc;var zb={usingClientEntryPoint:!1,Events:[Xl,fi,Ei,Vn,jo,m1]},gf={findFiberByHostInstance:Fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gb={bundleType:gf.bundleType,version:gf.version,rendererPackageName:gf.rendererPackageName,rendererConfig:gf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Xt(o),o===null?null:o.stateNode},findFiberByHostInstance:gf.findFiberByHostInstance||jb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_p.isDisabled&&_p.supportsFiber)try{mo=_p.inject(Gb),ui=_p}catch{}}return Sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zb,Sa.createPortal=function(o,a){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C1(a))throw Error(n(200));return Bb(o,a,null,m)},Sa.createRoot=function(o,a){if(!C1(o))throw Error(n(299));var m=!1,k="",R=s5;return a!=null&&(a.unstable_strictMode===!0&&(m=!0),a.identifierPrefix!==void 0&&(k=a.identifierPrefix),a.onRecoverableError!==void 0&&(R=a.onRecoverableError)),a=x1(o,1,!1,null,null,m,!1,k,R),o[$i]=a.current,Da(o.nodeType===8?o.parentNode:o),new k1(a)},Sa.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Xt(a),o=o===null?null:o.stateNode,o},Sa.flushSync=function(o){return Gc(o)},Sa.hydrate=function(o,a,m){if(!wp(a))throw Error(n(200));return bp(null,o,a,!0,m)},Sa.hydrateRoot=function(o,a,m){if(!C1(o))throw Error(n(405));var k=m!=null&&m.hydratedSources||null,R=!1,z="",se=s5;if(m!=null&&(m.unstable_strictMode===!0&&(R=!0),m.identifierPrefix!==void 0&&(z=m.identifierPrefix),m.onRecoverableError!==void 0&&(se=m.onRecoverableError)),a=r5(a,null,o,1,m??null,R,!1,z,se),o[$i]=a.current,Da(o),k)for(o=0;o<k.length;o++)m=k[o],R=m._getVersion,R=R(m._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[m,R]:a.mutableSourceEagerHydrationData.push(m,R);return new vp(a)},Sa.render=function(o,a,m){if(!wp(a))throw Error(n(200));return bp(null,o,a,!1,m)},Sa.unmountComponentAtNode=function(o){if(!wp(o))throw Error(n(40));return o._reactRootContainer?(Gc(function(){bp(null,null,o,!1,function(){o._reactRootContainer=null,o[$i]=null})}),!0):!1},Sa.unstable_batchedUpdates=m1,Sa.unstable_renderSubtreeIntoContainer=function(o,a,m,k){if(!wp(m))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return bp(o,a,m,!1,k)},Sa.version="18.3.1-next-f1338f8080-20240426",Sa}var g5;function L4(){if(g5)return A1.exports;g5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),A1.exports=Xb(),A1.exports}var m5;function Jb(){if(m5)return xp;m5=1;var t=L4();return xp.createRoot=t.createRoot,xp.hydrateRoot=t.hydrateRoot,xp}var P4=Jb();const y5=sd(P4);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var v5="popstate";function Qb(t={}){function e(r,i){let{pathname:s,search:l,hash:u}=r.location;return Hg("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xh(i)}return e_(e,n,null,t)}function Pi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Zb(){return Math.random().toString(36).substring(2,10)}function w5(t,e){return{usr:t.state,key:t.key,idx:e}}function Hg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Yd(e):e,state:n,key:e&&e.key||r||Zb()}}function xh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function e_(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",c=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function y(){u="POP";let E=p(),A=E==null?null:E-h;h=E,c&&c({action:u,location:S.location,delta:A})}function v(E,A){u="PUSH";let N=Hg(S.location,E,A);h=p()+1;let x=w5(N,h),L=S.createHref(N);try{l.pushState(x,"",L)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(L)}s&&c&&c({action:u,location:S.location,delta:1})}function g(E,A){u="REPLACE";let N=Hg(S.location,E,A);h=p();let x=w5(N,h),L=S.createHref(N);l.replaceState(x,"",L),s&&c&&c({action:u,location:S.location,delta:0})}function _(E){return t_(E)}let S={get action(){return u},get location(){return t(i,l)},listen(E){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(v5,y),c=E,()=>{i.removeEventListener(v5,y),c=null}},createHref(E){return e(i,E)},createURL:_,encodeLocation(E){let A=_(E);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:g,go(E){return l.go(E)}};return S}function t_(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Pi(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:xh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function I4(t,e,n="/"){return n_(t,e,n,!1)}function n_(t,e,n,r){let i=typeof e=="string"?Yd(e):e,s=Bu(i.pathname||"/",n);if(s==null)return null;let l=R4(t);r_(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let h=p_(s);u=f_(l[c],h,r)}return u}function R4(t,e=[],n=[],r="",i=!1){let s=(l,u,c=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&c)return;Pi(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let y=Mu([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(Pi(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),R4(l.children,e,v,y,c)),!(l.path==null&&!l.index)&&e.push({path:y,score:c_(y,l.index),routesMeta:v})};return t.forEach((l,u)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))s(l,u);else for(let h of T4(l.path))s(l,u,!0,h)}),e}function T4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=T4(r.join("/")),u=[];return u.push(...l.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...l),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function r_(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:d_(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var i_=/^:[\w-]+$/,s_=3,o_=2,a_=1,l_=10,u_=-2,b5=t=>t==="*";function c_(t,e){let n=t.split("/"),r=n.length;return n.some(b5)&&(r+=u_),e&&(r+=o_),n.filter(i=>!b5(i)).reduce((i,s)=>i+(i_.test(s)?s_:s===""?a_:l_),r)}function d_(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function f_(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",y=a0({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),v=c.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=a0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:Mu([s,y.pathname]),pathnameBase:v_(Mu([s,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(s=Mu([s,y.pathnameBase]))}return l}function a0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=h_(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:y},v)=>{if(p==="*"){let _=u[v]||"";l=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const g=u[v];return y&&!g?h[p]=void 0:h[p]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:t}}function h_(t,e=!1,n=!0){Fl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function p_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fl(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function g_(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Yd(t):t;return{pathname:n?n.startsWith("/")?n:m_(n,e):e,search:w_(r),hash:b_(i)}}function m_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function I1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function y_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function D4(t){let e=y_(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function O4(t,e,n,r=!1){let i;typeof t=="string"?i=Yd(t):(i={...t},Pi(!i.pathname||!i.pathname.includes("?"),I1("?","pathname","search",i)),Pi(!i.pathname||!i.pathname.includes("#"),I1("#","pathname","hash",i)),Pi(!i.search||!i.search.includes("#"),I1("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),y-=1;i.pathname=v.join("/")}u=y>=0?e[y]:"/"}let c=g_(i,u),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}var Mu=t=>t.join("/").replace(/\/\/+/g,"/"),v_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),w_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,b_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function __(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var F4=["POST","PUT","PATCH","DELETE"];new Set(F4);var x_=["GET",...F4];new Set(x_);var Kd=ue.createContext(null);Kd.displayName="DataRouter";var T0=ue.createContext(null);T0.displayName="DataRouterState";ue.createContext(!1);var M4=ue.createContext({isTransitioning:!1});M4.displayName="ViewTransition";var S_=ue.createContext(new Map);S_.displayName="Fetchers";var k_=ue.createContext(null);k_.displayName="Await";var pu=ue.createContext(null);pu.displayName="Navigation";var Gh=ue.createContext(null);Gh.displayName="Location";var gu=ue.createContext({outlet:null,matches:[],isDataRoute:!1});gu.displayName="Route";var I2=ue.createContext(null);I2.displayName="RouteError";function C_(t,{relative:e}={}){Pi(Hh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=ue.useContext(pu),{hash:i,pathname:s,search:l}=qh(t,{relative:e}),u=s;return n!=="/"&&(u=s==="/"?n:Mu([n,s])),r.createHref({pathname:u,search:l,hash:i})}function Hh(){return ue.useContext(Gh)!=null}function Rc(){return Pi(Hh(),"useLocation() may be used only in the context of a <Router> component."),ue.useContext(Gh).location}var B4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j4(t){ue.useContext(pu).static||ue.useLayoutEffect(t)}function Wh(){let{isDataRoute:t}=ue.useContext(gu);return t?B_():N_()}function N_(){Pi(Hh(),"useNavigate() may be used only in the context of a <Router> component.");let t=ue.useContext(Kd),{basename:e,navigator:n}=ue.useContext(pu),{matches:r}=ue.useContext(gu),{pathname:i}=Rc(),s=JSON.stringify(D4(r)),l=ue.useRef(!1);return j4(()=>{l.current=!0}),ue.useCallback((c,h={})=>{if(Fl(l.current,B4),!l.current)return;if(typeof c=="number"){n.go(c);return}let p=O4(c,JSON.parse(s),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Mu([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,s,i,t])}ue.createContext(null);function R2(){let{matches:t}=ue.useContext(gu),e=t[t.length-1];return e?e.params:{}}function qh(t,{relative:e}={}){let{matches:n}=ue.useContext(gu),{pathname:r}=Rc(),i=JSON.stringify(D4(n));return ue.useMemo(()=>O4(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function E_(t,e){return U4(t,e)}function U4(t,e,n,r,i){var N;Pi(Hh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=ue.useContext(pu),{matches:l}=ue.useContext(gu),u=l[l.length-1],c=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",y=u&&u.route;{let x=y&&y.path||"";z4(h,!y||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let v=Rc(),g;if(e){let x=typeof e=="string"?Yd(e):e;Pi(p==="/"||((N=x.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${x.pathname}" was given in the \`location\` prop.`),g=x}else g=v;let _=g.pathname||"/",S=_;if(p!=="/"){let x=p.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(x.length).join("/")}let E=I4(t,{pathname:S});Fl(y||E!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Fl(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=R_(E&&E.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:Mu([p,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?p:Mu([p,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),l,n,r,i);return e&&A?ue.createElement(Gh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},A):A}function A_(){let t=M_(),e=__(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=ue.createElement(ue.Fragment,null,ue.createElement("p",null," Hey developer "),ue.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ue.createElement("code",{style:s},"ErrorBoundary")," or"," ",ue.createElement("code",{style:s},"errorElement")," prop on your route.")),ue.createElement(ue.Fragment,null,ue.createElement("h2",null,"Unexpected Application Error!"),ue.createElement("h3",{style:{fontStyle:"italic"}},e),n?ue.createElement("pre",{style:i},n):null,l)}var L_=ue.createElement(A_,null),P_=class extends ue.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?ue.createElement(gu.Provider,{value:this.props.routeContext},ue.createElement(I2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function I_({routeContext:t,match:e,children:n}){let r=ue.useContext(Kd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ue.createElement(gu.Provider,{value:t},n)}function R_(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n==null?void 0:n.errors;if(l!=null){let h=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Pi(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:y,errors:v}=n,g=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||g){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,p,y)=>{let v,g=!1,_=null,S=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,_=p.route.errorElement||L_,u&&(c<0&&y===0?(z4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,S=null):c===y&&(g=!0,S=p.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,y+1)),A=()=>{let N;return v?N=_:g?N=S:p.route.Component?N=ue.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=h,ue.createElement(I_,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?ue.createElement(P_,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:A(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:r}):A()},null)}function T2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T_(t){let e=ue.useContext(Kd);return Pi(e,T2(t)),e}function D_(t){let e=ue.useContext(T0);return Pi(e,T2(t)),e}function O_(t){let e=ue.useContext(gu);return Pi(e,T2(t)),e}function D2(t){let e=O_(t),n=e.matches[e.matches.length-1];return Pi(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function F_(){return D2("useRouteId")}function M_(){var r;let t=ue.useContext(I2),e=D_("useRouteError"),n=D2("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function B_(){let{router:t}=T_("useNavigate"),e=D2("useNavigate"),n=ue.useRef(!1);return j4(()=>{n.current=!0}),ue.useCallback(async(i,s={})=>{Fl(n.current,B4),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var _5={};function z4(t,e,n){!e&&!_5[t]&&(_5[t]=!0,Fl(!1,n))}ue.memo(j_);function j_({routes:t,future:e,state:n,unstable_onError:r}){return U4(t,void 0,n,r,e)}function Wp(t){Pi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function U_({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Pi(!Hh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=ue.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof n=="string"&&(n=Yd(n));let{pathname:c="/",search:h="",hash:p="",state:y=null,key:v="default"}=n,g=ue.useMemo(()=>{let _=Bu(c,l);return _==null?null:{location:{pathname:_,search:h,hash:p,state:y,key:v},navigationType:r}},[l,c,h,p,y,v,r]);return Fl(g!=null,`<Router basename="${l}"> is not able to match the URL "${c}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:ue.createElement(pu.Provider,{value:u},ue.createElement(Gh.Provider,{children:e,value:g}))}function z_({children:t,location:e}){return E_(Wg(t),e)}function Wg(t,e=[]){let n=[];return ue.Children.forEach(t,(r,i)=>{if(!ue.isValidElement(r))return;let s=[...e,i];if(r.type===ue.Fragment){n.push.apply(n,Wg(r.props.children,s));return}Pi(r.type===Wp,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pi(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Wg(r.props.children,s)),n.push(l)}),n}var qp="get",Vp="application/x-www-form-urlencoded";function D0(t){return t!=null&&typeof t.tagName=="string"}function G_(t){return D0(t)&&t.tagName.toLowerCase()==="button"}function H_(t){return D0(t)&&t.tagName.toLowerCase()==="form"}function W_(t){return D0(t)&&t.tagName.toLowerCase()==="input"}function q_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function V_(t,e){return t.button===0&&(!e||e==="_self")&&!q_(t)}function qg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function $_(t,e){let n=qg(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}var Sp=null;function Y_(){if(Sp===null)try{new FormData(document.createElement("form"),0),Sp=!1}catch{Sp=!0}return Sp}var K_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function R1(t){return t!=null&&!K_.has(t)?(Fl(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vp}"`),null):t}function X_(t,e){let n,r,i,s,l;if(H_(t)){let u=t.getAttribute("action");r=u?Bu(u,e):null,n=t.getAttribute("method")||qp,i=R1(t.getAttribute("enctype"))||Vp,s=new FormData(t)}else if(G_(t)||W_(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?Bu(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||qp,i=R1(t.getAttribute("formenctype"))||R1(u.getAttribute("enctype"))||Vp,s=new FormData(u,t),!Y_()){let{name:h,type:p,value:y}=t;if(p==="image"){let v=h?`${h}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else h&&s.append(h,y)}}else{if(D0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qp,r=null,i=Vp,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function O2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function J_(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Bu(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Q_(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Z_(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ex(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await Q_(s,n);return l.links?l.links():[]}return[]}));return ix(r.flat(1).filter(Z_).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function x5(t,e,n,r,i,s){let l=(c,h)=>n[h]?c.route.id!==n[h].route.id:!0,u=(c,h)=>{var p;return n[h].pathname!==c.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,h)=>l(c,h)||u(c,h)):s==="data"?e.filter((c,h)=>{var y;let p=r.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(l(c,h)||u(c,h))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function tx(t,e,{includeHydrateFallback:n}={}){return nx(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function nx(t){return[...new Set(t)]}function rx(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function ix(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(rx(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function G4(){let t=ue.useContext(Kd);return O2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function sx(){let t=ue.useContext(T0);return O2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var F2=ue.createContext(void 0);F2.displayName="FrameworkContext";function H4(){let t=ue.useContext(F2);return O2(t,"You must render this element inside a <HydratedRouter> element"),t}function ox(t,e){let n=ue.useContext(F2),[r,i]=ue.useState(!1),[s,l]=ue.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:h,onMouseLeave:p,onTouchStart:y}=e,v=ue.useRef(null);ue.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=A=>{A.forEach(N=>{l(N.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[t]),ue.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let g=()=>{i(!0)},_=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,v,{}]:[s,v,{onFocus:yf(u,g),onBlur:yf(c,_),onMouseEnter:yf(h,g),onMouseLeave:yf(p,_),onTouchStart:yf(y,g)}]:[!1,v,{}]}function yf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ax({page:t,...e}){let{router:n}=G4(),r=ue.useMemo(()=>I4(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?ue.createElement(ux,{page:t,matches:r,...e}):null}function lx(t){let{manifest:e,routeModules:n}=H4(),[r,i]=ue.useState([]);return ue.useEffect(()=>{let s=!1;return ex(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function ux({page:t,matches:e,...n}){let r=Rc(),{manifest:i,routeModules:s}=H4(),{basename:l}=G4(),{loaderData:u,matches:c}=sx(),h=ue.useMemo(()=>x5(t,e,c,i,r,"data"),[t,e,c,i,r]),p=ue.useMemo(()=>x5(t,e,c,i,r,"assets"),[t,e,c,i,r]),y=ue.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,S=!1;if(e.forEach(A=>{var x;let N=i.routes[A.route.id];!N||!N.hasLoader||(!h.some(L=>L.route.id===A.route.id)&&A.route.id in u&&((x=s[A.route.id])!=null&&x.shouldRevalidate)||N.hasClientLoader?S=!0:_.add(A.route.id))}),_.size===0)return[];let E=J_(t,l,"data");return S&&_.size>0&&E.searchParams.set("_routes",e.filter(A=>_.has(A.route.id)).map(A=>A.route.id).join(",")),[E.pathname+E.search]},[l,u,r,i,h,e,t,s]),v=ue.useMemo(()=>tx(p,i),[p,i]),g=lx(p);return ue.createElement(ue.Fragment,null,y.map(_=>ue.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),v.map(_=>ue.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),g.map(({key:_,link:S})=>ue.createElement("link",{key:_,nonce:n.nonce,...S})))}function cx(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var W4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W4&&(window.__reactRouterVersion="7.9.1")}catch{}function dx({basename:t,children:e,window:n}){let r=ue.useRef();r.current==null&&(r.current=Qb({window:n,v5Compat:!0}));let i=r.current,[s,l]=ue.useState({action:i.action,location:i.location}),u=ue.useCallback(c=>{ue.startTransition(()=>l(c))},[l]);return ue.useLayoutEffect(()=>i.listen(u),[i,u]),ue.createElement(U_,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var q4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V4=ue.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:c,to:h,preventScrollReset:p,viewTransition:y,...v},g){let{basename:_}=ue.useContext(pu),S=typeof h=="string"&&q4.test(h),E,A=!1;if(typeof h=="string"&&S&&(E=h,W4))try{let M=new URL(window.location.href),V=h.startsWith("//")?new URL(M.protocol+h):new URL(h),F=Bu(V.pathname,_);V.origin===M.origin&&F!=null?h=F+V.search+V.hash:A=!0}catch{Fl(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=C_(h,{relative:i}),[x,L,D]=ox(r,v),W=gx(h,{replace:l,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:y});function re(M){e&&e(M),M.defaultPrevented||W(M)}let U=ue.createElement("a",{...v,...D,href:E||N,onClick:A||s?e:re,ref:cx(g,L),target:c,"data-discover":!S&&n==="render"?"true":void 0});return x&&!S?ue.createElement(ue.Fragment,null,U,ue.createElement(ax,{page:N})):U});V4.displayName="Link";var fx=ue.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:c,...h},p){let y=qh(l,{relative:h.relative}),v=Rc(),g=ue.useContext(T0),{navigator:_,basename:S}=ue.useContext(pu),E=g!=null&&_x(y)&&u===!0,A=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,N=v.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(N=N.toLowerCase(),x=x?x.toLowerCase():null,A=A.toLowerCase()),x&&S&&(x=Bu(x,S)||x);const L=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let D=N===A||!i&&N.startsWith(A)&&N.charAt(L)==="/",W=x!=null&&(x===A||!i&&x.startsWith(A)&&x.charAt(A.length)==="/"),re={isActive:D,isPending:W,isTransitioning:E},U=D?e:void 0,M;typeof r=="function"?M=r(re):M=[r,D?"active":null,W?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let V=typeof s=="function"?s(re):s;return ue.createElement(V4,{...h,"aria-current":U,className:M,ref:p,style:V,to:l,viewTransition:u},typeof c=="function"?c(re):c)});fx.displayName="NavLink";var hx=ue.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=qp,action:u,onSubmit:c,relative:h,preventScrollReset:p,viewTransition:y,...v},g)=>{let _=wx(),S=bx(u,{relative:h}),E=l.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&q4.test(u),N=x=>{if(c&&c(x),x.defaultPrevented)return;x.preventDefault();let L=x.nativeEvent.submitter,D=(L==null?void 0:L.getAttribute("formmethod"))||l;_(L||x.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:y})};return ue.createElement("form",{ref:g,method:E,action:S,onSubmit:r?c:N,...v,"data-discover":!A&&t==="render"?"true":void 0})});hx.displayName="Form";function px(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $4(t){let e=ue.useContext(Kd);return Pi(e,px(t)),e}function gx(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=Wh(),c=Rc(),h=qh(t,{relative:s});return ue.useCallback(p=>{if(V_(p,e)){p.preventDefault();let y=n!==void 0?n:xh(c)===xh(h);u(t,{replace:y,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[c,u,h,n,r,e,t,i,s,l])}function mx(t){Fl(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=ue.useRef(qg(t)),n=ue.useRef(!1),r=Rc(),i=ue.useMemo(()=>$_(r.search,n.current?null:e.current),[r.search]),s=Wh(),l=ue.useCallback((u,c)=>{const h=qg(typeof u=="function"?u(new URLSearchParams(i)):u);n.current=!0,s("?"+h,c)},[s,i]);return[i,l]}var yx=0,vx=()=>`__${String(++yx)}__`;function wx(){let{router:t}=$4("useSubmit"),{basename:e}=ue.useContext(pu),n=F_();return ue.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:c,body:h}=X_(r,e);if(i.navigate===!1){let p=i.fetcherKey||vx();await t.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function bx(t,{relative:e}={}){let{basename:n}=ue.useContext(pu),r=ue.useContext(gu);Pi(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...qh(t||".",{relative:e})},l=Rc();if(t==null){s.search=l.search;let u=new URLSearchParams(s.search),c=u.getAll("index");if(c.some(p=>p==="")){u.delete("index"),c.filter(y=>y).forEach(y=>u.append("index",y));let p=u.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Mu([n,s.pathname])),xh(s)}function _x(t,{relative:e}={}){let n=ue.useContext(M4);Pi(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$4("useViewTransitionState"),i=qh(t,{relative:e});if(!n.isTransitioning)return!1;let s=Bu(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Bu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return a0(i.pathname,l)!=null||a0(i.pathname,s)!=null}var M2=L4();const xx=sd(M2),Y4=ue.createContext(void 0),Sx={user:null,isAuthenticated:!1,isLoading:!1,error:null},kx=(t,e)=>{switch(e.type){case"LOGIN_START":case"REGISTER_START":return{...t,isLoading:!0,error:null};case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":case"LOAD_USER":return{...t,user:e.payload,isAuthenticated:!0,isLoading:!1,error:null};case"LOGIN_FAILURE":case"REGISTER_FAILURE":return{...t,user:null,isAuthenticated:!1,isLoading:!1,error:e.payload};case"LOGOUT":return{...t,user:null,isAuthenticated:!1,isLoading:!1,error:null};case"CLEAR_ERROR":return{...t,error:null};default:return t}},Cx=({children:t})=>{const[e,n]=ue.useReducer(kx,Sx),r=tn.useRef(0),i=tn.useRef(void 0),s="https://daisy.wisoft.io/kimbanana/app/api",l=ue.useCallback(async(N,x)=>{const L=localStorage.getItem("refreshToken");if(!L)return c(),!1;try{const D=await fetch(`${s}/auth/refresh`,{method:"POST",headers:{Authorization:`Bearer ${L}`,Accept:"application/json"}});if(D.ok){const W=await D.json();return localStorage.setItem("accessToken",W.accessToken),localStorage.setItem("refreshToken",W.refreshToken),!N&&x&&await x(W.accessToken),!0}else return c(),!1}catch(D){return console.error("  :",D),c(),!1}},[s]),u=ue.useCallback(async()=>{const N=localStorage.getItem("accessToken");return N||(await l(!0)?localStorage.getItem("accessToken"):null)},[l]),c=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),n({type:"LOGOUT"})},h=ue.useCallback(async N=>{try{const x=await fetch(`${s}/auth/profile`,{headers:{Authorization:`Bearer ${N}`,Accept:"application/json"},credentials:"include"});if(x.ok){const L=await x.json(),D={id:L.id,email:L.email,name:L.name,profileImage:void 0,createdAt:new Date().toISOString()};n({type:"LOAD_USER",payload:D})}else await l(!1,h)}catch{c()}},[s,l]),p=ue.useCallback(async()=>{try{console.log("OAuth    :",`${s}/auth/profile`);const N=await fetch(`${s}/auth/profile`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(console.log("OAuth   :",{status:N.status,ok:N.ok,statusText:N.statusText}),!N.ok){const D=await N.text().catch(()=>"");return console.error("OAuth      :",N.status,D),!1}const x=await N.json();if(x.accessToken&&x.refreshToken)localStorage.setItem("accessToken",x.accessToken),localStorage.setItem("refreshToken",x.refreshToken),r.current=0,console.log("OAuth    (profile )");else{console.log("OAuth  profile  , /api/auth/me  ");try{const D=await fetch(`${s}/auth/me`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(D.ok){const W=await D.json();W.accessToken&&W.refreshToken?(localStorage.setItem("accessToken",W.accessToken),localStorage.setItem("refreshToken",W.refreshToken),r.current=0,console.log("OAuth    (/api/auth/me)")):console.warn("/api/auth/me   ")}else console.warn("/api/auth/me  :",D.status)}catch(D){console.error("/api/auth/me   :",D)}}const L={id:x.id,email:x.email,name:x.name,profileImage:void 0,createdAt:new Date().toISOString()};return n({type:"LOAD_USER",payload:L}),!0}catch(N){return console.error("OAuth     :",N),!1}},[s]),y=ue.useCallback(async()=>{const N=new URLSearchParams(window.location.search),x=N.get("oauth_success"),L=N.get("oauth_error");if(x==="true"||x==="1"){await p()?i.current&&i.current():n({type:"LOGIN_FAILURE",payload:"OAuth      ."});const W=window.location.pathname;window.history.replaceState({},document.title,W)}else if(L){n({type:"LOGIN_FAILURE",payload:"OAuth  ."});const D=window.location.pathname;window.history.replaceState({},document.title,D)}else await p()&&i.current&&i.current()},[p]);ue.useEffect(()=>{const N=localStorage.getItem("accessToken");N?h(N):y()},[u,y,h]);const v=async N=>{n({type:"LOGIN_START"});try{const x=await fetch(`${s}/auth/sign-in`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(N)});if(x.ok){const L=await x.json();localStorage.setItem("accessToken",L.accessToken),localStorage.setItem("refreshToken",L.refreshToken),r.current=0;try{await h(L.accessToken)}catch{console.warn("  ,    ");const W={id:"temp_user_"+Date.now(),email:N.email,name:N.email.split("@")[0],profileImage:void 0,createdAt:new Date().toISOString()};n({type:"LOAD_USER",payload:W})}return{success:!0}}else{let L="";try{L=await x.text(),console.log("   :",L)}catch(W){console.log("   :",W)}let D=" .";return x.status===400?D="   .":x.status===401&&(D="    ."),n({type:"LOGIN_FAILURE",payload:D}),{success:!1,error:D}}}catch{const L="  .";return n({type:"LOGIN_FAILURE",payload:L}),{success:!1,error:L}}},g=async N=>{n({type:"REGISTER_START"});try{const x=await fetch(`${s}/auth/sign-up`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(N)});if(x.ok)return await v({email:N.email,password:N.password});{let L="";try{L=await x.text(),console.log("   :",L)}catch(W){console.log("   :",W)}let D=" .";return x.status===400?D="  . ( ,  3 ,  6  +)":x.status===409&&(D="  ."),n({type:"REGISTER_FAILURE",payload:D}),{success:!1,error:D}}}catch(x){console.error("  :",x);const L="  .";return n({type:"REGISTER_FAILURE",payload:L}),{success:!1,error:L}}},_=async()=>{c()},S=ue.useCallback(()=>{n({type:"CLEAR_ERROR"})},[]),E=ue.useCallback(N=>{i.current=N},[]),A={...e,login:v,register:g,logout:_,clearError:S,getAuthToken:u,loadUserFromOAuth:p,onOAuthSuccess:i.current,setOAuthSuccessCallback:E};return fe.jsx(Y4.Provider,{value:A,children:t})},du=()=>{const t=ue.useContext(Y4);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},fu=()=>new Map,Vg=t=>{const e=fu();return t.forEach((n,r)=>{e.set(r,n)}),e},Xd=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},Nx=(t,e)=>{const n=[];for(const[r,i]of t)n.push(e(i,r));return n},Ex=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},Bd=()=>new Set,T1=t=>t[t.length-1],jd=Array.from,Ax=Array.isArray;class Lx{constructor(){this._observers=fu()}on(e,n){return Xd(this._observers,e,Bd).add(n),n}once(e,n){const r=(...i)=>{this.off(e,r),n(...i)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return jd((this._observers.get(e)||fu()).values()).forEach(r=>r(...n))}destroy(){this._observers=fu()}}const ed=Math.floor,$p=Math.abs,K4=(t,e)=>t<e?t:e,Jd=(t,e)=>t>e?t:e,Px=t=>t!==0?t<0:1/t<0,S5=1,k5=2,D1=4,O1=8,Ix=32,X4=64,l0=128,Rx=31,C5=63,ph=127,Tx=2147483647,Dx=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&ed(t)===t),Ox=t=>t.toLowerCase(),Fx=/^\s*/g,Mx=t=>t.replace(Fx,""),Bx=/([A-Z])/g,N5=(t,e)=>Mx(t.replace(Bx,n=>`${e}${Ox(n)}`)),jx=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.codePointAt(i);return r},Sh=typeof TextEncoder<"u"?new TextEncoder:null,Ux=t=>Sh.encode(t),zx=Sh?Ux:jx;let F1=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});F1&&F1.decode(new Uint8Array).length===1&&(F1=null);class Vh{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const B2=()=>new Vh,Gx=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},Fu=t=>{const e=new Uint8Array(Gx(t));let n=0;for(let r=0;r<t.bufs.length;r++){const i=t.bufs[r];e.set(i,n),n+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},Hx=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Jd(n,e)*2),t.cpos=0)},zs=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},$g=zs,Xr=(t,e)=>{for(;e>ph;)zs(t,l0|ph&e),e=ed(e/128);zs(t,ph&e)},j2=(t,e)=>{const n=Px(e);for(n&&(e=-e),zs(t,(e>C5?l0:0)|(n?X4:0)|C5&e),e=ed(e/64);e>0;)zs(t,(e>ph?l0:0)|ph&e),e=ed(e/128)},Yg=new Uint8Array(3e4),Wx=Yg.length/3,qx=(t,e)=>{if(e.length<Wx){const n=Sh.encodeInto(e,Yg).written||0;Xr(t,n);for(let r=0;r<n;r++)zs(t,Yg[r])}else za(t,zx(e))},Vx=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;Xr(t,r);for(let i=0;i<r;i++)zs(t,n.codePointAt(i))},Td=Sh&&Sh.encodeInto?qx:Vx,U2=(t,e)=>{const n=t.cbuf.length,r=t.cpos,i=K4(n-r,e.length),s=e.length-i;t.cbuf.set(e.subarray(0,i),r),t.cpos+=i,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Jd(n*2,s)),t.cbuf.set(e.subarray(i)),t.cpos=s)},za=(t,e)=>{Xr(t,e.byteLength),U2(t,e)},z2=(t,e)=>{Hx(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},$x=(t,e)=>z2(t,4).setFloat32(0,e,!1),Yx=(t,e)=>z2(t,8).setFloat64(0,e,!1),Kx=(t,e)=>z2(t,8).setBigInt64(0,e,!1),E5=new DataView(new ArrayBuffer(4)),Xx=t=>(E5.setFloat32(0,t),E5.getFloat32(0)===t),kh=(t,e)=>{switch(typeof e){case"string":zs(t,119),Td(t,e);break;case"number":Dx(e)&&$p(e)<=Tx?(zs(t,125),j2(t,e)):Xx(e)?(zs(t,124),$x(t,e)):(zs(t,123),Yx(t,e));break;case"bigint":zs(t,122),Kx(t,e);break;case"object":if(e===null)zs(t,126);else if(Ax(e)){zs(t,117),Xr(t,e.length);for(let n=0;n<e.length;n++)kh(t,e[n])}else if(e instanceof Uint8Array)zs(t,116),za(t,e);else{zs(t,118);const n=Object.keys(e);Xr(t,n.length);for(let r=0;r<n.length;r++){const i=n[r];Td(t,i),kh(t,e[i])}}break;case"boolean":zs(t,e?120:121);break;default:zs(t,127)}};class A5 extends Vh{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&Xr(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const L5=t=>{t.count>0&&(j2(t.encoder,t.count===1?t.s:-t.s),t.count>1&&Xr(t.encoder,t.count-2))};class Yp{constructor(){this.encoder=new Vh,this.s=0,this.count=0}write(e){this.s===e?this.count++:(L5(this),this.count=1,this.s=e)}toUint8Array(){return L5(this),Fu(this.encoder)}}const P5=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);j2(t.encoder,e),t.count>1&&Xr(t.encoder,t.count-2)}};class M1{constructor(){this.encoder=new Vh,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(P5(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return P5(this),Fu(this.encoder)}}class Jx{constructor(){this.sarr=[],this.s="",this.lensE=new Yp}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Vh;return this.sarr.push(this.s),this.s="",Td(e,this.sarr.join("")),U2(e,this.lensE.toUint8Array()),Fu(e)}}const Ud=t=>new Error(t),hu=()=>{throw Ud("Method unimplemented")},td=()=>{throw Ud("Unexpected case")},Qx=crypto.getRandomValues.bind(crypto),J4=()=>Qx(new Uint32Array(1))[0],Zx="10000000-1000-4000-8000"+-1e11,eS=()=>Zx.replace(/[018]/g,t=>(t^J4()&15>>t/4).toString(16)),I5=t=>new Promise(t);Promise.all.bind(Promise);const R5=t=>t===void 0?null:t;class tS{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let Q4=new tS,nS=!0;try{typeof localStorage<"u"&&localStorage&&(Q4=localStorage,nS=!1)}catch{}const rS=Q4,iS=Object.assign,sS=Object.keys,oS=(t,e)=>{for(const n in t)e(t[n],n)},T5=t=>sS(t).length,aS=t=>{for(const e in t)return!1;return!0},lS=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},uS=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),cS=(t,e)=>t===e||T5(t)===T5(e)&&lS(t,(n,r)=>(n!==void 0||uS(e,r))&&e[r]===n),dS=Object.freeze,Z4=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&Z4(t[e])}return dS(t)},G2=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&G2(t,e,n+1)}},fS=(t,e)=>e.includes(t);var ew={};const Ch=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let su;const hS=()=>{if(su===void 0)if(Ch){su=fu();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&su.set(e,""),e=r):e!==null&&(su.set(e,r),e=null)}e!==null&&su.set(e,"")}else typeof location=="object"?(su=fu(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");su.set(`--${N5(e,"-")}`,n),su.set(`-${N5(e,"-")}`,n)}})):su=fu();return su},Kg=t=>hS().has(t),u0=t=>R5(Ch?ew[t.toUpperCase().replaceAll("-","_")]:rS.getItem(t)),tw=t=>Kg("--"+t)||u0(t)!==null;tw("production");const pS=Ch&&fS(ew.FORCE_COLOR,["true","1","2"]),gS=pS||!Kg("--no-colors")&&!tw("no-color")&&(!Ch||process.stdout.isTTY)&&(!Ch||Kg("--color")||u0("COLORTERM")!==null||(u0("TERM")||"").includes("color"));class mS{constructor(e,n){this.left=e,this.right=n}}const Pu=(t,e)=>new mS(t,e);typeof DOMParser<"u"&&new DOMParser;const yS=t=>Nx(t,(e,n)=>`${n}:${e};`).join(""),zu=Symbol,nw=zu(),rw=zu(),vS=zu(),wS=zu(),bS=zu(),iw=zu(),_S=zu(),H2=zu(),xS=zu(),SS=t=>{var i;t.length===1&&((i=t[0])==null?void 0:i.constructor)===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const s=t[r];if(s===void 0)break;if(s.constructor===String||s.constructor===Number)e.push(s);else if(s.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const s=t[r];s instanceof Symbol||n.push(s)}return n},kS={[nw]:Pu("font-weight","bold"),[rw]:Pu("font-weight","normal"),[vS]:Pu("color","blue"),[bS]:Pu("color","green"),[wS]:Pu("color","grey"),[iw]:Pu("color","red"),[_S]:Pu("color","purple"),[H2]:Pu("color","orange"),[xS]:Pu("color","black")},CS=t=>{var l;t.length===1&&((l=t[0])==null?void 0:l.constructor)===Function&&(t=t[0]());const e=[],n=[],r=fu();let i=[],s=0;for(;s<t.length;s++){const u=t[s],c=kS[u];if(c!==void 0)r.set(c.left,c.right);else{if(u===void 0)break;if(u.constructor===String||u.constructor===Number){const h=yS(r);s>0||h.length>0?(e.push("%c"+u),n.push(h)):e.push(u)}else break}}for(s>0&&(i=n,i.unshift(e.join("")));s<t.length;s++){const u=t[s];u instanceof Symbol||i.push(u)}return i},sw=gS?CS:SS,NS=(...t)=>{console.log(...sw(t)),ow.forEach(e=>e.print(t))},ES=(...t)=>{console.warn(...sw(t)),t.unshift(H2),ow.forEach(e=>e.print(t))},ow=Bd(),aw=t=>({[Symbol.iterator](){return this},next:t}),AS=(t,e)=>aw(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),B1=(t,e)=>aw(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}});class LS{constructor(e,n){this.clock=e,this.len=n}}class PS{constructor(){this.clients=new Map}}const lw=(t,e,n)=>e.clients.forEach((r,i)=>{const s=t.doc.store.clients.get(i);if(s!=null){const l=s[s.length-1],u=l.id.clock+l.length;for(let c=0,h=r[c];c<r.length&&h.clock<u;h=r[++c])gw(t,s,h.clock,h.len,n)}}),IS=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const i=ed((n+r)/2),s=t[i],l=s.clock;if(l<=e){if(e<l+s.len)return i;n=i+1}else r=i-1}return null},uw=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&IS(n,e.clock)!==null},cw=t=>{t.clients.forEach(e=>{e.sort((i,s)=>i.clock-s.clock);let n,r;for(n=1,r=1;n<e.length;n++){const i=e[r-1],s=e[n];i.clock+i.len>=s.clock?i.len=Jd(i.len,s.clock+s.len-i.clock):(r<n&&(e[r]=s),r++)}e.length=r})},dw=(t,e,n,r)=>{Xd(t.clients,e,()=>[]).push(new LS(n,r))},RS=(t,e)=>{Xr(t.restEncoder,e.clients.size),jd(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),Xr(t.restEncoder,n);const i=r.length;Xr(t.restEncoder,i);for(let s=0;s<i;s++){const l=r[s];t.writeDsClock(l.clock),t.writeDsLen(l.len)}})},fw=J4;class Qd extends Lx{constructor({guid:e=eS(),collectionid:n=null,gc:r=!0,gcFilter:i=()=>!0,meta:s=null,autoLoad:l=!1,shouldLoad:u=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=fw(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new GS,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=u,this.autoLoad=l,this.meta=s,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=I5(h=>{this.on("load",()=>{this.isLoaded=!0,h(this)})});const c=()=>I5(h=>{const p=y=>{(y===void 0||y===!0)&&(this.off("sync",p),h())};this.on("sync",p)});this.on("sync",h=>{h===!1&&this.isSynced&&(this.whenSynced=c()),this.isSynced=h===void 0||h===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=c()}load(){const e=this._item;e!==null&&!this.shouldLoad&&ai(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(jd(this.subdocs).map(e=>e.guid))}transact(e,n=null){return ai(this,e,n)}get(e,n=po){const r=Xd(this.share,e,()=>{const s=new n;return s._integrate(this,null),s}),i=r.constructor;if(n!==po&&i!==n)if(i===po){const s=new n;s._map=r._map,r._map.forEach(l=>{for(;l!==null;l=l.left)l.parent=s}),s._start=r._start;for(let l=s._start;l!==null;l=l.right)l.parent=s;return s._length=r._length,this.share.set(e,s),s._integrate(this,null),s}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,co)}getText(e=""){return this.get(e,f0)}getMap(e=""){return this.get(e,uu)}getXmlElement(e=""){return this.get(e,Ah)}getXmlFragment(e=""){return this.get(e,zd)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,jd(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Qd({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,ai(e.parent.doc,r=>{const i=n.doc;e.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class TS{constructor(){this.restEncoder=B2()}toUint8Array(){return Fu(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){Xr(this.restEncoder,e)}writeDsLen(e){Xr(this.restEncoder,e)}}class DS extends TS{writeLeftID(e){Xr(this.restEncoder,e.client),Xr(this.restEncoder,e.clock)}writeRightID(e){Xr(this.restEncoder,e.client),Xr(this.restEncoder,e.clock)}writeClient(e){Xr(this.restEncoder,e)}writeInfo(e){$g(this.restEncoder,e)}writeString(e){Td(this.restEncoder,e)}writeParentInfo(e){Xr(this.restEncoder,e?1:0)}writeTypeRef(e){Xr(this.restEncoder,e)}writeLen(e){Xr(this.restEncoder,e)}writeAny(e){kh(this.restEncoder,e)}writeBuf(e){za(this.restEncoder,e)}writeJSON(e){Td(this.restEncoder,JSON.stringify(e))}writeKey(e){Td(this.restEncoder,e)}}class OS{constructor(){this.restEncoder=B2(),this.dsCurrVal=0}toUint8Array(){return Fu(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,Xr(this.restEncoder,n)}writeDsLen(e){e===0&&td(),Xr(this.restEncoder,e-1),this.dsCurrVal+=e}}class FS extends OS{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new M1,this.clientEncoder=new Yp,this.leftClockEncoder=new M1,this.rightClockEncoder=new M1,this.infoEncoder=new A5($g),this.stringEncoder=new Jx,this.parentInfoEncoder=new A5($g),this.typeRefEncoder=new Yp,this.lenEncoder=new Yp}toUint8Array(){const e=B2();return Xr(e,0),za(e,this.keyClockEncoder.toUint8Array()),za(e,this.clientEncoder.toUint8Array()),za(e,this.leftClockEncoder.toUint8Array()),za(e,this.rightClockEncoder.toUint8Array()),za(e,Fu(this.infoEncoder)),za(e,this.stringEncoder.toUint8Array()),za(e,Fu(this.parentInfoEncoder)),za(e,this.typeRefEncoder.toUint8Array()),za(e,this.lenEncoder.toUint8Array()),U2(e,Fu(this.restEncoder)),Fu(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){kh(this.restEncoder,e)}writeBuf(e){za(this.restEncoder,e)}writeJSON(e){kh(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const MS=(t,e,n,r)=>{r=Jd(r,e[0].id.clock);const i=ju(e,r);Xr(t.restEncoder,e.length-i),t.writeClient(n),Xr(t.restEncoder,r);const s=e[i];s.write(t,r-s.id.clock);for(let l=i+1;l<e.length;l++)e[l].write(t,0)},BS=(t,e,n)=>{const r=new Map;n.forEach((i,s)=>{Na(e,s)>i&&r.set(s,i)}),W2(e).forEach((i,s)=>{n.has(s)||r.set(s,0)}),Xr(t.restEncoder,r.size),jd(r.entries()).sort((i,s)=>s[0]-i[0]).forEach(([i,s])=>{MS(t,e.clients.get(i),i,s)})},jS=(t,e)=>BS(t,e.doc.store,e.beforeState);class US{constructor(){this.l=[]}}const D5=()=>new US,O5=(t,e)=>t.l.push(e),F5=(t,e)=>{const n=t.l,r=n.length;t.l=n.filter(i=>e!==i),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},hw=(t,e,n)=>G2(t.l,[e,n]);class Kp{constructor(e,n){this.client=e,this.clock=n}}const kp=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,Bi=(t,e)=>new Kp(t,e),zS=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw td()},Ad=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!uw(e.ds,t.id),Xg=(t,e)=>{const n=Xd(t.meta,Xg,Bd),r=t.doc.store;n.has(e)||(e.sv.forEach((i,s)=>{i<Na(r,s)&&Lc(t,Bi(s,i))}),lw(t,e.ds,i=>{}),n.add(e))};class GS{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const W2=t=>{const e=new Map;return t.clients.forEach((n,r)=>{const i=n[n.length-1];e.set(r,i.id.clock+i.length)}),e},Na=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},pw=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw td()}n.push(e)},ju=(t,e)=>{let n=0,r=t.length-1,i=t[r],s=i.id.clock;if(s===e)return r;let l=ed(e/(s+i.length-1)*r);for(;n<=r;){if(i=t[l],s=i.id.clock,s<=e){if(e<s+i.length)return l;n=l+1}else r=l-1;l=ed((n+r)/2)}throw td()},HS=(t,e)=>{const n=t.clients.get(e.client);return n[ju(n,e.clock)]},j1=HS,Jg=(t,e,n)=>{const r=ju(e,n),i=e[r];return i.id.clock<n&&i instanceof Mo?(e.splice(r+1,0,Tw(t,i,n-i.id.clock)),r+1):r},Lc=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[Jg(t,n,e.clock)]},M5=(t,e,n)=>{const r=e.clients.get(n.client),i=ju(r,n.clock),s=r[i];return n.clock!==s.id.clock+s.length-1&&s.constructor!==xc&&r.splice(i+1,0,Tw(t,s,n.clock-s.id.clock+1)),s},WS=(t,e,n)=>{const r=t.clients.get(e.id.client);r[ju(r,e.id.clock)]=n},gw=(t,e,n,r,i)=>{if(r===0)return;const s=n+r;let l=Jg(t,e,n),u;do u=e[l++],s<u.id.clock+u.length&&Jg(t,e,s),i(u);while(l<e.length&&e[l].id.clock<s)};class qS{constructor(e,n,r){this.doc=e,this.deleteSet=new PS,this.beforeState=W2(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const B5=(t,e)=>e.deleteSet.clients.size===0&&!Ex(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(cw(e.deleteSet),jS(t,e),RS(t,e.deleteSet),!0),j5=(t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&Xd(t.changed,e,Bd).add(n)},Xp=(t,e)=>{let n=t[e],r=t[e-1],i=e;for(;i>0;n=r,r=t[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof Mo&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const s=e-i;return s&&t.splice(e+1-s,s),s},VS=(t,e,n)=>{for(const[r,i]of t.clients.entries()){const s=e.clients.get(r);for(let l=i.length-1;l>=0;l--){const u=i[l],c=u.clock+u.len;for(let h=ju(s,u.clock),p=s[h];h<s.length&&p.id.clock<c;p=s[++h]){const y=s[h];if(u.clock+u.len<=y.id.clock)break;y instanceof Mo&&y.deleted&&!y.keep&&n(y)&&y.gc(e,!1)}}}},$S=(t,e)=>{t.clients.forEach((n,r)=>{const i=e.clients.get(r);for(let s=n.length-1;s>=0;s--){const l=n[s],u=K4(i.length-1,1+ju(i,l.clock+l.len-1));for(let c=u,h=i[c];c>0&&h.id.clock>=l.clock;h=i[c])c-=1+Xp(i,c)}})},mw=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,i=r.store,s=n.deleteSet,l=n._mergeStructs;try{cw(s),n.afterState=W2(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const u=[];n.changed.forEach((c,h)=>u.push(()=>{(h._item===null||!h._item.deleted)&&h._callObserver(n,c)})),u.push(()=>{n.changedParentTypes.forEach((c,h)=>{h._dEH.l.length>0&&(h._item===null||!h._item.deleted)&&(c=c.filter(p=>p.target._item===null||!p.target._item.deleted),c.forEach(p=>{p.currentTarget=h,p._path=null}),c.sort((p,y)=>p.path.length-y.path.length),hw(h._dEH,c,n))})}),u.push(()=>r.emit("afterTransaction",[n,r])),G2(u,[]),n._needFormattingCleanup&&s7(n)}finally{r.gc&&VS(s,i,r.gcFilter),$S(s,i),n.afterState.forEach((p,y)=>{const v=n.beforeState.get(y)||0;if(v!==p){const g=i.clients.get(y),_=Jd(ju(g,v),1);for(let S=g.length-1;S>=_;)S-=1+Xp(g,S)}});for(let p=l.length-1;p>=0;p--){const{client:y,clock:v}=l[p].id,g=i.clients.get(y),_=ju(g,v);_+1<g.length&&Xp(g,_+1)>1||_>0&&Xp(g,_)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(NS(H2,nw,"[yjs] ",rw,iw,"Changed the client-id because another client seems to be using it."),r.clientID=fw()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const p=new DS;B5(p,n)&&r.emit("update",[p.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const p=new FS;B5(p,n)&&r.emit("updateV2",[p.toUint8Array(),n.origin,r,n])}const{subdocsAdded:u,subdocsLoaded:c,subdocsRemoved:h}=n;(u.size>0||h.size>0||c.size>0)&&(u.forEach(p=>{p.clientID=r.clientID,p.collectionid==null&&(p.collectionid=r.collectionid),r.subdocs.add(p)}),h.forEach(p=>r.subdocs.delete(p)),r.emit("subdocs",[{loaded:c,added:u,removed:h},r,n]),h.forEach(p=>p.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):mw(t,e+1)}}},ai=(t,e,n=null,r=!0)=>{const i=t._transactionCleanups;let s=!1,l=null;t._transaction===null&&(s=!0,t._transaction=new qS(t,n,r),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{l=e(t._transaction)}finally{if(s){const u=t._transaction===i[0];t._transaction=null,u&&mw(i,0)}}return l},U5="You must not compute changes after the event-handler fired.";class O0{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=YS(this.currentTarget,this.target))}deletes(e){return uw(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Ud(U5);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const s=n._map.get(i);let l,u;if(this.adds(s)){let c=s.left;for(;c!==null&&this.adds(c);)c=c.left;if(this.deletes(s))if(c!==null&&this.deletes(c))l="delete",u=T1(c.content.getContent());else return;else c!==null&&this.deletes(c)?(l="update",u=T1(c.content.getContent())):(l="add",u=void 0)}else if(this.deletes(s))l="delete",u=T1(s.content.getContent());else return;e.set(i,{action:l,oldValue:u})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw Ud(U5);const n=this.target,r=Bd(),i=Bd(),s=[];if(e={added:r,deleted:i,delta:s,keys:this.keys},this.transaction.changed.get(n).has(null)){let u=null;const c=()=>{u&&s.push(u)};for(let h=n._start;h!==null;h=h.right)h.deleted?this.deletes(h)&&!this.adds(h)&&((u===null||u.delete===void 0)&&(c(),u={delete:0}),u.delete+=h.length,i.add(h)):this.adds(h)?((u===null||u.insert===void 0)&&(c(),u={insert:[]}),u.insert=u.insert.concat(h.content.getContent()),r.add(h)):((u===null||u.retain===void 0)&&(c(),u={retain:0}),u.retain+=h.length);u!==null&&u.retain===void 0&&c()}this._changes=e}return e}}const YS=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)!i.deleted&&i.countable&&(r+=i.length),i=i.right;n.unshift(r)}e=e._item.parent}return n},Bo=()=>{ES("Invalid access: Add Yjs type to a document before reading data.")},yw=80;let q2=0;class KS{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=q2++}}const XS=t=>{t.timestamp=q2++},vw=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=q2++},JS=(t,e,n)=>{if(t.length>=yw){const r=t.reduce((i,s)=>i.timestamp<s.timestamp?i:s);return vw(r,e,n),r}else{const r=new KS(e,n);return t.push(r),r}},F0=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((s,l)=>$p(e-s.index)<$p(e-l.index)?s:l);let r=t._start,i=0;for(n!==null&&(r=n.p,i=n.index,XS(n));r.right!==null&&i<e;){if(!r.deleted&&r.countable){if(e<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>e;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&$p(n.index-i)<r.parent.length/yw?(vw(n,r,i),n):JS(t._searchMarker,r,i)},Nh=(t,e,n)=>{for(let r=t.length-1;r>=0;r--){const i=t[r];if(n>0){let s=i.p;for(s.marker=!1;s&&(s.deleted||!s.countable);)s=s.left,s&&!s.deleted&&s.countable&&(i.index-=s.length);if(s===null||s.marker===!0){t.splice(r,1);continue}i.p=s,s.marker=!0}(e<i.index||n>0&&e===i.index)&&(i.index=Jd(e,i.index+n))}},M0=(t,e,n)=>{const r=t,i=e.changedParentTypes;for(;Xd(i,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;hw(r._eH,n,e)};class po{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=D5(),this._dEH=D5(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw hu()}clone(){throw hu()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){O5(this._eH,e)}observeDeep(e){O5(this._dEH,e)}unobserve(e){F5(this._eH,e)}unobserveDeep(e){F5(this._dEH,e)}toJSON(){}}const ww=(t,e,n)=>{t.doc??Bo(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const i=[];let s=t._start;for(;s!==null&&r>0;){if(s.countable&&!s.deleted){const l=s.content.getContent();if(l.length<=e)e-=l.length;else{for(let u=e;u<l.length&&r>0;u++)i.push(l[u]),r--;e=0}}s=s.right}return i},bw=t=>{t.doc??Bo();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)e.push(r[i])}n=n.right}return e},Eh=(t,e)=>{let n=0,r=t._start;for(t.doc??Bo();r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let s=0;s<i.length;s++)e(i[s],n++,t)}r=r.right}},_w=(t,e)=>{const n=[];return Eh(t,(r,i)=>{n.push(e(r,i,t))}),n},QS=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}}}},xw=(t,e)=>{t.doc??Bo();const n=F0(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},c0=(t,e,n,r)=>{let i=n;const s=t.doc,l=s.clientID,u=s.store,c=n===null?e._start:n.right;let h=[];const p=()=>{h.length>0&&(i=new Mo(Bi(l,Na(u,l)),i,i&&i.lastId,c,c&&c.id,e,null,new Gd(h)),i.integrate(t,0),h=[])};r.forEach(y=>{if(y===null)h.push(y);else switch(y.constructor){case Number:case Object:case Boolean:case Array:case String:h.push(y);break;default:switch(p(),y.constructor){case Uint8Array:case ArrayBuffer:i=new Mo(Bi(l,Na(u,l)),i,i&&i.lastId,c,c&&c.id,e,null,new B0(new Uint8Array(y))),i.integrate(t,0);break;case Qd:i=new Mo(Bi(l,Na(u,l)),i,i&&i.lastId,c,c&&c.id,e,null,new j0(y)),i.integrate(t,0);break;default:if(y instanceof po)i=new Mo(Bi(l,Na(u,l)),i,i&&i.lastId,c,c&&c.id,e,null,new Tc(y)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),p()},Sw=()=>Ud("Length exceeded!"),kw=(t,e,n,r)=>{if(n>e._length)throw Sw();if(n===0)return e._searchMarker&&Nh(e._searchMarker,n,r.length),c0(t,e,null,r);const i=n,s=F0(e,n);let l=e._start;for(s!==null&&(l=s.p,n-=s.index,n===0&&(l=l.prev,n+=l&&l.countable&&!l.deleted?l.length:0));l!==null;l=l.right)if(!l.deleted&&l.countable){if(n<=l.length){n<l.length&&Lc(t,Bi(l.id.client,l.id.clock+n));break}n-=l.length}return e._searchMarker&&Nh(e._searchMarker,i,r.length),c0(t,e,l,r)},ZS=(t,e,n)=>{let i=(e._searchMarker||[]).reduce((s,l)=>l.index>s.index?l:s,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return c0(t,e,i,n)},Cw=(t,e,n,r)=>{if(r===0)return;const i=n,s=r,l=F0(e,n);let u=e._start;for(l!==null&&(u=l.p,n-=l.index);u!==null&&n>0;u=u.right)!u.deleted&&u.countable&&(n<u.length&&Lc(t,Bi(u.id.client,u.id.clock+n)),n-=u.length);for(;r>0&&u!==null;)u.deleted||(r<u.length&&Lc(t,Bi(u.id.client,u.id.clock+r)),u.delete(t),r-=u.length),u=u.right;if(r>0)throw Sw();e._searchMarker&&Nh(e._searchMarker,i,-s+r)},d0=(t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},V2=(t,e,n,r)=>{const i=e._map.get(n)||null,s=t.doc,l=s.clientID;let u;if(r==null)u=new Gd([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:u=new Gd([r]);break;case Uint8Array:u=new B0(r);break;case Qd:u=new j0(r);break;default:if(r instanceof po)u=new Tc(r);else throw new Error("Unexpected content type")}new Mo(Bi(l,Na(s.store,l)),i,i&&i.lastId,null,null,e,n,u).integrate(t,0)},$2=(t,e)=>{t.doc??Bo();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},Nw=t=>{const e={};return t.doc??Bo(),t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},Ew=(t,e)=>{t.doc??Bo();const n=t._map.get(e);return n!==void 0&&!n.deleted},e7=(t,e)=>{const n={};return t._map.forEach((r,i)=>{let s=r;for(;s!==null&&(!e.sv.has(s.id.client)||s.id.clock>=(e.sv.get(s.id.client)||0));)s=s.left;s!==null&&Ad(s,e)&&(n[i]=s.content.getContent()[s.length-1])}),n},Cp=t=>(t.doc??Bo(),AS(t._map.entries(),e=>!e[1].deleted));class t7 extends O0{}class co extends po{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new co;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new co}clone(){const e=new co;return e.insert(0,this.toArray().map(n=>n instanceof po?n.clone():n)),e}get length(){return this.doc??Bo(),this._length}_callObserver(e,n){super._callObserver(e,n),M0(this,e,new t7(this,e))}insert(e,n){this.doc!==null?ai(this.doc,r=>{kw(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?ai(this.doc,n=>{ZS(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?ai(this.doc,r=>{Cw(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return xw(this,e)}toArray(){return bw(this)}slice(e=0,n=this.length){return ww(this,e,n)}toJSON(){return this.map(e=>e instanceof po?e.toJSON():e)}map(e){return _w(this,e)}forEach(e){Eh(this,e)}[Symbol.iterator](){return QS(this)}_write(e){e.writeTypeRef(d7)}}class n7 extends O0{constructor(e,n,r){super(e,n),this.keysChanged=r}}class uu extends po{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new uu}clone(){const e=new uu;return this.forEach((n,r)=>{e.set(r,n instanceof po?n.clone():n)}),e}_callObserver(e,n){M0(this,e,new n7(this,e,n))}toJSON(){this.doc??Bo();const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];e[r]=i instanceof po?i.toJSON():i}}),e}get size(){return[...Cp(this)].length}keys(){return B1(Cp(this),e=>e[0])}values(){return B1(Cp(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return B1(Cp(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??Bo(),this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?ai(this.doc,n=>{d0(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?ai(this.doc,r=>{V2(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return $2(this,e)}has(e){return Ew(this,e)}clear(){this.doc!==null?ai(this.doc,e=>{this.forEach(function(n,r,i){d0(e,i,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(f7)}}const Cc=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&cS(t,e);class Qg{constructor(e,n,r,i){this.left=e,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&td(),this.right.content.constructor){case Ws:this.right.deleted||Zd(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const z5=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case Ws:e.right.deleted||Zd(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Lc(t,Bi(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},Np=(t,e,n,r)=>{const i=new Map,s=r?F0(e,n):null;if(s){const l=new Qg(s.p.left,s.p,s.index,i);return z5(t,l,n-s.index)}else{const l=new Qg(null,e._start,0,i);return z5(t,l,n)}},Aw=(t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===Ws&&Cc(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=t.doc,s=i.clientID;r.forEach((l,u)=>{const c=n.left,h=n.right,p=new Mo(Bi(s,Na(i.store,s)),c,c&&c.lastId,h,h&&h.id,e,null,new Ws(u,l));p.integrate(t,0),n.right=p,n.forward()})},Zd=(t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},Lw=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Ws&&Cc(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},Pw=(t,e,n,r)=>{const i=t.doc,s=i.clientID,l=new Map;for(const u in r){const c=r[u],h=n.currentAttributes.get(u)??null;if(!Cc(h,c)){l.set(u,h);const{left:p,right:y}=n;n.right=new Mo(Bi(s,Na(i.store,s)),p,p&&p.lastId,y,y&&y.id,e,null,new Ws(u,c)),n.right.integrate(t,0),n.forward()}}return l},U1=(t,e,n,r,i)=>{n.currentAttributes.forEach((v,g)=>{i[g]===void 0&&(i[g]=null)});const s=t.doc,l=s.clientID;Lw(n,i);const u=Pw(t,e,n,i),c=r.constructor===String?new Uu(r):r instanceof po?new Tc(r):new ef(r);let{left:h,right:p,index:y}=n;e._searchMarker&&Nh(e._searchMarker,n.index,c.getLength()),p=new Mo(Bi(l,Na(s.store,l)),h,h&&h.lastId,p,p&&p.id,e,null,c),p.integrate(t,0),n.right=p,n.index=y,n.forward(),Aw(t,e,n,u)},G5=(t,e,n,r,i)=>{const s=t.doc,l=s.clientID;Lw(n,i);const u=Pw(t,e,n,i);e:for(;n.right!==null&&(r>0||u.size>0&&(n.right.deleted||n.right.content.constructor===Ws));){if(!n.right.deleted)switch(n.right.content.constructor){case Ws:{const{key:c,value:h}=n.right.content,p=i[c];if(p!==void 0){if(Cc(p,h))u.delete(c);else{if(r===0)break e;u.set(c,h)}n.right.delete(t)}else n.currentAttributes.set(c,h);break}default:r<n.right.length&&Lc(t,Bi(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let c="";for(;r>0;r--)c+=`
`;n.right=new Mo(Bi(l,Na(s.store,l)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new Uu(c)),n.right.integrate(t,0),n.forward()}Aw(t,e,n,u)},Iw=(t,e,n,r,i)=>{let s=e;const l=fu();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===Ws){const h=s.content;l.set(h.key,h)}s=s.right}let u=0,c=!1;for(;e!==s;){if(n===e&&(c=!0),!e.deleted){const h=e.content;switch(h.constructor){case Ws:{const{key:p,value:y}=h,v=r.get(p)??null;(l.get(p)!==h||v===y)&&(e.delete(t),u++,!c&&(i.get(p)??null)===y&&v!==y&&(v===null?i.delete(p):i.set(p,v))),!c&&!e.deleted&&Zd(i,h);break}}}e=e.right}return u},r7=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Ws){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},i7=t=>{let e=0;return ai(t.doc,n=>{let r=t._start,i=t._start,s=fu();const l=Vg(s);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case Ws:Zd(l,i.content);break;default:e+=Iw(n,r,i,s,l),s=Vg(l),r=i;break}i=i.right}}),e},s7=t=>{const e=new Set,n=t.doc;for(const[r,i]of t.afterState.entries()){const s=t.beforeState.get(r)||0;i!==s&&gw(t,n.store.clients.get(r),s,i,l=>{!l.deleted&&l.content.constructor===Ws&&l.constructor!==xc&&e.add(l.parent)})}ai(n,r=>{lw(t,t.deleteSet,i=>{if(i instanceof xc||!i.parent._hasFormatting||e.has(i.parent))return;const s=i.parent;i.content.constructor===Ws?e.add(s):r7(r,i)});for(const i of e)i7(i)})},H5=(t,e,n)=>{const r=n,i=Vg(e.currentAttributes),s=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Tc:case ef:case Uu:n<e.right.length&&Lc(t,Bi(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}s&&Iw(t,s,e.right,i,e.currentAttributes);const l=(e.left||e.right).parent;return l._searchMarker&&Nh(l._searchMarker,e.index,-r+n),e};class o7 extends O0{constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];ai(e,r=>{const i=new Map,s=new Map;let l=this.target._start,u=null;const c={};let h="",p=0,y=0;const v=()=>{if(u!==null){let g=null;switch(u){case"delete":y>0&&(g={delete:y}),y=0;break;case"insert":(typeof h=="object"||h.length>0)&&(g={insert:h},i.size>0&&(g.attributes={},i.forEach((_,S)=>{_!==null&&(g.attributes[S]=_)}))),h="";break;case"retain":p>0&&(g={retain:p},aS(c)||(g.attributes=iS({},c))),p=0;break}g&&n.push(g),u=null}};for(;l!==null;){switch(l.content.constructor){case Tc:case ef:this.adds(l)?this.deletes(l)||(v(),u="insert",h=l.content.getContent()[0],v()):this.deletes(l)?(u!=="delete"&&(v(),u="delete"),y+=1):l.deleted||(u!=="retain"&&(v(),u="retain"),p+=1);break;case Uu:this.adds(l)?this.deletes(l)||(u!=="insert"&&(v(),u="insert"),h+=l.content.str):this.deletes(l)?(u!=="delete"&&(v(),u="delete"),y+=l.length):l.deleted||(u!=="retain"&&(v(),u="retain"),p+=l.length);break;case Ws:{const{key:g,value:_}=l.content;if(this.adds(l)){if(!this.deletes(l)){const S=i.get(g)??null;Cc(S,_)?_!==null&&l.delete(r):(u==="retain"&&v(),Cc(_,s.get(g)??null)?delete c[g]:c[g]=_)}}else if(this.deletes(l)){s.set(g,_);const S=i.get(g)??null;Cc(S,_)||(u==="retain"&&v(),c[g]=S)}else if(!l.deleted){s.set(g,_);const S=c[g];S!==void 0&&(Cc(S,_)?S!==null&&l.delete(r):(u==="retain"&&v(),_===null?delete c[g]:c[g]=_))}l.deleted||(u==="insert"&&v(),Zd(i,l.content));break}}l=l.right}for(v();n.length>0;){const g=n[n.length-1];if(g.retain!==void 0&&g.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class f0 extends po{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Bo(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new f0}clone(){const e=new f0;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new o7(this,e,n);M0(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??Bo();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===Uu&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?ai(this.doc,r=>{const i=new Qg(null,this._start,0,new Map);for(let s=0;s<e.length;s++){const l=e[s];if(l.insert!==void 0){const u=!n&&typeof l.insert=="string"&&s===e.length-1&&i.right===null&&l.insert.slice(-1)===`
`?l.insert.slice(0,-1):l.insert;(typeof u!="string"||u.length>0)&&U1(r,this,i,u,l.attributes||{})}else l.retain!==void 0?G5(r,this,i,l.retain,l.attributes||{}):l.delete!==void 0&&H5(r,i,l.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){this.doc??Bo();const i=[],s=new Map,l=this.doc;let u="",c=this._start;function h(){if(u.length>0){const y={};let v=!1;s.forEach((_,S)=>{v=!0,y[S]=_});const g={insert:u};v&&(g.attributes=y),i.push(g),u=""}}const p=()=>{for(;c!==null;){if(Ad(c,e)||n!==void 0&&Ad(c,n))switch(c.content.constructor){case Uu:{const y=s.get("ychange");e!==void 0&&!Ad(c,e)?(y===void 0||y.user!==c.id.client||y.type!=="removed")&&(h(),s.set("ychange",r?r("removed",c.id):{type:"removed"})):n!==void 0&&!Ad(c,n)?(y===void 0||y.user!==c.id.client||y.type!=="added")&&(h(),s.set("ychange",r?r("added",c.id):{type:"added"})):y!==void 0&&(h(),s.delete("ychange")),u+=c.content.str;break}case Tc:case ef:{h();const y={insert:c.content.getContent()[0]};if(s.size>0){const v={};y.attributes=v,s.forEach((g,_)=>{v[_]=g})}i.push(y);break}case Ws:Ad(c,e)&&(h(),Zd(s,c.content));break}c=c.right}h()};return e||n?ai(l,y=>{e&&Xg(y,e),n&&Xg(y,n),p()},"cleanup"):p(),i}insert(e,n,r){if(n.length<=0)return;const i=this.doc;i!==null?ai(i,s=>{const l=Np(s,this,e,!r);r||(r={},l.currentAttributes.forEach((u,c)=>{r[c]=u})),U1(s,this,l,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const i=this.doc;i!==null?ai(i,s=>{const l=Np(s,this,e,!r);U1(s,this,l,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?ai(r,i=>{H5(i,Np(i,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const i=this.doc;i!==null?ai(i,s=>{const l=Np(s,this,e,!1);l.right!==null&&G5(s,this,l,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?ai(this.doc,n=>{d0(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?ai(this.doc,r=>{V2(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return $2(this,e)}getAttributes(){return Nw(this)}_write(e){e.writeTypeRef(h7)}}class z1{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??Bo()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===Ah||n.constructor===zd)&&n._start!==null)e=n._start;else for(;e!==null;){const r=e.next;if(r!==null){e=r;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class zd extends po{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new zd}clone(){const e=new zd;return e.insert(0,this.toArray().map(n=>n instanceof po?n.clone():n)),e}get length(){return this.doc??Bo(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new z1(this,e)}querySelector(e){e=e.toUpperCase();const r=new z1(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),jd(new z1(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){M0(this,e,new a7(this,n,e))}toString(){return _w(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const i=e.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),Eh(this,s=>{i.insertBefore(s.toDOM(e,n,r),null)}),i}insert(e,n){this.doc!==null?ai(this.doc,r=>{kw(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)ai(this.doc,r=>{const i=e&&e instanceof po?e._item:e;c0(r,this,i,n)});else{const r=this._prelimContent,i=e===null?0:r.findIndex(s=>s===e)+1;if(i===0&&e!==null)throw Ud("Reference item not found");r.splice(i,0,...n)}}delete(e,n=1){this.doc!==null?ai(this.doc,r=>{Cw(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return bw(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return xw(this,e)}slice(e=0,n=this.length){return ww(this,e,n)}forEach(e){Eh(this,e)}_write(e){e.writeTypeRef(g7)}}class Ah extends zd{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new Ah(this.nodeName)}clone(){const e=new Ah(this.nodeName),n=this.getAttributes();return oS(n,(r,i)=>{typeof r=="string"&&e.setAttribute(i,r)}),e.insert(0,this.toArray().map(r=>r instanceof po?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const u in e)r.push(u);r.sort();const i=r.length;for(let u=0;u<i;u++){const c=r[u];n.push(c+'="'+e[c]+'"')}const s=this.nodeName.toLocaleLowerCase(),l=n.length>0?" "+n.join(" "):"";return`<${s}${l}>${super.toString()}</${s}>`}removeAttribute(e){this.doc!==null?ai(this.doc,n=>{d0(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?ai(this.doc,r=>{V2(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return $2(this,e)}hasAttribute(e){return Ew(this,e)}getAttributes(e){return e?e7(this,e):Nw(this)}toDOM(e=document,n={},r){const i=e.createElement(this.nodeName),s=this.getAttributes();for(const l in s){const u=s[l];typeof u=="string"&&i.setAttribute(l,u)}return Eh(this,l=>{i.appendChild(l.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(e){e.writeTypeRef(p7),e.writeKey(this.nodeName)}}class a7 extends O0{constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class Rw{constructor(e,n){this.id=e,this.length=n}get deleted(){throw hu()}mergeWith(e){return!1}write(e,n,r){throw hu()}integrate(e,n){throw hu()}}const l7=0;class xc extends Rw{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),pw(e.doc.store,this)}write(e,n){e.writeInfo(l7),e.writeLen(this.length-n)}getMissing(e,n){return null}}class B0{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new B0(this.content)}splice(e){throw hu()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}class h0{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new h0(this.len)}splice(e){const n=new h0(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){dw(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const u7=(t,e)=>new Qd({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class j0{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new j0(u7(this.doc.guid,this.opts))}splice(e){throw hu()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}class ef{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new ef(this.embed)}splice(e){throw hu()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}class Ws{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Ws(this.key,this.value)}splice(e){throw hu()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const c7=u0("node_env")==="development";class Gd{constructor(e){this.arr=e,c7&&Z4(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Gd(this.arr)}splice(e){const n=new Gd(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const s=this.arr[i];e.writeAny(s)}}getRef(){return 8}}class Uu{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Uu(this.str)}splice(e){const n=new Uu(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"",n.str=""+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const d7=0,f7=1,h7=2,p7=3,g7=4;class Tc{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Tc(this.type._copy())}splice(e){throw hu()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const Tw=(t,e,n)=>{const{client:r,clock:i}=e.id,s=new Mo(Bi(r,i+n),e,Bi(r,i+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&s.markDeleted(),e.keep&&(s.keep=!0),e.redone!==null&&(s.redone=Bi(e.redone.client,e.redone.clock+n)),e.right=s,s.right!==null&&(s.right.left=s),t._mergeStructs.push(s),s.parentSub!==null&&s.right===null&&s.parent._map.set(s.parentSub,s),e.length=n,s};class Mo extends Rw{constructor(e,n,r,i,s,l,u,c){super(e,c.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=s,this.parent=l,this.parentSub=u,this.redone=null,this.content=c,this.info=this.content.isCountable()?k5:0}set marker(e){(this.info&O1)>0!==e&&(this.info^=O1)}get marker(){return(this.info&O1)>0}get keep(){return(this.info&S5)>0}set keep(e){this.keep!==e&&(this.info^=S5)}get countable(){return(this.info&k5)>0}get deleted(){return(this.info&D1)>0}set deleted(e){this.deleted!==e&&(this.info^=D1)}markDeleted(){this.info|=D1}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Na(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Na(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Kp&&this.id.client!==this.parent.client&&this.parent.clock>=Na(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=M5(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Lc(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===xc||this.right&&this.right.constructor===xc)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===Mo?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===Mo&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Kp){const r=j1(n,this.parent);r.constructor===xc?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=M5(e,e.doc.store,Bi(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const s=new Set,l=new Set;for(;i!==null&&i!==this.right;){if(l.add(i),s.add(i),kp(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,s.clear();else if(kp(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&l.has(j1(e.doc.store,i.origin)))s.has(j1(e.doc.store,i.origin))||(r=i,s.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),pw(e.doc.store,this),this.content.integrate(e,this),j5(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new xc(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:Bi(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&kp(e.origin,this.lastId)&&this.right===e&&kp(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),dw(e.deleteSet,this.id.client,this.id.clock,this.length),j5(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw td();this.content.gc(e),n?WS(e,this,new xc(this.id,this.length)):this.content=new h0(this.length)}write(e,n){const r=n>0?Bi(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,s=this.parentSub,l=this.content.getRef()&Rx|(r===null?0:l0)|(i===null?0:X4)|(s===null?0:Ix);if(e.writeInfo(l),r!==null&&e.writeLeftID(r),i!==null&&e.writeRightID(i),r===null&&i===null){const u=this.parent;if(u._item!==void 0){const c=u._item;if(c===null){const h=zS(u);e.writeParentInfo(!0),e.writeString(h)}else e.writeParentInfo(!1),e.writeLeftID(c.id)}else u.constructor===String?(e.writeParentInfo(!0),e.writeString(u)):u.constructor===Kp?(e.writeParentInfo(!1),e.writeLeftID(u)):td();s!==null&&e.writeString(s)}this.content.write(e,n)}}const Dw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},Ow="__ $YJS$ __";Dw[Ow]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");Dw[Ow]=!0;function m7(t,e){t.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,i=Math.random().toString().substring(2,8),s=this.onclose;this.onclose=l=>{const u=new Date().getTime()-r.getTime();e(`Discarded socket (#${i})  closed after ${u}ms, with code/reason: ${l.code}/${l.reason}`)},this.close(),s==null||s.call(t,{code:4001,reason:`Quick discarding socket (#${i}) without waiting for the shutdown sequence.`,wasClean:!1})}}const fh={LF:`
`,NULL:"\0"};class Sc{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(e){const{command:n,headers:r,body:i,binaryBody:s,escapeHeaderValues:l,skipContentLengthHeader:u}=e;this.command=n,this.headers=Object.assign({},r||{}),s?(this._binaryBody=s,this.isBinaryBody=!0):(this._body=i||"",this.isBinaryBody=!1),this.escapeHeaderValues=l||!1,this.skipContentLengthHeader=u||!1}static fromRawFrame(e,n){const r={},i=s=>s.replace(/^\s+|\s+$/g,"");for(const s of e.headers.reverse()){s.indexOf(":");const l=i(s[0]);let u=i(s[1]);n&&e.command!=="CONNECT"&&e.command!=="CONNECTED"&&(u=Sc.hdrValueUnEscape(u)),r[l]=u}return new Sc({command:e.command,headers:r,binaryBody:e.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){const e=this.serializeCmdAndHeaders();return this.isBinaryBody?Sc.toUnit8Array(e,this._binaryBody).buffer:e+this._body+fh.NULL}serializeCmdAndHeaders(){const e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){const r=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?e.push(`${n}:${Sc.hdrValueEscape(`${r}`)}`):e.push(`${n}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(fh.LF)+fh.LF+fh.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?new TextEncoder().encode(e).length:0}static toUnit8Array(e,n){const r=new TextEncoder().encode(e),i=new Uint8Array([0]),s=new Uint8Array(r.length+n.length+i.length);return s.set(r),s.set(n,r.length),s.set(i,r.length+n.length),s}static marshall(e){return new Sc(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const W5=0,Ep=10,Ap=13,y7=58;class v7{constructor(e,n){this.onFrame=e,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,n=!1){let r;if(typeof e=="string"?r=this._encoder.encode(e):r=new Uint8Array(e),n&&r[r.length-1]!==0){const i=new Uint8Array(r.length+1);i.set(r,0),i[r.length]=0,r=i}for(let i=0;i<r.length;i++){const s=r[i];this._onByte(s)}}_collectFrame(e){if(e!==W5&&e!==Ap){if(e===Ep){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(e)}}_collectCommand(e){if(e!==Ap){if(e===Ep){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_collectHeaders(e){if(e!==Ap){if(e===Ep){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(e)}}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(e===y7){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(e)}_collectHeaderValue(e){if(e!==Ap){if(e===Ep){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_setupCollectBody(){const e=this._results.headers.filter(n=>n[0]==="content-length")[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){if(e===W5){this._retrievedBody();return}this._consumeByte(e)}_collectBodyFixedSize(e){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(e)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(e){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",e)}this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var kc;(function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSING=2]="CLOSING",t[t.CLOSED=3]="CLOSED"})(kc||(kc={}));var Dl;(function(t){t[t.ACTIVE=0]="ACTIVE",t[t.DEACTIVATING=1]="DEACTIVATING",t[t.INACTIVE=2]="INACTIVE"})(Dl||(Dl={}));var p0;(function(t){t[t.LINEAR=0]="LINEAR",t[t.EXPONENTIAL=1]="EXPONENTIAL"})(p0||(p0={}));var Lh;(function(t){t.Interval="interval",t.Worker="worker"})(Lh||(Lh={}));class w7{constructor(e,n=Lh.Interval,r){this._interval=e,this._strategy=n,this._debug=r,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(e){this.stop(),this.shouldUseWorker()?this.runWorker(e):this.runInterval(e)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Lh.Worker}runWorker(e){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=n=>e(n.data))}runInterval(e){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const n=Date.now();this._timer=setInterval(()=>{e(Date.now()-n)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class Zo{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}}Zo.V1_0="1.0";Zo.V1_1="1.1";Zo.V1_2="1.2";Zo.default=new Zo([Zo.V1_2,Zo.V1_1,Zo.V1_0]);class b7{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(e,n,r){this._client=e,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:i=>{this.debug(`connected to server ${i.headers.server}`),this._connected=!0,this._connectedVersion=i.headers.version,this._connectedVersion===Zo.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(i.headers),this.onConnect(i)},MESSAGE:i=>{const s=i.headers.subscription,l=this._subscriptions[s]||this.onUnhandledMessage,u=i,c=this,h=this._connectedVersion===Zo.V1_2?u.headers.ack:u.headers["message-id"];u.ack=(p={})=>c.ack(h,s,p),u.nack=(p={})=>c.nack(h,s,p),l(u)},RECEIPT:i=>{const s=this._receiptWatchers[i.headers["receipt-id"]];s?(s(i),delete this._receiptWatchers[i.headers["receipt-id"]]):this.onUnhandledReceipt(i)},ERROR:i=>{this.onStompError(i)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatToleranceMultiplier=r.heartbeatGracePeriods,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame,this.onHeartbeatReceived=r.onHeartbeatReceived,this.onHeartbeatLost=r.onHeartbeatLost}start(){const e=new v7(n=>{const r=Sc.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${r}`)}e.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{const n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(e){if(e.version!==Zo.V1_1&&e.version!==Zo.V1_2||!e["heart-beat"])return;const[n,r]=e["heart-beat"].split(",").map(i=>parseInt(i,10));if(this.heartbeatOutgoing!==0&&r!==0){const i=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${i}ms`),this._pinger=new w7(i,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===kc.OPEN&&(this._webSocket.send(fh.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&n!==0){const i=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${i}ms`),this._ponger=setInterval(()=>{const s=Date.now()-this._lastServerActivityTS;s>i*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${s}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},i)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===kc.CONNECTING||this._webSocket.readyState===kc.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&m7(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){const{command:n,headers:r,body:i,binaryBody:s,skipContentLengthHeader:l}=e,u=new Sc({command:n,headers:r,body:i,binaryBody:s,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:l});let c=u.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${u}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let h=c;for(;h.length>0;){const p=h.substring(0,this.maxWebSocketChunkSize);h=h.substring(this.maxWebSocketChunkSize),this._webSocket.send(p),this.debug(`chunk sent = ${p.length}, remaining = ${h.length}`)}}}dispose(){if(this.connected)try{const e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt=`close-${this._counter++}`),this.watchForReceipt(e.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else(this._webSocket.readyState===kc.CONNECTING||this._webSocket.readyState===kc.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(e){const{destination:n,headers:r,body:i,binaryBody:s,skipContentLengthHeader:l}=e,u=Object.assign({destination:n},r);this._transmit({command:"SEND",headers:u,body:i,binaryBody:s,skipContentLengthHeader:l})}watchForReceipt(e,n){this._receiptWatchers[e]=n}subscribe(e,n,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=e,this._subscriptions[r.id]=n,this._transmit({command:"SUBSCRIBE",headers:r});const i=this;return{id:r.id,unsubscribe(s){return i.unsubscribe(r.id,s)}}}unsubscribe(e,n={}){n=Object.assign({},n),delete this._subscriptions[e],n.id=e,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(e){const n=e||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});const r=this;return{id:n,commit(){r.commit(n)},abort(){r.abort(n)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,n,r={}){r=Object.assign({},r),this._connectedVersion===Zo.V1_2?r.id=e:r["message-id"]=e,r.subscription=n,this._transmit({command:"ACK",headers:r})}nack(e,n,r={}){return r=Object.assign({},r),this._connectedVersion===Zo.V1_2?r.id=e:r["message-id"]=e,r.subscription=n,this._transmit({command:"NACK",headers:r})}}class _7{get webSocket(){var e;return(e=this._stompHandler)==null?void 0:e._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Dl.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}constructor(e={}){this.stompVersions=Zo.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=900*1e3,this.reconnectTimeMode=p0.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Lh.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=Dl.INACTIVE;const n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onHeartbeatReceived=n,this.onHeartbeatLost=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}configure(e){Object.assign(this,e),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const e=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(Dl.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===Dl.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{e()})):e()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const e=this._createWebSocket();this._stompHandler=new b7(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===Dl.DEACTIVATING&&this._changeState(Dl.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()}_createWebSocket(){let e;if(this.webSocketFactory)e=this.webSocketFactory();else if(this.brokerURL)e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return e.binaryType="arraybuffer",e}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===p0.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(e={}){var s;const n=e.force||!1,r=this.active;let i;if(this.state===Dl.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(Dl.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==kc.CLOSED){const l=this._stompHandler.onWebSocketClose;i=new Promise((u,c)=>{this._stompHandler.onWebSocketClose=h=>{l(h),u()}})}else return this._changeState(Dl.INACTIVE),Promise.resolve();return n?(s=this._stompHandler)==null||s.discardWebsocket():r&&this._disposeStompHandler(),i}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(e){this._checkConnection(),this._stompHandler.publish(e)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(e,n){this._checkConnection(),this._stompHandler.watchForReceipt(e,n)}subscribe(e,n,r={}){return this._checkConnection(),this._stompHandler.subscribe(e,n,r)}unsubscribe(e,n={}){this._checkConnection(),this._stompHandler.unsubscribe(e,n)}begin(e){return this._checkConnection(),this._stompHandler.begin(e)}commit(e){this._checkConnection(),this._stompHandler.commit(e)}abort(e){this._checkConnection(),this._stompHandler.abort(e)}ack(e,n,r={}){this._checkConnection(),this._stompHandler.ack(e,n,r)}nack(e,n,r={}){this._checkConnection(),this._stompHandler.nack(e,n,r)}}function x7(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function s(l){if(n[l])return i[l]=[];if(!(l in i)){i[l]=null;const u=r[l]&&r[l].parent,c=u&&s(u);c&&(i[l]=[u].concat(c))}return i[l]}return Object.keys(n).concat(Object.keys(r)).forEach(s),i}const Fw=Object.freeze({left:0,top:0,width:16,height:16}),g0=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Y2=Object.freeze({...Fw,...g0}),Zg=Object.freeze({...Y2,body:"",hidden:!1});function S7(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function q5(t,e){const n=S7(t,e);for(const r in Zg)r in g0?r in t&&!(r in n)&&(n[r]=g0[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function k7(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let s={};function l(u){s=q5(r[u]||i[u],s)}return l(e),n.forEach(l),q5(t,s)}function Mw(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(i=>{e(i,null),n.push(i)});const r=x7(t);for(const i in r){const s=r[i];s&&(e(i,k7(t,i,s)),n.push(i))}return n}const C7={provider:"",aliases:{},not_found:{},...Fw};function G1(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function Bw(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!G1(t,C7))return null;const n=e.icons;for(const i in n){const s=n[i];if(!i||typeof s.body!="string"||!G1(s,Zg))return null}const r=e.aliases||Object.create(null);for(const i in r){const s=r[i],l=s.parent;if(!i||typeof l!="string"||!n[l]&&!r[l]||!G1(s,Zg))return null}return e}const V5=Object.create(null);function N7(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function Hd(t,e){const n=V5[t]||(V5[t]=Object.create(null));return n[e]||(n[e]=N7(t,e))}function jw(t,e){return Bw(e)?Mw(e,(n,r)=>{r?t.icons[n]=r:t.missing.add(n)}):[]}function E7(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}const Uw=/^[a-z0-9]+(-[a-z0-9]+)*$/,U0=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const u=i.pop(),c=i.pop(),h={provider:i.length>0?i[0]:r,prefix:c,name:u};return e&&!Jp(h)?null:h}const s=i[0],l=s.split("-");if(l.length>1){const u={provider:r,prefix:l.shift(),name:l.join("-")};return e&&!Jp(u)?null:u}if(n&&r===""){const u={provider:r,prefix:"",name:s};return e&&!Jp(u,n)?null:u}return null},Jp=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;let Ph=!1;function zw(t){return typeof t=="boolean"&&(Ph=t),Ph}function $5(t){const e=typeof t=="string"?U0(t,!0,Ph):t;if(e){const n=Hd(e.provider,e.prefix),r=e.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function A7(t,e){const n=U0(t,!0,Ph);if(!n)return!1;const r=Hd(n.provider,n.prefix);return e?E7(r,n.name,e):(r.missing.add(n.name),!0)}function L7(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),Ph&&!e&&!t.prefix){let i=!1;return Bw(t)&&(t.prefix="",Mw(t,(s,l)=>{A7(s,l)&&(i=!0)})),i}const n=t.prefix;if(!Jp({prefix:n,name:"a"}))return!1;const r=Hd(e,n);return!!jw(r,t)}const Gw=Object.freeze({width:null,height:null}),Hw=Object.freeze({...Gw,...g0}),P7=/(-?[0-9.]*[0-9]+[0-9.]*)/g,I7=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Y5(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(P7);if(r===null||!r.length)return t;const i=[];let s=r.shift(),l=I7.test(s);for(;;){if(l){const u=parseFloat(s);isNaN(u)?i.push(s):i.push(Math.ceil(u*e*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");l=!l}}function R7(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const i=t.indexOf(">",r),s=t.indexOf("</"+e);if(i===-1||s===-1)break;const l=t.indexOf(">",s);if(l===-1)break;n+=t.slice(i+1,s).trim(),t=t.slice(0,r).trim()+t.slice(l+1)}return{defs:n,content:t}}function T7(t,e){return t?"<defs>"+t+"</defs>"+e:e}function D7(t,e,n){const r=R7(t);return T7(r.defs,e+r.content+n)}const O7=t=>t==="unset"||t==="undefined"||t==="none";function F7(t,e){const n={...Y2,...t},r={...Hw,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(S=>{const E=[],A=S.hFlip,N=S.vFlip;let x=S.rotate;A?N?x+=2:(E.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),E.push("scale(-1 1)"),i.top=i.left=0):N&&(E.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),E.push("scale(1 -1)"),i.top=i.left=0);let L;switch(x<0&&(x-=Math.floor(x/4)*4),x=x%4,x){case 1:L=i.height/2+i.top,E.unshift("rotate(90 "+L.toString()+" "+L.toString()+")");break;case 2:E.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:L=i.width/2+i.left,E.unshift("rotate(-90 "+L.toString()+" "+L.toString()+")");break}x%2===1&&(i.left!==i.top&&(L=i.left,i.left=i.top,i.top=L),i.width!==i.height&&(L=i.width,i.width=i.height,i.height=L)),E.length&&(s=D7(s,'<g transform="'+E.join(" ")+'">',"</g>"))});const l=r.width,u=r.height,c=i.width,h=i.height;let p,y;l===null?(y=u===null?"1em":u==="auto"?h:u,p=Y5(y,c/h)):(p=l==="auto"?c:l,y=u===null?Y5(p,h/c):u==="auto"?h:u);const v={},g=(S,E)=>{O7(E)||(v[S]=E.toString())};g("width",p),g("height",y);const _=[i.left,i.top,c,h];return v.viewBox=_.join(" "),{attributes:v,viewBox:_,body:s}}const M7=/\sid="(\S+)"/g,B7="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let j7=0;function U7(t,e=B7){const n=[];let r;for(;r=M7.exec(t);)n.push(r[1]);if(!n.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const l=typeof e=="function"?e(s):e+(j7++).toString(),u=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+u+')([")]|\\.[a-z])',"g"),"$1"+l+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}const e2=Object.create(null);function z7(t,e){e2[t]=e}function t2(t){return e2[t]||e2[""]}function K2(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const X2=Object.create(null),vf=["https://api.simplesvg.com","https://api.unisvg.com"],Qp=[];for(;vf.length>0;)vf.length===1||Math.random()>.5?Qp.push(vf.shift()):Qp.push(vf.pop());X2[""]=K2({resources:["https://api.iconify.design"].concat(Qp)});function G7(t,e){const n=K2(e);return n===null?!1:(X2[t]=n,!0)}function J2(t){return X2[t]}const H7=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let K5=H7();function W7(t,e){const n=J2(t);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(l=>{i=Math.max(i,l.length)});const s=e+".json?icons=";r=n.maxURL-i-n.path.length-s.length}return r}function q7(t){return t===404}const V7=(t,e,n)=>{const r=[],i=W7(t,e),s="icons";let l={type:s,provider:t,prefix:e,icons:[]},u=0;return n.forEach((c,h)=>{u+=c.length+1,u>=i&&h>0&&(r.push(l),l={type:s,provider:t,prefix:e,icons:[]},u=c.length),l.icons.push(c)}),r.push(l),r};function $7(t){if(typeof t=="string"){const e=J2(t);if(e)return e.path}return"/"}const Y7=(t,e,n)=>{if(!K5){n("abort",424);return}let r=$7(e.provider);switch(e.type){case"icons":{const s=e.prefix,u=e.icons.join(","),c=new URLSearchParams({icons:u});r+=s+".json?"+c.toString();break}case"custom":{const s=e.uri;r+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let i=503;K5(t+r).then(s=>{const l=s.status;if(l!==200){setTimeout(()=>{n(q7(l)?"abort":"next",l)});return}return i=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",i)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",i)})},K7={prepare:V7,send:Y7};function Ww(t,e){t.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==e))})}function X7(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const r=t.provider,i=t.prefix;e.forEach(s=>{const l=s.icons,u=l.pending.length;l.pending=l.pending.filter(c=>{if(c.prefix!==i)return!0;const h=c.name;if(t.icons[h])l.loaded.push({provider:r,prefix:i,name:h});else if(t.missing.has(h))l.missing.push({provider:r,prefix:i,name:h});else return n=!0,!0;return!1}),l.pending.length!==u&&(n||Ww([t],s.id),s.callback(l.loaded.slice(0),l.missing.slice(0),l.pending.slice(0),s.abort))})}))}let J7=0;function Q7(t,e,n){const r=J7++,i=Ww.bind(null,n,r);if(!e.pending.length)return i;const s={id:r,icons:e,callback:t,abort:i};return n.forEach(l=>{(l.loaderCallbacks||(l.loaderCallbacks=[])).push(s)}),i}function Z7(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((i,s)=>i.provider!==s.provider?i.provider.localeCompare(s.provider):i.prefix!==s.prefix?i.prefix.localeCompare(s.prefix):i.name.localeCompare(s.name));let r={provider:"",prefix:"",name:""};return t.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const s=i.provider,l=i.prefix,u=i.name,c=n[s]||(n[s]=Object.create(null)),h=c[l]||(c[l]=Hd(s,l));let p;u in h.icons?p=e.loaded:l===""||h.missing.has(u)?p=e.missing:p=e.pending;const y={provider:s,prefix:l,name:u};p.push(y)}),e}function e9(t,e=!0,n=!1){const r=[];return t.forEach(i=>{const s=typeof i=="string"?U0(i,e,n):i;s&&r.push(s)}),r}const t9={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function n9(t,e,n,r){const i=t.resources.length,s=t.random?Math.floor(Math.random()*i):t.index;let l;if(t.random){let W=t.resources.slice(0);for(l=[];W.length>1;){const re=Math.floor(Math.random()*W.length);l.push(W[re]),W=W.slice(0,re).concat(W.slice(re+1))}l=l.concat(W)}else l=t.resources.slice(s).concat(t.resources.slice(0,s));const u=Date.now();let c="pending",h=0,p,y=null,v=[],g=[];typeof r=="function"&&g.push(r);function _(){y&&(clearTimeout(y),y=null)}function S(){c==="pending"&&(c="aborted"),_(),v.forEach(W=>{W.status==="pending"&&(W.status="aborted")}),v=[]}function E(W,re){re&&(g=[]),typeof W=="function"&&g.push(W)}function A(){return{startTime:u,payload:e,status:c,queriesSent:h,queriesPending:v.length,subscribe:E,abort:S}}function N(){c="failed",g.forEach(W=>{W(void 0,p)})}function x(){v.forEach(W=>{W.status==="pending"&&(W.status="aborted")}),v=[]}function L(W,re,U){const M=re!=="success";switch(v=v.filter(V=>V!==W),c){case"pending":break;case"failed":if(M||!t.dataAfterTimeout)return;break;default:return}if(re==="abort"){p=U,N();return}if(M){p=U,v.length||(l.length?D():N());return}if(_(),x(),!t.random){const V=t.resources.indexOf(W.resource);V!==-1&&V!==t.index&&(t.index=V)}c="completed",g.forEach(V=>{V(U)})}function D(){if(c!=="pending")return;_();const W=l.shift();if(W===void 0){if(v.length){y=setTimeout(()=>{_(),c==="pending"&&(x(),N())},t.timeout);return}N();return}const re={status:"pending",resource:W,callback:(U,M)=>{L(re,U,M)}};v.push(re),h++,y=setTimeout(D,t.rotate),n(W,e,re.callback)}return setTimeout(D),A}function qw(t){const e={...t9,...t};let n=[];function r(){n=n.filter(u=>u().status==="pending")}function i(u,c,h){const p=n9(e,u,c,(y,v)=>{r(),h&&h(y,v)});return n.push(p),p}function s(u){return n.find(c=>u(c))||null}return{query:i,find:s,setIndex:u=>{e.index=u},getIndex:()=>e.index,cleanup:r}}function X5(){}const H1=Object.create(null);function r9(t){if(!H1[t]){const e=J2(t);if(!e)return;const n=qw(e),r={config:e,redundancy:n};H1[t]=r}return H1[t]}function i9(t,e,n){let r,i;if(typeof t=="string"){const s=t2(t);if(!s)return n(void 0,424),X5;i=s.send;const l=r9(t);l&&(r=l.redundancy)}else{const s=K2(t);if(s){r=qw(s);const l=t.resources?t.resources[0]:"",u=t2(l);u&&(i=u.send)}}return!r||!i?(n(void 0,424),X5):r.query(e,i,n)().abort}function J5(){}function s9(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,X7(t)}))}function o9(t){const e=[],n=[];return t.forEach(r=>{(r.match(Uw)?e:n).push(r)}),{valid:e,invalid:n}}function wf(t,e,n){function r(){const i=t.pendingIcons;e.forEach(s=>{i&&i.delete(s),t.icons[s]||t.missing.add(s)})}if(n&&typeof n=="object")try{if(!jw(t,n).length){r();return}}catch(i){console.error(i)}r(),s9(t)}function Q5(t,e){t instanceof Promise?t.then(n=>{e(n)}).catch(()=>{e(null)}):e(t)}function a9(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:r}=t,i=t.iconsToLoad;if(delete t.iconsToLoad,!i||!i.length)return;const s=t.loadIcon;if(t.loadIcons&&(i.length>1||!s)){Q5(t.loadIcons(i,r,n),p=>{wf(t,i,p)});return}if(s){i.forEach(p=>{const y=s(p,r,n);Q5(y,v=>{const g=v?{prefix:r,icons:{[p]:v}}:null;wf(t,[p],g)})});return}const{valid:l,invalid:u}=o9(i);if(u.length&&wf(t,u,null),!l.length)return;const c=r.match(Uw)?t2(n):null;if(!c){wf(t,l,null);return}c.prepare(n,r,l).forEach(p=>{i9(n,p,y=>{wf(t,p.icons,y)})})}))}const l9=(t,e)=>{const n=e9(t,!0,zw()),r=Z7(n);if(!r.pending.length){let c=!0;return e&&setTimeout(()=>{c&&e(r.loaded,r.missing,r.pending,J5)}),()=>{c=!1}}const i=Object.create(null),s=[];let l,u;return r.pending.forEach(c=>{const{provider:h,prefix:p}=c;if(p===u&&h===l)return;l=h,u=p,s.push(Hd(h,p));const y=i[h]||(i[h]=Object.create(null));y[p]||(y[p]=[])}),r.pending.forEach(c=>{const{provider:h,prefix:p,name:y}=c,v=Hd(h,p),g=v.pendingIcons||(v.pendingIcons=new Set);g.has(y)||(g.add(y),i[h][p].push(y))}),s.forEach(c=>{const h=i[c.provider][c.prefix];h.length&&a9(c,h)}),e?Q7(e,r,s):J5};function u9(t,e){const n={...t};for(const r in e){const i=e[r],s=typeof i;r in Gw?(i===null||i&&(s==="string"||s==="number"))&&(n[r]=i):s===typeof n[r]&&(n[r]=r==="rotate"?i%4:i)}return n}const c9=/[\s,]+/;function d9(t,e){e.split(c9).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function f9(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(t);return isNaN(i)?0:r(i)}else if(n!==t){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let s=parseFloat(t.slice(0,t.length-n.length));return isNaN(s)?0:(s=s/i,s%1===0?r(s):0)}}return e}function h9(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function p9(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function g9(t){return"data:image/svg+xml,"+p9(t)}function m9(t){return'url("'+g9(t)+'")'}let gh;function y9(){try{gh=window.trustedTypes.createPolicy("iconify",{createHTML:t=>t})}catch{gh=null}}function v9(t){return gh===void 0&&y9(),gh?gh.createHTML(t):t}const Vw={...Hw,inline:!1},w9={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},b9={display:"inline-block"},n2={backgroundColor:"currentColor"},$w={backgroundColor:"transparent"},Z5={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},ey={WebkitMask:n2,mask:n2,background:$w};for(const t in ey){const e=ey[t];for(const n in Z5)e[t+n]=Z5[n]}const _9={...Vw,inline:!0};function ty(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const x9=(t,e,n)=>{const r=e.inline?_9:Vw,i=u9(r,e),s=e.mode||"svg",l={},u=e.style||{},c={...s==="svg"?w9:{}};if(n){const E=U0(n,!1,!0);if(E){const A=["iconify"],N=["provider","prefix"];for(const x of N)E[x]&&A.push("iconify--"+E[x]);c.className=A.join(" ")}}for(let E in e){const A=e[E];if(A!==void 0)switch(E){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":case"fallback":break;case"_ref":c.ref=A;break;case"className":c[E]=(c[E]?c[E]+" ":"")+A;break;case"inline":case"hFlip":case"vFlip":i[E]=A===!0||A==="true"||A===1;break;case"flip":typeof A=="string"&&d9(i,A);break;case"color":l.color=A;break;case"rotate":typeof A=="string"?i[E]=f9(A):typeof A=="number"&&(i[E]=A);break;case"ariaHidden":case"aria-hidden":A!==!0&&A!=="true"&&delete c["aria-hidden"];break;default:r[E]===void 0&&(c[E]=A)}}const h=F7(t,i),p=h.attributes;if(i.inline&&(l.verticalAlign="-0.125em"),s==="svg"){c.style={...l,...u},Object.assign(c,p);let E=0,A=e.id;return typeof A=="string"&&(A=A.replace(/-/g,"_")),c.dangerouslySetInnerHTML={__html:v9(U7(h.body,A?()=>A+"ID"+E++:"iconifyReact"))},ue.createElement("svg",c)}const{body:y,width:v,height:g}=t,_=s==="mask"||(s==="bg"?!1:y.indexOf("currentColor")!==-1),S=h9(y,{...p,width:v+"",height:g+""});return c.style={...l,"--svg":m9(S),width:ty(p.width),height:ty(p.height),...b9,..._?n2:$w,...u},ue.createElement("span",c)};zw(!0);z7("",K7);if(typeof document<"u"&&typeof window<"u"){const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!L7(r))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const r="IconifyProviders["+n+"] is invalid.";try{const i=e[n];if(typeof i!="object"||!i||i.resources===void 0)continue;G7(n,i)||console.error(r)}catch{console.error(r)}}}}function Yw(t){const[e,n]=ue.useState(!!t.ssr),[r,i]=ue.useState({});function s(g){if(g){const _=t.icon;if(typeof _=="object")return{name:"",data:_};const S=$5(_);if(S)return{name:_,data:S}}return{name:""}}const[l,u]=ue.useState(s(!!t.ssr));function c(){const g=r.callback;g&&(g(),i({}))}function h(g){if(JSON.stringify(l)!==JSON.stringify(g))return c(),u(g),!0}function p(){var g;const _=t.icon;if(typeof _=="object"){h({name:"",data:_});return}const S=$5(_);if(h({name:_,data:S}))if(S===void 0){const E=l9([_],p);i({callback:E})}else S&&((g=t.onLoad)===null||g===void 0||g.call(t,_))}ue.useEffect(()=>(n(!0),c),[]),ue.useEffect(()=>{e&&p()},[t.icon,e]);const{name:y,data:v}=l;return v?x9({...Y2,...v},t,y):t.children?t.children:t.fallback?t.fallback:ue.createElement("span",{})}const yi=ue.forwardRef((t,e)=>Yw({...t,_ref:e}));ue.forwardRef((t,e)=>Yw({inline:!0,...t,_ref:e}));const mh=({variant:t,title:e,onTitleChange:n,onTitleSave:r,onLoginClick:i,onRegisterClick:s,isFullscreen:l=!1,onEnterFullscreen:u,onExitFullscreen:c,onApplyRestore:h,presentationId:p,onSaveHistory:y,onDownloadPdf:v,onShare:g,isGuest:_=!1})=>{var U;const S=Wh(),{user:E,isAuthenticated:A,logout:N}=du(),{id:x,presentationId:L}=R2(),D=p??L??x,W=()=>{window.confirm(" ?")&&(N(),S("/"))},re=()=>{if(!D){alert(" ID     .");return}S(`/history/${D}`)};return fe.jsxs("header",{className:`header header-${t}`,children:[(t==="main"||t==="workspace")&&fe.jsx("div",{className:"logo-container",onClick:()=>{if(_){alert("    .");return}S("/")},children:fe.jsx("img",{src:"/kimbanana/ui/assets/headerIcon/KimbananaLogo.svg",alt:"KimBanana Logo",className:"logo",style:{cursor:_?"not-allowed":"pointer"}})}),t==="history"&&fe.jsxs(fe.Fragment,{children:[fe.jsx("div",{className:"history-header-left",onClick:()=>S(-1),children:fe.jsx(yi,{icon:"material-symbols:arrow-back-rounded",width:"24",className:"back-arrow"})}),fe.jsx("div",{className:"header-buttons history-btns",children:h&&fe.jsx("button",{className:"header-btn restore-apply-btn",onClick:async()=>{h&&window.confirm("  ?")&&await h()},children:fe.jsx("img",{src:"/kimbanana/ui/assets/headerIcon/restoreApply.svg",alt:"restoreApply"})})})]}),t==="main"&&fe.jsx("input",{type:"text",className:"title-input",placeholder:" .",value:e??"",onChange:M=>n==null?void 0:n(M.target.value),onBlur:M=>{const V=M.target.value.trim();V&&(r==null||r(V))},onKeyDown:M=>{M.key==="Enter"&&M.target.blur()}}),t==="main"&&fe.jsxs("div",{className:"header-buttons btn",children:[fe.jsx("button",{className:"header-btn fullscreen-btn",onClick:l?c:u,title:l?" ":"",children:fe.jsx("img",{src:"/kimbanana/ui/assets/headerIcon/fullscreen.svg",alt:"fullscreen"})}),fe.jsx("button",{className:"header-btn history-btn",onClick:async()=>{try{y&&await y()}finally{re()}},title:"",children:fe.jsx("img",{src:"/kimbanana/ui/assets/headerIcon/history.svg",alt:"History"})}),fe.jsx("button",{className:"header-btn save-btn",onClick:y,children:fe.jsx("img",{src:"/kimbanana/ui/assets/headerIcon/save.svg",alt:"Save"})}),fe.jsx("button",{className:"header-btn share-btn",onClick:()=>{if(_){alert("     .");return}g==null||g()},children:fe.jsx("img",{src:"/kimbanana/ui/assets/headerIcon/share.svg",alt:"Share"})}),fe.jsx("button",{className:"header-btn download-btn",onClick:v,children:fe.jsx("img",{src:"/kimbanana/ui/assets/headerIcon/download.svg",alt:"Download"})})]}),t==="workspace"&&fe.jsx("div",{className:"auth-buttons",children:A?fe.jsxs("div",{className:"user-profile",children:[fe.jsx("div",{className:"profile-avatar",children:((U=E==null?void 0:E.name)==null?void 0:U.charAt(0).toUpperCase())||"U"}),fe.jsxs("div",{className:"profile-dropdown",children:[fe.jsx("span",{className:"user-name",children:E==null?void 0:E.name}),fe.jsx("button",{onClick:W,className:"logout-btn",children:""})]})]}):fe.jsxs("div",{className:"login-buttons",children:[fe.jsx("button",{onClick:i,className:"login-btn",children:""}),fe.jsx("button",{onClick:s,className:"register-btn",children:""})]})})]})};function Qo(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var S9=typeof Symbol=="function"&&Symbol.observable||"@@observable",ny=S9,ry=()=>Math.random().toString(36).substring(7).split("").join("."),k9={INIT:`@@redux/INIT${ry()}`,REPLACE:`@@redux/REPLACE${ry()}`},iy=k9;function C9(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Kw(t,e,n){if(typeof t!="function")throw new Error(Qo(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Qo(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Qo(1));return n(Kw)(t,e)}let r=t,i=e,s=new Map,l=s,u=0,c=!1;function h(){l===s&&(l=new Map,s.forEach((E,A)=>{l.set(A,E)}))}function p(){if(c)throw new Error(Qo(3));return i}function y(E){if(typeof E!="function")throw new Error(Qo(4));if(c)throw new Error(Qo(5));let A=!0;h();const N=u++;return l.set(N,E),function(){if(A){if(c)throw new Error(Qo(6));A=!1,h(),l.delete(N),s=null}}}function v(E){if(!C9(E))throw new Error(Qo(7));if(typeof E.type>"u")throw new Error(Qo(8));if(typeof E.type!="string")throw new Error(Qo(17));if(c)throw new Error(Qo(9));try{c=!0,i=r(i,E)}finally{c=!1}return(s=l).forEach(N=>{N()}),E}function g(E){if(typeof E!="function")throw new Error(Qo(10));r=E,v({type:iy.REPLACE})}function _(){const E=y;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(Qo(11));function N(){const L=A;L.next&&L.next(p())}return N(),{unsubscribe:E(N)}},[ny](){return this}}}return v({type:iy.INIT}),{dispatch:v,subscribe:y,getState:p,replaceReducer:g,[ny]:_}}function sy(t,e){return function(...n){return e(t.apply(this,n))}}function oy(t,e){if(typeof t=="function")return sy(t,e);if(typeof t!="object"||t===null)throw new Error(Qo(16));const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=sy(i,e))}return n}function Xw(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function N9(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Qo(15))};const l={getState:i.getState,dispatch:(c,...h)=>s(c,...h)},u=t.map(c=>c(l));return s=Xw(...u)(i.dispatch),{...i,dispatch:s}}}var W1={exports:{}},q1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function E9(){if(ay)return q1;ay=1;var t=$d();function e(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return q1.useSyncExternalStoreWithSelector=function(c,h,p,y,v){var g=i(null);if(g.current===null){var _={hasValue:!1,value:null};g.current=_}else _=g.current;g=l(function(){function E(D){if(!A){if(A=!0,N=D,D=y(D),v!==void 0&&_.hasValue){var W=_.value;if(v(W,D))return x=W}return x=D}if(W=x,n(N,D))return W;var re=y(D);return v!==void 0&&v(W,re)?(N=D,W):(N=D,x=re)}var A=!1,N,x,L=p===void 0?null:p;return[function(){return E(h())},L===null?void 0:function(){return E(L())}]},[h,p,y,v]);var S=r(c,g[0],g[1]);return s(function(){_.hasValue=!0,_.value=S},[S]),u(S),S},q1}var ly;function A9(){return ly||(ly=1,W1.exports=E9()),W1.exports}A9();var L9=ue.version.startsWith("19"),P9=Symbol.for(L9?"react.transitional.element":"react.element"),I9=Symbol.for("react.portal"),R9=Symbol.for("react.fragment"),T9=Symbol.for("react.strict_mode"),D9=Symbol.for("react.profiler"),O9=Symbol.for("react.consumer"),F9=Symbol.for("react.context"),Jw=Symbol.for("react.forward_ref"),M9=Symbol.for("react.suspense"),B9=Symbol.for("react.suspense_list"),Q2=Symbol.for("react.memo"),j9=Symbol.for("react.lazy"),U9=Jw,z9=Q2;function G9(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case P9:switch(t=t.type,t){case R9:case D9:case T9:case M9:case B9:return t;default:switch(t=t&&t.$$typeof,t){case F9:case Jw:case j9:case Q2:return t;case O9:return t;default:return e}}case I9:return e}}}function H9(t){return G9(t)===Q2}function W9(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:l}){let u=!1,c,h,p,y,v;function g(N,x){return c=N,h=x,p=t(c,h),y=e(r,h),v=n(p,y,h),u=!0,v}function _(){return p=t(c,h),e.dependsOnOwnProps&&(y=e(r,h)),v=n(p,y,h),v}function S(){return t.dependsOnOwnProps&&(p=t(c,h)),e.dependsOnOwnProps&&(y=e(r,h)),v=n(p,y,h),v}function E(){const N=t(c,h),x=!l(N,p);return p=N,x&&(v=n(p,y,h)),v}function A(N,x){const L=!s(x,h),D=!i(N,c,x,h);return c=N,h=x,L&&D?_():L?S():D?E():v}return function(x,L){return u?A(x,L):g(x,L)}}function q9(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...i}){const s=e(t,i),l=n(t,i),u=r(t,i);return W9(s,l,u,t,i)}function V9(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...s)=>e(i(...s)))}return n}function r2(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function uy(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function Qw(t,e){return function(r,{displayName:i}){const s=function(u,c){return s.dependsOnOwnProps?s.mapToProps(u,c):s.mapToProps(u,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(u,c){s.mapToProps=t,s.dependsOnOwnProps=uy(t);let h=s(u,c);return typeof h=="function"&&(s.mapToProps=h,s.dependsOnOwnProps=uy(h),h=s(u,c)),h},s}}function Z2(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function $9(t){return t&&typeof t=="object"?r2(e=>V9(t,e)):t?typeof t=="function"?Qw(t):Z2(t,"mapDispatchToProps"):r2(e=>({dispatch:e}))}function Y9(t){return t?typeof t=="function"?Qw(t):Z2(t,"mapStateToProps"):r2(()=>({}))}function K9(t,e,n){return{...n,...t,...e}}function X9(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,l;return function(c,h,p){const y=t(c,h,p);return s?i(y,l)||(l=y):(s=!0,l=y),l}}}function J9(t){return t?typeof t=="function"?X9(t):Z2(t,"mergeProps"):()=>K9}function Q9(t){t()}function Z9(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Q9(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var cy={notify(){},get:()=>[]};function Zw(t,e){let n,r=cy,i=0,s=!1;function l(S){p();const E=r.subscribe(S);let A=!1;return()=>{A||(A=!0,E(),y())}}function u(){r.notify()}function c(){_.onStateChange&&_.onStateChange()}function h(){return s}function p(){i++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=Z9())}function y(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=cy)}function v(){s||(s=!0,p())}function g(){s&&(s=!1,y())}const _={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:h,trySubscribe:v,tryUnsubscribe:g,getListeners:()=>r};return _}var ek=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tk=ek(),nk=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rk=nk(),ik=()=>tk||rk?ue.useLayoutEffect:ue.useEffect,m0=ik();function dy(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function V1(t,e){if(dy(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!dy(t[n[i]],e[n[i]]))return!1;return!0}var sk={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ok={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ak={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},e6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},lk={[U9]:ak,[z9]:e6};function fy(t){return H9(t)?e6:lk[t.$$typeof]||sk}var uk=Object.defineProperty,ck=Object.getOwnPropertyNames,hy=Object.getOwnPropertySymbols,dk=Object.getOwnPropertyDescriptor,fk=Object.getPrototypeOf,py=Object.prototype;function i2(t,e){if(typeof e!="string"){if(py){const s=fk(e);s&&s!==py&&i2(t,s)}let n=ck(e);hy&&(n=n.concat(hy(e)));const r=fy(t),i=fy(e);for(let s=0;s<n.length;++s){const l=n[s];if(!ok[l]&&!(i&&i[l])&&!(r&&r[l])){const u=dk(e,l);try{uk(t,l,u)}catch{}}}}return t}var $1=Symbol.for("react-redux-context"),Y1=typeof globalThis<"u"?globalThis:{};function hk(){if(!ue.createContext)return{};const t=Y1[$1]??(Y1[$1]=new Map);let e=t.get(ue.createContext);return e||(e=ue.createContext(null),t.set(ue.createContext,e)),e}var t6=hk(),pk=[null,null];function gk(t,e,n){m0(()=>t(...e),n)}function mk(t,e,n,r,i,s){t.current=r,n.current=!1,i.current&&(i.current=null,s())}function yk(t,e,n,r,i,s,l,u,c,h,p){if(!t)return()=>{};let y=!1,v=null;const g=()=>{if(y||!u.current)return;const S=e.getState();let E,A;try{E=r(S,i.current)}catch(N){A=N,v=N}A||(v=null),E===s.current?l.current||h():(s.current=E,c.current=E,l.current=!0,p())};return n.onStateChange=g,n.trySubscribe(),g(),()=>{if(y=!0,n.tryUnsubscribe(),n.onStateChange=null,v)throw v}}function vk(t,e){return t===e}function wk(t,e,n,{pure:r,areStatesEqual:i=vk,areOwnPropsEqual:s=V1,areStatePropsEqual:l=V1,areMergedPropsEqual:u=V1,forwardRef:c=!1,context:h=t6}={}){const p=h,y=Y9(t),v=$9(e),g=J9(n),_=!!t;return E=>{const A=E.displayName||E.name||"Component",N=`Connect(${A})`,x={shouldHandleStateChanges:_,displayName:N,wrappedComponentName:A,WrappedComponent:E,initMapStateToProps:y,initMapDispatchToProps:v,initMergeProps:g,areStatesEqual:i,areStatePropsEqual:l,areOwnPropsEqual:s,areMergedPropsEqual:u};function L(re){const[U,M,V]=ue.useMemo(()=>{const{reactReduxForwardedRef:Ue,...Ve}=re;return[re.context,Ue,Ve]},[re]),F=ue.useMemo(()=>{let Ue=p;return U!=null&&U.Consumer,Ue},[U,p]),H=ue.useContext(F),Z=!!re.store&&!!re.store.getState&&!!re.store.dispatch,ne=!!H&&!!H.store,le=Z?re.store:H.store,xe=ne?H.getServerState:le.getState,B=ue.useMemo(()=>q9(le.dispatch,x),[le]),[G,Q]=ue.useMemo(()=>{if(!_)return pk;const Ue=Zw(le,Z?void 0:H.subscription),Ve=Ue.notifyNestedSubs.bind(Ue);return[Ue,Ve]},[le,Z,H]),ee=ue.useMemo(()=>Z?H:{...H,subscription:G},[Z,H,G]),$=ue.useRef(void 0),j=ue.useRef(V),K=ue.useRef(void 0),X=ue.useRef(!1),ce=ue.useRef(!1),ae=ue.useRef(void 0);m0(()=>(ce.current=!0,()=>{ce.current=!1}),[]);const J=ue.useMemo(()=>()=>K.current&&V===j.current?K.current:B(le.getState(),V),[le,V]),ge=ue.useMemo(()=>Ve=>G?yk(_,le,G,B,j,$,X,ce,K,Q,Ve):()=>{},[G]);gk(mk,[j,$,X,V,K,Q]);let _e;try{_e=ue.useSyncExternalStore(ge,J,xe?()=>B(xe(),V):J)}catch(Ue){throw ae.current&&(Ue.message+=`
The error may be correlated with this previous error:
${ae.current.stack}

`),Ue}m0(()=>{ae.current=void 0,K.current=void 0,$.current=_e});const Se=ue.useMemo(()=>ue.createElement(E,{..._e,ref:M}),[M,E,_e]);return ue.useMemo(()=>_?ue.createElement(F.Provider,{value:ee},Se):Se,[F,Se,ee])}const W=ue.memo(L);if(W.WrappedComponent=E,W.displayName=L.displayName=N,c){const U=ue.forwardRef(function(V,F){return ue.createElement(W,{...V,reactReduxForwardedRef:F})});return U.displayName=N,U.WrappedComponent=E,i2(U,E)}return i2(W,E)}}var n6=wk;function bk(t){const{children:e,context:n,serverState:r,store:i}=t,s=ue.useMemo(()=>{const c=Zw(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),l=ue.useMemo(()=>i.getState(),[i]);m0(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,l]);const u=n||t6;return ue.createElement(u.Provider,{value:s},e)}var _k=bk,xk="Invariant failed";function Sk(t,e){throw new Error(xk)}var Ol=function(e){var n=e.top,r=e.right,i=e.bottom,s=e.left,l=r-s,u=i-n,c={top:n,right:r,bottom:i,left:s,width:l,height:u,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return c},em=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},gy=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},kk=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},K1={top:0,right:0,bottom:0,left:0},tm=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?K1:r,s=e.border,l=s===void 0?K1:s,u=e.padding,c=u===void 0?K1:u,h=Ol(em(n,i)),p=Ol(gy(n,l)),y=Ol(gy(p,c));return{marginBox:h,borderBox:Ol(n),paddingBox:p,contentBox:y,margin:i,border:l,padding:c}},cl=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&Sk(),i},Ck=function(){return{x:window.pageXOffset,y:window.pageYOffset}},y0=function(e,n){var r=e.borderBox,i=e.border,s=e.margin,l=e.padding,u=kk(r,n);return tm({borderBox:u,border:i,margin:s,padding:l})},v0=function(e,n){return n===void 0&&(n=Ck()),y0(e,n)},r6=function(e,n){var r={top:cl(n.marginTop),right:cl(n.marginRight),bottom:cl(n.marginBottom),left:cl(n.marginLeft)},i={top:cl(n.paddingTop),right:cl(n.paddingRight),bottom:cl(n.paddingBottom),left:cl(n.paddingLeft)},s={top:cl(n.borderTopWidth),right:cl(n.borderRightWidth),bottom:cl(n.borderBottomWidth),left:cl(n.borderLeftWidth)};return tm({borderBox:e,margin:r,padding:i,border:s})},i6=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return r6(n,r)},Ih=function(e){var n=[],r=null,i=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];n=u,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w0.apply(null,arguments)}function s6(t,e){}s6.bind(null,"warn");s6.bind(null,"error");function Ec(){}function Nk(t,e){return{...t,...e}}function dl(t,e,n){const r=e.map(i=>{const s=Nk(n,i.options);return t.addEventListener(i.eventName,i.fn,s),function(){t.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(s=>{s()})}}const Ek="Invariant failed";class b0 extends Error{}b0.prototype.toString=function(){return this.message};function xt(t,e){throw new b0(Ek)}class Ak extends tn.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Ec,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof b0&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=dl(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof b0){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Lk=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,_0=t=>t+1,Pk=t=>`
  You have lifted an item in position ${_0(t.source.index)}
`,o6=(t,e)=>{const n=t.droppableId===e.droppableId,r=_0(t.index),i=_0(e.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},a6=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,Ik=t=>{const e=t.destination;if(e)return o6(t.source,e);const n=t.combine;return n?a6(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},my=t=>`
  The item has returned to its starting position
  of ${_0(t.index)}
`,Rk=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${my(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${o6(t.source,e)}
    `:n?`
      You have dropped the item.
      ${a6(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${my(t.source)}
  `},Zp={dragHandleUsageInstructions:Lk,onDragStart:Pk,onDragUpdate:Ik,onDragEnd:Rk};function Tk(t,e){return!!(t===e||Number.isNaN(t)&&Number.isNaN(e))}function l6(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Tk(t[n],e[n]))return!1;return!0}function cr(t,e){const n=ue.useState(()=>({inputs:e,result:t()}))[0],r=ue.useRef(!0),i=ue.useRef(n),l=r.current||!!(e&&i.current.inputs&&l6(e,i.current.inputs))?i.current:{inputs:e,result:t()};return ue.useEffect(()=>{r.current=!1,i.current=l},[l]),l.result}function en(t,e){return cr(()=>t,e)}const qs={x:0,y:0},fo=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Ga=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),Ac=(t,e)=>t.x===e.x&&t.y===e.y,tf=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),nd=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},Rh=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),yy=(t,e)=>Math.min(...e.map(n=>Rh(t,n))),u6=t=>e=>({x:t(e.x),y:t(e.y)});var Dk=(t,e)=>{const n=Ol({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const $h=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),vy=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],Ok={top:0,right:0,bottom:0,left:0},Fk=(t,e)=>e?$h(t,e.scroll.diff.displacement):t,Mk=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,Bk=(t,e)=>e&&e.shouldClipSubject?Dk(e.pageMarginBox,t):Ol(t);var Wd=({page:t,withPlaceholder:e,axis:n,frame:r})=>{const i=Fk(t.marginBox,r),s=Mk(i,n,e),l=Bk(s,r);return{page:t,withPlaceholder:e,active:l}},nm=(t,e)=>{t.frame||xt();const n=t.frame,r=Ga(e,n.scroll.initial),i=tf(r),s={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}},l=Wd({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:s});return{...t,frame:s,subject:l}};function Hs(t,e=l6){let n=null;function r(...i){if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;const s=t.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}const c6=Hs(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),d6=Hs(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),z0=Hs(t=>Object.values(t)),jk=Hs(t=>Object.values(t));var nf=Hs((t,e)=>jk(e).filter(r=>t===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function rm(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function G0(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var H0=Hs((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),Uk=({isMovingForward:t,draggable:e,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!rm(i))return null;function l(g){const _={type:"COMBINE",combine:{draggableId:g,droppableId:n.descriptor.id}};return{...i,at:_}}const u=i.displaced.all,c=u.length?u[0]:null;if(t)return c?l(c):null;const h=H0(e,r);if(!c){if(!h.length)return null;const g=h[h.length-1];return l(g.descriptor.id)}const p=h.findIndex(g=>g.descriptor.id===c);p===-1&&xt();const y=p-1;if(y<0)return null;const v=h[y];return l(v.descriptor.id)},rf=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const f6={point:qs,value:0},Th={invisible:{},visible:{},all:[]},zk={displaced:Th,displacedBy:f6,at:null};var fl=(t,e)=>n=>t<=n&&n<=e,h6=t=>{const e=fl(t.top,t.bottom),n=fl(t.left,t.right);return r=>{if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=e(r.top)||e(r.bottom),l=n(r.left)||n(r.right);if(s&&l)return!0;const c=r.top<t.top&&r.bottom>t.bottom,h=r.left<t.left&&r.right>t.right;return c&&h?!0:c&&l||h&&s}},Gk=t=>{const e=fl(t.top,t.bottom),n=fl(t.left,t.right);return r=>e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right)};const im={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},p6={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Hk=t=>e=>{const n=fl(e.top,e.bottom),r=fl(e.left,e.right);return i=>t===im?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const Wk=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:qs;return $h(t,n)},qk=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,Vk=(t,e,n)=>n(e)(t),sm=({target:t,destination:e,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const s=r?Wk(t,e):t;return qk(s,e,i)&&Vk(s,n,i)},$k=t=>sm({...t,isVisibleThroughFrameFn:h6}),g6=t=>sm({...t,isVisibleThroughFrameFn:Gk}),Yk=t=>sm({...t,isVisibleThroughFrameFn:Hk(t.destination.axis)}),Kk=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:r,visible:i}=e;if(r[t])return!1;const s=i[t];return s?s.shouldAnimate:!0};function Xk(t,e){const n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Ol(em(n,r))}function Dh({afterDragging:t,destination:e,displacedBy:n,viewport:r,forceShouldAnimate:i,last:s}){return t.reduce(function(u,c){const h=Xk(c,n),p=c.descriptor.id;if(u.all.push(p),!$k({target:h,destination:e,viewport:r,withDroppableDisplacement:!0}))return u.invisible[c.descriptor.id]=!0,u;const v=Kk(p,s,i),g={draggableId:p,shouldAnimate:v};return u.visible[p]=g,u},{all:[],visible:{},invisible:{}})}function Jk(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function wy({insideDestination:t,inHomeList:e,displacedBy:n,destination:r}){const i=Jk(t,{inHomeList:e});return{displaced:Th,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function x0({draggable:t,insideDestination:e,destination:n,viewport:r,displacedBy:i,last:s,index:l,forceShouldAnimate:u}){const c=rf(t,n);if(l==null)return wy({insideDestination:e,inHomeList:c,displacedBy:i,destination:n});const h=e.find(_=>_.descriptor.index===l);if(!h)return wy({insideDestination:e,inHomeList:c,displacedBy:i,destination:n});const p=H0(t,e),y=e.indexOf(h),v=p.slice(y);return{displaced:Dh({afterDragging:v,destination:n,displacedBy:i,last:s,viewport:r.frame,forceShouldAnimate:u}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function Pc(t,e){return!!e.effected[t]}var Qk=({isMovingForward:t,destination:e,draggables:n,combine:r,afterCritical:i})=>{if(!e.isCombineEnabled)return null;const s=r.draggableId,u=n[s].descriptor.index;return Pc(s,i)?t?u:u-1:t?u+1:u},Zk=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,s=t?i+1:i-1,l=n[0].descriptor.index,u=n[n.length-1].descriptor.index,c=e?u:u+1;return s<l||s>c?null:s},eC=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:r,destination:i,insideDestination:s,previousImpact:l,viewport:u,afterCritical:c})=>{const h=l.at;if(h||xt(),h.type==="REORDER"){const y=Zk({isMovingForward:t,isInHomeList:e,location:h.destination,insideDestination:s});return y==null?null:x0({draggable:n,insideDestination:s,destination:i,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:y})}const p=Qk({isMovingForward:t,destination:i,displaced:l.displaced,draggables:r,combine:h.combine,afterCritical:c});return p==null?null:x0({draggable:n,insideDestination:s,destination:i,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:p})},tC=({displaced:t,afterCritical:e,combineWith:n,displacedBy:r})=>{const i=!!(t.visible[n]||t.invisible[n]);return Pc(n,e)?i?qs:tf(r.point):i?r.point:qs},nC=({afterCritical:t,impact:e,draggables:n})=>{const r=G0(e);r||xt();const i=r.draggableId,s=n[i].page.borderBox.center,l=tC({displaced:e.displaced,afterCritical:t,combineWith:i,displacedBy:e.displacedBy});return fo(s,l)};const m6=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,rC=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,om=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,by=({axis:t,moveRelativeTo:e,isMoving:n})=>nd(t.line,e.marginBox[t.end]+m6(t,n),om(t,e.marginBox,n)),_y=({axis:t,moveRelativeTo:e,isMoving:n})=>nd(t.line,e.marginBox[t.start]-rC(t,n),om(t,e.marginBox,n)),iC=({axis:t,moveInto:e,isMoving:n})=>nd(t.line,e.contentBox[t.start]+m6(t,n),om(t,e.contentBox,n));var sC=({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:i})=>{const s=nf(r.descriptor.id,n),l=e.page,u=r.axis;if(!s.length)return iC({axis:u,moveInto:r.page,isMoving:l});const{displaced:c,displacedBy:h}=t,p=c.all[0];if(p){const v=n[p];if(Pc(p,i))return _y({axis:u,moveRelativeTo:v.page,isMoving:l});const g=y0(v.page,h.point);return _y({axis:u,moveRelativeTo:g,isMoving:l})}const y=s[s.length-1];if(y.descriptor.id===e.descriptor.id)return l.borderBox.center;if(Pc(y.descriptor.id,i)){const v=y0(y.page,tf(i.displacedBy.point));return by({axis:u,moveRelativeTo:v,isMoving:l})}return by({axis:u,moveRelativeTo:y.page,isMoving:l})},s2=(t,e)=>{const n=t.frame;return n?fo(e,n.scroll.diff.displacement):e};const oC=({impact:t,draggable:e,droppable:n,draggables:r,afterCritical:i})=>{const s=e.page.borderBox.center,l=t.at;return!n||!l?s:l.type==="REORDER"?sC({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i}):nC({impact:t,draggables:r,afterCritical:i})};var W0=t=>{const e=oC(t),n=t.droppable;return n?s2(n,e):e},y6=(t,e)=>{const n=Ga(e,t.scroll.initial),r=tf(n);return{frame:Ol({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function xy(t,e){return t.map(n=>e[n])}function aC(t,e){for(let n=0;n<e.length;n++){const r=e[n].visible[t];if(r)return r}return null}var lC=({impact:t,viewport:e,destination:n,draggables:r,maxScrollChange:i})=>{const s=y6(e,fo(e.scroll.current,i)),l=n.frame?nm(n,fo(n.frame.scroll.current,i)):n,u=t.displaced,c=Dh({afterDragging:xy(u.all,r),destination:n,displacedBy:t.displacedBy,viewport:s.frame,last:u,forceShouldAnimate:!1}),h=Dh({afterDragging:xy(u.all,r),destination:l,displacedBy:t.displacedBy,viewport:e.frame,last:u,forceShouldAnimate:!1}),p={},y={},v=[u,c,h];return u.all.forEach(_=>{const S=aC(_,v);if(S){y[_]=S;return}p[_]=!0}),{...t,displaced:{all:u.all,invisible:p,visible:y}}},uC=(t,e)=>fo(t.scroll.diff.displacement,e),am=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const r=uC(n,t),i=Ga(r,e.page.borderBox.center);return fo(e.client.borderBox.center,i)},v6=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:s=!1})=>{const l=Ga(n,t.page.borderBox.center),c={target:$h(t.page.borderBox,l),destination:e,withDroppableDisplacement:i,viewport:r};return s?Yk(c):g6(c)},cC=({isMovingForward:t,draggable:e,destination:n,draggables:r,previousImpact:i,viewport:s,previousPageBorderBoxCenter:l,previousClientSelection:u,afterCritical:c})=>{if(!n.isEnabled)return null;const h=nf(n.descriptor.id,r),p=rf(e,n),y=Uk({isMovingForward:t,draggable:e,destination:n,insideDestination:h,previousImpact:i})||eC({isMovingForward:t,isInHomeList:p,draggable:e,draggables:r,destination:n,insideDestination:h,previousImpact:i,viewport:s,afterCritical:c});if(!y)return null;const v=W0({impact:y,draggable:e,droppable:n,draggables:r,afterCritical:c});if(v6({draggable:e,destination:n,newPageBorderBoxCenter:v,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:am({pageBorderBoxCenter:v,draggable:e,viewport:s}),impact:y,scrollJumpRequest:null};const _=Ga(v,l),S=lC({impact:y,viewport:s,destination:n,draggables:r,maxScrollChange:_});return{clientSelection:u,impact:S,scrollJumpRequest:_}};const Jo=t=>{const e=t.subject.active;return e||xt(),e};var dC=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:r,viewport:i})=>{const s=n.subject.active;if(!s)return null;const l=n.axis,u=fl(s[l.start],s[l.end]),c=z0(r).filter(p=>p!==n).filter(p=>p.isEnabled).filter(p=>!!p.subject.active).filter(p=>h6(i.frame)(Jo(p))).filter(p=>{const y=Jo(p);return t?s[l.crossAxisEnd]<y[l.crossAxisEnd]:y[l.crossAxisStart]<s[l.crossAxisStart]}).filter(p=>{const y=Jo(p),v=fl(y[l.start],y[l.end]);return u(y[l.start])||u(y[l.end])||v(s[l.start])||v(s[l.end])}).sort((p,y)=>{const v=Jo(p)[l.crossAxisStart],g=Jo(y)[l.crossAxisStart];return t?v-g:g-v}).filter((p,y,v)=>Jo(p)[l.crossAxisStart]===Jo(v[0])[l.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const h=c.filter(p=>fl(Jo(p)[l.start],Jo(p)[l.end])(e[l.line]));return h.length===1?h[0]:h.length>1?h.sort((p,y)=>Jo(p)[l.start]-Jo(y)[l.start])[0]:c.sort((p,y)=>{const v=yy(e,vy(Jo(p))),g=yy(e,vy(Jo(y)));return v!==g?v-g:Jo(p)[l.start]-Jo(y)[l.start]})[0]};const Sy=(t,e)=>{const n=t.page.borderBox.center;return Pc(t.descriptor.id,e)?Ga(n,e.displacedBy.point):n},fC=(t,e)=>{const n=t.page.borderBox;return Pc(t.descriptor.id,e)?$h(n,tf(e.displacedBy.point)):n};var hC=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:r,afterCritical:i})=>r.filter(l=>g6({target:fC(l,i),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((l,u)=>{const c=Rh(t,s2(n,Sy(l,i))),h=Rh(t,s2(n,Sy(u,i)));return c<h?-1:h<c?1:l.descriptor.index-u.descriptor.index})[0]||null,Yh=Hs(function(e,n){const r=n[e.line];return{value:r,point:nd(e.line,r)}});const pC=(t,e,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return nd(r.line,e[r.line]);const i=t.subject.page.contentBox[r.size],c=nf(t.descriptor.id,n).reduce((h,p)=>h+p.client.marginBox[r.size],0)+e[r.line]-i;return c<=0?null:nd(r.line,c)},w6=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),b6=(t,e,n)=>{const r=t.frame;rf(e,t)&&xt(),t.subject.withPlaceholder&&xt();const i=Yh(t.axis,e.displaceBy).point,s=pC(t,i,n),l={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const p=Wd({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return{...t,subject:p}}const u=s?fo(r.scroll.max,s):r.scroll.max,c=w6(r,u),h=Wd({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:c});return{...t,subject:h,frame:c}},gC=t=>{const e=t.subject.withPlaceholder;e||xt();const n=t.frame;if(!n){const l=Wd({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:l}}const r=e.oldFrameMaxScroll;r||xt();const i=w6(n,r),s=Wd({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return{...t,subject:s,frame:i}};var mC=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:r,draggables:i,destination:s,viewport:l,afterCritical:u})=>{if(!e){if(n.length)return null;const y={displaced:Th,displacedBy:f6,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},v=W0({impact:y,draggable:r,droppable:s,draggables:i,afterCritical:u}),g=rf(r,s)?s:b6(s,r,i);return v6({draggable:r,destination:g,newPageBorderBoxCenter:v,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?y:null}const c=t[s.axis.line]<=e.page.borderBox.center[s.axis.line],h=(()=>{const y=e.descriptor.index;return e.descriptor.id===r.descriptor.id||c?y:y+1})(),p=Yh(s.axis,r.displaceBy);return x0({draggable:r,insideDestination:n,destination:s,viewport:l,displacedBy:p,last:Th,index:h})},yC=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:r,draggables:i,droppables:s,viewport:l,afterCritical:u})=>{const c=dC({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:s,viewport:l});if(!c)return null;const h=nf(c.descriptor.id,i),p=hC({pageBorderBoxCenter:e,viewport:l,destination:c,insideDestination:h,afterCritical:u}),y=mC({previousPageBorderBoxCenter:e,destination:c,draggable:n,draggables:i,moveRelativeTo:p,insideDestination:h,viewport:l,afterCritical:u});if(!y)return null;const v=W0({impact:y,draggable:n,droppable:c,draggables:i,afterCritical:u});return{clientSelection:am({pageBorderBoxCenter:v,draggable:n,viewport:l}),impact:y,scrollJumpRequest:null}},Wa=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const vC=(t,e)=>{const n=Wa(t);return n?e[n]:null};var wC=({state:t,type:e})=>{const n=vC(t.impact,t.dimensions.droppables),r=!!n,i=t.dimensions.droppables[t.critical.droppable.id],s=n||i,l=s.axis.direction,u=l==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||l==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(u&&!r)return null;const c=e==="MOVE_DOWN"||e==="MOVE_RIGHT",h=t.dimensions.draggables[t.critical.draggable.id],p=t.current.page.borderBoxCenter,{draggables:y,droppables:v}=t.dimensions;return u?cC({isMovingForward:c,previousPageBorderBoxCenter:p,draggable:h,destination:s,draggables:y,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):yC({isMovingForward:c,previousPageBorderBoxCenter:p,draggable:h,isOver:s,draggables:y,droppables:v,viewport:t.viewport,afterCritical:t.afterCritical})};function Yc(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function _6(t){const e=fl(t.top,t.bottom),n=fl(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function bC(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function _C({pageBorderBox:t,draggable:e,candidates:n}){const r=e.page.borderBox.center,i=n.map(s=>{const l=s.axis,u=nd(s.axis.line,t.center[l.line],s.page.borderBox.center[l.crossAxisLine]);return{id:s.descriptor.id,distance:Rh(r,u)}}).sort((s,l)=>l.distance-s.distance);return i[0]?i[0].id:null}function xC({pageBorderBox:t,draggable:e,droppables:n}){const r=z0(n).filter(i=>{if(!i.isEnabled)return!1;const s=i.subject.active;if(!s||!bC(t,s))return!1;if(_6(s)(t.center))return!0;const l=i.axis,u=s.center[l.crossAxisLine],c=t[l.crossAxisStart],h=t[l.crossAxisEnd],p=fl(s[l.crossAxisStart],s[l.crossAxisEnd]),y=p(c),v=p(h);return!y&&!v?!0:y?c<u:h>u});return r.length?r.length===1?r[0].descriptor.id:_C({pageBorderBox:t,draggable:e,candidates:r}):null}const x6=(t,e)=>Ol($h(t,e));var SC=(t,e)=>{const n=t.frame;return n?x6(e,n.scroll.diff.value):e};function S6({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function kC({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var CC=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:r,last:i,viewport:s,afterCritical:l})=>{const u=n.axis,c=Yh(n.axis,e.displaceBy),h=c.value,p=t[u.start],y=t[u.end],g=H0(e,r).find(S=>{const E=S.descriptor.id,A=S.page.borderBox.center[u.line],N=Pc(E,l),x=S6({displaced:i,id:E});return N?x?y<=A:p<A-h:x?y<=A+h:p<A})||null,_=kC({draggable:e,closest:g,inHomeList:rf(e,n)});return x0({draggable:e,insideDestination:r,destination:n,viewport:s,last:i,displacedBy:c,index:_})};const NC=4;var EC=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:r,insideDestination:i,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const l=r.axis,u=Yh(r.axis,t.displaceBy),c=u.value,h=e[l.start],p=e[l.end],v=H0(t,i).find(_=>{const S=_.descriptor.id,E=_.page.borderBox,N=E[l.size]/NC,x=Pc(S,s),L=S6({displaced:n.displaced,id:S});return x?L?p>E[l.start]+N&&p<E[l.end]-N:h>E[l.start]-c+N&&h<E[l.end]-c-N:L?p>E[l.start]+c+N&&p<E[l.end]+c-N:h>E[l.start]+N&&h<E[l.end]-N});return v?{displacedBy:u,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:v.descriptor.id,droppableId:r.descriptor.id}}}:null},k6=({pageOffset:t,draggable:e,draggables:n,droppables:r,previousImpact:i,viewport:s,afterCritical:l})=>{const u=x6(e.page.borderBox,t),c=xC({pageBorderBox:u,draggable:e,droppables:r});if(!c)return zk;const h=r[c],p=nf(h.descriptor.id,n),y=SC(h,u);return EC({pageBorderBoxWithDroppableScroll:y,draggable:e,previousImpact:i,destination:h,insideDestination:p,afterCritical:l})||CC({pageBorderBoxWithDroppableScroll:y,draggable:e,destination:h,insideDestination:p,last:i.displaced,viewport:s,afterCritical:l})},lm=(t,e)=>({...t,[e.descriptor.id]:e});const AC=({previousImpact:t,impact:e,droppables:n})=>{const r=Wa(t),i=Wa(e);if(!r||r===i)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const l=gC(s);return lm(n,l)};var LC=({draggable:t,draggables:e,droppables:n,previousImpact:r,impact:i})=>{const s=AC({previousImpact:r,impact:i,droppables:n}),l=Wa(i);if(!l)return s;const u=n[l];if(rf(t,u)||u.subject.withPlaceholder)return s;const c=b6(u,t,e);return lm(s,c)},yh=({state:t,clientSelection:e,dimensions:n,viewport:r,impact:i,scrollJumpRequest:s})=>{const l=r||t.viewport,u=n||t.dimensions,c=e||t.current.client.selection,h=Ga(c,t.initial.client.selection),p={offset:h,selection:c,borderBoxCenter:fo(t.initial.client.borderBoxCenter,h)},y={selection:fo(p.selection,l.scroll.current),borderBoxCenter:fo(p.borderBoxCenter,l.scroll.current),offset:fo(p.offset,l.scroll.diff.value)},v={client:p,page:y};if(t.phase==="COLLECTING")return{...t,dimensions:u,viewport:l,current:v};const g=u.draggables[t.critical.draggable.id],_=i||k6({pageOffset:y.offset,draggable:g,draggables:u.draggables,droppables:u.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),S=LC({draggable:g,impact:_,previousImpact:t.impact,draggables:u.draggables,droppables:u.droppables});return{...t,current:v,dimensions:{draggables:u.draggables,droppables:S},impact:_,viewport:l,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function PC(t,e){return t.map(n=>e[n])}var C6=({impact:t,viewport:e,draggables:n,destination:r,forceShouldAnimate:i})=>{const s=t.displaced,l=PC(s.all,n),u=Dh({afterDragging:l,destination:r,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:s});return{...t,displaced:u}},N6=({impact:t,draggable:e,droppable:n,draggables:r,viewport:i,afterCritical:s})=>{const l=W0({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:s});return am({pageBorderBoxCenter:l,draggable:e,viewport:i})},E6=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&xt();const r=t.impact,i=n||t.viewport,s=e||t.dimensions,{draggables:l,droppables:u}=s,c=l[t.critical.draggable.id],h=Wa(r);h||xt();const p=u[h],y=C6({impact:r,viewport:i,destination:p,draggables:l}),v=N6({impact:y,draggable:c,droppable:p,draggables:l,viewport:i,afterCritical:t.afterCritical});return yh({impact:y,clientSelection:v,state:t,dimensions:s,viewport:i})},IC=t=>({index:t.index,droppableId:t.droppableId}),A6=({draggable:t,home:e,draggables:n,viewport:r})=>{const i=Yh(e.axis,t.displaceBy),s=nf(e.descriptor.id,n),l=s.indexOf(t);l===-1&&xt();const u=s.slice(l+1),c=u.reduce((v,g)=>(v[g.descriptor.id]=!0,v),{}),h={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:c};return{impact:{displaced:Dh({afterDragging:u,destination:e,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:IC(t.descriptor)}},afterCritical:h}},RC=(t,e)=>({draggables:t.draggables,droppables:lm(t.droppables,e)}),TC=({draggable:t,offset:e,initialWindowScroll:n})=>{const r=y0(t.client,e),i=v0(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:i}},DC=t=>{const e=t.frame;return e||xt(),e},OC=({additions:t,updatedDroppables:e,viewport:n})=>{const r=n.scroll.diff.value;return t.map(i=>{const s=i.descriptor.droppableId,l=e[s],c=DC(l).scroll.diff.value,h=fo(r,c);return TC({draggable:i,offset:h,initialWindowScroll:n.scroll.initial})})},FC=({state:t,published:e})=>{const n=e.modified.map(A=>{const N=t.dimensions.droppables[A.droppableId];return nm(N,A.scroll)}),r={...t.dimensions.droppables,...c6(n)},i=d6(OC({additions:e.additions,updatedDroppables:r,viewport:t.viewport})),s={...t.dimensions.draggables,...i};e.removals.forEach(A=>{delete s[A]});const l={droppables:r,draggables:s},u=Wa(t.impact),c=u?l.droppables[u]:null,h=l.draggables[t.critical.draggable.id],p=l.droppables[t.critical.droppable.id],{impact:y,afterCritical:v}=A6({draggable:h,home:p,draggables:s,viewport:t.viewport}),g=c&&c.isCombineEnabled?t.impact:y,_=k6({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:g,viewport:t.viewport,afterCritical:v}),S={...t,phase:"DRAGGING",impact:_,onLiftImpact:y,dimensions:l,afterCritical:v,forceShouldAnimate:!1};return t.phase==="COLLECTING"?S:{...S,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const o2=t=>t.movementMode==="SNAP",X1=(t,e,n)=>{const r=RC(t.dimensions,e);return!o2(t)||n?yh({state:t,dimensions:r}):E6({state:t,dimensions:r})};function J1(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const ky={phase:"IDLE",completed:null,shouldFlush:!1};var MC=(t=ky,e)=>{if(e.type==="FLUSH")return{...ky,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&xt();const{critical:n,clientSelection:r,viewport:i,dimensions:s,movementMode:l}=e.payload,u=s.draggables[n.draggable.id],c=s.droppables[n.droppable.id],h={selection:r,borderBoxCenter:u.client.borderBox.center,offset:qs},p={client:h,page:{selection:fo(h.selection,i.scroll.initial),borderBoxCenter:fo(h.selection,i.scroll.initial),offset:fo(h.selection,i.scroll.diff.value)}},y=z0(s.droppables).every(S=>!S.isFixedOnPage),{impact:v,afterCritical:g}=A6({draggable:u,home:c,draggables:s.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:s,initial:p,current:p,isWindowScrollAllowed:y,impact:v,afterCritical:g,onLiftImpact:v,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&xt(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||xt(),FC({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Yc(t)||xt();const{client:n}=e.payload;return Ac(n,t.current.client.selection)?t:yh({state:t,clientSelection:n,impact:o2(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return J1(t);Yc(t)||xt();const{id:n,newScroll:r}=e.payload,i=t.dimensions.droppables[n];if(!i)return t;const s=nm(i,r);return X1(t,s,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Yc(t)||xt();const{id:n,isEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||xt(),i.isEnabled===r&&xt();const s={...i,isEnabled:r};return X1(t,s,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Yc(t)||xt();const{id:n,isCombineEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||xt(),i.isCombineEnabled===r&&xt();const s={...i,isCombineEnabled:r};return X1(t,s,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Yc(t)||xt(),t.isWindowScrollAllowed||xt();const n=e.payload.newScroll;if(Ac(t.viewport.scroll.current,n))return J1(t);const r=y6(t.viewport,n);return o2(t)?E6({state:t,viewport:r}):yh({state:t,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Yc(t))return t;const n=e.payload.maxScroll;if(Ac(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&xt();const n=wC({state:t,type:e.type});return n?yh({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&xt(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||xt(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function Nr(t,e){return t instanceof Object&&"type"in t&&t.type===e}const BC=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),jC=t=>({type:"LIFT",payload:t}),UC=t=>({type:"INITIAL_PUBLISH",payload:t}),zC=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),GC=()=>({type:"COLLECTION_STARTING",payload:null}),HC=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),WC=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),qC=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),L6=t=>({type:"MOVE",payload:t}),VC=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),$C=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),YC=()=>({type:"MOVE_UP",payload:null}),KC=()=>({type:"MOVE_DOWN",payload:null}),XC=()=>({type:"MOVE_RIGHT",payload:null}),JC=()=>({type:"MOVE_LEFT",payload:null}),um=()=>({type:"FLUSH",payload:null}),QC=t=>({type:"DROP_ANIMATE",payload:t}),cm=t=>({type:"DROP_COMPLETE",payload:t}),P6=t=>({type:"DROP",payload:t}),ZC=t=>({type:"DROP_PENDING",payload:t}),I6=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var eN=t=>({getState:e,dispatch:n})=>r=>i=>{if(!Nr(i,"LIFT")){r(i);return}const{id:s,clientSelection:l,movementMode:u}=i.payload,c=e();c.phase==="DROP_ANIMATING"&&n(cm({completed:c.completed})),e().phase!=="IDLE"&&xt(),n(um()),n(BC({draggableId:s,movementMode:u}));const p={draggableId:s,scrollOptions:{shouldPublishImmediately:u==="SNAP"}},{critical:y,dimensions:v,viewport:g}=t.startPublishing(p);n(UC({critical:y,dimensions:v,clientSelection:l,movementMode:u,viewport:g}))},tN=t=>()=>e=>n=>{Nr(n,"INITIAL_PUBLISH")&&t.dragging(),Nr(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(Nr(n,"FLUSH")||Nr(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const dm={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Oh={opacity:{drop:0,combining:.7},scale:{drop:.75}},R6={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Vc=`${R6.outOfTheWay}s ${dm.outOfTheWay}`,vh={fluid:`opacity ${Vc}`,snap:`transform ${Vc}, opacity ${Vc}`,drop:t=>{const e=`${t}s ${dm.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${Vc}`,placeholder:`height ${Vc}, width ${Vc}, margin ${Vc}`},Cy=t=>Ac(t,qs)?void 0:`translate(${t.x}px, ${t.y}px)`,a2={moveTo:Cy,drop:(t,e)=>{const n=Cy(t);if(n)return e?`${n} scale(${Oh.scale.drop})`:n}},{minDropTime:l2,maxDropTime:T6}=R6,nN=T6-l2,Ny=1500,rN=.6;var iN=({current:t,destination:e,reason:n})=>{const r=Rh(t,e);if(r<=0)return l2;if(r>=Ny)return T6;const i=r/Ny,s=l2+nN*i,l=n==="CANCEL"?s*rN:s;return Number(l.toFixed(2))},sN=({impact:t,draggable:e,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:s,droppables:l}=n,u=Wa(t),c=u?l[u]:null,h=l[e.descriptor.droppableId],p=N6({impact:t,draggable:e,draggables:s,afterCritical:i,droppable:c||h,viewport:r});return Ga(p,e.client.borderBox.center)},oN=({draggables:t,reason:e,lastImpact:n,home:r,viewport:i,onLiftImpact:s})=>!n.at||e!=="DROP"?{impact:C6({draggables:t,impact:s,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Th},didDropInsideDroppable:!0};const aN=({getState:t,dispatch:e})=>n=>r=>{if(!Nr(r,"DROP")){n(r);return}const i=t(),s=r.payload.reason;if(i.phase==="COLLECTING"){e(ZC({reason:s}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&xt(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||xt();const u=i.critical,c=i.dimensions,h=c.draggables[i.critical.draggable.id],{impact:p,didDropInsideDroppable:y}=oN({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),v=y?rm(p):null,g=y?G0(p):null,_={index:u.draggable.index,droppableId:u.droppable.id},S={draggableId:h.descriptor.id,type:h.descriptor.type,source:_,reason:s,mode:i.movementMode,destination:v,combine:g},E=sN({impact:p,draggable:h,dimensions:c,viewport:i.viewport,afterCritical:i.afterCritical}),A={critical:i.critical,afterCritical:i.afterCritical,result:S,impact:p};if(!(!Ac(i.current.client.offset,E)||!!S.combine)){e(cm({completed:A}));return}const x=iN({current:i.current.client.offset,destination:E,reason:s});e(QC({newHomeClientOffset:E,dropDuration:x,completed:A}))};var D6=()=>({x:window.pageXOffset,y:window.pageYOffset});function lN(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function uN({onWindowScroll:t}){function e(){t(D6())}const n=Ih(e),r=lN(n);let i=Ec;function s(){return i!==Ec}function l(){s()&&xt(),i=dl(window,[r])}function u(){s()||xt(),n.cancel(),i(),i=Ec}return{start:l,stop:u,isActive:s}}const cN=t=>Nr(t,"DROP_COMPLETE")||Nr(t,"DROP_ANIMATE")||Nr(t,"FLUSH"),dN=t=>{const e=uN({onWindowScroll:n=>{t.dispatch(VC({newScroll:n}))}});return n=>r=>{!e.isActive()&&Nr(r,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&cN(r)&&e.stop(),n(r)}};var fN=t=>{let e=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=s=>{e||n||(e=!0,t(s),clearTimeout(r))};return i.wasCalled=()=>e,i},hN=()=>{const t=[],e=i=>{const s=t.findIndex(u=>u.timerId===i);s===-1&&xt();const[l]=t.splice(s,1);l.callback()};return{add:i=>{const s=setTimeout(()=>e(s)),l={timerId:s,callback:i};t.push(l)},flush:()=>{if(!t.length)return;const i=[...t];t.length=0,i.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const pN=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,gN=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,mN=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r},bf=(t,e)=>{e()},Lp=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function Q1(t,e,n,r){if(!t){n(r(e));return}const i=fN(n);t(e,{announce:i}),i.wasCalled()||n(r(e))}var yN=(t,e)=>{const n=hN();let r=null;const i=(y,v)=>{r&&xt(),bf("onBeforeCapture",()=>{const g=t().onBeforeCapture;g&&g({draggableId:y,mode:v})})},s=(y,v)=>{r&&xt(),bf("onBeforeDragStart",()=>{const g=t().onBeforeDragStart;g&&g(Lp(y,v))})},l=(y,v)=>{r&&xt();const g=Lp(y,v);r={mode:v,lastCritical:y,lastLocation:g.source,lastCombine:null},n.add(()=>{bf("onDragStart",()=>Q1(t().onDragStart,g,e,Zp.onDragStart))})},u=(y,v)=>{const g=rm(v),_=G0(v);r||xt();const S=!mN(y,r.lastCritical);S&&(r.lastCritical=y);const E=!pN(r.lastLocation,g);E&&(r.lastLocation=g);const A=!gN(r.lastCombine,_);if(A&&(r.lastCombine=_),!S&&!E&&!A)return;const N={...Lp(y,r.mode),combine:_,destination:g};n.add(()=>{bf("onDragUpdate",()=>Q1(t().onDragUpdate,N,e,Zp.onDragUpdate))})},c=()=>{r||xt(),n.flush()},h=y=>{r||xt(),r=null,bf("onDragEnd",()=>Q1(t().onDragEnd,y,e,Zp.onDragEnd))};return{beforeCapture:i,beforeStart:s,start:l,update:u,flush:c,drop:h,abort:()=>{if(!r)return;const y={...Lp(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};h(y)}}},vN=(t,e)=>{const n=yN(t,e);return r=>i=>s=>{if(Nr(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(Nr(s,"INITIAL_PUBLISH")){const u=s.payload.critical;n.beforeStart(u,s.payload.movementMode),i(s),n.start(u,s.payload.movementMode);return}if(Nr(s,"DROP_COMPLETE")){const u=s.payload.completed.result;n.flush(),i(s),n.drop(u);return}if(i(s),Nr(s,"FLUSH")){n.abort();return}const l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}};const wN=t=>e=>n=>{if(!Nr(n,"DROP_ANIMATION_FINISHED")){e(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&xt(),t.dispatch(cm({completed:r.completed}))},bN=t=>{let e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return i=>s=>{if((Nr(s,"FLUSH")||Nr(s,"DROP_COMPLETE")||Nr(s,"DROP_ANIMATION_FINISHED"))&&r(),i(s),!Nr(s,"DROP_ANIMATE"))return;const l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(I6())}};n=requestAnimationFrame(()=>{n=null,e=dl(window,[l])})}};var _N=t=>()=>e=>n=>{(Nr(n,"DROP_COMPLETE")||Nr(n,"FLUSH")||Nr(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},xN=t=>{let e=!1;return()=>n=>r=>{if(Nr(r,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(Nr(r,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(Nr(r,"DROP_COMPLETE")){e=!1;const i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const SN=t=>Nr(t,"DROP_COMPLETE")||Nr(t,"DROP_ANIMATE")||Nr(t,"FLUSH");var kN=t=>e=>n=>r=>{if(SN(r)){t.stop(),n(r);return}if(Nr(r,"INITIAL_PUBLISH")){n(r);const i=e.getState();i.phase!=="DRAGGING"&&xt(),t.start(i);return}n(r),t.scroll(e.getState())};const CN=t=>e=>n=>{if(e(n),!Nr(n,"PUBLISH_WHILE_DRAGGING"))return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(P6({reason:r.reason})))},NN=Xw;var EN=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:r,announce:i,autoScroller:s})=>Kw(MC,NN(N9(tN(n),_N(t),eN(t),aN,wN,bN,CN,kN(s),dN,xN(e),vN(r,i))));const Z1=()=>({additions:{},removals:{},modified:{}});function AN({registry:t,callbacks:e}){let n=Z1(),r=null;const i=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:h,modified:p}=n,y=Object.keys(c).map(_=>t.draggable.getById(_).getDimension(qs)).sort((_,S)=>_.descriptor.index-S.descriptor.index),v=Object.keys(p).map(_=>{const E=t.droppable.getById(_).callbacks.getScrollWhileDragging();return{droppableId:_,scroll:E}}),g={additions:y,removals:Object.keys(h),modified:v};n=Z1(),e.publish(g)}))};return{add:c=>{const h=c.descriptor.id;n.additions[h]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[h]&&delete n.removals[h],i()},remove:c=>{const h=c.descriptor;n.removals[h.id]=!0,n.modified[h.droppableId]=!0,n.additions[h.id]&&delete n.additions[h.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Z1())}}}var O6=({scrollHeight:t,scrollWidth:e,height:n,width:r})=>{const i=Ga({x:e,y:t},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},F6=()=>{const t=document.documentElement;return t||xt(),t},M6=()=>{const t=F6();return O6({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},LN=()=>{const t=D6(),e=M6(),n=t.y,r=t.x,i=F6(),s=i.clientWidth,l=i.clientHeight,u=r+s,c=n+l;return{frame:Ol({top:n,left:r,right:u,bottom:c}),scroll:{initial:t,current:t,max:e,diff:{value:qs,displacement:qs}}}},PN=({critical:t,scrollOptions:e,registry:n})=>{const r=LN(),i=r.scroll.current,s=t.droppable,l=n.droppable.getAllByType(s.type).map(p=>p.callbacks.getDimensionAndWatchScroll(i,e)),u=n.draggable.getAllByType(t.draggable.type).map(p=>p.getDimension(i));return{dimensions:{draggables:d6(u),droppables:c6(l)},critical:t,viewport:r}};function Ey(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var IN=(t,e)=>{let n=null;const r=AN({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=(v,g)=>{t.droppable.exists(v)||xt(),n&&e.updateDroppableIsEnabled({id:v,isEnabled:g})},s=(v,g)=>{n&&(t.droppable.exists(v)||xt(),e.updateDroppableIsCombineEnabled({id:v,isCombineEnabled:g}))},l=(v,g)=>{n&&(t.droppable.exists(v)||xt(),e.updateDroppableScroll({id:v,newScroll:g}))},u=(v,g)=>{n&&t.droppable.getById(v).callbacks.scroll(g)},c=()=>{if(!n)return;r.stop();const v=n.critical.droppable;t.droppable.getAllByType(v.type).forEach(g=>g.callbacks.dragStopped()),n.unsubscribe(),n=null},h=v=>{n||xt();const g=n.critical.draggable;v.type==="ADDITION"&&Ey(t,g,v.value)&&r.add(v.value),v.type==="REMOVAL"&&Ey(t,g,v.value)&&r.remove(v.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:u,updateDroppableScroll:l,startPublishing:v=>{n&&xt();const g=t.draggable.getById(v.draggableId),_=t.droppable.getById(g.descriptor.droppableId),S={draggable:g.descriptor,droppable:_.descriptor},E=t.subscribe(h);return n={critical:S,unsubscribe:E},PN({critical:S,registry:t,scrollOptions:v.scrollOptions})},stopPublishing:c}},B6=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",RN=t=>{window.scrollBy(t.x,t.y)};const TN=Hs(t=>z0(t).filter(e=>!(!e.isEnabled||!e.frame))),DN=(t,e)=>TN(e).find(r=>(r.frame||xt(),_6(r.frame.pageMarginBox)(t)))||null;var ON=({center:t,destination:e,droppables:n})=>{if(e){const i=n[e];return i.frame?i:null}return DN(t,n)};const Fh={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var FN=(t,e,n=()=>Fh)=>{const r=n(),i=t[e.size]*r.startFromPercentage,s=t[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:s}},j6=({startOfRange:t,endOfRange:e,current:n})=>{const r=e-t;return r===0?0:(n-t)/r},fm=1,MN=(t,e,n=()=>Fh)=>{const r=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return r.maxPixelScroll;if(t===e.startScrollingFrom)return fm;const s=1-j6({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),l=r.maxPixelScroll*r.ease(s);return Math.ceil(l)},BN=(t,e,n)=>{const r=n(),i=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,l=e,u=s,h=Date.now()-l;if(h>=s)return t;if(h<i)return fm;const p=j6({startOfRange:i,endOfRange:u,current:h}),y=t*r.ease(p);return Math.ceil(y)},Ay=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=MN(t,e,i);return s===0?0:r?Math.max(BN(s,n,i),fm):s},Ly=({container:t,distanceToEdges:e,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const l=FN(t,r,s);return e[r.end]<e[r.start]?Ay({distanceToEdge:e[r.end],thresholds:l,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s}):-1*Ay({distanceToEdge:e[r.start],thresholds:l,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})},jN=({container:t,subject:e,proposedScroll:n})=>{const r=e.height>t.height,i=e.width>t.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const UN=u6(t=>t===0?0:t);var U6=({dragStartTime:t,container:e,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const l={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},u=Ly({container:e,distanceToEdges:l,dragStartTime:t,axis:im,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),c=Ly({container:e,distanceToEdges:l,dragStartTime:t,axis:p6,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),h=UN({x:c,y:u});if(Ac(h,qs))return null;const p=jN({container:e,subject:n,proposedScroll:h});return p?Ac(p,qs)?null:p:null};const zN=u6(t=>t===0?0:t>0?1:-1),hm=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:r})=>{const i=fo(e,r),s={x:t(i.x,n.x),y:t(i.y,n.y)};return Ac(s,qs)?null:s}})(),z6=({max:t,current:e,change:n})=>{const r={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},i=zN(n),s=hm({max:r,current:e,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},pm=(t,e)=>z6({current:t.scroll.current,max:t.scroll.max,change:e}),GN=(t,e)=>{if(!pm(t,e))return null;const n=t.scroll.max,r=t.scroll.current;return hm({current:r,max:n,change:e})},gm=(t,e)=>{const n=t.frame;return n?z6({current:n.scroll.current,max:n.scroll.max,change:e}):!1},HN=(t,e)=>{const n=t.frame;return!n||!gm(t,e)?null:hm({current:n.scroll.current,max:n.scroll.max,change:e})};var WN=({viewport:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const l=U6({dragStartTime:r,container:t.frame,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return l&&pm(t,l)?l:null},qN=({droppable:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const l=t.frame;if(!l)return null;const u=U6({dragStartTime:r,container:l.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return u&&gm(t,u)?u:null},Py=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:s})=>{const l=t.current.page.borderBoxCenter,c=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const y=t.viewport,v=WN({dragStartTime:e,viewport:y,subject:c,center:l,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(v){r(v);return}}const h=ON({center:l,destination:Wa(t.impact),droppables:t.dimensions.droppables});if(!h)return;const p=qN({dragStartTime:e,droppable:h,subject:c,center:l,shouldUseTimeDampening:n,getAutoScrollerOptions:s});p&&i(h.descriptor.id,p)},VN=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>Fh})=>{const r=Ih(t),i=Ih(e);let s=null;const l=h=>{s||xt();const{shouldUseTimeDampening:p,dragStartTime:y}=s;Py({state:h,scrollWindow:r,scrollDroppable:i,dragStartTime:y,shouldUseTimeDampening:p,getAutoScrollerOptions:n})};return{start:h=>{s&&xt();const p=Date.now();let y=!1;const v=()=>{y=!0};Py({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:v,scrollDroppable:v,getAutoScrollerOptions:n}),s={dragStartTime:p,shouldUseTimeDampening:y},y&&l(h)},stop:()=>{s&&(r.cancel(),i.cancel(),s=null)},scroll:l}},$N=({move:t,scrollDroppable:e,scrollWindow:n})=>{const r=(u,c)=>{const h=fo(u.current.client.selection,c);t({client:h})},i=(u,c)=>{if(!gm(u,c))return c;const h=HN(u,c);if(!h)return e(u.descriptor.id,c),null;const p=Ga(c,h);return e(u.descriptor.id,p),Ga(c,p)},s=(u,c,h)=>{if(!u||!pm(c,h))return h;const p=GN(c,h);if(!p)return n(h),null;const y=Ga(h,p);return n(y),Ga(h,y)};return u=>{const c=u.scrollJumpRequest;if(!c)return;const h=Wa(u.impact);h||xt();const p=i(u.dimensions.droppables[h],c);if(!p)return;const y=u.viewport,v=s(u.isWindowScrollAllowed,y,p);v&&r(u,v)}},YN=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:r})=>{const i=VN({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r}),s=$N({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&s(c)}},start:i.start,stop:i.stop}};const qd="data-rfd",Vd=(()=>{const t=`${qd}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),u2=(()=>{const t=`${qd}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),KN=(()=>{const t=`${qd}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Iy={contextId:`${qd}-scroll-container-context-id`},XN=t=>e=>`[${e}="${t}"]`,_f=(t,e)=>t.map(n=>{const r=n.styles[e];return r?`${n.selector} { ${r} }`:""}).join(" "),JN="pointer-events: none;";var QN=t=>{const e=XN(t),n=(()=>{const u=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Vd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:u,dragging:JN,dropAnimating:u}}})(),r=(()=>{const u=`
      transition: ${vh.outOfTheWay};
    `;return{selector:e(u2.contextId),styles:{dragging:u,dropAnimating:u,userCancel:u}}})(),i={selector:e(KN.contextId),styles:{always:"overflow-anchor: none;"}},l=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:_f(l,"always"),resting:_f(l,"resting"),dragging:_f(l,"dragging"),dropAnimating:_f(l,"dropAnimating"),userCancel:_f(l,"userCancel")}};const qa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ue.useLayoutEffect:ue.useEffect,eg=()=>{const t=document.querySelector("head");return t||xt(),t},Ry=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function ZN(t,e){const n=cr(()=>QN(t),[t]),r=ue.useRef(null),i=ue.useRef(null),s=en(Hs(y=>{const v=i.current;v||xt(),v.textContent=y}),[]),l=en(y=>{const v=r.current;v||xt(),v.textContent=y},[]);qa(()=>{!r.current&&!i.current||xt();const y=Ry(e),v=Ry(e);return r.current=y,i.current=v,y.setAttribute(`${qd}-always`,t),v.setAttribute(`${qd}-dynamic`,t),eg().appendChild(y),eg().appendChild(v),l(n.always),s(n.resting),()=>{const g=_=>{const S=_.current;S||xt(),eg().removeChild(S),_.current=null};g(r),g(i)}},[e,l,s,n.always,n.resting,t]);const u=en(()=>s(n.dragging),[s,n.dragging]),c=en(y=>{if(y==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),h=en(()=>{i.current&&s(n.resting)},[s,n.resting]);return cr(()=>({dragging:u,dropping:c,resting:h}),[u,c,h])}function G6(t,e){return Array.from(t.querySelectorAll(e))}var H6=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function q0(t){return t instanceof H6(t).HTMLElement}function eE(t,e){const n=`[${Vd.contextId}="${t}"]`,r=G6(document,n);if(!r.length)return null;const i=r.find(s=>s.getAttribute(Vd.draggableId)===e);return!i||!q0(i)?null:i}function tE(t){const e=ue.useRef({}),n=ue.useRef(null),r=ue.useRef(null),i=ue.useRef(!1),s=en(function(v,g){const _={id:v,focus:g};return e.current[v]=_,function(){const E=e.current;E[v]!==_&&delete E[v]}},[]),l=en(function(v){const g=eE(t,v);g&&g!==document.activeElement&&g.focus()},[t]),u=en(function(v,g){n.current===v&&(n.current=g)},[]),c=en(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const v=n.current;v&&l(v)}))},[l]),h=en(function(v){n.current=null;const g=document.activeElement;g&&g.getAttribute(Vd.draggableId)===v&&(n.current=v)},[]);return qa(()=>(i.current=!0,function(){i.current=!1;const v=r.current;v&&cancelAnimationFrame(v)}),[]),cr(()=>({register:s,tryRecordFocus:h,tryRestoreFocusRecorded:c,tryShiftRecord:u}),[s,h,c,u])}function nE(){const t={draggables:{},droppables:{}},e=[];function n(y){return e.push(y),function(){const g=e.indexOf(y);g!==-1&&e.splice(g,1)}}function r(y){e.length&&e.forEach(v=>v(y))}function i(y){return t.draggables[y]||null}function s(y){const v=i(y);return v||xt(),v}const l={register:y=>{t.draggables[y.descriptor.id]=y,r({type:"ADDITION",value:y})},update:(y,v)=>{const g=t.draggables[v.descriptor.id];g&&g.uniqueId===y.uniqueId&&(delete t.draggables[v.descriptor.id],t.draggables[y.descriptor.id]=y)},unregister:y=>{const v=y.descriptor.id,g=i(v);g&&y.uniqueId===g.uniqueId&&(delete t.draggables[v],t.droppables[y.descriptor.droppableId]&&r({type:"REMOVAL",value:y}))},getById:s,findById:i,exists:y=>!!i(y),getAllByType:y=>Object.values(t.draggables).filter(v=>v.descriptor.type===y)};function u(y){return t.droppables[y]||null}function c(y){const v=u(y);return v||xt(),v}const h={register:y=>{t.droppables[y.descriptor.id]=y},unregister:y=>{const v=u(y.descriptor.id);v&&y.uniqueId===v.uniqueId&&delete t.droppables[y.descriptor.id]},getById:c,findById:u,exists:y=>!!u(y),getAllByType:y=>Object.values(t.droppables).filter(v=>v.descriptor.type===y)};function p(){t.draggables={},t.droppables={},e.length=0}return{draggable:l,droppable:h,subscribe:n,clean:p}}function rE(){const t=cr(nE,[]);return ue.useEffect(()=>function(){t.clean()},[t]),t}var mm=tn.createContext(null),S0=()=>{const t=document.body;return t||xt(),t};const iE={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},sE=t=>`rfd-announcement-${t}`;function oE(t){const e=cr(()=>sE(t),[t]),n=ue.useRef(null);return ue.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),w0(s.style,iE),S0().appendChild(s),function(){setTimeout(function(){const c=S0();c.contains(s)&&c.removeChild(s),s===n.current&&(n.current=null)})}},[e]),en(i=>{const s=n.current;if(s){s.textContent=i;return}},[])}const aE={separator:"::"};function ym(t,e=aE){const n=tn.useId();return cr(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function lE({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function uE({contextId:t,text:e}){const n=ym("hidden-text",{separator:"-"}),r=cr(()=>lE({contextId:t,uniqueId:n}),[n,t]);return ue.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=e,s.style.display="none",S0().appendChild(s),function(){const u=S0();u.contains(s)&&u.removeChild(s)}},[r,e]),r}var V0=tn.createContext(null);function W6(t){const e=ue.useRef(t);return ue.useEffect(()=>{e.current=t}),e}function cE(){let t=null;function e(){return!!t}function n(l){return l===t}function r(l){t&&xt();const u={abandon:l};return t=u,u}function i(){t||xt(),t=null}function s(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:s}}function Mh(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const dE=9,fE=13,vm=27,q6=32,hE=33,pE=34,gE=35,mE=36,yE=37,vE=38,wE=39,bE=40,_E={[fE]:!0,[dE]:!0};var V6=t=>{_E[t.keyCode]&&t.preventDefault()};const $0=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})(),$6=0,Ty=5;function xE(t,e){return Math.abs(e.x-t.x)>=Ty||Math.abs(e.y-t.y)>=Ty}const Dy={type:"IDLE"};function SE({cancel:t,completed:e,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:s,clientX:l,clientY:u}=i;if(s!==$6)return;const c={x:l,y:u},h=n();if(h.type==="DRAGGING"){i.preventDefault(),h.actions.move(c);return}h.type!=="PENDING"&&xt();const p=h.point;if(!xE(p,c))return;i.preventDefault();const y=h.actions.fluidLift(c);r({type:"DRAGGING",actions:y})}},{eventName:"mouseup",fn:i=>{const s=n();if(s.type!=="DRAGGING"){t();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){t();return}if(i.keyCode===vm){i.preventDefault(),t();return}V6(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:i=>{const s=n();if(s.type==="IDLE"&&xt(),s.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:$0,fn:t}]}function kE(t){const e=ue.useRef(Dy),n=ue.useRef(Ec),r=cr(()=>({eventName:"mousedown",fn:function(y){if(y.defaultPrevented||y.button!==$6||y.ctrlKey||y.metaKey||y.shiftKey||y.altKey)return;const v=t.findClosestDraggableId(y);if(!v)return;const g=t.tryGetLock(v,l,{sourceEvent:y});if(!g)return;y.preventDefault();const _={x:y.clientX,y:y.clientY};n.current(),h(g,_)}}),[t]),i=cr(()=>({eventName:"webkitmouseforcewillbegin",fn:p=>{if(p.defaultPrevented)return;const y=t.findClosestDraggableId(p);if(!y)return;const v=t.findOptionsForDraggable(y);v&&(v.shouldRespectForcePress||t.canGetLock(y)&&p.preventDefault())}}),[t]),s=en(function(){const y={passive:!1,capture:!0};n.current=dl(window,[i,r],y)},[i,r]),l=en(()=>{e.current.type!=="IDLE"&&(e.current=Dy,n.current(),s())},[s]),u=en(()=>{const p=e.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),c=en(function(){const y={capture:!0,passive:!1},v=SE({cancel:u,completed:l,getPhase:()=>e.current,setPhase:g=>{e.current=g}});n.current=dl(window,v,y)},[u,l]),h=en(function(y,v){e.current.type!=="IDLE"&&xt(),e.current={type:"PENDING",point:v,actions:y},c()},[c]);qa(function(){return s(),function(){n.current()}},[s])}function CE(){}const NE={[pE]:!0,[hE]:!0,[mE]:!0,[gE]:!0};function EE(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===vm){i.preventDefault(),n();return}if(i.keyCode===q6){i.preventDefault(),r();return}if(i.keyCode===bE){i.preventDefault(),t.moveDown();return}if(i.keyCode===vE){i.preventDefault(),t.moveUp();return}if(i.keyCode===wE){i.preventDefault(),t.moveRight();return}if(i.keyCode===yE){i.preventDefault(),t.moveLeft();return}if(NE[i.keyCode]){i.preventDefault();return}V6(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:$0,fn:n}]}function AE(t){const e=ue.useRef(CE),n=cr(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==q6)return;const l=t.findClosestDraggableId(s);if(!l)return;const u=t.tryGetLock(l,p,{sourceEvent:s});if(!u)return;s.preventDefault();let c=!0;const h=u.snapLift();e.current();function p(){c||xt(),c=!1,e.current(),r()}e.current=dl(window,EE(h,p),{capture:!0,passive:!1})}}),[t]),r=en(function(){const s={passive:!1,capture:!0};e.current=dl(window,[n],s)},[n]);qa(function(){return r(),function(){e.current()}},[r])}const tg={type:"IDLE"},LE=120,PE=.15;function IE({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===vm&&n.preventDefault(),t()}},{eventName:$0,fn:t}]}function RE({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;const{clientX:s,clientY:l}=r.touches[0],u={x:s,y:l};r.preventDefault(),i.actions.move(u)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&xt();const s=r.touches[0];if(!s||!(s.force>=PE))return;const u=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){u&&t();return}if(u){if(i.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:$0,fn:t}]}function TE(t){const e=ue.useRef(tg),n=ue.useRef(Ec),r=en(function(){return e.current},[]),i=en(function(g){e.current=g},[]),s=cr(()=>({eventName:"touchstart",fn:function(g){if(g.defaultPrevented)return;const _=t.findClosestDraggableId(g);if(!_)return;const S=t.tryGetLock(_,u,{sourceEvent:g});if(!S)return;const E=g.touches[0],{clientX:A,clientY:N}=E,x={x:A,y:N};n.current(),y(S,x)}}),[t]),l=en(function(){const g={capture:!0,passive:!1};n.current=dl(window,[s],g)},[s]),u=en(()=>{const v=e.current;v.type!=="IDLE"&&(v.type==="PENDING"&&clearTimeout(v.longPressTimerId),i(tg),n.current(),l())},[l,i]),c=en(()=>{const v=e.current;u(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[u]),h=en(function(){const g={capture:!0,passive:!1},_={cancel:c,completed:u,getPhase:r},S=dl(window,RE(_),g),E=dl(window,IE(_),g);n.current=function(){S(),E()}},[c,r,u]),p=en(function(){const g=r();g.type!=="PENDING"&&xt();const _=g.actions.fluidLift(g.point);i({type:"DRAGGING",actions:_,hasMoved:!1})},[r,i]),y=en(function(g,_){r().type!=="IDLE"&&xt();const S=setTimeout(p,LE);i({type:"PENDING",point:_,actions:g,longPressTimerId:S}),h()},[h,r,i,p]);qa(function(){return l(),function(){n.current();const _=r();_.type==="PENDING"&&(clearTimeout(_.longPressTimerId),i(tg))}},[r,l,i]),qa(function(){return dl(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const DE=["input","button","textarea","select","option","optgroup","video","audio"];function Y6(t,e){if(e==null)return!1;if(DE.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:Y6(t,e.parentElement)}function OE(t,e){const n=e.target;return q0(n)?Y6(t,n):!1}var FE=t=>Ol(t.getBoundingClientRect()).center;function ME(t){return t instanceof H6(t).Element}const BE=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function K6(t,e){return t==null?null:t[BE](e)?t:K6(t.parentElement,e)}function jE(t,e){return t.closest?t.closest(e):K6(t,e)}function UE(t){return`[${Vd.contextId}="${t}"]`}function zE(t,e){const n=e.target;if(!ME(n))return null;const r=UE(t),i=jE(n,r);return!i||!q0(i)?null:i}function GE(t,e){const n=zE(t,e);return n?n.getAttribute(Vd.draggableId):null}function HE(t,e){const n=`[${u2.contextId}="${t}"]`,i=G6(document,n).find(s=>s.getAttribute(u2.id)===e);return!i||!q0(i)?null:i}function WE(t){t.preventDefault()}function Pp({expected:t,phase:e,isLockActive:n,shouldWarn:r}){return!(!n()||t!==e)}function X6({lockAPI:t,store:e,registry:n,draggableId:r}){if(t.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!B6(e.getState(),r))}function qE({lockAPI:t,contextId:e,store:n,registry:r,draggableId:i,forceSensorStop:s,sourceEvent:l}){if(!X6({lockAPI:t,store:n,registry:r,draggableId:i}))return null;const c=r.draggable.getById(i),h=HE(e,c.descriptor.id);if(!h||l&&!c.options.canDragInteractiveElements&&OE(h,l))return null;const p=t.claim(s||Ec);let y="PRE_DRAG";function v(){return c.options.shouldRespectForcePress}function g(){return t.isActive(p)}function _(D,W){Pp({expected:D,phase:y,isLockActive:g,shouldWarn:!0})&&n.dispatch(W())}const S=_.bind(null,"DRAGGING");function E(D){function W(){t.release(),y="COMPLETED"}y!=="PRE_DRAG"&&(W(),xt()),n.dispatch(jC(D.liftActionArgs)),y="DRAGGING";function re(U,M={shouldBlockNextClick:!1}){if(D.cleanup(),M.shouldBlockNextClick){const V=dl(window,[{eventName:"click",fn:WE,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(V)}W(),n.dispatch(P6({reason:U}))}return{isActive:()=>Pp({expected:"DRAGGING",phase:y,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:v,drop:U=>re("DROP",U),cancel:U=>re("CANCEL",U),...D.actions}}function A(D){const W=Ih(U=>{S(()=>L6({client:U}))});return{...E({liftActionArgs:{id:i,clientSelection:D,movementMode:"FLUID"},cleanup:()=>W.cancel(),actions:{move:W}}),move:W}}function N(){const D={moveUp:()=>S(YC),moveRight:()=>S(XC),moveDown:()=>S(KC),moveLeft:()=>S(JC)};return E({liftActionArgs:{id:i,clientSelection:FE(h),movementMode:"SNAP"},cleanup:Ec,actions:D})}function x(){Pp({expected:"PRE_DRAG",phase:y,isLockActive:g,shouldWarn:!0})&&t.release()}return{isActive:()=>Pp({expected:"PRE_DRAG",phase:y,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:v,fluidLift:A,snapLift:N,abort:x}}const VE=[kE,AE,TE];function $E({contextId:t,store:e,registry:n,customSensors:r,enableDefaultSensors:i}){const s=[...i?VE:[],...r||[]],l=ue.useState(()=>cE())[0],u=en(function(E,A){Mh(E)&&!Mh(A)&&l.tryAbandon()},[l]);qa(function(){let E=e.getState();return e.subscribe(()=>{const N=e.getState();u(E,N),E=N})},[l,e,u]),qa(()=>l.tryAbandon,[l.tryAbandon]);const c=en(S=>X6({lockAPI:l,registry:n,store:e,draggableId:S}),[l,n,e]),h=en((S,E,A)=>qE({lockAPI:l,registry:n,contextId:t,store:e,draggableId:S,forceSensorStop:E||null,sourceEvent:A&&A.sourceEvent?A.sourceEvent:null}),[t,l,n,e]),p=en(S=>GE(t,S),[t]),y=en(S=>{const E=n.draggable.findById(S);return E?E.options:null},[n.draggable]),v=en(function(){l.isClaimed()&&(l.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(um()))},[l,e]),g=en(()=>l.isClaimed(),[l]),_=cr(()=>({canGetLock:c,tryGetLock:h,findClosestDraggableId:p,findOptionsForDraggable:y,tryReleaseLock:v,isLockClaimed:g}),[c,h,p,y,v,g]);for(let S=0;S<s.length;S++)s[S](_)}const YE=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};M2.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),KE=t=>({...Fh,...t.autoScrollerOptions,durationDampening:{...Fh.durationDampening,...t.autoScrollerOptions}});function xf(t){return t.current||xt(),t.current}function XE(t){const{contextId:e,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:s}=t,l=ue.useRef(null),u=W6(t),c=en(()=>YE(u.current),[u]),h=en(()=>KE(u.current),[u]),p=oE(e),y=uE({contextId:e,text:s}),v=ZN(e,i),g=en(V=>{xf(l).dispatch(V)},[]),_=cr(()=>oy({publishWhileDragging:zC,updateDroppableScroll:HC,updateDroppableIsEnabled:WC,updateDroppableIsCombineEnabled:qC,collectionStarting:GC},g),[g]),S=rE(),E=cr(()=>IN(S,_),[S,_]),A=cr(()=>YN({scrollWindow:RN,scrollDroppable:E.scrollDroppable,getAutoScrollerOptions:h,...oy({move:L6},g)}),[E.scrollDroppable,g,h]),N=tE(e),x=cr(()=>EN({announce:p,autoScroller:A,dimensionMarshal:E,focusMarshal:N,getResponders:c,styleMarshal:v}),[p,A,E,N,c,v]);l.current=x;const L=en(()=>{const V=xf(l);V.getState().phase!=="IDLE"&&V.dispatch(um())},[]),D=en(()=>{const V=xf(l).getState();return V.phase==="DROP_ANIMATING"?!0:V.phase==="IDLE"?!1:V.isDragging},[]),W=cr(()=>({isDragging:D,tryAbort:L}),[D,L]);n(W);const re=en(V=>B6(xf(l).getState(),V),[]),U=en(()=>Yc(xf(l).getState()),[]),M=cr(()=>({marshal:E,focus:N,contextId:e,canLift:re,isMovementAllowed:U,dragHandleUsageInstructionsId:y,registry:S}),[e,E,y,N,re,U,S]);return $E({contextId:e,store:x,registry:S,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),ue.useEffect(()=>L,[L]),tn.createElement(V0.Provider,{value:M},tn.createElement(_k,{context:mm,store:x},t.children))}function JE(){return tn.useId()}function QE(t){const e=JE(),n=t.dragHandleUsageInstructions||Zp.dragHandleUsageInstructions;return tn.createElement(Ak,null,r=>tn.createElement(XE,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const Oy={dragging:5e3,dropAnimating:4500},ZE=(t,e)=>e?vh.drop(e.duration):t?vh.snap:vh.fluid,eA=(t,e)=>{if(t)return e?Oh.opacity.drop:Oh.opacity.combining},tA=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function nA(t){const n=t.dimension.client,{offset:r,combineWith:i,dropping:s}=t,l=!!i,u=tA(t),c=!!s,h=c?a2.drop(r,l):a2.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:ZE(u,s),transform:h,opacity:eA(l,c),zIndex:c?Oy.dropAnimating:Oy.dragging,pointerEvents:"none"}}function rA(t){return{transform:a2.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function iA(t){return t.type==="DRAGGING"?nA(t):rA(t)}function sA(t,e,n=qs){const r=window.getComputedStyle(e),i=e.getBoundingClientRect(),s=r6(i,r),l=v0(s,n),u={client:s,tagName:e.tagName.toLowerCase(),display:r.display},c={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:t,placeholder:u,displaceBy:c,client:s,page:l}}function oA(t){const e=ym("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:s,shouldRespectForcePress:l,isEnabled:u}=t,c=cr(()=>({canDragInteractiveElements:s,shouldRespectForcePress:l,isEnabled:u}),[s,u,l]),h=en(g=>{const _=i();return _||xt(),sA(n,_,g)},[n,i]),p=cr(()=>({uniqueId:e,descriptor:n,options:c,getDimension:h}),[n,h,c,e]),y=ue.useRef(p),v=ue.useRef(!0);qa(()=>(r.draggable.register(y.current),()=>r.draggable.unregister(y.current)),[r.draggable]),qa(()=>{if(v.current){v.current=!1;return}const g=y.current;y.current=p,r.draggable.update(p,g)},[p,r.draggable])}var wm=tn.createContext(null);function k0(t){const e=ue.useContext(t);return e||xt(),e}function aA(t){t.preventDefault()}const lA=t=>{const e=ue.useRef(null),n=en((W=null)=>{e.current=W},[]),r=en(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:s,registry:l}=k0(V0),{type:u,droppableId:c}=k0(wm),h=cr(()=>({id:t.draggableId,index:t.index,type:u,droppableId:c}),[t.draggableId,t.index,u,c]),{children:p,draggableId:y,isEnabled:v,shouldRespectForcePress:g,canDragInteractiveElements:_,isClone:S,mapped:E,dropAnimationFinished:A}=t;if(!S){const W=cr(()=>({descriptor:h,registry:l,getDraggableRef:r,canDragInteractiveElements:_,shouldRespectForcePress:g,isEnabled:v}),[h,l,r,_,g,v]);oA(W)}const N=cr(()=>v?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":y,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:aA}:null,[i,s,y,v]),x=en(W=>{E.type==="DRAGGING"&&E.dropping&&W.propertyName==="transform"&&M2.flushSync(A)},[A,E]),L=cr(()=>{const W=iA(E),re=E.type==="DRAGGING"&&E.dropping?x:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":y,style:W,onTransitionEnd:re},dragHandleProps:N}},[i,N,y,E,x,n]),D=cr(()=>({draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}),[h.droppableId,h.id,h.index,h.type]);return tn.createElement(tn.Fragment,null,p(L,E.snapshot,D))};var J6=(t,e)=>t===e,Q6=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const uA=t=>t.combine?t.combine.draggableId:null,cA=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function dA(){const t=Hs((i,s)=>({x:i,y:s})),e=Hs((i,s,l=null,u=null,c=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:l,combineWith:u,combineTargetFor:null})),n=Hs((i,s,l,u,c=null,h=null,p=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:h,mode:s,offset:i,dimension:l,forceShouldAnimate:p,snapshot:e(s,u,c,h,null)}}));return(i,s)=>{if(Mh(i)){if(i.critical.draggable.id!==s.draggableId)return null;const l=i.current.client.offset,u=i.dimensions.draggables[s.draggableId],c=Wa(i.impact),h=cA(i.impact),p=i.forceShouldAnimate;return n(t(l.x,l.y),i.movementMode,u,s.isClone,c,h,p)}if(i.phase==="DROP_ANIMATING"){const l=i.completed;if(l.result.draggableId!==s.draggableId)return null;const u=s.isClone,c=i.dimensions.draggables[s.draggableId],h=l.result,p=h.mode,y=Q6(h),v=uA(h),_={duration:i.dropDuration,curve:dm.drop,moveTo:i.newHomeClientOffset,opacity:v?Oh.opacity.drop:null,scale:v?Oh.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:c,dropping:_,draggingOver:y,combineWith:v,mode:p,forceShouldAnimate:null,snapshot:e(p,u,y,v,_)}}}return null}}function Z6(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const fA={mapped:{type:"SECONDARY",offset:qs,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Z6(null)}};function hA(){const t=Hs((l,u)=>({x:l,y:u})),e=Hs(Z6),n=Hs((l,u=null,c)=>({mapped:{type:"SECONDARY",offset:l,combineTargetFor:u,shouldAnimateDisplacement:c,snapshot:e(u)}})),r=l=>l?n(qs,l,!0):null,i=(l,u,c,h)=>{const p=c.displaced.visible[l],y=!!(h.inVirtualList&&h.effected[l]),v=G0(c),g=v&&v.draggableId===l?u:null;if(!p){if(!y)return r(g);if(c.displaced.invisible[l])return null;const E=tf(h.displacedBy.point),A=t(E.x,E.y);return n(A,g,!0)}if(y)return r(g);const _=c.displacedBy.point,S=t(_.x,_.y);return n(S,g,p.shouldAnimate)};return(l,u)=>{if(Mh(l))return l.critical.draggable.id===u.draggableId?null:i(u.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){const c=l.completed;return c.result.draggableId===u.draggableId?null:i(u.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const pA=()=>{const t=dA(),e=hA();return(r,i)=>t(r,i)||e(r,i)||fA},gA={dropAnimationFinished:I6},mA=n6(pA,gA,null,{context:mm,areStatePropsEqual:J6})(lA);function e8(t){return k0(wm).isUsingCloneFor===t.draggableId&&!t.isClone?null:tn.createElement(mA,t)}function yA(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return tn.createElement(e8,w0({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const t8=t=>e=>t===e,vA=t8("scroll"),wA=t8("auto"),Fy=(t,e)=>e(t.overflowX)||e(t.overflowY),bA=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return Fy(n,vA)||Fy(n,wA)},_A=()=>!1,n8=t=>t==null?null:t===document.body?_A()?t:null:t===document.documentElement?null:bA(t)?t:n8(t.parentElement);var c2=t=>({x:t.scrollLeft,y:t.scrollTop});const r8=t=>t?window.getComputedStyle(t).position==="fixed"?!0:r8(t.parentElement):!1;var xA=t=>{const e=n8(t),n=r8(t);return{closestScrollable:e,isFixedOnPage:n}},SA=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:s,page:l,closest:u})=>{const c=(()=>{if(!u)return null;const{scrollSize:v,client:g}=u,_=O6({scrollHeight:v.scrollHeight,scrollWidth:v.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:g,scrollSize:v,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:_,diff:{value:qs,displacement:qs}}}})(),h=i==="vertical"?im:p6,p=Wd({page:l,withPlaceholder:null,axis:h,frame:c});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:h,isEnabled:e,client:s,page:l,frame:c,subject:p}};const kA=(t,e)=>{const n=i6(t);if(!e||t!==e)return n;const r=n.paddingBox.top-e.scrollTop,i=n.paddingBox.left-e.scrollLeft,s=r+e.scrollHeight,l=i+e.scrollWidth,c=em({top:r,right:l,bottom:s,left:i},n.border);return tm({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var CA=({ref:t,descriptor:e,env:n,windowScroll:r,direction:i,isDropDisabled:s,isCombineEnabled:l,shouldClipSubject:u})=>{const c=n.closestScrollable,h=kA(t,c),p=v0(h,r),y=(()=>{if(!c)return null;const g=i6(c),_={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:g,page:v0(g,r),scroll:c2(c),scrollSize:_,shouldClipSubject:u}})();return SA({descriptor:e,isEnabled:!s,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:i,client:h,page:p,closest:y})};const NA={passive:!1},EA={passive:!0};var My=t=>t.shouldPublishImmediately?NA:EA;const Ip=t=>t&&t.env.closestScrollable||null;function AA(t){const e=ue.useRef(null),n=k0(V0),r=ym("droppable"),{registry:i,marshal:s}=n,l=W6(t),u=cr(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),c=ue.useRef(u),h=cr(()=>Hs((L,D)=>{e.current||xt();const W={x:L,y:D};s.updateDroppableScroll(u.id,W)}),[u.id,s]),p=en(()=>{const L=e.current;return!L||!L.env.closestScrollable?qs:c2(L.env.closestScrollable)},[]),y=en(()=>{const L=p();h(L.x,L.y)},[p,h]),v=cr(()=>Ih(y),[y]),g=en(()=>{const L=e.current,D=Ip(L);if(L&&D||xt(),L.scrollOptions.shouldPublishImmediately){y();return}v()},[v,y]),_=en((L,D)=>{e.current&&xt();const W=l.current,re=W.getDroppableRef();re||xt();const U=xA(re),M={ref:re,descriptor:u,env:U,scrollOptions:D};e.current=M;const V=CA({ref:re,descriptor:u,env:U,windowScroll:L,direction:W.direction,isDropDisabled:W.isDropDisabled,isCombineEnabled:W.isCombineEnabled,shouldClipSubject:!W.ignoreContainerClipping}),F=U.closestScrollable;return F&&(F.setAttribute(Iy.contextId,n.contextId),F.addEventListener("scroll",g,My(M.scrollOptions))),V},[n.contextId,u,g,l]),S=en(()=>{const L=e.current,D=Ip(L);return L&&D||xt(),c2(D)},[]),E=en(()=>{const L=e.current;L||xt();const D=Ip(L);e.current=null,D&&(v.cancel(),D.removeAttribute(Iy.contextId),D.removeEventListener("scroll",g,My(L.scrollOptions)))},[g,v]),A=en(L=>{const D=e.current;D||xt();const W=Ip(D);W||xt(),W.scrollTop+=L.y,W.scrollLeft+=L.x},[]),N=cr(()=>({getDimensionAndWatchScroll:_,getScrollWhileDragging:S,dragStopped:E,scroll:A}),[E,_,S,A]),x=cr(()=>({uniqueId:r,descriptor:u,callbacks:N}),[N,u,r]);qa(()=>(c.current=x.descriptor,i.droppable.register(x),()=>{e.current&&E(),i.droppable.unregister(x)}),[N,u,E,x,s,i.droppable]),qa(()=>{e.current&&s.updateDroppableIsEnabled(c.current.id,!t.isDropDisabled)},[t.isDropDisabled,s]),qa(()=>{e.current&&s.updateDroppableIsCombineEnabled(c.current.id,t.isCombineEnabled)},[t.isCombineEnabled,s])}function ng(){}const By={width:0,height:0,margin:Ok},LA=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?By:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},PA=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const r=LA({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?vh.placeholder:null}},IA=t=>{const e=ue.useRef(null),n=en(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:s,contextId:l}=t,[u,c]=ue.useState(t.animate==="open");ue.useEffect(()=>u?r!=="open"?(n(),c(!1),ng):e.current?ng:(e.current=setTimeout(()=>{e.current=null,c(!1)}),n):ng,[r,u,n]);const h=en(y=>{y.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),p=PA({isAnimatingOpenOnMount:u,animate:t.animate,placeholder:t.placeholder});return tn.createElement(t.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":l,onTransitionEnd:h,ref:t.innerRef})};var RA=tn.memo(IA);class TA extends tn.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const DA=t=>{const e=ue.useContext(V0);e||xt();const{contextId:n,isMovementAllowed:r}=e,i=ue.useRef(null),s=ue.useRef(null),{children:l,droppableId:u,type:c,mode:h,direction:p,ignoreContainerClipping:y,isDropDisabled:v,isCombineEnabled:g,snapshot:_,useClone:S,updateViewportMaxScroll:E,getContainerForClone:A}=t,N=en(()=>i.current,[]),x=en((F=null)=>{i.current=F},[]);en(()=>s.current,[]);const L=en((F=null)=>{s.current=F},[]),D=en(()=>{r()&&E({maxScroll:M6()})},[r,E]);AA({droppableId:u,type:c,mode:h,direction:p,isDropDisabled:v,isCombineEnabled:g,ignoreContainerClipping:y,getDroppableRef:N});const W=cr(()=>tn.createElement(TA,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:F,data:H,animate:Z})=>tn.createElement(RA,{placeholder:H,onClose:F,innerRef:L,animate:Z,contextId:n,onTransitionEnd:D})),[n,D,t.placeholder,t.shouldAnimatePlaceholder,L]),re=cr(()=>({innerRef:x,placeholder:W,droppableProps:{"data-rfd-droppable-id":u,"data-rfd-droppable-context-id":n}}),[n,u,W,x]),U=S?S.dragging.draggableId:null,M=cr(()=>({droppableId:u,type:c,isUsingCloneFor:U}),[u,U,c]);function V(){if(!S)return null;const{dragging:F,render:H}=S,Z=tn.createElement(e8,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ne,le)=>H(ne,le,F));return xx.createPortal(Z,A())}return tn.createElement(wm.Provider,{value:M},l(re,_),V())};function OA(){return document.body||xt(),document.body}const jy={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:OA},i8=t=>{let e={...t},n;for(n in jy)t[n]===void 0&&(e={...e,[n]:jy[n]});return e},rg=(t,e)=>t===e.droppable.type,Uy=(t,e)=>e.draggables[t.draggable.id],FA=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=Hs(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=Hs((s,l,u,c,h,p)=>{const y=h.descriptor.id;if(h.descriptor.droppableId===s){const _=p?{render:p,dragging:n(h.descriptor)}:null,S={isDraggingOver:u,draggingOverWith:u?y:null,draggingFromThisWith:y,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:S,useClone:_}}if(!l)return e;if(!c)return t;const g={isDraggingOver:u,draggingOverWith:y,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:g,useClone:null}});return(s,l)=>{const u=i8(l),c=u.droppableId,h=u.type,p=!u.isDropDisabled,y=u.renderClone;if(Mh(s)){const v=s.critical;if(!rg(h,v))return e;const g=Uy(v,s.dimensions),_=Wa(s.impact)===c;return r(c,p,_,_,g,y)}if(s.phase==="DROP_ANIMATING"){const v=s.completed;if(!rg(h,v.critical))return e;const g=Uy(v.critical,s.dimensions);return r(c,p,Q6(v.result)===c,Wa(v.impact)===c,g,y)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const v=s.completed;if(!rg(h,v.critical))return e;const g=Wa(v.impact)===c,_=!!(v.impact.at&&v.impact.at.type==="COMBINE"),S=v.critical.droppable.id===c;return g?_?t:e:S?t:e}return e}},MA={updateViewportMaxScroll:$C},BA=n6(FA,MA,(t,e,n)=>({...i8(n),...t,...e}),{context:mm,areStatePropsEqual:J6})(DA),d2=({slides:t,currentSlide:e,setCurrentSlide:n,thumbnails:r,variant:i,onAddSlide:s,onReorderSlides:l,selectedSlides:u=[],setSelectedSlides:c,onRestoreSelected:h,isRestoreEnabled:p,onRestoreAll:y,isRestoreAllEnabled:v,setSelectedCurrentSlide:g,setSelectedRestoreSlide:_})=>{const S=A=>{i==="restore"?(c&&c([A]),_&&_(A)):i==="current"?(n(A),c&&c([A]),g&&g(A)):n(A)},E=A=>{if(!A.destination||!l)return;const N=[...t],[x]=N.splice(A.source.index,1);N.splice(A.destination.index,0,x),l(N)};return fe.jsxs("div",{className:`sidebar sidebar-${i}`,children:[(i==="current"||i==="restore")&&fe.jsx("p",{className:"sidebar-title",children:i==="current"?" ":"  "}),fe.jsx(QE,{onDragEnd:E,children:fe.jsx(BA,{droppableId:"slides-list",isDropDisabled:i!=="main",children:A=>fe.jsx("div",{className:"slides-scrollable",children:fe.jsxs("ul",{className:"slides-list",ref:A.innerRef,...A.droppableProps,children:[t.map((N,x)=>{const L=i==="main"?N===e:u.includes(N);return fe.jsx(yA,{draggableId:`slide-${N}`,index:x,isDragDisabled:i!=="main",children:(D,W)=>fe.jsxs("li",{ref:D.innerRef,...D.draggableProps,...D.dragHandleProps,className:`slide-item ${L?"selected":""} ${W.isDragging?"dragging":""}`,onClick:()=>S(N),children:[fe.jsx("span",{className:"slide-number",children:x+1}),fe.jsx("div",{className:"slide-thumbnail",children:r[N]&&fe.jsx("img",{src:r[N],alt:`Slide ${x+1}`,className:"slide-preview"})})]})},`slide-${N}`)}),A.placeholder,i==="main"&&s&&fe.jsx("li",{className:"slide-item",onClick:s,children:fe.jsx("div",{className:"slide-thumbnail add-slide",children:"+"})})]})})})}),i==="restore"&&fe.jsxs("div",{className:"sidebar-footer",children:[fe.jsx("div",{className:"restore-text",onClick:p?h:void 0,style:{color:p?"#FFB93E":"#aaa",cursor:p?"pointer":"default"},children:"  "}),fe.jsx("div",{className:`restore-text ${v?"active":"disabled"}`,onClick:v?y:void 0,children:"  "})]})]})};var e0={exports:{}},Sf={},ig={},sg={},zy;function Hn(){return zy||(zy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof a5<"u"?a5:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.22",isBrowser:n(),isUnminified:/param/.test((function(i){}).toString()),dblClickWindow:400,getAngle(i){return t.Konva.angleDeg?i*e:i},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var i;return(i=t.Konva.Transformer)===null||i===void 0?void 0:i.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(i){t.glob.Konva=i}};const r=i=>{t.Konva[i.prototype.getClassName()]=i};t._registerNode=r,t.Konva._injectGlobal(t.Konva)})(sg)),sg}var og={},Gy;function ji(){return Gy||(Gy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=Hn();class n{constructor(L=[1,0,0,1,0,0]){this.dirty=!1,this.m=L&&L.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(L){L.m[0]=this.m[0],L.m[1]=this.m[1],L.m[2]=this.m[2],L.m[3]=this.m[3],L.m[4]=this.m[4],L.m[5]=this.m[5]}point(L){const D=this.m;return{x:D[0]*L.x+D[2]*L.y+D[4],y:D[1]*L.x+D[3]*L.y+D[5]}}translate(L,D){return this.m[4]+=this.m[0]*L+this.m[2]*D,this.m[5]+=this.m[1]*L+this.m[3]*D,this}scale(L,D){return this.m[0]*=L,this.m[1]*=L,this.m[2]*=D,this.m[3]*=D,this}rotate(L){const D=Math.cos(L),W=Math.sin(L),re=this.m[0]*D+this.m[2]*W,U=this.m[1]*D+this.m[3]*W,M=this.m[0]*-W+this.m[2]*D,V=this.m[1]*-W+this.m[3]*D;return this.m[0]=re,this.m[1]=U,this.m[2]=M,this.m[3]=V,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(L,D){const W=this.m[0]+this.m[2]*D,re=this.m[1]+this.m[3]*D,U=this.m[2]+this.m[0]*L,M=this.m[3]+this.m[1]*L;return this.m[0]=W,this.m[1]=re,this.m[2]=U,this.m[3]=M,this}multiply(L){const D=this.m[0]*L.m[0]+this.m[2]*L.m[1],W=this.m[1]*L.m[0]+this.m[3]*L.m[1],re=this.m[0]*L.m[2]+this.m[2]*L.m[3],U=this.m[1]*L.m[2]+this.m[3]*L.m[3],M=this.m[0]*L.m[4]+this.m[2]*L.m[5]+this.m[4],V=this.m[1]*L.m[4]+this.m[3]*L.m[5]+this.m[5];return this.m[0]=D,this.m[1]=W,this.m[2]=re,this.m[3]=U,this.m[4]=M,this.m[5]=V,this}invert(){const L=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),D=this.m[3]*L,W=-this.m[1]*L,re=-this.m[2]*L,U=this.m[0]*L,M=L*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),V=L*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=D,this.m[1]=W,this.m[2]=re,this.m[3]=U,this.m[4]=M,this.m[5]=V,this}getMatrix(){return this.m}decompose(){const L=this.m[0],D=this.m[1],W=this.m[2],re=this.m[3],U=this.m[4],M=this.m[5],V=L*re-D*W,F={x:U,y:M,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(L!=0||D!=0){const H=Math.sqrt(L*L+D*D);F.rotation=D>0?Math.acos(L/H):-Math.acos(L/H),F.scaleX=H,F.scaleY=V/H,F.skewX=(L*W+D*re)/V,F.skewY=0}else if(W!=0||re!=0){const H=Math.sqrt(W*W+re*re);F.rotation=Math.PI/2-(re>0?Math.acos(-W/H):-Math.acos(W/H)),F.scaleX=V/H,F.scaleY=H,F.skewX=0,F.skewY=(L*W+D*re)/V}return F.rotation=t.Util._getRotation(F.rotation),F}}t.Transform=n;const r="[object Array]",i="[object Number]",s="[object String]",l="[object Boolean]",u=Math.PI/180,c=180/Math.PI,h="#",p="",y="0",v="Konva warning: ",g="Konva error: ",_="rgb(",S={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},E=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let A=[];const N=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(x){setTimeout(x,60)};t.Util={_isElement(x){return!!(x&&x.nodeType==1)},_isFunction(x){return!!(x&&x.constructor&&x.call&&x.apply)},_isPlainObject(x){return!!x&&x.constructor===Object},_isArray(x){return Object.prototype.toString.call(x)===r},_isNumber(x){return Object.prototype.toString.call(x)===i&&!isNaN(x)&&isFinite(x)},_isString(x){return Object.prototype.toString.call(x)===s},_isBoolean(x){return Object.prototype.toString.call(x)===l},isObject(x){return x instanceof Object},isValidSelector(x){if(typeof x!="string")return!1;const L=x[0];return L==="#"||L==="."||L===L.toUpperCase()},_sign(x){return x===0||x>0?1:-1},requestAnimFrame(x){A.push(x),A.length===1&&N(function(){const L=A;A=[],L.forEach(function(D){D()})})},createCanvasElement(){const x=document.createElement("canvas");try{x.style=x.style||{}}catch{}return x},createImageElement(){return document.createElement("img")},_isInDocument(x){for(;x=x.parentNode;)if(x==document)return!0;return!1},_urlToImage(x,L){const D=t.Util.createImageElement();D.onload=function(){L(D)},D.src=x},_rgbToHex(x,L,D){return((1<<24)+(x<<16)+(L<<8)+D).toString(16).slice(1)},_hexToRgb(x){x=x.replace(h,p);const L=parseInt(x,16);return{r:L>>16&255,g:L>>8&255,b:L&255}},getRandomColor(){let x=(Math.random()*16777215<<0).toString(16);for(;x.length<6;)x=y+x;return h+x},getRGB(x){let L;return x in S?(L=S[x],{r:L[0],g:L[1],b:L[2]}):x[0]===h?this._hexToRgb(x.substring(1)):x.substr(0,4)===_?(L=E.exec(x.replace(/ /g,"")),{r:parseInt(L[1],10),g:parseInt(L[2],10),b:parseInt(L[3],10)}):{r:0,g:0,b:0}},colorToRGBA(x){return x=x||"black",t.Util._namedColorToRBA(x)||t.Util._hex3ColorToRGBA(x)||t.Util._hex4ColorToRGBA(x)||t.Util._hex6ColorToRGBA(x)||t.Util._hex8ColorToRGBA(x)||t.Util._rgbColorToRGBA(x)||t.Util._rgbaColorToRGBA(x)||t.Util._hslColorToRGBA(x)},_namedColorToRBA(x){const L=S[x.toLowerCase()];return L?{r:L[0],g:L[1],b:L[2],a:1}:null},_rgbColorToRGBA(x){if(x.indexOf("rgb(")===0){x=x.match(/rgb\(([^)]+)\)/)[1];const L=x.split(/ *, */).map(Number);return{r:L[0],g:L[1],b:L[2],a:1}}},_rgbaColorToRGBA(x){if(x.indexOf("rgba(")===0){x=x.match(/rgba\(([^)]+)\)/)[1];const L=x.split(/ *, */).map((D,W)=>D.slice(-1)==="%"?W===3?parseInt(D)/100:parseInt(D)/100*255:Number(D));return{r:L[0],g:L[1],b:L[2],a:L[3]}}},_hex8ColorToRGBA(x){if(x[0]==="#"&&x.length===9)return{r:parseInt(x.slice(1,3),16),g:parseInt(x.slice(3,5),16),b:parseInt(x.slice(5,7),16),a:parseInt(x.slice(7,9),16)/255}},_hex6ColorToRGBA(x){if(x[0]==="#"&&x.length===7)return{r:parseInt(x.slice(1,3),16),g:parseInt(x.slice(3,5),16),b:parseInt(x.slice(5,7),16),a:1}},_hex4ColorToRGBA(x){if(x[0]==="#"&&x.length===5)return{r:parseInt(x[1]+x[1],16),g:parseInt(x[2]+x[2],16),b:parseInt(x[3]+x[3],16),a:parseInt(x[4]+x[4],16)/255}},_hex3ColorToRGBA(x){if(x[0]==="#"&&x.length===4)return{r:parseInt(x[1]+x[1],16),g:parseInt(x[2]+x[2],16),b:parseInt(x[3]+x[3],16),a:1}},_hslColorToRGBA(x){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(x)){const[L,...D]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(x),W=Number(D[0])/360,re=Number(D[1])/100,U=Number(D[2])/100;let M,V,F;if(re===0)return F=U*255,{r:Math.round(F),g:Math.round(F),b:Math.round(F),a:1};U<.5?M=U*(1+re):M=U+re-U*re;const H=2*U-M,Z=[0,0,0];for(let ne=0;ne<3;ne++)V=W+1/3*-(ne-1),V<0&&V++,V>1&&V--,6*V<1?F=H+(M-H)*6*V:2*V<1?F=M:3*V<2?F=H+(M-H)*(2/3-V)*6:F=H,Z[ne]=F*255;return{r:Math.round(Z[0]),g:Math.round(Z[1]),b:Math.round(Z[2]),a:1}}},haveIntersection(x,L){return!(L.x>x.x+x.width||L.x+L.width<x.x||L.y>x.y+x.height||L.y+L.height<x.y)},cloneObject(x){const L={};for(const D in x)this._isPlainObject(x[D])?L[D]=this.cloneObject(x[D]):this._isArray(x[D])?L[D]=this.cloneArray(x[D]):L[D]=x[D];return L},cloneArray(x){return x.slice(0)},degToRad(x){return x*u},radToDeg(x){return x*c},_degToRad(x){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(x)},_radToDeg(x){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(x)},_getRotation(x){return e.Konva.angleDeg?t.Util.radToDeg(x):x},_capitalize(x){return x.charAt(0).toUpperCase()+x.slice(1)},throw(x){throw new Error(g+x)},error(x){console.error(g+x)},warn(x){e.Konva.showWarnings&&console.warn(v+x)},each(x,L){for(const D in x)L(D,x[D])},_inRange(x,L,D){return L<=x&&x<D},_getProjectionToSegment(x,L,D,W,re,U){let M,V,F;const H=(x-D)*(x-D)+(L-W)*(L-W);if(H==0)M=x,V=L,F=(re-D)*(re-D)+(U-W)*(U-W);else{const Z=((re-x)*(D-x)+(U-L)*(W-L))/H;Z<0?(M=x,V=L,F=(x-re)*(x-re)+(L-U)*(L-U)):Z>1?(M=D,V=W,F=(D-re)*(D-re)+(W-U)*(W-U)):(M=x+Z*(D-x),V=L+Z*(W-L),F=(M-re)*(M-re)+(V-U)*(V-U))}return[M,V,F]},_getProjectionToLine(x,L,D){const W=t.Util.cloneObject(x);let re=Number.MAX_VALUE;return L.forEach(function(U,M){if(!D&&M===L.length-1)return;const V=L[(M+1)%L.length],F=t.Util._getProjectionToSegment(U.x,U.y,V.x,V.y,x.x,x.y),H=F[0],Z=F[1],ne=F[2];ne<re&&(W.x=H,W.y=Z,re=ne)}),W},_prepareArrayForTween(x,L,D){const W=[],re=[];if(x.length>L.length){const M=L;L=x,x=M}for(let M=0;M<x.length;M+=2)W.push({x:x[M],y:x[M+1]});for(let M=0;M<L.length;M+=2)re.push({x:L[M],y:L[M+1]});const U=[];return re.forEach(function(M){const V=t.Util._getProjectionToLine(M,W,D);U.push(V.x),U.push(V.y)}),U},_prepareToStringify(x){let L;x.visitedByCircularReferenceRemoval=!0;for(const D in x)if(x.hasOwnProperty(D)&&x[D]&&typeof x[D]=="object"){if(L=Object.getOwnPropertyDescriptor(x,D),x[D].visitedByCircularReferenceRemoval||t.Util._isElement(x[D]))if(L.configurable)delete x[D];else return null;else if(t.Util._prepareToStringify(x[D])===null)if(L.configurable)delete x[D];else return null}return delete x.visitedByCircularReferenceRemoval,x},_assign(x,L){for(const D in L)x[D]=L[D];return x},_getFirstPointerId(x){return x.touches?x.changedTouches[0].identifier:x.pointerId||999},releaseCanvas(...x){e.Konva.releaseCanvasOnDestroy&&x.forEach(L=>{L.width=0,L.height=0})},drawRoundedRectPath(x,L,D,W){let re=0,U=0,M=0,V=0;typeof W=="number"?re=U=M=V=Math.min(W,L/2,D/2):(re=Math.min(W[0]||0,L/2,D/2),U=Math.min(W[1]||0,L/2,D/2),V=Math.min(W[2]||0,L/2,D/2),M=Math.min(W[3]||0,L/2,D/2)),x.moveTo(re,0),x.lineTo(L-U,0),x.arc(L-U,U,U,Math.PI*3/2,0,!1),x.lineTo(L,D-V),x.arc(L-V,D-V,V,0,Math.PI/2,!1),x.lineTo(M,D),x.arc(M,D-M,M,Math.PI/2,Math.PI,!1),x.lineTo(0,re),x.arc(re,re,re,Math.PI,Math.PI*3/2,!1)}}})(og)),og}var kf={},Iu={},Ru={},Hy;function s8(){if(Hy)return Ru;Hy=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.HitContext=Ru.SceneContext=Ru.Context=void 0;const t=ji(),e=Hn();function n(A){const N=[],x=A.length,L=t.Util;for(let D=0;D<x;D++){let W=A[D];L._isNumber(W)?W=Math.round(W*1e3)/1e3:L._isString(W)||(W=W+""),N.push(W)}return N}const r=",",i="(",s=")",l="([",u="])",c=";",h="()",p="=",y=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],v=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],g=100;let _=class{constructor(N){this.canvas=N,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(N){N.fillEnabled()&&this._fill(N)}_fill(N){}strokeShape(N){N.hasStroke()&&this._stroke(N)}_stroke(N){}fillStrokeShape(N){N.attrs.fillAfterStrokeEnabled?(this.strokeShape(N),this.fillShape(N)):(this.fillShape(N),this.strokeShape(N))}getTrace(N,x){let L=this.traceArr,D=L.length,W="",re,U,M,V;for(re=0;re<D;re++)U=L[re],M=U.method,M?(V=U.args,W+=M,N?W+=h:t.Util._isArray(V[0])?W+=l+V.join(r)+u:(x&&(V=V.map(F=>typeof F=="number"?Math.floor(F):F)),W+=i+V.join(r)+s)):(W+=U.property,N||(W+=p+U.val)),W+=c;return W}clearTrace(){this.traceArr=[]}_trace(N){let x=this.traceArr,L;x.push(N),L=x.length,L>=g&&x.shift()}reset(){const N=this.getCanvas().getPixelRatio();this.setTransform(1*N,0,0,1*N,0,0)}getCanvas(){return this.canvas}clear(N){const x=this.getCanvas();N?this.clearRect(N.x||0,N.y||0,N.width||0,N.height||0):this.clearRect(0,0,x.getWidth()/x.pixelRatio,x.getHeight()/x.pixelRatio)}_applyLineCap(N){const x=N.attrs.lineCap;x&&this.setAttr("lineCap",x)}_applyOpacity(N){const x=N.getAbsoluteOpacity();x!==1&&this.setAttr("globalAlpha",x)}_applyLineJoin(N){const x=N.attrs.lineJoin;x&&this.setAttr("lineJoin",x)}setAttr(N,x){this._context[N]=x}arc(N,x,L,D,W,re){this._context.arc(N,x,L,D,W,re)}arcTo(N,x,L,D,W){this._context.arcTo(N,x,L,D,W)}beginPath(){this._context.beginPath()}bezierCurveTo(N,x,L,D,W,re){this._context.bezierCurveTo(N,x,L,D,W,re)}clearRect(N,x,L,D){this._context.clearRect(N,x,L,D)}clip(...N){this._context.clip.apply(this._context,N)}closePath(){this._context.closePath()}createImageData(N,x){const L=arguments;if(L.length===2)return this._context.createImageData(N,x);if(L.length===1)return this._context.createImageData(N)}createLinearGradient(N,x,L,D){return this._context.createLinearGradient(N,x,L,D)}createPattern(N,x){return this._context.createPattern(N,x)}createRadialGradient(N,x,L,D,W,re){return this._context.createRadialGradient(N,x,L,D,W,re)}drawImage(N,x,L,D,W,re,U,M,V){const F=arguments,H=this._context;F.length===3?H.drawImage(N,x,L):F.length===5?H.drawImage(N,x,L,D,W):F.length===9&&H.drawImage(N,x,L,D,W,re,U,M,V)}ellipse(N,x,L,D,W,re,U,M){this._context.ellipse(N,x,L,D,W,re,U,M)}isPointInPath(N,x,L,D){return L?this._context.isPointInPath(L,N,x,D):this._context.isPointInPath(N,x,D)}fill(...N){this._context.fill.apply(this._context,N)}fillRect(N,x,L,D){this._context.fillRect(N,x,L,D)}strokeRect(N,x,L,D){this._context.strokeRect(N,x,L,D)}fillText(N,x,L,D){D?this._context.fillText(N,x,L,D):this._context.fillText(N,x,L)}measureText(N){return this._context.measureText(N)}getImageData(N,x,L,D){return this._context.getImageData(N,x,L,D)}lineTo(N,x){this._context.lineTo(N,x)}moveTo(N,x){this._context.moveTo(N,x)}rect(N,x,L,D){this._context.rect(N,x,L,D)}roundRect(N,x,L,D,W){this._context.roundRect(N,x,L,D,W)}putImageData(N,x,L){this._context.putImageData(N,x,L)}quadraticCurveTo(N,x,L,D){this._context.quadraticCurveTo(N,x,L,D)}restore(){this._context.restore()}rotate(N){this._context.rotate(N)}save(){this._context.save()}scale(N,x){this._context.scale(N,x)}setLineDash(N){this._context.setLineDash?this._context.setLineDash(N):"mozDash"in this._context?this._context.mozDash=N:"webkitLineDash"in this._context&&(this._context.webkitLineDash=N)}getLineDash(){return this._context.getLineDash()}setTransform(N,x,L,D,W,re){this._context.setTransform(N,x,L,D,W,re)}stroke(N){N?this._context.stroke(N):this._context.stroke()}strokeText(N,x,L,D){this._context.strokeText(N,x,L,D)}transform(N,x,L,D,W,re){this._context.transform(N,x,L,D,W,re)}translate(N,x){this._context.translate(N,x)}_enableTrace(){let N=this,x=y.length,L=this.setAttr,D,W;const re=function(U){let M=N[U],V;N[U]=function(){return W=n(Array.prototype.slice.call(arguments,0)),V=M.apply(N,arguments),N._trace({method:U,args:W}),V}};for(D=0;D<x;D++)re(y[D]);N.setAttr=function(){L.apply(N,arguments);const U=arguments[0];let M=arguments[1];(U==="shadowOffsetX"||U==="shadowOffsetY"||U==="shadowBlur")&&(M=M/this.canvas.getPixelRatio()),N._trace({property:U,val:M})}}_applyGlobalCompositeOperation(N){const x=N.attrs.globalCompositeOperation;!x||x==="source-over"||this.setAttr("globalCompositeOperation",x)}};Ru.Context=_,v.forEach(function(A){Object.defineProperty(_.prototype,A,{get(){return this._context[A]},set(N){this._context[A]=N}})});class S extends _{constructor(N,{willReadFrequently:x=!1}={}){super(N),this._context=N._canvas.getContext("2d",{willReadFrequently:x})}_fillColor(N){const x=N.fill();this.setAttr("fillStyle",x),N._fillFunc(this)}_fillPattern(N){this.setAttr("fillStyle",N._getFillPattern()),N._fillFunc(this)}_fillLinearGradient(N){const x=N._getLinearGradient();x&&(this.setAttr("fillStyle",x),N._fillFunc(this))}_fillRadialGradient(N){const x=N._getRadialGradient();x&&(this.setAttr("fillStyle",x),N._fillFunc(this))}_fill(N){const x=N.fill(),L=N.getFillPriority();if(x&&L==="color"){this._fillColor(N);return}const D=N.getFillPatternImage();if(D&&L==="pattern"){this._fillPattern(N);return}const W=N.getFillLinearGradientColorStops();if(W&&L==="linear-gradient"){this._fillLinearGradient(N);return}const re=N.getFillRadialGradientColorStops();if(re&&L==="radial-gradient"){this._fillRadialGradient(N);return}x?this._fillColor(N):D?this._fillPattern(N):W?this._fillLinearGradient(N):re&&this._fillRadialGradient(N)}_strokeLinearGradient(N){const x=N.getStrokeLinearGradientStartPoint(),L=N.getStrokeLinearGradientEndPoint(),D=N.getStrokeLinearGradientColorStops(),W=this.createLinearGradient(x.x,x.y,L.x,L.y);if(D){for(let re=0;re<D.length;re+=2)W.addColorStop(D[re],D[re+1]);this.setAttr("strokeStyle",W)}}_stroke(N){const x=N.dash(),L=N.getStrokeScaleEnabled();if(N.hasStroke()){if(!L){this.save();const W=this.getCanvas().getPixelRatio();this.setTransform(W,0,0,W,0,0)}this._applyLineCap(N),x&&N.dashEnabled()&&(this.setLineDash(x),this.setAttr("lineDashOffset",N.dashOffset())),this.setAttr("lineWidth",N.strokeWidth()),N.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),N.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(N):this.setAttr("strokeStyle",N.stroke()),N._strokeFunc(this),L||this.restore()}}_applyShadow(N){var x,L,D;const W=(x=N.getShadowRGBA())!==null&&x!==void 0?x:"black",re=(L=N.getShadowBlur())!==null&&L!==void 0?L:5,U=(D=N.getShadowOffset())!==null&&D!==void 0?D:{x:0,y:0},M=N.getAbsoluteScale(),V=this.canvas.getPixelRatio(),F=M.x*V,H=M.y*V;this.setAttr("shadowColor",W),this.setAttr("shadowBlur",re*Math.min(Math.abs(F),Math.abs(H))),this.setAttr("shadowOffsetX",U.x*F),this.setAttr("shadowOffsetY",U.y*H)}}Ru.SceneContext=S;class E extends _{constructor(N){super(N),this._context=N._canvas.getContext("2d",{willReadFrequently:!0})}_fill(N){this.save(),this.setAttr("fillStyle",N.colorKey),N._fillFuncHit(this),this.restore()}strokeShape(N){N.hasHitStroke()&&this._stroke(N)}_stroke(N){if(N.hasHitStroke()){const x=N.getStrokeScaleEnabled();if(!x){this.save();const W=this.getCanvas().getPixelRatio();this.setTransform(W,0,0,W,0,0)}this._applyLineCap(N);const L=N.hitStrokeWidth(),D=L==="auto"?N.strokeWidth():L;this.setAttr("lineWidth",D),this.setAttr("strokeStyle",N.colorKey),N._strokeFuncHit(this),x||this.restore()}}}return Ru.HitContext=E,Ru}var Wy;function Y0(){if(Wy)return Iu;Wy=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.HitCanvas=Iu.SceneCanvas=Iu.Canvas=void 0;const t=ji(),e=s8(),n=Hn();let r;function i(){if(r)return r;const c=t.Util.createCanvasElement(),h=c.getContext("2d");return r=(function(){const p=n.Konva._global.devicePixelRatio||1,y=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return p/y})(),t.Util.releaseCanvas(c),r}class s{constructor(h){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const y=(h||{}).pixelRatio||n.Konva.pixelRatio||i();this.pixelRatio=y,this._canvas=t.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(h){const p=this.pixelRatio;this.pixelRatio=h,this.setSize(this.getWidth()/p,this.getHeight()/p)}setWidth(h){this.width=this._canvas.width=h*this.pixelRatio,this._canvas.style.width=h+"px";const p=this.pixelRatio;this.getContext()._context.scale(p,p)}setHeight(h){this.height=this._canvas.height=h*this.pixelRatio,this._canvas.style.height=h+"px";const p=this.pixelRatio;this.getContext()._context.scale(p,p)}getWidth(){return this.width}getHeight(){return this.height}setSize(h,p){this.setWidth(h||0),this.setHeight(p||0)}toDataURL(h,p){try{return this._canvas.toDataURL(h,p)}catch{try{return this._canvas.toDataURL()}catch(v){return t.Util.error("Unable to get data URL. "+v.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Iu.Canvas=s;class l extends s{constructor(h={width:0,height:0,willReadFrequently:!1}){super(h),this.context=new e.SceneContext(this,{willReadFrequently:h.willReadFrequently}),this.setSize(h.width,h.height)}}Iu.SceneCanvas=l;class u extends s{constructor(h={width:0,height:0}){super(h),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(h.width,h.height)}}return Iu.HitCanvas=u,Iu}var ag={},qy;function bm(){return qy||(qy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=Hn(),n=ji();t.DD={get isDragging(){let r=!1;return t.DD._dragElements.forEach(i=>{i.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){let r;return t.DD._dragElements.forEach(i=>{r=i.node}),r},_dragElements:new Map,_drag(r){const i=[];t.DD._dragElements.forEach((s,l)=>{const{node:u}=s,c=u.getStage();c.setPointersPositions(r),s.pointerId===void 0&&(s.pointerId=n.Util._getFirstPointerId(r));const h=c._changedPointerPositions.find(p=>p.id===s.pointerId);if(h){if(s.dragStatus!=="dragging"){const p=u.dragDistance();if(Math.max(Math.abs(h.x-s.startPointerPos.x),Math.abs(h.y-s.startPointerPos.y))<p||(u.startDrag({evt:r}),!u.isDragging()))return}u._setDragPosition(r,s),i.push(u)}}),i.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:r},!0)})},_endDragBefore(r){const i=[];t.DD._dragElements.forEach(s=>{const{node:l}=s,u=l.getStage();if(r&&u.setPointersPositions(r),!u._changedPointerPositions.find(p=>p.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,s.dragStatus="stopped");const h=s.node.getLayer()||s.node instanceof e.Konva.Stage&&s.node;h&&i.indexOf(h)===-1&&i.push(h)}),i.forEach(s=>{s.draw()})},_endDragAfter(r){t.DD._dragElements.forEach((i,s)=>{i.dragStatus==="stopped"&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:r},!0),i.dragStatus!=="dragging"&&t.DD._dragElements.delete(s)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))})(ag)),ag}var lg={},ka={},Vy;function nr(){if(Vy)return ka;Vy=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.RGBComponent=r,ka.alphaComponent=i,ka.getNumberValidator=s,ka.getNumberOrArrayOfNumbersValidator=l,ka.getNumberOrAutoValidator=u,ka.getStringValidator=c,ka.getStringOrGradientValidator=h,ka.getFunctionValidator=p,ka.getNumberArrayValidator=y,ka.getBooleanValidator=v,ka.getComponentValidator=g;const t=Hn(),e=ji();function n(_){return e.Util._isString(_)?'"'+_+'"':Object.prototype.toString.call(_)==="[object Number]"||e.Util._isBoolean(_)?_:Object.prototype.toString.call(_)}function r(_){return _>255?255:_<0?0:Math.round(_)}function i(_){return _>1?1:_<1e-4?1e-4:_}function s(){if(t.Konva.isUnminified)return function(_,S){return e.Util._isNumber(_)||e.Util.warn(n(_)+' is a not valid value for "'+S+'" attribute. The value should be a number.'),_}}function l(_){if(t.Konva.isUnminified)return function(S,E){let A=e.Util._isNumber(S),N=e.Util._isArray(S)&&S.length==_;return!A&&!N&&e.Util.warn(n(S)+' is a not valid value for "'+E+'" attribute. The value should be a number or Array<number>('+_+")"),S}}function u(){if(t.Konva.isUnminified)return function(_,S){return e.Util._isNumber(_)||_==="auto"||e.Util.warn(n(_)+' is a not valid value for "'+S+'" attribute. The value should be a number or "auto".'),_}}function c(){if(t.Konva.isUnminified)return function(_,S){return e.Util._isString(_)||e.Util.warn(n(_)+' is a not valid value for "'+S+'" attribute. The value should be a string.'),_}}function h(){if(t.Konva.isUnminified)return function(_,S){const E=e.Util._isString(_),A=Object.prototype.toString.call(_)==="[object CanvasGradient]"||_&&_.addColorStop;return E||A||e.Util.warn(n(_)+' is a not valid value for "'+S+'" attribute. The value should be a string or a native gradient.'),_}}function p(){if(t.Konva.isUnminified)return function(_,S){return e.Util._isFunction(_)||e.Util.warn(n(_)+' is a not valid value for "'+S+'" attribute. The value should be a function.'),_}}function y(){if(t.Konva.isUnminified)return function(_,S){const E=Int8Array?Object.getPrototypeOf(Int8Array):null;return E&&_ instanceof E||(e.Util._isArray(_)?_.forEach(function(A){e.Util._isNumber(A)||e.Util.warn('"'+S+'" attribute has non numeric element '+A+". Make sure that all elements are numbers.")}):e.Util.warn(n(_)+' is a not valid value for "'+S+'" attribute. The value should be a array of numbers.')),_}}function v(){if(t.Konva.isUnminified)return function(_,S){return _===!0||_===!1||e.Util.warn(n(_)+' is a not valid value for "'+S+'" attribute. The value should be a boolean.'),_}}function g(_){if(t.Konva.isUnminified)return function(S,E){return S==null||e.Util.isObject(S)||e.Util.warn(n(S)+' is a not valid value for "'+E+'" attribute. The value should be an object with properties '+_),S}}return ka}var $y;function Jn(){return $y||($y=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=ji(),n=nr(),r="get",i="set";t.Factory={addGetterSetter(s,l,u,c,h){t.Factory.addGetter(s,l,u),t.Factory.addSetter(s,l,c,h),t.Factory.addOverloadedGetterSetter(s,l)},addGetter(s,l,u){const c=r+e.Util._capitalize(l);s.prototype[c]=s.prototype[c]||function(){const h=this.attrs[l];return h===void 0?u:h}},addSetter(s,l,u,c){const h=i+e.Util._capitalize(l);s.prototype[h]||t.Factory.overWriteSetter(s,l,u,c)},overWriteSetter(s,l,u,c){const h=i+e.Util._capitalize(l);s.prototype[h]=function(p){return u&&p!==void 0&&p!==null&&(p=u.call(this,p,l)),this._setAttr(l,p),c&&c.call(this),this}},addComponentsGetterSetter(s,l,u,c,h){const p=u.length,y=e.Util._capitalize,v=r+y(l),g=i+y(l);s.prototype[v]=function(){const S={};for(let E=0;E<p;E++){const A=u[E];S[A]=this.getAttr(l+y(A))}return S};const _=(0,n.getComponentValidator)(u);s.prototype[g]=function(S){const E=this.attrs[l];c&&(S=c.call(this,S,l)),_&&_.call(this,S,l);for(const A in S)S.hasOwnProperty(A)&&this._setAttr(l+y(A),S[A]);return S||u.forEach(A=>{this._setAttr(l+y(A),void 0)}),this._fireChangeEvent(l,E,S),h&&h.call(this),this},t.Factory.addOverloadedGetterSetter(s,l)},addOverloadedGetterSetter(s,l){const u=e.Util._capitalize(l),c=i+u,h=r+u;s.prototype[l]=function(){return arguments.length?(this[c](arguments[0]),this):this[h]()}},addDeprecatedGetterSetter(s,l,u,c){e.Util.error("Adding deprecated "+l);const h=r+e.Util._capitalize(l),p=l+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[h]=function(){e.Util.error(p);const y=this.attrs[l];return y===void 0?u:y},t.Factory.addSetter(s,l,c,function(){e.Util.error(p)}),t.Factory.addOverloadedGetterSetter(s,l)},backCompat(s,l){e.Util.each(l,function(u,c){const h=s.prototype[c],p=r+e.Util._capitalize(u),y=i+e.Util._capitalize(u);function v(){h.apply(this,arguments),e.Util.error('"'+u+'" method is deprecated and will be removed soon. Use ""'+c+'" instead.')}s.prototype[u]=v,s.prototype[p]=v,s.prototype[y]=v})},afterSetFilter(){this._filterUpToDate=!1}}})(lg)),lg}var Yy;function es(){if(Yy)return kf;Yy=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.Node=void 0;const t=Y0(),e=bm(),n=Jn(),r=Hn(),i=ji(),s=nr(),l="absoluteOpacity",u="allEventListeners",c="absoluteTransform",h="absoluteScale",p="canvas",y="Change",v="children",g="konva",_="listening",S="mouseenter",E="mouseleave",A="pointerenter",N="pointerleave",x="touchenter",L="touchleave",D="set",W="Shape",re=" ",U="stage",M="transform",V="Stage",F="visible",H=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(re);let Z=1,ne=class f2{constructor(B){this._id=Z++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(B),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(B){(B===M||B===c)&&this._cache.get(B)?this._cache.get(B).dirty=!0:B?this._cache.delete(B):this._cache.clear()}_getCache(B,G){let Q=this._cache.get(B);return(Q===void 0||(B===M||B===c)&&Q.dirty===!0)&&(Q=G.call(this),this._cache.set(B,Q)),Q}_calculate(B,G,Q){if(!this._attachedDepsListeners.get(B)){const ee=G.map($=>$+"Change.konva").join(re);this.on(ee,()=>{this._clearCache(B)}),this._attachedDepsListeners.set(B,!0)}return this._getCache(B,Q)}_getCanvasCache(){return this._cache.get(p)}_clearSelfAndDescendantCache(B){this._clearCache(B),B===c&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(p)){const{scene:B,filter:G,hit:Q,buffer:ee}=this._cache.get(p);i.Util.releaseCanvas(B,G,Q,ee),this._cache.delete(p)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(B){const G=B||{};let Q={};(G.x===void 0||G.y===void 0||G.width===void 0||G.height===void 0)&&(Q=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let ee=Math.ceil(G.width||Q.width),$=Math.ceil(G.height||Q.height),j=G.pixelRatio,K=G.x===void 0?Math.floor(Q.x):G.x,X=G.y===void 0?Math.floor(Q.y):G.y,ce=G.offset||0,ae=G.drawBorder||!1,J=G.hitCanvasPixelRatio||1;if(!ee||!$){i.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const ge=Math.abs(Math.round(Q.x)-K)>.5?1:0,_e=Math.abs(Math.round(Q.y)-X)>.5?1:0;ee+=ce*2+ge,$+=ce*2+_e,K-=ce,X-=ce;const Se=new t.SceneCanvas({pixelRatio:j,width:ee,height:$}),Re=new t.SceneCanvas({pixelRatio:j,width:0,height:0,willReadFrequently:!0}),Ue=new t.HitCanvas({pixelRatio:J,width:ee,height:$}),Ve=Se.getContext(),Be=Ue.getContext(),ye=new t.SceneCanvas({width:Se.width/Se.pixelRatio+Math.abs(K),height:Se.height/Se.pixelRatio+Math.abs(X),pixelRatio:Se.pixelRatio}),Fe=ye.getContext();return Ue.isCache=!0,Se.isCache=!0,this._cache.delete(p),this._filterUpToDate=!1,G.imageSmoothingEnabled===!1&&(Se.getContext()._context.imageSmoothingEnabled=!1,Re.getContext()._context.imageSmoothingEnabled=!1),Ve.save(),Be.save(),Fe.save(),Ve.translate(-K,-X),Be.translate(-K,-X),Fe.translate(-K,-X),ye.x=K,ye.y=X,this._isUnderCache=!0,this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(h),this.drawScene(Se,this,ye),this.drawHit(Ue,this),this._isUnderCache=!1,Ve.restore(),Be.restore(),ae&&(Ve.save(),Ve.beginPath(),Ve.rect(0,0,ee,$),Ve.closePath(),Ve.setAttr("strokeStyle","red"),Ve.setAttr("lineWidth",5),Ve.stroke(),Ve.restore()),this._cache.set(p,{scene:Se,filter:Re,hit:Ue,buffer:ye,x:K,y:X}),this._requestDraw(),this}isCached(){return this._cache.has(p)}getClientRect(B){throw new Error('abstract "getClientRect" method call')}_transformedRect(B,G){const Q=[{x:B.x,y:B.y},{x:B.x+B.width,y:B.y},{x:B.x+B.width,y:B.y+B.height},{x:B.x,y:B.y+B.height}];let ee=1/0,$=1/0,j=-1/0,K=-1/0;const X=this.getAbsoluteTransform(G);return Q.forEach(function(ce){const ae=X.point(ce);ee===void 0&&(ee=j=ae.x,$=K=ae.y),ee=Math.min(ee,ae.x),$=Math.min($,ae.y),j=Math.max(j,ae.x),K=Math.max(K,ae.y)}),{x:ee,y:$,width:j-ee,height:K-$}}_drawCachedSceneCanvas(B){B.save(),B._applyOpacity(this),B._applyGlobalCompositeOperation(this);const G=this._getCanvasCache();B.translate(G.x,G.y);const Q=this._getCachedSceneCanvas(),ee=Q.pixelRatio;B.drawImage(Q._canvas,0,0,Q.width/ee,Q.height/ee),B.restore()}_drawCachedHitCanvas(B){const G=this._getCanvasCache(),Q=G.hit;B.save(),B.translate(G.x,G.y),B.drawImage(Q._canvas,0,0,Q.width/Q.pixelRatio,Q.height/Q.pixelRatio),B.restore()}_getCachedSceneCanvas(){let B=this.filters(),G=this._getCanvasCache(),Q=G.scene,ee=G.filter,$=ee.getContext(),j,K,X,ce;if(B){if(!this._filterUpToDate){const ae=Q.pixelRatio;ee.setSize(Q.width/Q.pixelRatio,Q.height/Q.pixelRatio);try{for(j=B.length,$.clear(),$.drawImage(Q._canvas,0,0,Q.getWidth()/ae,Q.getHeight()/ae),K=$.getImageData(0,0,ee.getWidth(),ee.getHeight()),X=0;X<j;X++){if(ce=B[X],typeof ce!="function"){i.Util.error("Filter should be type of function, but got "+typeof ce+" instead. Please check correct filters");continue}ce.call(this,K),$.putImageData(K,0,0)}}catch(J){i.Util.error("Unable to apply filter. "+J.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return ee}return Q}on(B,G){if(this._cache&&this._cache.delete(u),arguments.length===3)return this._delegate.apply(this,arguments);const Q=B.split(re);for(let ee=0;ee<Q.length;ee++){const j=Q[ee].split("."),K=j[0],X=j[1]||"";this.eventListeners[K]||(this.eventListeners[K]=[]),this.eventListeners[K].push({name:X,handler:G})}return this}off(B,G){let Q=(B||"").split(re),ee=Q.length,$,j,K,X,ce,ae;if(this._cache&&this._cache.delete(u),!B)for(j in this.eventListeners)this._off(j);for($=0;$<ee;$++)if(K=Q[$],X=K.split("."),ce=X[0],ae=X[1],ce)this.eventListeners[ce]&&this._off(ce,ae,G);else for(j in this.eventListeners)this._off(j,ae,G);return this}dispatchEvent(B){const G={target:this,type:B.type,evt:B};return this.fire(B.type,G),this}addEventListener(B,G){return this.on(B,function(Q){G.call(this,Q.evt)}),this}removeEventListener(B){return this.off(B),this}_delegate(B,G,Q){const ee=this;this.on(B,function($){const j=$.target.findAncestors(G,!0,ee);for(let K=0;K<j.length;K++)$=i.Util.cloneObject($),$.currentTarget=j[K],Q.call(j[K],$)})}remove(){return this.isDragging()&&this.stopDrag(),e.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(U),this._clearSelfAndDescendantCache(F),this._clearSelfAndDescendantCache(_)}_remove(){this._clearCaches();const B=this.getParent();B&&B.children&&(B.children.splice(this.index,1),B._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(B){const G="get"+i.Util._capitalize(B);return i.Util._isFunction(this[G])?this[G]():this.attrs[B]}getAncestors(){let B=this.getParent(),G=[];for(;B;)G.push(B),B=B.getParent();return G}getAttrs(){return this.attrs||{}}setAttrs(B){return this._batchTransformChanges(()=>{let G,Q;if(!B)return this;for(G in B)G!==v&&(Q=D+i.Util._capitalize(G),i.Util._isFunction(this[Q])?this[Q](B[G]):this._setAttr(G,B[G]))}),this}isListening(){return this._getCache(_,this._isListening)}_isListening(B){if(!this.listening())return!1;const Q=this.getParent();return Q&&Q!==B&&this!==B?Q._isListening(B):!0}isVisible(){return this._getCache(F,this._isVisible)}_isVisible(B){if(!this.visible())return!1;const Q=this.getParent();return Q&&Q!==B&&this!==B?Q._isVisible(B):!0}shouldDrawHit(B,G=!1){if(B)return this._isVisible(B)&&this._isListening(B);const Q=this.getLayer();let ee=!1;e.DD._dragElements.forEach(j=>{j.dragStatus==="dragging"&&(j.node.nodeType==="Stage"||j.node.getLayer()===Q)&&(ee=!0)});const $=!G&&!r.Konva.hitOnDragEnabled&&(ee||r.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!$}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let B=this.getDepth(),G=this,Q=0,ee,$,j,K;function X(ae){for(ee=[],$=ae.length,j=0;j<$;j++)K=ae[j],Q++,K.nodeType!==W&&(ee=ee.concat(K.getChildren().slice())),K._id===G._id&&(j=$);ee.length>0&&ee[0].getDepth()<=B&&X(ee)}const ce=this.getStage();return G.nodeType!==V&&ce&&X(ce.getChildren()),Q}getDepth(){let B=0,G=this.parent;for(;G;)B++,G=G.parent;return B}_batchTransformChanges(B){this._batchingTransformChange=!0,B(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(M),this._clearSelfAndDescendantCache(c)),this._needClearTransformCache=!1}setPosition(B){return this._batchTransformChanges(()=>{this.x(B.x),this.y(B.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const B=this.getStage();if(!B)return null;const G=B.getPointerPosition();if(!G)return null;const Q=this.getAbsoluteTransform().copy();return Q.invert(),Q.point(G)}getAbsolutePosition(B){let G=!1,Q=this.parent;for(;Q;){if(Q.isCached()){G=!0;break}Q=Q.parent}G&&!B&&(B=!0);const ee=this.getAbsoluteTransform(B).getMatrix(),$=new i.Transform,j=this.offset();return $.m=ee.slice(),$.translate(j.x,j.y),$.getTranslation()}setAbsolutePosition(B){const{x:G,y:Q,...ee}=this._clearTransform();this.attrs.x=G,this.attrs.y=Q,this._clearCache(M);const $=this._getAbsoluteTransform().copy();return $.invert(),$.translate(B.x,B.y),B={x:this.attrs.x+$.getTranslation().x,y:this.attrs.y+$.getTranslation().y},this._setTransform(ee),this.setPosition({x:B.x,y:B.y}),this._clearCache(M),this._clearSelfAndDescendantCache(c),this}_setTransform(B){let G;for(G in B)this.attrs[G]=B[G]}_clearTransform(){const B={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,B}move(B){let G=B.x,Q=B.y,ee=this.x(),$=this.y();return G!==void 0&&(ee+=G),Q!==void 0&&($+=Q),this.setPosition({x:ee,y:$}),this}_eachAncestorReverse(B,G){let Q=[],ee=this.getParent(),$,j;if(!(G&&G._id===this._id)){for(Q.unshift(this);ee&&(!G||ee._id!==G._id);)Q.unshift(ee),ee=ee.parent;for($=Q.length,j=0;j<$;j++)B(Q[j])}}rotate(B){return this.rotation(this.rotation()+B),this}moveToTop(){if(!this.parent)return i.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const B=this.index,G=this.parent.getChildren().length;return B<G-1?(this.parent.children.splice(B,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return i.Util.warn("Node has no parent. moveUp function is ignored."),!1;const B=this.index,G=this.parent.getChildren().length;return B<G-1?(this.parent.children.splice(B,1),this.parent.children.splice(B+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return i.Util.warn("Node has no parent. moveDown function is ignored."),!1;const B=this.index;return B>0?(this.parent.children.splice(B,1),this.parent.children.splice(B-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return i.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const B=this.index;return B>0?(this.parent.children.splice(B,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(B){if(!this.parent)return i.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(B<0||B>=this.parent.children.length)&&i.Util.warn("Unexpected value "+B+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const G=this.index;return this.parent.children.splice(G,1),this.parent.children.splice(B,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(l,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let B=this.opacity();const G=this.getParent();return G&&!G._isUnderCache&&(B*=G.getAbsoluteOpacity()),B}moveTo(B){return this.getParent()!==B&&(this._remove(),B.add(this)),this}toObject(){let B=this.getAttrs(),G,Q,ee,$,j;const K={attrs:{},className:this.getClassName()};for(G in B)Q=B[G],j=i.Util.isObject(Q)&&!i.Util._isPlainObject(Q)&&!i.Util._isArray(Q),!j&&(ee=typeof this[G]=="function"&&this[G],delete B[G],$=ee?ee.call(this):null,B[G]=Q,$!==Q&&(K.attrs[G]=Q));return i.Util._prepareToStringify(K)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(B,G,Q){const ee=[];G&&this._isMatch(B)&&ee.push(this);let $=this.parent;for(;$;){if($===Q)return ee;$._isMatch(B)&&ee.push($),$=$.parent}return ee}isAncestorOf(B){return!1}findAncestor(B,G,Q){return this.findAncestors(B,G,Q)[0]}_isMatch(B){if(!B)return!1;if(typeof B=="function")return B(this);let G=B.replace(/ /g,"").split(","),Q=G.length,ee,$;for(ee=0;ee<Q;ee++)if($=G[ee],i.Util.isValidSelector($)||(i.Util.warn('Selector "'+$+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),i.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),i.Util.warn("Konva is awesome, right?")),$.charAt(0)==="#"){if(this.id()===$.slice(1))return!0}else if($.charAt(0)==="."){if(this.hasName($.slice(1)))return!0}else if(this.className===$||this.nodeType===$)return!0;return!1}getLayer(){const B=this.getParent();return B?B.getLayer():null}getStage(){return this._getCache(U,this._getStage)}_getStage(){const B=this.getParent();return B?B.getStage():null}fire(B,G={},Q){return G.target=G.target||this,Q?this._fireAndBubble(B,G):this._fire(B,G),this}getAbsoluteTransform(B){return B?this._getAbsoluteTransform(B):this._getCache(c,this._getAbsoluteTransform)}_getAbsoluteTransform(B){let G;if(B)return G=new i.Transform,this._eachAncestorReverse(function(Q){const ee=Q.transformsEnabled();ee==="all"?G.multiply(Q.getTransform()):ee==="position"&&G.translate(Q.x()-Q.offsetX(),Q.y()-Q.offsetY())},B),G;{G=this._cache.get(c)||new i.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(G):G.reset();const Q=this.transformsEnabled();if(Q==="all")G.multiply(this.getTransform());else if(Q==="position"){const ee=this.attrs.x||0,$=this.attrs.y||0,j=this.attrs.offsetX||0,K=this.attrs.offsetY||0;G.translate(ee-j,$-K)}return G.dirty=!1,G}}getAbsoluteScale(B){let G=this;for(;G;)G._isUnderCache&&(B=G),G=G.getParent();const ee=this.getAbsoluteTransform(B).decompose();return{x:ee.scaleX,y:ee.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(M,this._getTransform)}_getTransform(){var B,G;const Q=this._cache.get(M)||new i.Transform;Q.reset();const ee=this.x(),$=this.y(),j=r.Konva.getAngle(this.rotation()),K=(B=this.attrs.scaleX)!==null&&B!==void 0?B:1,X=(G=this.attrs.scaleY)!==null&&G!==void 0?G:1,ce=this.attrs.skewX||0,ae=this.attrs.skewY||0,J=this.attrs.offsetX||0,ge=this.attrs.offsetY||0;return(ee!==0||$!==0)&&Q.translate(ee,$),j!==0&&Q.rotate(j),(ce!==0||ae!==0)&&Q.skew(ce,ae),(K!==1||X!==1)&&Q.scale(K,X),(J!==0||ge!==0)&&Q.translate(-1*J,-1*ge),Q.dirty=!1,Q}clone(B){let G=i.Util.cloneObject(this.attrs),Q,ee,$,j,K;for(Q in B)G[Q]=B[Q];const X=new this.constructor(G);for(Q in this.eventListeners)for(ee=this.eventListeners[Q],$=ee.length,j=0;j<$;j++)K=ee[j],K.name.indexOf(g)<0&&(X.eventListeners[Q]||(X.eventListeners[Q]=[]),X.eventListeners[Q].push(K));return X}_toKonvaCanvas(B){B=B||{};const G=this.getClientRect(),Q=this.getStage(),ee=B.x!==void 0?B.x:Math.floor(G.x),$=B.y!==void 0?B.y:Math.floor(G.y),j=B.pixelRatio||1,K=new t.SceneCanvas({width:B.width||Math.ceil(G.width)||(Q?Q.width():0),height:B.height||Math.ceil(G.height)||(Q?Q.height():0),pixelRatio:j}),X=K.getContext(),ce=new t.SceneCanvas({width:K.width/K.pixelRatio+Math.abs(ee),height:K.height/K.pixelRatio+Math.abs($),pixelRatio:K.pixelRatio});return B.imageSmoothingEnabled===!1&&(X._context.imageSmoothingEnabled=!1),X.save(),(ee||$)&&X.translate(-1*ee,-1*$),this.drawScene(K,void 0,ce),X.restore(),K}toCanvas(B){return this._toKonvaCanvas(B)._canvas}toDataURL(B){B=B||{};const G=B.mimeType||null,Q=B.quality||null,ee=this._toKonvaCanvas(B).toDataURL(G,Q);return B.callback&&B.callback(ee),ee}toImage(B){return new Promise((G,Q)=>{try{const ee=B==null?void 0:B.callback;ee&&delete B.callback,i.Util._urlToImage(this.toDataURL(B),function($){G($),ee==null||ee($)})}catch(ee){Q(ee)}})}toBlob(B){return new Promise((G,Q)=>{try{const ee=B==null?void 0:B.callback;ee&&delete B.callback,this.toCanvas(B).toBlob($=>{G($),ee==null||ee($)},B==null?void 0:B.mimeType,B==null?void 0:B.quality)}catch(ee){Q(ee)}})}setSize(B){return this.width(B.width),this.height(B.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():r.Konva.dragDistance}_off(B,G,Q){let ee=this.eventListeners[B],$,j,K;for($=0;$<ee.length;$++)if(j=ee[$].name,K=ee[$].handler,(j!=="konva"||G==="konva")&&(!G||j===G)&&(!Q||Q===K)){if(ee.splice($,1),ee.length===0){delete this.eventListeners[B];break}$--}}_fireChangeEvent(B,G,Q){this._fire(B+y,{oldVal:G,newVal:Q})}addName(B){if(!this.hasName(B)){const G=this.name(),Q=G?G+" "+B:B;this.name(Q)}return this}hasName(B){if(!B)return!1;const G=this.name();return G?(G||"").split(/\s/g).indexOf(B)!==-1:!1}removeName(B){const G=(this.name()||"").split(/\s/g),Q=G.indexOf(B);return Q!==-1&&(G.splice(Q,1),this.name(G.join(" "))),this}setAttr(B,G){const Q=this[D+i.Util._capitalize(B)];return i.Util._isFunction(Q)?Q.call(this,G):this._setAttr(B,G),this}_requestDraw(){if(r.Konva.autoDrawEnabled){const B=this.getLayer()||this.getStage();B==null||B.batchDraw()}}_setAttr(B,G){const Q=this.attrs[B];Q===G&&!i.Util.isObject(G)||(G==null?delete this.attrs[B]:this.attrs[B]=G,this._shouldFireChangeEvents&&this._fireChangeEvent(B,Q,G),this._requestDraw())}_setComponentAttr(B,G,Q){let ee;Q!==void 0&&(ee=this.attrs[B],ee||(this.attrs[B]=this.getAttr(B)),this.attrs[B][G]=Q,this._fireChangeEvent(B,ee,Q))}_fireAndBubble(B,G,Q){G&&this.nodeType===W&&(G.target=this);const ee=[S,E,A,N,x,L];if(!(ee.indexOf(B)!==-1&&(Q&&(this===Q||this.isAncestorOf&&this.isAncestorOf(Q))||this.nodeType==="Stage"&&!Q))){this._fire(B,G);const j=ee.indexOf(B)!==-1&&Q&&Q.isAncestorOf&&Q.isAncestorOf(this)&&!Q.isAncestorOf(this.parent);(G&&!G.cancelBubble||!G)&&this.parent&&this.parent.isListening()&&!j&&(Q&&Q.parent?this._fireAndBubble.call(this.parent,B,G,Q):this._fireAndBubble.call(this.parent,B,G))}}_getProtoListeners(B){var G,Q,ee;const $=(G=this._cache.get(u))!==null&&G!==void 0?G:{};let j=$==null?void 0:$[B];if(j===void 0){j=[];let K=Object.getPrototypeOf(this);for(;K;){const X=(ee=(Q=K.eventListeners)===null||Q===void 0?void 0:Q[B])!==null&&ee!==void 0?ee:[];j.push(...X),K=Object.getPrototypeOf(K)}$[B]=j,this._cache.set(u,$)}return j}_fire(B,G){G=G||{},G.currentTarget=this,G.type=B;const Q=this._getProtoListeners(B);if(Q)for(let $=0;$<Q.length;$++)Q[$].handler.call(this,G);const ee=this.eventListeners[B];if(ee)for(let $=0;$<ee.length;$++)ee[$].handler.call(this,G)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(B){const G=B?B.pointerId:void 0,Q=this.getStage(),ee=this.getAbsolutePosition();if(!Q)return;const $=Q._getPointerById(G)||Q._changedPointerPositions[0]||ee;e.DD._dragElements.set(this._id,{node:this,startPointerPos:$,offset:{x:$.x-ee.x,y:$.y-ee.y},dragStatus:"ready",pointerId:G})}startDrag(B,G=!0){e.DD._dragElements.has(this._id)||this._createDragElement(B);const Q=e.DD._dragElements.get(this._id);Q.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:B&&B.evt},G)}_setDragPosition(B,G){const Q=this.getStage()._getPointerById(G.pointerId);if(!Q)return;let ee={x:Q.x-G.offset.x,y:Q.y-G.offset.y};const $=this.dragBoundFunc();if($!==void 0){const j=$.call(this,ee,B);j?ee=j:i.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==ee.x||this._lastPos.y!==ee.y)&&(this.setAbsolutePosition(ee),this._requestDraw()),this._lastPos=ee}stopDrag(B){const G=e.DD._dragElements.get(this._id);G&&(G.dragStatus="stopped"),e.DD._endDragBefore(B),e.DD._endDragAfter(B)}setDraggable(B){this._setAttr("draggable",B),this._dragChange()}isDragging(){const B=e.DD._dragElements.get(this._id);return B?B.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(B){if(!(!(B.evt.button!==void 0)||r.Konva.dragButtons.indexOf(B.evt.button)>=0)||this.isDragging())return;let ee=!1;e.DD._dragElements.forEach($=>{this.isAncestorOf($.node)&&(ee=!0)}),ee||this._createDragElement(B)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const G=e.DD._dragElements.get(this._id),Q=G&&G.dragStatus==="dragging",ee=G&&G.dragStatus==="ready";Q?this.stopDrag():ee&&e.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(B={x:0,y:0}){const G=this.getStage();if(!G)return!1;const Q={x:-B.x,y:-B.y,width:G.width()+2*B.x,height:G.height()+2*B.y};return i.Util.haveIntersection(Q,this.getClientRect())}static create(B,G){return i.Util._isString(B)&&(B=JSON.parse(B)),this._createNode(B,G)}static _createNode(B,G){let Q=f2.prototype.getClassName.call(B),ee=B.children,$,j,K;G&&(B.attrs.container=G),r.Konva[Q]||(i.Util.warn('Can not find a node with class name "'+Q+'". Fallback to "Shape".'),Q="Shape");const X=r.Konva[Q];if($=new X(B.attrs),ee)for(j=ee.length,K=0;K<j;K++)$.add(f2._createNode(ee[K]));return $}};kf.Node=ne,ne.prototype.nodeType="Node",ne.prototype._attrsAffectingSize=[],ne.prototype.eventListeners={},ne.prototype.on.call(ne.prototype,H,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(M),this._clearSelfAndDescendantCache(c)}),ne.prototype.on.call(ne.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(F)}),ne.prototype.on.call(ne.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(_)}),ne.prototype.on.call(ne.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(l)});const le=n.Factory.addGetterSetter;return le(ne,"zIndex"),le(ne,"absolutePosition"),le(ne,"position"),le(ne,"x",0,(0,s.getNumberValidator)()),le(ne,"y",0,(0,s.getNumberValidator)()),le(ne,"globalCompositeOperation","source-over",(0,s.getStringValidator)()),le(ne,"opacity",1,(0,s.getNumberValidator)()),le(ne,"name","",(0,s.getStringValidator)()),le(ne,"id","",(0,s.getStringValidator)()),le(ne,"rotation",0,(0,s.getNumberValidator)()),n.Factory.addComponentsGetterSetter(ne,"scale",["x","y"]),le(ne,"scaleX",1,(0,s.getNumberValidator)()),le(ne,"scaleY",1,(0,s.getNumberValidator)()),n.Factory.addComponentsGetterSetter(ne,"skew",["x","y"]),le(ne,"skewX",0,(0,s.getNumberValidator)()),le(ne,"skewY",0,(0,s.getNumberValidator)()),n.Factory.addComponentsGetterSetter(ne,"offset",["x","y"]),le(ne,"offsetX",0,(0,s.getNumberValidator)()),le(ne,"offsetY",0,(0,s.getNumberValidator)()),le(ne,"dragDistance",void 0,(0,s.getNumberValidator)()),le(ne,"width",0,(0,s.getNumberValidator)()),le(ne,"height",0,(0,s.getNumberValidator)()),le(ne,"listening",!0,(0,s.getBooleanValidator)()),le(ne,"preventDefault",!0,(0,s.getBooleanValidator)()),le(ne,"filters",void 0,function(xe){return this._filterUpToDate=!1,xe}),le(ne,"visible",!0,(0,s.getBooleanValidator)()),le(ne,"transformsEnabled","all",(0,s.getStringValidator)()),le(ne,"size"),le(ne,"dragBoundFunc"),le(ne,"draggable",!1,(0,s.getBooleanValidator)()),n.Factory.backCompat(ne,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),kf}var Cf={},Ky;function K0(){if(Ky)return Cf;Ky=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.Container=void 0;const t=Jn(),e=es(),n=nr();let r=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(s){const l=this.children||[];return s?l.filter(s):l}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.destroy()}),this.children=[],this._requestDraw(),this}add(...s){if(s.length===0)return this;if(s.length>1){for(let u=0;u<s.length;u++)this.add(s[u]);return this}const l=s[0];return l.getParent()?(l.moveTo(this),this):(this._validateAdd(l),l.index=this.getChildren().length,l.parent=this,l._clearCaches(),this.getChildren().push(l),this._fire("add",{child:l}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(s){return this._generalFind(s,!1)}findOne(s){const l=this._generalFind(s,!0);return l.length>0?l[0]:void 0}_generalFind(s,l){const u=[];return this._descendants(c=>{const h=c._isMatch(s);return h&&u.push(c),!!(h&&l)}),u}_descendants(s){let l=!1;const u=this.getChildren();for(const c of u){if(l=s(c),l)return!0;if(c.hasChildren()&&(l=c._descendants(s),l))return!0}return!1}toObject(){const s=e.Node.prototype.toObject.call(this);return s.children=[],this.getChildren().forEach(l=>{s.children.push(l.toObject())}),s}isAncestorOf(s){let l=s.getParent();for(;l;){if(l._id===this._id)return!0;l=l.getParent()}return!1}clone(s){const l=e.Node.prototype.clone.call(this,s);return this.getChildren().forEach(function(u){l.add(u.clone())}),l}getAllIntersections(s){const l=[];return this.find("Shape").forEach(u=>{u.isVisible()&&u.intersects(s)&&l.push(u)}),l}_clearSelfAndDescendantCache(s){var l;super._clearSelfAndDescendantCache(s),!this.isCached()&&((l=this.children)===null||l===void 0||l.forEach(function(u){u._clearSelfAndDescendantCache(s)}))}_setChildrenIndices(){var s;(s=this.children)===null||s===void 0||s.forEach(function(l,u){l.index=u}),this._requestDraw()}drawScene(s,l,u){const c=this.getLayer(),h=s||c&&c.getCanvas(),p=h&&h.getContext(),y=this._getCanvasCache(),v=y&&y.scene,g=h&&h.isCache;if(!this.isVisible()&&!g)return this;if(v){p.save();const _=this.getAbsoluteTransform(l).getMatrix();p.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedSceneCanvas(p),p.restore()}else this._drawChildren("drawScene",h,l,u);return this}drawHit(s,l){if(!this.shouldDrawHit(l))return this;const u=this.getLayer(),c=s||u&&u.hitCanvas,h=c&&c.getContext(),p=this._getCanvasCache();if(p&&p.hit){h.save();const v=this.getAbsoluteTransform(l).getMatrix();h.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedHitCanvas(h),h.restore()}else this._drawChildren("drawHit",c,l);return this}_drawChildren(s,l,u,c){var h;const p=l&&l.getContext(),y=this.clipWidth(),v=this.clipHeight(),g=this.clipFunc(),_=typeof y=="number"&&typeof v=="number"||g,S=u===this;if(_){p.save();const A=this.getAbsoluteTransform(u);let N=A.getMatrix();p.transform(N[0],N[1],N[2],N[3],N[4],N[5]),p.beginPath();let x;if(g)x=g.call(this,p,this);else{const L=this.clipX(),D=this.clipY();p.rect(L||0,D||0,y,v)}p.clip.apply(p,x),N=A.copy().invert().getMatrix(),p.transform(N[0],N[1],N[2],N[3],N[4],N[5])}const E=!S&&this.globalCompositeOperation()!=="source-over"&&s==="drawScene";E&&(p.save(),p._applyGlobalCompositeOperation(this)),(h=this.children)===null||h===void 0||h.forEach(function(A){A[s](l,u,c)}),E&&p.restore(),_&&p.restore()}getClientRect(s={}){var l;const u=s.skipTransform,c=s.relativeTo;let h,p,y,v,g={x:1/0,y:1/0,width:0,height:0};const _=this;(l=this.children)===null||l===void 0||l.forEach(function(A){if(!A.visible())return;const N=A.getClientRect({relativeTo:_,skipShadow:s.skipShadow,skipStroke:s.skipStroke});N.width===0&&N.height===0||(h===void 0?(h=N.x,p=N.y,y=N.x+N.width,v=N.y+N.height):(h=Math.min(h,N.x),p=Math.min(p,N.y),y=Math.max(y,N.x+N.width),v=Math.max(v,N.y+N.height)))});const S=this.find("Shape");let E=!1;for(let A=0;A<S.length;A++)if(S[A]._isVisible(this)){E=!0;break}return E&&h!==void 0?g={x:h,y:p,width:y-h,height:v-p}:g={x:0,y:0,width:0,height:0},u?g:this._transformedRect(g,c)}};return Cf.Container=r,t.Factory.addComponentsGetterSetter(r,"clip",["x","y","width","height"]),t.Factory.addGetterSetter(r,"clipX",void 0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipY",void 0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipWidth",void 0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipHeight",void 0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipFunc"),Cf}var ug={},vc={},Xy;function o8(){if(Xy)return vc;Xy=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.getCapturedShape=r,vc.createEvent=i,vc.hasPointerCapture=s,vc.setPointerCapture=l,vc.releaseCapture=u;const t=Hn(),e=new Map,n=t.Konva._global.PointerEvent!==void 0;function r(c){return e.get(c)}function i(c){return{evt:c,pointerId:c.pointerId}}function s(c,h){return e.get(c)===h}function l(c,h){u(c),h.getStage()&&(e.set(c,h),n&&h._fire("gotpointercapture",i(new PointerEvent("gotpointercapture"))))}function u(c,h){const p=e.get(c);if(!p)return;const y=p.getStage();y&&y.content,e.delete(c),n&&p._fire("lostpointercapture",i(new PointerEvent("lostpointercapture")))}return vc}var Jy;function jA(){return Jy||(Jy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=ji(),n=Jn(),r=K0(),i=Hn(),s=Y0(),l=bm(),u=Hn(),c=o8(),h="Stage",p="string",y="px",v="mouseout",g="mouseleave",_="mouseover",S="mouseenter",E="mousemove",A="mousedown",N="mouseup",x="pointermove",L="pointerdown",D="pointerup",W="pointercancel",re="lostpointercapture",U="pointerout",M="pointerleave",V="pointerover",F="pointerenter",H="contextmenu",Z="touchstart",ne="touchend",le="touchmove",xe="touchcancel",B="wheel",G=5,Q=[[S,"_pointerenter"],[A,"_pointerdown"],[E,"_pointermove"],[N,"_pointerup"],[g,"_pointerleave"],[Z,"_pointerdown"],[le,"_pointermove"],[ne,"_pointerup"],[xe,"_pointercancel"],[_,"_pointerover"],[B,"_wheel"],[H,"_contextmenu"],[L,"_pointerdown"],[x,"_pointermove"],[D,"_pointerup"],[W,"_pointercancel"],[M,"_pointerleave"],[re,"_lostpointercapture"]],ee={mouse:{[U]:v,[M]:g,[V]:_,[F]:S,[x]:E,[L]:A,[D]:N,[W]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[U]:"touchout",[M]:"touchleave",[V]:"touchover",[F]:"touchenter",[x]:le,[L]:Z,[D]:ne,[W]:xe,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[U]:U,[M]:M,[V]:V,[F]:F,[x]:x,[L]:L,[D]:D,[W]:W,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},$=ae=>ae.indexOf("pointer")>=0?"pointer":ae.indexOf("touch")>=0?"touch":"mouse",j=ae=>{const J=$(ae);if(J==="pointer")return i.Konva.pointerEventsEnabled&&ee.pointer;if(J==="touch")return ee.touch;if(J==="mouse")return ee.mouse};function K(ae={}){return(ae.clipFunc||ae.clipWidth||ae.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ae}const X="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class ce extends r.Container{constructor(J){super(K(J)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{K(this.attrs)}),this._checkVisibility()}_validateAdd(J){const ge=J.getType()==="Layer",_e=J.getType()==="FastLayer";ge||_e||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const J=this.visible()?"":"none";this.content.style.display=J}setContainer(J){if(typeof J===p){let ge;if(J.charAt(0)==="."){const _e=J.slice(1);J=document.getElementsByClassName(_e)[0]}else J.charAt(0)!=="#"?ge=J:ge=J.slice(1),J=document.getElementById(ge);if(!J)throw"Can not find container in document with id "+ge}return this._setAttr("container",J),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),J.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const J=this.children,ge=J.length;for(let _e=0;_e<ge;_e++)J[_e].clear();return this}clone(J){return J||(J={}),J.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,J)}destroy(){super.destroy();const J=this.content;J&&e.Util._isInDocument(J)&&this.container().removeChild(J);const ge=t.stages.indexOf(this);return ge>-1&&t.stages.splice(ge,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const J=this._pointerPositions[0]||this._changedPointerPositions[0];return J?{x:J.x,y:J.y}:(e.Util.warn(X),null)}_getPointerById(J){return this._pointerPositions.find(ge=>ge.id===J)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(J){J=J||{},J.x=J.x||0,J.y=J.y||0,J.width=J.width||this.width(),J.height=J.height||this.height();const ge=new s.SceneCanvas({width:J.width,height:J.height,pixelRatio:J.pixelRatio||1}),_e=ge.getContext()._context,Se=this.children;return(J.x||J.y)&&_e.translate(-1*J.x,-1*J.y),Se.forEach(function(Re){if(!Re.isVisible())return;const Ue=Re._toKonvaCanvas(J);_e.drawImage(Ue._canvas,J.x,J.y,Ue.getWidth()/Ue.getPixelRatio(),Ue.getHeight()/Ue.getPixelRatio())}),ge}getIntersection(J){if(!J)return null;const ge=this.children,_e=ge.length,Se=_e-1;for(let Re=Se;Re>=0;Re--){const Ue=ge[Re].getIntersection(J);if(Ue)return Ue}return null}_resizeDOM(){const J=this.width(),ge=this.height();this.content&&(this.content.style.width=J+y,this.content.style.height=ge+y),this.bufferCanvas.setSize(J,ge),this.bufferHitCanvas.setSize(J,ge),this.children.forEach(_e=>{_e.setSize({width:J,height:ge}),_e.draw()})}add(J,...ge){if(arguments.length>1){for(let Se=0;Se<arguments.length;Se++)this.add(arguments[Se]);return this}super.add(J);const _e=this.children.length;return _e>G&&e.Util.warn("The stage has "+_e+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),J.setSize({width:this.width(),height:this.height()}),J.draw(),i.Konva.isBrowser&&this.content.appendChild(J.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(J){return c.hasPointerCapture(J,this)}setPointerCapture(J){c.setPointerCapture(J,this)}releaseCapture(J){c.releaseCapture(J,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&Q.forEach(([J,ge])=>{this.content.addEventListener(J,_e=>{this[ge](_e)},{passive:!1})})}_pointerenter(J){this.setPointersPositions(J);const ge=j(J.type);ge&&this._fire(ge.pointerenter,{evt:J,target:this,currentTarget:this})}_pointerover(J){this.setPointersPositions(J);const ge=j(J.type);ge&&this._fire(ge.pointerover,{evt:J,target:this,currentTarget:this})}_getTargetShape(J){let ge=this[J+"targetShape"];return ge&&!ge.getStage()&&(ge=null),ge}_pointerleave(J){const ge=j(J.type),_e=$(J.type);if(!ge)return;this.setPointersPositions(J);const Se=this._getTargetShape(_e),Re=!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled;Se&&Re?(Se._fireAndBubble(ge.pointerout,{evt:J}),Se._fireAndBubble(ge.pointerleave,{evt:J}),this._fire(ge.pointerleave,{evt:J,target:this,currentTarget:this}),this[_e+"targetShape"]=null):Re&&(this._fire(ge.pointerleave,{evt:J,target:this,currentTarget:this}),this._fire(ge.pointerout,{evt:J,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(J){const ge=j(J.type),_e=$(J.type);if(!ge)return;this.setPointersPositions(J);let Se=!1;this._changedPointerPositions.forEach(Re=>{const Ue=this.getIntersection(Re);if(l.DD.justDragged=!1,i.Konva["_"+_e+"ListenClick"]=!0,!Ue||!Ue.isListening()){this[_e+"ClickStartShape"]=void 0;return}i.Konva.capturePointerEventsEnabled&&Ue.setPointerCapture(Re.id),this[_e+"ClickStartShape"]=Ue,Ue._fireAndBubble(ge.pointerdown,{evt:J,pointerId:Re.id}),Se=!0;const Ve=J.type.indexOf("touch")>=0;Ue.preventDefault()&&J.cancelable&&Ve&&J.preventDefault()}),Se||this._fire(ge.pointerdown,{evt:J,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(J){const ge=j(J.type),_e=$(J.type);if(!ge||(i.Konva.isDragging()&&l.DD.node.preventDefault()&&J.cancelable&&J.preventDefault(),this.setPointersPositions(J),!(!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled)))return;const Re={};let Ue=!1;const Ve=this._getTargetShape(_e);this._changedPointerPositions.forEach(Be=>{const ye=c.getCapturedShape(Be.id)||this.getIntersection(Be),Fe=Be.id,Ge={evt:J,pointerId:Fe},Je=Ve!==ye;if(Je&&Ve&&(Ve._fireAndBubble(ge.pointerout,{...Ge},ye),Ve._fireAndBubble(ge.pointerleave,{...Ge},ye)),ye){if(Re[ye._id])return;Re[ye._id]=!0}ye&&ye.isListening()?(Ue=!0,Je&&(ye._fireAndBubble(ge.pointerover,{...Ge},Ve),ye._fireAndBubble(ge.pointerenter,{...Ge},Ve),this[_e+"targetShape"]=ye),ye._fireAndBubble(ge.pointermove,{...Ge})):Ve&&(this._fire(ge.pointerover,{evt:J,target:this,currentTarget:this,pointerId:Fe}),this[_e+"targetShape"]=null)}),Ue||this._fire(ge.pointermove,{evt:J,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(J){const ge=j(J.type),_e=$(J.type);if(!ge)return;this.setPointersPositions(J);const Se=this[_e+"ClickStartShape"],Re=this[_e+"ClickEndShape"],Ue={};let Ve=!1;this._changedPointerPositions.forEach(Be=>{const ye=c.getCapturedShape(Be.id)||this.getIntersection(Be);if(ye){if(ye.releaseCapture(Be.id),Ue[ye._id])return;Ue[ye._id]=!0}const Fe=Be.id,Ge={evt:J,pointerId:Fe};let Je=!1;i.Konva["_"+_e+"InDblClickWindow"]?(Je=!0,clearTimeout(this[_e+"DblTimeout"])):l.DD.justDragged||(i.Konva["_"+_e+"InDblClickWindow"]=!0,clearTimeout(this[_e+"DblTimeout"])),this[_e+"DblTimeout"]=setTimeout(function(){i.Konva["_"+_e+"InDblClickWindow"]=!1},i.Konva.dblClickWindow),ye&&ye.isListening()?(Ve=!0,this[_e+"ClickEndShape"]=ye,ye._fireAndBubble(ge.pointerup,{...Ge}),i.Konva["_"+_e+"ListenClick"]&&Se&&Se===ye&&(ye._fireAndBubble(ge.pointerclick,{...Ge}),Je&&Re&&Re===ye&&ye._fireAndBubble(ge.pointerdblclick,{...Ge}))):(this[_e+"ClickEndShape"]=null,i.Konva["_"+_e+"ListenClick"]&&this._fire(ge.pointerclick,{evt:J,target:this,currentTarget:this,pointerId:Fe}),Je&&this._fire(ge.pointerdblclick,{evt:J,target:this,currentTarget:this,pointerId:Fe}))}),Ve||this._fire(ge.pointerup,{evt:J,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+_e+"ListenClick"]=!1,J.cancelable&&_e!=="touch"&&_e!=="pointer"&&J.preventDefault()}_contextmenu(J){this.setPointersPositions(J);const ge=this.getIntersection(this.getPointerPosition());ge&&ge.isListening()?ge._fireAndBubble(H,{evt:J}):this._fire(H,{evt:J,target:this,currentTarget:this})}_wheel(J){this.setPointersPositions(J);const ge=this.getIntersection(this.getPointerPosition());ge&&ge.isListening()?ge._fireAndBubble(B,{evt:J}):this._fire(B,{evt:J,target:this,currentTarget:this})}_pointercancel(J){this.setPointersPositions(J);const ge=c.getCapturedShape(J.pointerId)||this.getIntersection(this.getPointerPosition());ge&&ge._fireAndBubble(D,c.createEvent(J)),c.releaseCapture(J.pointerId)}_lostpointercapture(J){c.releaseCapture(J.pointerId)}setPointersPositions(J){const ge=this._getContentPosition();let _e=null,Se=null;J=J||window.event,J.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(J.touches,Re=>{this._pointerPositions.push({id:Re.identifier,x:(Re.clientX-ge.left)/ge.scaleX,y:(Re.clientY-ge.top)/ge.scaleY})}),Array.prototype.forEach.call(J.changedTouches||J.touches,Re=>{this._changedPointerPositions.push({id:Re.identifier,x:(Re.clientX-ge.left)/ge.scaleX,y:(Re.clientY-ge.top)/ge.scaleY})})):(_e=(J.clientX-ge.left)/ge.scaleX,Se=(J.clientY-ge.top)/ge.scaleY,this.pointerPos={x:_e,y:Se},this._pointerPositions=[{x:_e,y:Se,id:e.Util._getFirstPointerId(J)}],this._changedPointerPositions=[{x:_e,y:Se,id:e.Util._getFirstPointerId(J)}])}_setPointerPosition(J){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(J)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const J=this.content.getBoundingClientRect();return{top:J.top,left:J.left,scaleX:J.width/this.content.clientWidth||1,scaleY:J.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!i.Konva.isBrowser)return;const J=this.container();if(!J)throw"Stage has no container. A container is required.";J.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),J.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(J){J.batchDraw()}),this}}t.Stage=ce,ce.prototype.nodeType=h,(0,u._registerNode)(ce),n.Factory.addGetterSetter(ce,"container"),i.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(ae=>{ae.batchDraw()})})})(ug)),ug}var Nf={},cg={},Qy;function Vs(){return Qy||(Qy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=Hn(),n=ji(),r=Jn(),i=es(),s=nr(),l=Hn(),u=o8(),c="hasShadow",h="shadowRGBA",p="patternImage",y="linearGradient",v="radialGradient";let g;function _(){return g||(g=n.Util.createCanvasElement().getContext("2d"),g)}t.shapes={};function S(M){const V=this.attrs.fillRule;V?M.fill(V):M.fill()}function E(M){M.stroke()}function A(M){const V=this.attrs.fillRule;V?M.fill(V):M.fill()}function N(M){M.stroke()}function x(){this._clearCache(c)}function L(){this._clearCache(h)}function D(){this._clearCache(p)}function W(){this._clearCache(y)}function re(){this._clearCache(v)}class U extends i.Node{constructor(V){super(V);let F;for(;F=n.Util.getRandomColor(),!(F&&!(F in t.shapes)););this.colorKey=F,t.shapes[F]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(c,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(p,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const F=_().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(F&&F.setTransform){const H=new n.Transform;H.translate(this.fillPatternX(),this.fillPatternY()),H.rotate(e.Konva.getAngle(this.fillPatternRotation())),H.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),H.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const Z=H.getMatrix(),ne=typeof DOMMatrix>"u"?{a:Z[0],b:Z[1],c:Z[2],d:Z[3],e:Z[4],f:Z[5]}:new DOMMatrix(Z);F.setTransform(ne)}return F}}_getLinearGradient(){return this._getCache(y,this.__getLinearGradient)}__getLinearGradient(){const V=this.fillLinearGradientColorStops();if(V){const F=_(),H=this.fillLinearGradientStartPoint(),Z=this.fillLinearGradientEndPoint(),ne=F.createLinearGradient(H.x,H.y,Z.x,Z.y);for(let le=0;le<V.length;le+=2)ne.addColorStop(V[le],V[le+1]);return ne}}_getRadialGradient(){return this._getCache(v,this.__getRadialGradient)}__getRadialGradient(){const V=this.fillRadialGradientColorStops();if(V){const F=_(),H=this.fillRadialGradientStartPoint(),Z=this.fillRadialGradientEndPoint(),ne=F.createRadialGradient(H.x,H.y,this.fillRadialGradientStartRadius(),Z.x,Z.y,this.fillRadialGradientEndRadius());for(let le=0;le<V.length;le+=2)ne.addColorStop(V[le],V[le+1]);return ne}}getShadowRGBA(){return this._getCache(h,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const V=n.Util.colorToRGBA(this.shadowColor());if(V)return"rgba("+V.r+","+V.g+","+V.b+","+V.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const V=this.hitStrokeWidth();return V==="auto"?this.hasStroke():this.strokeEnabled()&&!!V}intersects(V){const F=this.getStage();if(!F)return!1;const H=F.bufferHitCanvas;return H.getContext().clear(),this.drawHit(H,void 0,!0),H.context.getImageData(Math.round(V.x),Math.round(V.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(V){var F;if(!((F=this.attrs.perfectDrawEnabled)!==null&&F!==void 0?F:!0))return!1;const Z=V||this.hasFill(),ne=this.hasStroke(),le=this.getAbsoluteOpacity()!==1;if(Z&&ne&&le)return!0;const xe=this.hasShadow(),B=this.shadowForStrokeEnabled();return!!(Z&&ne&&xe&&B)}setStrokeHitEnabled(V){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),V?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const V=this.size();return{x:this._centroid?-V.width/2:0,y:this._centroid?-V.height/2:0,width:V.width,height:V.height}}getClientRect(V={}){let F=!1,H=this.getParent();for(;H;){if(H.isCached()){F=!0;break}H=H.getParent()}const Z=V.skipTransform,ne=V.relativeTo||F&&this.getStage()||void 0,le=this.getSelfRect(),B=!V.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,G=le.width+B,Q=le.height+B,ee=!V.skipShadow&&this.hasShadow(),$=ee?this.shadowOffsetX():0,j=ee?this.shadowOffsetY():0,K=G+Math.abs($),X=Q+Math.abs(j),ce=ee&&this.shadowBlur()||0,ae=K+ce*2,J=X+ce*2,ge={width:ae,height:J,x:-(B/2+ce)+Math.min($,0)+le.x,y:-(B/2+ce)+Math.min(j,0)+le.y};return Z?ge:this._transformedRect(ge,ne)}drawScene(V,F,H){const Z=this.getLayer(),ne=V||Z.getCanvas(),le=ne.getContext(),xe=this._getCanvasCache(),B=this.getSceneFunc(),G=this.hasShadow();let Q;const ee=F===this;if(!this.isVisible()&&!ee)return this;if(xe){le.save();const $=this.getAbsoluteTransform(F).getMatrix();return le.transform($[0],$[1],$[2],$[3],$[4],$[5]),this._drawCachedSceneCanvas(le),le.restore(),this}if(!B)return this;if(le.save(),this._useBufferCanvas()){Q=this.getStage();const $=H||Q.bufferCanvas,j=$.getContext();j.clear(),j.save(),j._applyLineJoin(this);const K=this.getAbsoluteTransform(F).getMatrix();j.transform(K[0],K[1],K[2],K[3],K[4],K[5]),B.call(this,j,this),j.restore();const X=$.pixelRatio;G&&le._applyShadow(this),le._applyOpacity(this),le._applyGlobalCompositeOperation(this),le.drawImage($._canvas,$.x||0,$.y||0,$.width/X,$.height/X)}else{if(le._applyLineJoin(this),!ee){const $=this.getAbsoluteTransform(F).getMatrix();le.transform($[0],$[1],$[2],$[3],$[4],$[5]),le._applyOpacity(this),le._applyGlobalCompositeOperation(this)}G&&le._applyShadow(this),B.call(this,le,this)}return le.restore(),this}drawHit(V,F,H=!1){if(!this.shouldDrawHit(F,H))return this;const Z=this.getLayer(),ne=V||Z.hitCanvas,le=ne&&ne.getContext(),xe=this.hitFunc()||this.sceneFunc(),B=this._getCanvasCache(),G=B&&B.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),G){le.save();const ee=this.getAbsoluteTransform(F).getMatrix();return le.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),this._drawCachedHitCanvas(le),le.restore(),this}if(!xe)return this;if(le.save(),le._applyLineJoin(this),!(this===F)){const ee=this.getAbsoluteTransform(F).getMatrix();le.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5])}return xe.call(this,le,this),le.restore(),this}drawHitFromCache(V=0){const F=this._getCanvasCache(),H=this._getCachedSceneCanvas(),Z=F.hit,ne=Z.getContext(),le=Z.getWidth(),xe=Z.getHeight();ne.clear(),ne.drawImage(H._canvas,0,0,le,xe);try{const B=ne.getImageData(0,0,le,xe),G=B.data,Q=G.length,ee=n.Util._hexToRgb(this.colorKey);for(let $=0;$<Q;$+=4)G[$+3]>V?(G[$]=ee.r,G[$+1]=ee.g,G[$+2]=ee.b,G[$+3]=255):G[$+3]=0;ne.putImageData(B,0,0)}catch(B){n.Util.error("Unable to draw hit graph from cached scene canvas. "+B.message)}return this}hasPointerCapture(V){return u.hasPointerCapture(V,this)}setPointerCapture(V){u.setPointerCapture(V,this)}releaseCapture(V){u.releaseCapture(V,this)}}t.Shape=U,U.prototype._fillFunc=S,U.prototype._strokeFunc=E,U.prototype._fillFuncHit=A,U.prototype._strokeFuncHit=N,U.prototype._centroid=!1,U.prototype.nodeType="Shape",(0,l._registerNode)(U),U.prototype.eventListeners={},U.prototype.on.call(U.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",x),U.prototype.on.call(U.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",L),U.prototype.on.call(U.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",D),U.prototype.on.call(U.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",W),U.prototype.on.call(U.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",re),r.Factory.addGetterSetter(U,"stroke",void 0,(0,s.getStringOrGradientValidator)()),r.Factory.addGetterSetter(U,"strokeWidth",2,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(U,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(U,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(U,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(U,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(U,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(U,"lineJoin"),r.Factory.addGetterSetter(U,"lineCap"),r.Factory.addGetterSetter(U,"sceneFunc"),r.Factory.addGetterSetter(U,"hitFunc"),r.Factory.addGetterSetter(U,"dash"),r.Factory.addGetterSetter(U,"dashOffset",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(U,"shadowColor",void 0,(0,s.getStringValidator)()),r.Factory.addGetterSetter(U,"shadowBlur",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(U,"shadowOpacity",1,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(U,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(U,"shadowOffsetX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(U,"shadowOffsetY",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(U,"fillPatternImage"),r.Factory.addGetterSetter(U,"fill",void 0,(0,s.getStringOrGradientValidator)()),r.Factory.addGetterSetter(U,"fillPatternX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(U,"fillPatternY",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(U,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(U,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(U,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(U,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(U,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(U,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(U,"fillEnabled",!0),r.Factory.addGetterSetter(U,"strokeEnabled",!0),r.Factory.addGetterSetter(U,"shadowEnabled",!0),r.Factory.addGetterSetter(U,"dashEnabled",!0),r.Factory.addGetterSetter(U,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(U,"fillPriority","color"),r.Factory.addComponentsGetterSetter(U,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(U,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(U,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(U,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(U,"fillPatternScaleX",1,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(U,"fillPatternScaleY",1,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(U,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(U,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(U,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(U,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(U,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(U,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(U,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(U,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(U,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(U,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(U,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(U,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(U,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(U,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(U,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(U,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(U,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(U,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(U,"fillPatternRotation",0),r.Factory.addGetterSetter(U,"fillRule",void 0,(0,s.getStringValidator)()),r.Factory.backCompat(U,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(cg)),cg}var Zy;function a8(){if(Zy)return Nf;Zy=1,Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.Layer=void 0;const t=ji(),e=K0(),n=es(),r=Jn(),i=Y0(),s=nr(),l=Vs(),u=Hn(),c="#",h="beforeDraw",p="draw",y=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],v=y.length;class g extends e.Container{constructor(S){super(S),this.canvas=new i.SceneCanvas,this.hitCanvas=new i.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(S){return this.getContext().clear(S),this.getHitCanvas().getContext().clear(S),this}setZIndex(S){super.setZIndex(S);const E=this.getStage();return E&&E.content&&(E.content.removeChild(this.getNativeCanvasElement()),S<E.children.length-1?E.content.insertBefore(this.getNativeCanvasElement(),E.children[S+1].getCanvas()._canvas):E.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){n.Node.prototype.moveToTop.call(this);const S=this.getStage();return S&&S.content&&(S.content.removeChild(this.getNativeCanvasElement()),S.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!n.Node.prototype.moveUp.call(this))return!1;const E=this.getStage();return!E||!E.content?!1:(E.content.removeChild(this.getNativeCanvasElement()),this.index<E.children.length-1?E.content.insertBefore(this.getNativeCanvasElement(),E.children[this.index+1].getCanvas()._canvas):E.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(n.Node.prototype.moveDown.call(this)){const S=this.getStage();if(S){const E=S.children;S.content&&(S.content.removeChild(this.getNativeCanvasElement()),S.content.insertBefore(this.getNativeCanvasElement(),E[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(n.Node.prototype.moveToBottom.call(this)){const S=this.getStage();if(S){const E=S.children;S.content&&(S.content.removeChild(this.getNativeCanvasElement()),S.content.insertBefore(this.getNativeCanvasElement(),E[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const S=this.getNativeCanvasElement();return n.Node.prototype.remove.call(this),S&&S.parentNode&&t.Util._isInDocument(S)&&S.parentNode.removeChild(S),this}getStage(){return this.parent}setSize({width:S,height:E}){return this.canvas.setSize(S,E),this.hitCanvas.setSize(S,E),this._setSmoothEnabled(),this}_validateAdd(S){const E=S.getType();E!=="Group"&&E!=="Shape"&&t.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(S){return S=S||{},S.width=S.width||this.getWidth(),S.height=S.height||this.getHeight(),S.x=S.x!==void 0?S.x:this.x(),S.y=S.y!==void 0?S.y:this.y(),n.Node.prototype._toKonvaCanvas.call(this,S)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){t.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){t.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,t.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(S){if(!this.isListening()||!this.isVisible())return null;let E=1,A=!1;for(;;){for(let N=0;N<v;N++){const x=y[N],L=this._getIntersection({x:S.x+x.x*E,y:S.y+x.y*E}),D=L.shape;if(D)return D;if(A=!!L.antialiased,!L.antialiased)break}if(A)E+=1;else return null}}_getIntersection(S){const E=this.hitCanvas.pixelRatio,A=this.hitCanvas.context.getImageData(Math.round(S.x*E),Math.round(S.y*E),1,1).data,N=A[3];if(N===255){const x=t.Util._rgbToHex(A[0],A[1],A[2]),L=l.shapes[c+x];return L?{shape:L}:{antialiased:!0}}else if(N>0)return{antialiased:!0};return{}}drawScene(S,E,A){const N=this.getLayer(),x=S||N&&N.getCanvas();return this._fire(h,{node:this}),this.clearBeforeDraw()&&x.getContext().clear(),e.Container.prototype.drawScene.call(this,x,E,A),this._fire(p,{node:this}),this}drawHit(S,E){const A=this.getLayer(),N=S||A&&A.hitCanvas;return A&&A.clearBeforeDraw()&&A.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,N,E),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(S){t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(S)}getHitGraphEnabled(S){return t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const S=this.parent;!!this.hitCanvas._canvas.parentNode?S.content.removeChild(this.hitCanvas._canvas):S.content.appendChild(this.hitCanvas._canvas)}destroy(){return t.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return Nf.Layer=g,g.prototype.nodeType="Layer",(0,u._registerNode)(g),r.Factory.addGetterSetter(g,"imageSmoothingEnabled",!0),r.Factory.addGetterSetter(g,"clearBeforeDraw",!0),r.Factory.addGetterSetter(g,"hitGraphEnabled",!0,(0,s.getBooleanValidator)()),Nf}var Ef={},ev;function UA(){if(ev)return Ef;ev=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.FastLayer=void 0;const t=ji(),e=a8(),n=Hn();let r=class extends e.Layer{constructor(s){super(s),this.listening(!1),t.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Ef.FastLayer=r,r.prototype.nodeType="FastLayer",(0,n._registerNode)(r),Ef}var Af={},tv;function _m(){if(tv)return Af;tv=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.Group=void 0;const t=ji(),e=K0(),n=Hn();let r=class extends e.Container{_validateAdd(s){const l=s.getType();l!=="Group"&&l!=="Shape"&&t.Util.throw("You may only add groups and shapes to groups.")}};return Af.Group=r,r.prototype.nodeType="Group",(0,n._registerNode)(r),Af}var Lf={},nv;function xm(){if(nv)return Lf;nv=1,Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.Animation=void 0;const t=Hn(),e=ji(),n=(function(){return t.glob.performance&&t.glob.performance.now?function(){return t.glob.performance.now()}:function(){return new Date().getTime()}})();let r=class Ld{constructor(s,l){this.id=Ld.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:n(),frameRate:0},this.func=s,this.setLayers(l)}setLayers(s){let l=[];return s&&(l=Array.isArray(s)?s:[s]),this.layers=l,this}getLayers(){return this.layers}addLayer(s){const l=this.layers,u=l.length;for(let c=0;c<u;c++)if(l[c]._id===s._id)return!1;return this.layers.push(s),!0}isRunning(){const l=Ld.animations,u=l.length;for(let c=0;c<u;c++)if(l[c].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=n(),Ld._addAnimation(this),this}stop(){return Ld._removeAnimation(this),this}_updateFrameObject(s){this.frame.timeDiff=s-this.frame.lastTime,this.frame.lastTime=s,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(s){this.animations.push(s),this._handleAnimation()}static _removeAnimation(s){const l=s.id,u=this.animations,c=u.length;for(let h=0;h<c;h++)if(u[h].id===l){this.animations.splice(h,1);break}}static _runFrames(){const s={},l=this.animations;for(let u=0;u<l.length;u++){const c=l[u],h=c.layers,p=c.func;c._updateFrameObject(n());const y=h.length;let v;if(p?v=p.call(c,c.frame)!==!1:v=!0,!!v)for(let g=0;g<y;g++){const _=h[g];_._id!==void 0&&(s[_._id]=_)}}for(const u in s)s.hasOwnProperty(u)&&s[u].batchDraw()}static _animationLoop(){const s=Ld;s.animations.length?(s._runFrames(),e.Util.requestAnimFrame(s._animationLoop)):s.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return Lf.Animation=r,r.animations=[],r.animIdCounter=0,r.animRunning=!1,Lf}var dg={},rv;function zA(){return rv||(rv=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=ji(),n=xm(),r=es(),i=Hn(),s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=1,u=2,c=3,h=["fill","stroke","shadowColor"];let p=0;class y{constructor(_,S,E,A,N,x,L){this.prop=_,this.propFunc=S,this.begin=A,this._pos=A,this.duration=x,this._change=0,this.prevPos=0,this.yoyo=L,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=E,this._change=N-this.begin,this.pause()}fire(_){const S=this[_];S&&S()}setTime(_){_>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():_<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=_,this.update())}getTime(){return this._time}setPosition(_){this.prevPos=this._pos,this.propFunc(_),this._pos=_}getPosition(_){return _===void 0&&(_=this._time),this.func(_,this.begin,this._change,this.duration)}play(){this.state=u,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=c,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(_){this.pause(),this._time=_,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const _=this.getTimer()-this._startTime;this.state===u?this.setTime(_):this.state===c&&this.setTime(this.duration-_)}pause(){this.state=l,this.fire("onPause")}getTimer(){return new Date().getTime()}}class v{constructor(_){const S=this,E=_.node,A=E._id,N=_.easing||t.Easings.Linear,x=!!_.yoyo;let L,D;typeof _.duration>"u"?L=.3:_.duration===0?L=.001:L=_.duration,this.node=E,this._id=p++;const W=E.getLayer()||(E instanceof i.Konva.Stage?E.getLayers():null);W||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){S.tween.onEnterFrame()},W),this.tween=new y(D,function(re){S._tweenFunc(re)},N,0,1,L*1e3,x),this._addListeners(),v.attrs[A]||(v.attrs[A]={}),v.attrs[A][this._id]||(v.attrs[A][this._id]={}),v.tweens[A]||(v.tweens[A]={});for(D in _)s[D]===void 0&&this._addAttr(D,_[D]);this.reset(),this.onFinish=_.onFinish,this.onReset=_.onReset,this.onUpdate=_.onUpdate}_addAttr(_,S){const E=this.node,A=E._id;let N,x,L,D,W;const re=v.tweens[A][_];re&&delete v.attrs[A][re][_];let U=E.getAttr(_);if(e.Util._isArray(S))if(N=[],x=Math.max(S.length,U.length),_==="points"&&S.length!==U.length&&(S.length>U.length?(D=U,U=e.Util._prepareArrayForTween(U,S,E.closed())):(L=S,S=e.Util._prepareArrayForTween(S,U,E.closed()))),_.indexOf("fill")===0)for(let M=0;M<x;M++)if(M%2===0)N.push(S[M]-U[M]);else{const V=e.Util.colorToRGBA(U[M]);W=e.Util.colorToRGBA(S[M]),U[M]=V,N.push({r:W.r-V.r,g:W.g-V.g,b:W.b-V.b,a:W.a-V.a})}else for(let M=0;M<x;M++)N.push(S[M]-U[M]);else h.indexOf(_)!==-1?(U=e.Util.colorToRGBA(U),W=e.Util.colorToRGBA(S),N={r:W.r-U.r,g:W.g-U.g,b:W.b-U.b,a:W.a-U.a}):N=S-U;v.attrs[A][this._id][_]={start:U,diff:N,end:S,trueEnd:L,trueStart:D},v.tweens[A][_]=this._id}_tweenFunc(_){const S=this.node,E=v.attrs[S._id][this._id];let A,N,x,L,D,W,re,U;for(A in E){if(N=E[A],x=N.start,L=N.diff,U=N.end,e.Util._isArray(x))if(D=[],re=Math.max(x.length,U.length),A.indexOf("fill")===0)for(W=0;W<re;W++)W%2===0?D.push((x[W]||0)+L[W]*_):D.push("rgba("+Math.round(x[W].r+L[W].r*_)+","+Math.round(x[W].g+L[W].g*_)+","+Math.round(x[W].b+L[W].b*_)+","+(x[W].a+L[W].a*_)+")");else for(W=0;W<re;W++)D.push((x[W]||0)+L[W]*_);else h.indexOf(A)!==-1?D="rgba("+Math.round(x.r+L.r*_)+","+Math.round(x.g+L.g*_)+","+Math.round(x.b+L.b*_)+","+(x.a+L.a*_)+")":D=x+L*_;S.setAttr(A,D)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const _=this.node,S=v.attrs[_._id][this._id];S.points&&S.points.trueEnd&&_.setAttr("points",S.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const _=this.node,S=v.attrs[_._id][this._id];S.points&&S.points.trueStart&&_.points(S.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(_){return this.tween.seek(_*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const _=this.node._id,S=this._id,E=v.tweens[_];this.pause(),this.anim&&this.anim.stop();for(const A in E)delete v.tweens[_][A];delete v.attrs[_][S],v.tweens[_]&&(Object.keys(v.tweens[_]).length===0&&delete v.tweens[_],Object.keys(v.attrs[_]).length===0&&delete v.attrs[_])}}t.Tween=v,v.attrs={},v.tweens={},r.Node.prototype.to=function(g){const _=g.onFinish;g.node=this,g.onFinish=function(){this.destroy(),_&&_()},new v(g).play()},t.Easings={BackEaseIn(g,_,S,E){return S*(g/=E)*g*((1.70158+1)*g-1.70158)+_},BackEaseOut(g,_,S,E){return S*((g=g/E-1)*g*((1.70158+1)*g+1.70158)+1)+_},BackEaseInOut(g,_,S,E){let A=1.70158;return(g/=E/2)<1?S/2*(g*g*(((A*=1.525)+1)*g-A))+_:S/2*((g-=2)*g*(((A*=1.525)+1)*g+A)+2)+_},ElasticEaseIn(g,_,S,E,A,N){let x=0;return g===0?_:(g/=E)===1?_+S:(N||(N=E*.3),!A||A<Math.abs(S)?(A=S,x=N/4):x=N/(2*Math.PI)*Math.asin(S/A),-(A*Math.pow(2,10*(g-=1))*Math.sin((g*E-x)*(2*Math.PI)/N))+_)},ElasticEaseOut(g,_,S,E,A,N){let x=0;return g===0?_:(g/=E)===1?_+S:(N||(N=E*.3),!A||A<Math.abs(S)?(A=S,x=N/4):x=N/(2*Math.PI)*Math.asin(S/A),A*Math.pow(2,-10*g)*Math.sin((g*E-x)*(2*Math.PI)/N)+S+_)},ElasticEaseInOut(g,_,S,E,A,N){let x=0;return g===0?_:(g/=E/2)===2?_+S:(N||(N=E*(.3*1.5)),!A||A<Math.abs(S)?(A=S,x=N/4):x=N/(2*Math.PI)*Math.asin(S/A),g<1?-.5*(A*Math.pow(2,10*(g-=1))*Math.sin((g*E-x)*(2*Math.PI)/N))+_:A*Math.pow(2,-10*(g-=1))*Math.sin((g*E-x)*(2*Math.PI)/N)*.5+S+_)},BounceEaseOut(g,_,S,E){return(g/=E)<1/2.75?S*(7.5625*g*g)+_:g<2/2.75?S*(7.5625*(g-=1.5/2.75)*g+.75)+_:g<2.5/2.75?S*(7.5625*(g-=2.25/2.75)*g+.9375)+_:S*(7.5625*(g-=2.625/2.75)*g+.984375)+_},BounceEaseIn(g,_,S,E){return S-t.Easings.BounceEaseOut(E-g,0,S,E)+_},BounceEaseInOut(g,_,S,E){return g<E/2?t.Easings.BounceEaseIn(g*2,0,S,E)*.5+_:t.Easings.BounceEaseOut(g*2-E,0,S,E)*.5+S*.5+_},EaseIn(g,_,S,E){return S*(g/=E)*g+_},EaseOut(g,_,S,E){return-S*(g/=E)*(g-2)+_},EaseInOut(g,_,S,E){return(g/=E/2)<1?S/2*g*g+_:-S/2*(--g*(g-2)-1)+_},StrongEaseIn(g,_,S,E){return S*(g/=E)*g*g*g*g+_},StrongEaseOut(g,_,S,E){return S*((g=g/E-1)*g*g*g*g+1)+_},StrongEaseInOut(g,_,S,E){return(g/=E/2)<1?S/2*g*g*g*g*g+_:S/2*((g-=2)*g*g*g*g+2)+_},Linear(g,_,S,E){return S*g/E+_}}})(dg)),dg}var iv;function h2(){return iv||(iv=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=Hn(),n=ji(),r=es(),i=K0(),s=jA(),l=a8(),u=UA(),c=_m(),h=bm(),p=Vs(),y=xm(),v=zA(),g=s8(),_=Y0();t.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:r.Node,Container:i.Container,Stage:s.Stage,stages:s.stages,Layer:l.Layer,FastLayer:u.FastLayer,Group:c.Group,DD:h.DD,Shape:p.Shape,shapes:p.shapes,Animation:y.Animation,Tween:v.Tween,Easings:v.Easings,Context:g.Context,Canvas:_.Canvas}),t.default=t.Konva})(ig)),ig}var Pf={},sv;function GA(){if(sv)return Pf;sv=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.Arc=void 0;const t=Jn(),e=Vs(),n=Hn(),r=nr(),i=Hn();let s=class extends e.Shape{_sceneFunc(u){const c=n.Konva.getAngle(this.angle()),h=this.clockwise();u.beginPath(),u.arc(0,0,this.outerRadius(),0,c,h),u.arc(0,0,this.innerRadius(),c,0,!h),u.closePath(),u.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(u){this.outerRadius(u/2)}setHeight(u){this.outerRadius(u/2)}getSelfRect(){const u=this.innerRadius(),c=this.outerRadius(),h=this.clockwise(),p=n.Konva.getAngle(h?360-this.angle():this.angle()),y=Math.cos(Math.min(p,Math.PI)),v=1,g=Math.sin(Math.min(Math.max(Math.PI,p),3*Math.PI/2)),_=Math.sin(Math.min(p,Math.PI/2)),S=y*(y>0?u:c),E=v*c,A=g*(g>0?u:c),N=_*(_>0?c:u);return{x:S,y:h?-1*N:A,width:E-S,height:N-A}}};return Pf.Arc=s,s.prototype._centroid=!0,s.prototype.className="Arc",s.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"outerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"angle",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"clockwise",!1,(0,r.getBooleanValidator)()),Pf}var If={},Rf={},ov;function l8(){if(ov)return Rf;ov=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.Line=void 0;const t=Jn(),e=Hn(),n=Vs(),r=nr();function i(u,c,h,p,y,v,g){const _=Math.sqrt(Math.pow(h-u,2)+Math.pow(p-c,2)),S=Math.sqrt(Math.pow(y-h,2)+Math.pow(v-p,2)),E=g*_/(_+S),A=g*S/(_+S),N=h-E*(y-u),x=p-E*(v-c),L=h+A*(y-u),D=p+A*(v-c);return[N,x,L,D]}function s(u,c){const h=u.length,p=[];for(let y=2;y<h-2;y+=2){const v=i(u[y-2],u[y-1],u[y],u[y+1],u[y+2],u[y+3],c);isNaN(v[0])||(p.push(v[0]),p.push(v[1]),p.push(u[y]),p.push(u[y+1]),p.push(v[2]),p.push(v[3]))}return p}class l extends n.Shape{constructor(c){super(c),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(c){const h=this.points(),p=h.length,y=this.tension(),v=this.closed(),g=this.bezier();if(!p)return;let _=0;if(c.beginPath(),c.moveTo(h[0],h[1]),y!==0&&p>4){const S=this.getTensionPoints(),E=S.length;for(_=v?0:4,v||c.quadraticCurveTo(S[0],S[1],S[2],S[3]);_<E-2;)c.bezierCurveTo(S[_++],S[_++],S[_++],S[_++],S[_++],S[_++]);v||c.quadraticCurveTo(S[E-2],S[E-1],h[p-2],h[p-1])}else if(g)for(_=2;_<p;)c.bezierCurveTo(h[_++],h[_++],h[_++],h[_++],h[_++],h[_++]);else for(_=2;_<p;_+=2)c.lineTo(h[_],h[_+1]);v?(c.closePath(),c.fillStrokeShape(this)):c.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():s(this.points(),this.tension())}_getTensionPointsClosed(){const c=this.points(),h=c.length,p=this.tension(),y=i(c[h-2],c[h-1],c[0],c[1],c[2],c[3],p),v=i(c[h-4],c[h-3],c[h-2],c[h-1],c[0],c[1],p),g=s(c,p);return[y[2],y[3]].concat(g).concat([v[0],v[1],c[h-2],c[h-1],v[2],v[3],y[0],y[1],c[0],c[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let c=this.points();if(c.length<4)return{x:c[0]||0,y:c[1]||0,width:0,height:0};this.tension()!==0?c=[c[0],c[1],...this._getTensionPoints(),c[c.length-2],c[c.length-1]]:c=this.points();let h=c[0],p=c[0],y=c[1],v=c[1],g,_;for(let S=0;S<c.length/2;S++)g=c[S*2],_=c[S*2+1],h=Math.min(h,g),p=Math.max(p,g),y=Math.min(y,_),v=Math.max(v,_);return{x:h,y,width:p-h,height:v-y}}}return Rf.Line=l,l.prototype.className="Line",l.prototype._attrsAffectingSize=["points","bezier","tension"],(0,e._registerNode)(l),t.Factory.addGetterSetter(l,"closed",!1),t.Factory.addGetterSetter(l,"bezier",!1),t.Factory.addGetterSetter(l,"tension",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(l,"points",[],(0,r.getNumberArrayValidator)()),Rf}var Tf={},fg={},av;function HA(){return av||(av=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(l,u,c)=>{let h,p;const v=c/2;h=0;for(let g=0;g<20;g++)p=v*t.tValues[20][g]+v,h+=t.cValues[20][g]*r(l,u,p);return v*h};t.getCubicArcLength=e;const n=(l,u,c)=>{c===void 0&&(c=1);const h=l[0]-2*l[1]+l[2],p=u[0]-2*u[1]+u[2],y=2*l[1]-2*l[0],v=2*u[1]-2*u[0],g=4*(h*h+p*p),_=4*(h*y+p*v),S=y*y+v*v;if(g===0)return c*Math.sqrt(Math.pow(l[2]-l[0],2)+Math.pow(u[2]-u[0],2));const E=_/(2*g),A=S/g,N=c+E,x=A-E*E,L=N*N+x>0?Math.sqrt(N*N+x):0,D=E*E+x>0?Math.sqrt(E*E+x):0,W=E+Math.sqrt(E*E+x)!==0?x*Math.log(Math.abs((N+L)/(E+D))):0;return Math.sqrt(g)/2*(N*L-E*D+W)};t.getQuadraticArcLength=n;function r(l,u,c){const h=i(1,c,l),p=i(1,c,u),y=h*h+p*p;return Math.sqrt(y)}const i=(l,u,c)=>{const h=c.length-1;let p,y;if(h===0)return 0;if(l===0){y=0;for(let v=0;v<=h;v++)y+=t.binomialCoefficients[h][v]*Math.pow(1-u,h-v)*Math.pow(u,v)*c[v];return y}else{p=new Array(h);for(let v=0;v<h;v++)p[v]=h*(c[v+1]-c[v]);return i(l-1,u,p)}},s=(l,u,c)=>{let h=1,p=l/u,y=(l-c(p))/u,v=0;for(;h>.001;){const g=c(p+y),_=Math.abs(l-g)/u;if(_<h)h=_,p+=y;else{const S=c(p-y),E=Math.abs(l-S)/u;E<h?(h=E,p-=y):y/=2}if(v++,v>500)break}return p};t.t2length=s})(fg)),fg}var lv;function Sm(){if(lv)return Tf;lv=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.Path=void 0;const t=Jn(),e=Hn(),n=Vs(),r=HA();let i=class Ca extends n.Shape{constructor(l){super(l),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Ca.parsePathData(this.data()),this.pathLength=Ca.getPathLength(this.dataArray)}_sceneFunc(l){const u=this.dataArray;l.beginPath();let c=!1;for(let h=0;h<u.length;h++){const p=u[h].command,y=u[h].points;switch(p){case"L":l.lineTo(y[0],y[1]);break;case"M":l.moveTo(y[0],y[1]);break;case"C":l.bezierCurveTo(y[0],y[1],y[2],y[3],y[4],y[5]);break;case"Q":l.quadraticCurveTo(y[0],y[1],y[2],y[3]);break;case"A":const v=y[0],g=y[1],_=y[2],S=y[3],E=y[4],A=y[5],N=y[6],x=y[7],L=_>S?_:S,D=_>S?1:_/S,W=_>S?S/_:1;l.translate(v,g),l.rotate(N),l.scale(D,W),l.arc(0,0,L,E,E+A,1-x),l.scale(1/D,1/W),l.rotate(-N),l.translate(-v,-g);break;case"z":c=!0,l.closePath();break}}!c&&!this.hasFill()?l.strokeShape(this):l.fillStrokeShape(this)}getSelfRect(){let l=[];this.dataArray.forEach(function(g){if(g.command==="A"){const _=g.points[4],S=g.points[5],E=g.points[4]+S;let A=Math.PI/180;if(Math.abs(_-E)<A&&(A=Math.abs(_-E)),S<0)for(let N=_-A;N>E;N-=A){const x=Ca.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],N,0);l.push(x.x,x.y)}else for(let N=_+A;N<E;N+=A){const x=Ca.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],N,0);l.push(x.x,x.y)}}else if(g.command==="C")for(let _=0;_<=1;_+=.01){const S=Ca.getPointOnCubicBezier(_,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3],g.points[4],g.points[5]);l.push(S.x,S.y)}else l=l.concat(g.points)});let u=l[0],c=l[0],h=l[1],p=l[1],y,v;for(let g=0;g<l.length/2;g++)y=l[g*2],v=l[g*2+1],isNaN(y)||(u=Math.min(u,y),c=Math.max(c,y)),isNaN(v)||(h=Math.min(h,v),p=Math.max(p,v));return{x:u,y:h,width:c-u,height:p-h}}getLength(){return this.pathLength}getPointAtLength(l){return Ca.getPointAtLengthOfDataArray(l,this.dataArray)}static getLineLength(l,u,c,h){return Math.sqrt((c-l)*(c-l)+(h-u)*(h-u))}static getPathLength(l){let u=0;for(let c=0;c<l.length;++c)u+=l[c].pathLength;return u}static getPointAtLengthOfDataArray(l,u){let c,h=0,p=u.length;if(!p)return null;for(;h<p&&l>u[h].pathLength;)l-=u[h].pathLength,++h;if(h===p)return c=u[h-1].points.slice(-2),{x:c[0],y:c[1]};if(l<.01)return u[h].command==="M"?(c=u[h].points.slice(0,2),{x:c[0],y:c[1]}):{x:u[h].start.x,y:u[h].start.y};const y=u[h],v=y.points;switch(y.command){case"L":return Ca.getPointOnLine(l,y.start.x,y.start.y,v[0],v[1]);case"C":return Ca.getPointOnCubicBezier((0,r.t2length)(l,Ca.getPathLength(u),L=>(0,r.getCubicArcLength)([y.start.x,v[0],v[2],v[4]],[y.start.y,v[1],v[3],v[5]],L)),y.start.x,y.start.y,v[0],v[1],v[2],v[3],v[4],v[5]);case"Q":return Ca.getPointOnQuadraticBezier((0,r.t2length)(l,Ca.getPathLength(u),L=>(0,r.getQuadraticArcLength)([y.start.x,v[0],v[2]],[y.start.y,v[1],v[3]],L)),y.start.x,y.start.y,v[0],v[1],v[2],v[3]);case"A":const g=v[0],_=v[1],S=v[2],E=v[3],A=v[5],N=v[6];let x=v[4];return x+=A*l/y.pathLength,Ca.getPointOnEllipticalArc(g,_,S,E,x,N)}return null}static getPointOnLine(l,u,c,h,p,y,v){y=y??u,v=v??c;const g=this.getLineLength(u,c,h,p);if(g<1e-10)return{x:u,y:c};if(h===u)return{x:y,y:v+(p>c?l:-l)};const _=(p-c)/(h-u),S=Math.sqrt(l*l/(1+_*_))*(h<u?-1:1),E=_*S;if(Math.abs(v-c-_*(y-u))<1e-10)return{x:y+S,y:v+E};const A=((y-u)*(h-u)+(v-c)*(p-c))/(g*g),N=u+A*(h-u),x=c+A*(p-c),L=this.getLineLength(y,v,N,x),D=Math.sqrt(l*l-L*L),W=Math.sqrt(D*D/(1+_*_))*(h<u?-1:1),re=_*W;return{x:N+W,y:x+re}}static getPointOnCubicBezier(l,u,c,h,p,y,v,g,_){function S(D){return D*D*D}function E(D){return 3*D*D*(1-D)}function A(D){return 3*D*(1-D)*(1-D)}function N(D){return(1-D)*(1-D)*(1-D)}const x=g*S(l)+y*E(l)+h*A(l)+u*N(l),L=_*S(l)+v*E(l)+p*A(l)+c*N(l);return{x,y:L}}static getPointOnQuadraticBezier(l,u,c,h,p,y,v){function g(N){return N*N}function _(N){return 2*N*(1-N)}function S(N){return(1-N)*(1-N)}const E=y*g(l)+h*_(l)+u*S(l),A=v*g(l)+p*_(l)+c*S(l);return{x:E,y:A}}static getPointOnEllipticalArc(l,u,c,h,p,y){const v=Math.cos(y),g=Math.sin(y),_={x:c*Math.cos(p),y:h*Math.sin(p)};return{x:l+(_.x*v-_.y*g),y:u+(_.x*g+_.y*v)}}static parsePathData(l){if(!l)return[];let u=l;const c=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];u=u.replace(new RegExp(" ","g"),",");for(let E=0;E<c.length;E++)u=u.replace(new RegExp(c[E],"g"),"|"+c[E]);const h=u.split("|"),p=[],y=[];let v=0,g=0;const _=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let S;for(let E=1;E<h.length;E++){let A=h[E],N=A.charAt(0);for(A=A.slice(1),y.length=0;S=_.exec(A);)y.push(S[0]);const x=[];for(let L=0,D=y.length;L<D;L++){if(y[L]==="00"){x.push(0,0);continue}const W=parseFloat(y[L]);isNaN(W)?x.push(0):x.push(W)}for(;x.length>0&&!isNaN(x[0]);){let L="",D=[];const W=v,re=g;let U,M,V,F,H,Z,ne,le,xe,B;switch(N){case"l":v+=x.shift(),g+=x.shift(),L="L",D.push(v,g);break;case"L":v=x.shift(),g=x.shift(),D.push(v,g);break;case"m":const G=x.shift(),Q=x.shift();if(v+=G,g+=Q,L="M",p.length>2&&p[p.length-1].command==="z"){for(let ee=p.length-2;ee>=0;ee--)if(p[ee].command==="M"){v=p[ee].points[0]+G,g=p[ee].points[1]+Q;break}}D.push(v,g),N="l";break;case"M":v=x.shift(),g=x.shift(),L="M",D.push(v,g),N="L";break;case"h":v+=x.shift(),L="L",D.push(v,g);break;case"H":v=x.shift(),L="L",D.push(v,g);break;case"v":g+=x.shift(),L="L",D.push(v,g);break;case"V":g=x.shift(),L="L",D.push(v,g);break;case"C":D.push(x.shift(),x.shift(),x.shift(),x.shift()),v=x.shift(),g=x.shift(),D.push(v,g);break;case"c":D.push(v+x.shift(),g+x.shift(),v+x.shift(),g+x.shift()),v+=x.shift(),g+=x.shift(),L="C",D.push(v,g);break;case"S":M=v,V=g,U=p[p.length-1],U.command==="C"&&(M=v+(v-U.points[2]),V=g+(g-U.points[3])),D.push(M,V,x.shift(),x.shift()),v=x.shift(),g=x.shift(),L="C",D.push(v,g);break;case"s":M=v,V=g,U=p[p.length-1],U.command==="C"&&(M=v+(v-U.points[2]),V=g+(g-U.points[3])),D.push(M,V,v+x.shift(),g+x.shift()),v+=x.shift(),g+=x.shift(),L="C",D.push(v,g);break;case"Q":D.push(x.shift(),x.shift()),v=x.shift(),g=x.shift(),D.push(v,g);break;case"q":D.push(v+x.shift(),g+x.shift()),v+=x.shift(),g+=x.shift(),L="Q",D.push(v,g);break;case"T":M=v,V=g,U=p[p.length-1],U.command==="Q"&&(M=v+(v-U.points[0]),V=g+(g-U.points[1])),v=x.shift(),g=x.shift(),L="Q",D.push(M,V,v,g);break;case"t":M=v,V=g,U=p[p.length-1],U.command==="Q"&&(M=v+(v-U.points[0]),V=g+(g-U.points[1])),v+=x.shift(),g+=x.shift(),L="Q",D.push(M,V,v,g);break;case"A":F=x.shift(),H=x.shift(),Z=x.shift(),ne=x.shift(),le=x.shift(),xe=v,B=g,v=x.shift(),g=x.shift(),L="A",D=this.convertEndpointToCenterParameterization(xe,B,v,g,ne,le,F,H,Z);break;case"a":F=x.shift(),H=x.shift(),Z=x.shift(),ne=x.shift(),le=x.shift(),xe=v,B=g,v+=x.shift(),g+=x.shift(),L="A",D=this.convertEndpointToCenterParameterization(xe,B,v,g,ne,le,F,H,Z);break}p.push({command:L||N,points:D,start:{x:W,y:re},pathLength:this.calcLength(W,re,L||N,D)})}(N==="z"||N==="Z")&&p.push({command:"z",points:[],start:void 0,pathLength:0})}return p}static calcLength(l,u,c,h){let p,y,v,g;const _=Ca;switch(c){case"L":return _.getLineLength(l,u,h[0],h[1]);case"C":return(0,r.getCubicArcLength)([l,h[0],h[2],h[4]],[u,h[1],h[3],h[5]],1);case"Q":return(0,r.getQuadraticArcLength)([l,h[0],h[2]],[u,h[1],h[3]],1);case"A":p=0;const S=h[4],E=h[5],A=h[4]+E;let N=Math.PI/180;if(Math.abs(S-A)<N&&(N=Math.abs(S-A)),y=_.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],S,0),E<0)for(g=S-N;g>A;g-=N)v=_.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],g,0),p+=_.getLineLength(y.x,y.y,v.x,v.y),y=v;else for(g=S+N;g<A;g+=N)v=_.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],g,0),p+=_.getLineLength(y.x,y.y,v.x,v.y),y=v;return v=_.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],A,0),p+=_.getLineLength(y.x,y.y,v.x,v.y),p}return 0}static convertEndpointToCenterParameterization(l,u,c,h,p,y,v,g,_){const S=_*(Math.PI/180),E=Math.cos(S)*(l-c)/2+Math.sin(S)*(u-h)/2,A=-1*Math.sin(S)*(l-c)/2+Math.cos(S)*(u-h)/2,N=E*E/(v*v)+A*A/(g*g);N>1&&(v*=Math.sqrt(N),g*=Math.sqrt(N));let x=Math.sqrt((v*v*(g*g)-v*v*(A*A)-g*g*(E*E))/(v*v*(A*A)+g*g*(E*E)));p===y&&(x*=-1),isNaN(x)&&(x=0);const L=x*v*A/g,D=x*-g*E/v,W=(l+c)/2+Math.cos(S)*L-Math.sin(S)*D,re=(u+h)/2+Math.sin(S)*L+Math.cos(S)*D,U=function(le){return Math.sqrt(le[0]*le[0]+le[1]*le[1])},M=function(le,xe){return(le[0]*xe[0]+le[1]*xe[1])/(U(le)*U(xe))},V=function(le,xe){return(le[0]*xe[1]<le[1]*xe[0]?-1:1)*Math.acos(M(le,xe))},F=V([1,0],[(E-L)/v,(A-D)/g]),H=[(E-L)/v,(A-D)/g],Z=[(-1*E-L)/v,(-1*A-D)/g];let ne=V(H,Z);return M(H,Z)<=-1&&(ne=Math.PI),M(H,Z)>=1&&(ne=0),y===0&&ne>0&&(ne=ne-2*Math.PI),y===1&&ne<0&&(ne=ne+2*Math.PI),[W,re,v,g,F,ne,S,y]}};return Tf.Path=i,i.prototype.className="Path",i.prototype._attrsAffectingSize=["data"],(0,e._registerNode)(i),t.Factory.addGetterSetter(i,"data"),Tf}var uv;function WA(){if(uv)return If;uv=1,Object.defineProperty(If,"__esModule",{value:!0}),If.Arrow=void 0;const t=Jn(),e=l8(),n=nr(),r=Hn(),i=Sm();class s extends e.Line{_sceneFunc(u){super._sceneFunc(u);const c=Math.PI*2,h=this.points();let p=h;const y=this.tension()!==0&&h.length>4;y&&(p=this.getTensionPoints());const v=this.pointerLength(),g=h.length;let _,S;if(y){const N=[p[p.length-4],p[p.length-3],p[p.length-2],p[p.length-1],h[g-2],h[g-1]],x=i.Path.calcLength(p[p.length-4],p[p.length-3],"C",N),L=i.Path.getPointOnQuadraticBezier(Math.min(1,1-v/x),N[0],N[1],N[2],N[3],N[4],N[5]);_=h[g-2]-L.x,S=h[g-1]-L.y}else _=h[g-2]-h[g-4],S=h[g-1]-h[g-3];const E=(Math.atan2(S,_)+c)%c,A=this.pointerWidth();this.pointerAtEnding()&&(u.save(),u.beginPath(),u.translate(h[g-2],h[g-1]),u.rotate(E),u.moveTo(0,0),u.lineTo(-v,A/2),u.lineTo(-v,-A/2),u.closePath(),u.restore(),this.__fillStroke(u)),this.pointerAtBeginning()&&(u.save(),u.beginPath(),u.translate(h[0],h[1]),y?(_=(p[0]+p[2])/2-h[0],S=(p[1]+p[3])/2-h[1]):(_=h[2]-h[0],S=h[3]-h[1]),u.rotate((Math.atan2(-S,-_)+c)%c),u.moveTo(0,0),u.lineTo(-v,A/2),u.lineTo(-v,-A/2),u.closePath(),u.restore(),this.__fillStroke(u))}__fillStroke(u){const c=this.dashEnabled();c&&(this.attrs.dashEnabled=!1,u.setLineDash([])),u.fillStrokeShape(this),c&&(this.attrs.dashEnabled=!0)}getSelfRect(){const u=super.getSelfRect(),c=this.pointerWidth()/2;return{x:u.x,y:u.y-c,width:u.width,height:u.height+c*2}}}return If.Arrow=s,s.prototype.className="Arrow",(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"pointerLength",10,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"pointerWidth",10,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"pointerAtBeginning",!1),t.Factory.addGetterSetter(s,"pointerAtEnding",!0),If}var Df={},cv;function qA(){if(cv)return Df;cv=1,Object.defineProperty(Df,"__esModule",{value:!0}),Df.Circle=void 0;const t=Jn(),e=Vs(),n=nr(),r=Hn();let i=class extends e.Shape{_sceneFunc(l){l.beginPath(),l.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(l){this.radius()!==l/2&&this.radius(l/2)}setHeight(l){this.radius()!==l/2&&this.radius(l/2)}};return Df.Circle=i,i.prototype._centroid=!0,i.prototype.className="Circle",i.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(i),t.Factory.addGetterSetter(i,"radius",0,(0,n.getNumberValidator)()),Df}var Of={},dv;function VA(){if(dv)return Of;dv=1,Object.defineProperty(Of,"__esModule",{value:!0}),Of.Ellipse=void 0;const t=Jn(),e=Vs(),n=nr(),r=Hn();class i extends e.Shape{_sceneFunc(l){const u=this.radiusX(),c=this.radiusY();l.beginPath(),l.save(),u!==c&&l.scale(1,c/u),l.arc(0,0,u,0,Math.PI*2,!1),l.restore(),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(l){this.radiusX(l/2)}setHeight(l){this.radiusY(l/2)}}return Of.Ellipse=i,i.prototype.className="Ellipse",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,r._registerNode)(i),t.Factory.addComponentsGetterSetter(i,"radius",["x","y"]),t.Factory.addGetterSetter(i,"radiusX",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"radiusY",0,(0,n.getNumberValidator)()),Of}var Ff={},fv;function $A(){if(fv)return Ff;fv=1,Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.Image=void 0;const t=ji(),e=Jn(),n=Vs(),r=Hn(),i=nr();class s extends n.Shape{constructor(u){super(u),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",c=>{this._removeImageLoad(c.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const u=this.image();u&&u.complete||u&&u.readyState===4||u&&u.addEventListener&&u.addEventListener("load",this._loadListener)}_removeImageLoad(u){u&&u.removeEventListener&&u.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const u=!!this.cornerRadius(),c=this.hasShadow();return u&&c?!0:super._useBufferCanvas(!0)}_sceneFunc(u){const c=this.getWidth(),h=this.getHeight(),p=this.cornerRadius(),y=this.attrs.image;let v;if(y){const g=this.attrs.cropWidth,_=this.attrs.cropHeight;g&&_?v=[y,this.cropX(),this.cropY(),g,_,0,0,c,h]:v=[y,0,0,c,h]}(this.hasFill()||this.hasStroke()||p)&&(u.beginPath(),p?t.Util.drawRoundedRectPath(u,c,h,p):u.rect(0,0,c,h),u.closePath(),u.fillStrokeShape(this)),y&&(p&&u.clip(),u.drawImage.apply(u,v))}_hitFunc(u){const c=this.width(),h=this.height(),p=this.cornerRadius();u.beginPath(),p?t.Util.drawRoundedRectPath(u,c,h,p):u.rect(0,0,c,h),u.closePath(),u.fillStrokeShape(this)}getWidth(){var u,c;return(u=this.attrs.width)!==null&&u!==void 0?u:(c=this.image())===null||c===void 0?void 0:c.width}getHeight(){var u,c;return(u=this.attrs.height)!==null&&u!==void 0?u:(c=this.image())===null||c===void 0?void 0:c.height}static fromURL(u,c,h=null){const p=t.Util.createImageElement();p.onload=function(){const y=new s({image:p});c(y)},p.onerror=h,p.crossOrigin="Anonymous",p.src=u}}return Ff.Image=s,s.prototype.className="Image",(0,r._registerNode)(s),e.Factory.addGetterSetter(s,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(s,"image"),e.Factory.addComponentsGetterSetter(s,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(s,"cropX",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"cropY",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"cropWidth",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"cropHeight",0,(0,i.getNumberValidator)()),Ff}var $c={},hv;function YA(){if(hv)return $c;hv=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.Tag=$c.Label=void 0;const t=Jn(),e=Vs(),n=_m(),r=nr(),i=Hn(),s=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],l="Change.konva",u="none",c="up",h="right",p="down",y="left",v=s.length;let g=class extends n.Group{constructor(E){super(E),this.on("add.konva",function(A){this._addListeners(A.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(E){let A=this,N;const x=function(){A._sync()};for(N=0;N<v;N++)E.on(s[N]+l,x)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let E=this.getText(),A=this.getTag(),N,x,L,D,W,re,U;if(E&&A){switch(N=E.width(),x=E.height(),L=A.pointerDirection(),D=A.pointerWidth(),U=A.pointerHeight(),W=0,re=0,L){case c:W=N/2,re=-1*U;break;case h:W=N+D,re=x/2;break;case p:W=N/2,re=x+U;break;case y:W=-1*D,re=x/2;break}A.setAttrs({x:-1*W,y:-1*re,width:N,height:x}),E.setAttrs({x:-1*W,y:-1*re})}}};$c.Label=g,g.prototype.className="Label",(0,i._registerNode)(g);class _ extends e.Shape{_sceneFunc(E){const A=this.width(),N=this.height(),x=this.pointerDirection(),L=this.pointerWidth(),D=this.pointerHeight(),W=this.cornerRadius();let re=0,U=0,M=0,V=0;typeof W=="number"?re=U=M=V=Math.min(W,A/2,N/2):(re=Math.min(W[0]||0,A/2,N/2),U=Math.min(W[1]||0,A/2,N/2),V=Math.min(W[2]||0,A/2,N/2),M=Math.min(W[3]||0,A/2,N/2)),E.beginPath(),E.moveTo(re,0),x===c&&(E.lineTo((A-L)/2,0),E.lineTo(A/2,-1*D),E.lineTo((A+L)/2,0)),E.lineTo(A-U,0),E.arc(A-U,U,U,Math.PI*3/2,0,!1),x===h&&(E.lineTo(A,(N-D)/2),E.lineTo(A+L,N/2),E.lineTo(A,(N+D)/2)),E.lineTo(A,N-V),E.arc(A-V,N-V,V,0,Math.PI/2,!1),x===p&&(E.lineTo((A+L)/2,N),E.lineTo(A/2,N+D),E.lineTo((A-L)/2,N)),E.lineTo(M,N),E.arc(M,N-M,M,Math.PI/2,Math.PI,!1),x===y&&(E.lineTo(0,(N+D)/2),E.lineTo(-1*L,N/2),E.lineTo(0,(N-D)/2)),E.lineTo(0,re),E.arc(re,re,re,Math.PI,Math.PI*3/2,!1),E.closePath(),E.fillStrokeShape(this)}getSelfRect(){let E=0,A=0,N=this.pointerWidth(),x=this.pointerHeight(),L=this.pointerDirection(),D=this.width(),W=this.height();return L===c?(A-=x,W+=x):L===p?W+=x:L===y?(E-=N*1.5,D+=N):L===h&&(D+=N*1.5),{x:E,y:A,width:D,height:W}}}return $c.Tag=_,_.prototype.className="Tag",(0,i._registerNode)(_),t.Factory.addGetterSetter(_,"pointerDirection",u),t.Factory.addGetterSetter(_,"pointerWidth",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(_,"pointerHeight",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(_,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),$c}var Mf={},pv;function u8(){if(pv)return Mf;pv=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.Rect=void 0;const t=Jn(),e=Vs(),n=Hn(),r=ji(),i=nr();class s extends e.Shape{_sceneFunc(u){const c=this.cornerRadius(),h=this.width(),p=this.height();u.beginPath(),c?r.Util.drawRoundedRectPath(u,h,p,c):u.rect(0,0,h,p),u.closePath(),u.fillStrokeShape(this)}}return Mf.Rect=s,s.prototype.className="Rect",(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),Mf}var Bf={},gv;function KA(){if(gv)return Bf;gv=1,Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.RegularPolygon=void 0;const t=Jn(),e=Vs(),n=nr(),r=Hn();let i=class extends e.Shape{_sceneFunc(l){const u=this._getPoints();l.beginPath(),l.moveTo(u[0].x,u[0].y);for(let c=1;c<u.length;c++)l.lineTo(u[c].x,u[c].y);l.closePath(),l.fillStrokeShape(this)}_getPoints(){const l=this.attrs.sides,u=this.attrs.radius||0,c=[];for(let h=0;h<l;h++)c.push({x:u*Math.sin(h*2*Math.PI/l),y:-1*u*Math.cos(h*2*Math.PI/l)});return c}getSelfRect(){const l=this._getPoints();let u=l[0].x,c=l[0].y,h=l[0].x,p=l[0].y;return l.forEach(y=>{u=Math.min(u,y.x),c=Math.max(c,y.x),h=Math.min(h,y.y),p=Math.max(p,y.y)}),{x:u,y:h,width:c-u,height:p-h}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(l){this.radius(l/2)}setHeight(l){this.radius(l/2)}};return Bf.RegularPolygon=i,i.prototype.className="RegularPolygon",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(i),t.Factory.addGetterSetter(i,"radius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"sides",0,(0,n.getNumberValidator)()),Bf}var jf={},mv;function XA(){if(mv)return jf;mv=1,Object.defineProperty(jf,"__esModule",{value:!0}),jf.Ring=void 0;const t=Jn(),e=Vs(),n=nr(),r=Hn(),i=Math.PI*2;let s=class extends e.Shape{_sceneFunc(u){u.beginPath(),u.arc(0,0,this.innerRadius(),0,i,!1),u.moveTo(this.outerRadius(),0),u.arc(0,0,this.outerRadius(),i,0,!0),u.closePath(),u.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(u){this.outerRadius(u/2)}setHeight(u){this.outerRadius(u/2)}};return jf.Ring=s,s.prototype.className="Ring",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"innerRadius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"outerRadius",0,(0,n.getNumberValidator)()),jf}var Uf={},yv;function JA(){if(yv)return Uf;yv=1,Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.Sprite=void 0;const t=Jn(),e=Vs(),n=xm(),r=nr(),i=Hn();let s=class extends e.Shape{constructor(u){super(u),this._updated=!0,this.anim=new n.Animation(()=>{const c=this._updated;return this._updated=!1,c}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(u){const c=this.animation(),h=this.frameIndex(),p=h*4,y=this.animations()[c],v=this.frameOffsets(),g=y[p+0],_=y[p+1],S=y[p+2],E=y[p+3],A=this.image();if((this.hasFill()||this.hasStroke())&&(u.beginPath(),u.rect(0,0,S,E),u.closePath(),u.fillStrokeShape(this)),A)if(v){const N=v[c],x=h*2;u.drawImage(A,g,_,S,E,N[x+0],N[x+1],S,E)}else u.drawImage(A,g,_,S,E,0,0,S,E)}_hitFunc(u){const c=this.animation(),h=this.frameIndex(),p=h*4,y=this.animations()[c],v=this.frameOffsets(),g=y[p+2],_=y[p+3];if(u.beginPath(),v){const S=v[c],E=h*2;u.rect(S[E+0],S[E+1],g,_)}else u.rect(0,0,g,_);u.closePath(),u.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const u=this;this.interval=setInterval(function(){u._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const u=this.getLayer();this.anim.setLayers(u),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const u=this.frameIndex(),c=this.animation(),h=this.animations(),p=h[c],y=p.length/4;u<y-1?this.frameIndex(u+1):this.frameIndex(0)}};return Uf.Sprite=s,s.prototype.className="Sprite",(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"animation"),t.Factory.addGetterSetter(s,"animations"),t.Factory.addGetterSetter(s,"frameOffsets"),t.Factory.addGetterSetter(s,"image"),t.Factory.addGetterSetter(s,"frameIndex",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"frameRate",17,(0,r.getNumberValidator)()),t.Factory.backCompat(s,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Uf}var zf={},vv;function QA(){if(vv)return zf;vv=1,Object.defineProperty(zf,"__esModule",{value:!0}),zf.Star=void 0;const t=Jn(),e=Vs(),n=nr(),r=Hn();class i extends e.Shape{_sceneFunc(l){const u=this.innerRadius(),c=this.outerRadius(),h=this.numPoints();l.beginPath(),l.moveTo(0,0-c);for(let p=1;p<h*2;p++){const y=p%2===0?c:u,v=y*Math.sin(p*Math.PI/h),g=-1*y*Math.cos(p*Math.PI/h);l.lineTo(v,g)}l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(l){this.outerRadius(l/2)}setHeight(l){this.outerRadius(l/2)}}return zf.Star=i,i.prototype.className="Star",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(i),t.Factory.addGetterSetter(i,"numPoints",5,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"innerRadius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"outerRadius",0,(0,n.getNumberValidator)()),zf}var kd={},wv;function c8(){if(wv)return kd;wv=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.Text=void 0,kd.stringToArray=l;const t=ji(),e=Jn(),n=Vs(),r=Hn(),i=nr(),s=Hn();function l(j){return[...j].reduce((K,X,ce,ae)=>{if(new RegExp("\\p{Emoji}","u").test(X)){const J=ae[ce+1];J&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(J)?(K.push(X+J),ae[ce+1]=""):K.push(X)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(X+(ae[ce+1]||""))?K.push(X+ae[ce+1]):ce>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(X)?K[K.length-1]+=X:X&&K.push(X);return K},[])}const u="auto",c="center",h="inherit",p="justify",y="Change.konva",v="2d",g="-",_="left",S="text",E="Text",A="top",N="bottom",x="middle",L="normal",D="px ",W=" ",re="right",U="rtl",M="word",V="char",F="none",H="",Z=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],ne=Z.length;function le(j){return j.split(",").map(K=>{K=K.trim();const X=K.indexOf(" ")>=0,ce=K.indexOf('"')>=0||K.indexOf("'")>=0;return X&&!ce&&(K=`"${K}"`),K}).join(", ")}let xe;function B(){return xe||(xe=t.Util.createCanvasElement().getContext(v),xe)}function G(j){j.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Q(j){j.setAttr("miterLimit",2),j.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function ee(j){return j=j||{},!j.fillLinearGradientColorStops&&!j.fillRadialGradientColorStops&&!j.fillPatternImage&&(j.fill=j.fill||"black"),j}class $ extends n.Shape{constructor(K){super(ee(K)),this._partialTextX=0,this._partialTextY=0;for(let X=0;X<ne;X++)this.on(Z[X]+y,this._setTextData);this._setTextData()}_sceneFunc(K){const X=this.textArr,ce=X.length;if(!this.text())return;let ae=this.padding(),J=this.fontSize(),ge=this.lineHeight()*J,_e=this.verticalAlign(),Se=this.direction(),Re=0,Ue=this.align(),Ve=this.getWidth(),Be=this.letterSpacing(),ye=this.fill(),Fe=this.textDecoration(),Ge=Fe.indexOf("underline")!==-1,Je=Fe.indexOf("line-through")!==-1,Qe;Se=Se===h?K.direction:Se;let ut=ge/2,ot=x;if(r.Konva._fixTextRendering){const ht=this.measureSize("M");ot="alphabetic",ut=(ht.fontBoundingBoxAscent-ht.fontBoundingBoxDescent)/2+ge/2}for(Se===U&&K.setAttr("direction",Se),K.setAttr("font",this._getContextFont()),K.setAttr("textBaseline",ot),K.setAttr("textAlign",_),_e===x?Re=(this.getHeight()-ce*ge-ae*2)/2:_e===N&&(Re=this.getHeight()-ce*ge-ae*2),K.translate(ae,Re+ae),Qe=0;Qe<ce;Qe++){let ht=0,ct=0;const Bt=X[Qe],kt=Bt.text,Et=Bt.width,Sn=Bt.lastInParagraph;if(K.save(),Ue===re?ht+=Ve-Et-ae*2:Ue===c&&(ht+=(Ve-Et-ae*2)/2),Ge){K.save(),K.beginPath();const Vt=r.Konva._fixTextRendering?Math.round(J/4):Math.round(J/2),Lt=ht,St=ut+ct+Vt;K.moveTo(Lt,St);const wt=Ue===p&&!Sn?Ve-ae*2:Et;K.lineTo(Lt+Math.round(wt),St),K.lineWidth=J/15;const wn=this._getLinearGradient();K.strokeStyle=wn||ye,K.stroke(),K.restore()}if(Je){K.save(),K.beginPath();const Vt=r.Konva._fixTextRendering?-Math.round(J/4):0;K.moveTo(ht,ut+ct+Vt);const Lt=Ue===p&&!Sn?Ve-ae*2:Et;K.lineTo(ht+Math.round(Lt),ut+ct+Vt),K.lineWidth=J/15;const St=this._getLinearGradient();K.strokeStyle=St||ye,K.stroke(),K.restore()}if(Se!==U&&(Be!==0||Ue===p)){const Vt=kt.split(" ").length-1,Lt=l(kt);for(let St=0;St<Lt.length;St++){const wt=Lt[St];wt===" "&&!Sn&&Ue===p&&(ht+=(Ve-ae*2-Et)/Vt),this._partialTextX=ht,this._partialTextY=ut+ct,this._partialText=wt,K.fillStrokeShape(this),ht+=this.measureSize(wt).width+Be}}else Be!==0&&K.setAttr("letterSpacing",`${Be}px`),this._partialTextX=ht,this._partialTextY=ut+ct,this._partialText=kt,K.fillStrokeShape(this);K.restore(),ce>1&&(ut+=ge)}}_hitFunc(K){const X=this.getWidth(),ce=this.getHeight();K.beginPath(),K.rect(0,0,X,ce),K.closePath(),K.fillStrokeShape(this)}setText(K){const X=t.Util._isString(K)?K:K==null?"":K+"";return this._setAttr(S,X),this}getWidth(){return this.attrs.width===u||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===u||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(K){var X,ce,ae,J,ge,_e,Se,Re,Ue,Ve,Be;let ye=B(),Fe=this.fontSize(),Ge;ye.save(),ye.font=this._getContextFont(),Ge=ye.measureText(K),ye.restore();const Je=Fe/100;return{actualBoundingBoxAscent:(X=Ge.actualBoundingBoxAscent)!==null&&X!==void 0?X:71.58203125*Je,actualBoundingBoxDescent:(ce=Ge.actualBoundingBoxDescent)!==null&&ce!==void 0?ce:0,actualBoundingBoxLeft:(ae=Ge.actualBoundingBoxLeft)!==null&&ae!==void 0?ae:-7.421875*Je,actualBoundingBoxRight:(J=Ge.actualBoundingBoxRight)!==null&&J!==void 0?J:75.732421875*Je,alphabeticBaseline:(ge=Ge.alphabeticBaseline)!==null&&ge!==void 0?ge:0,emHeightAscent:(_e=Ge.emHeightAscent)!==null&&_e!==void 0?_e:100*Je,emHeightDescent:(Se=Ge.emHeightDescent)!==null&&Se!==void 0?Se:-20*Je,fontBoundingBoxAscent:(Re=Ge.fontBoundingBoxAscent)!==null&&Re!==void 0?Re:91*Je,fontBoundingBoxDescent:(Ue=Ge.fontBoundingBoxDescent)!==null&&Ue!==void 0?Ue:21*Je,hangingBaseline:(Ve=Ge.hangingBaseline)!==null&&Ve!==void 0?Ve:72.80000305175781*Je,ideographicBaseline:(Be=Ge.ideographicBaseline)!==null&&Be!==void 0?Be:-21*Je,width:Ge.width,height:Fe}}_getContextFont(){return this.fontStyle()+W+this.fontVariant()+W+(this.fontSize()+D)+le(this.fontFamily())}_addTextLine(K){this.align()===p&&(K=K.trim());const ce=this._getTextWidth(K);return this.textArr.push({text:K,width:ce,lastInParagraph:!1})}_getTextWidth(K){const X=this.letterSpacing(),ce=K.length;return B().measureText(K).width+X*ce}_setTextData(){let K=this.text().split(`
`),X=+this.fontSize(),ce=0,ae=this.lineHeight()*X,J=this.attrs.width,ge=this.attrs.height,_e=J!==u&&J!==void 0,Se=ge!==u&&ge!==void 0,Re=this.padding(),Ue=J-Re*2,Ve=ge-Re*2,Be=0,ye=this.wrap(),Fe=ye!==F,Ge=ye!==V&&Fe,Je=this.ellipsis();this.textArr=[],B().font=this._getContextFont();const Qe=Je?this._getTextWidth(H):0;for(let ut=0,ot=K.length;ut<ot;++ut){let ht=K[ut],ct=this._getTextWidth(ht);if(_e&&ct>Ue)for(;ht.length>0;){let Bt=0,kt=l(ht).length,Et="",Sn=0;for(;Bt<kt;){const Vt=Bt+kt>>>1,Lt=l(ht),St=Lt.slice(0,Vt+1).join(""),wt=this._getTextWidth(St);(Je&&Se&&Be+ae>Ve?wt+Qe:wt)<=Ue?(Bt=Vt+1,Et=St,Sn=wt):kt=Vt}if(Et){if(Ge){const St=l(ht),wt=l(Et),wn=St[wt.length],In=wn===W||wn===g;let Dt;if(In&&Sn<=Ue)Dt=wt.length;else{const rn=wt.lastIndexOf(W),Wn=wt.lastIndexOf(g);Dt=Math.max(rn,Wn)+1}Dt>0&&(Bt=Dt,Et=St.slice(0,Bt).join(""),Sn=this._getTextWidth(Et))}if(Et=Et.trimRight(),this._addTextLine(Et),ce=Math.max(ce,Sn),Be+=ae,this._shouldHandleEllipsis(Be)){this._tryToAddEllipsisToLastLine();break}if(ht=l(ht).slice(Bt).join("").trimLeft(),ht.length>0&&(ct=this._getTextWidth(ht),ct<=Ue)){this._addTextLine(ht),Be+=ae,ce=Math.max(ce,ct);break}}else break}else this._addTextLine(ht),Be+=ae,ce=Math.max(ce,ct),this._shouldHandleEllipsis(Be)&&ut<ot-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),Se&&Be+ae>Ve)break}this.textHeight=X,this.textWidth=ce}_shouldHandleEllipsis(K){const X=+this.fontSize(),ce=this.lineHeight()*X,ae=this.attrs.height,J=ae!==u&&ae!==void 0,ge=this.padding(),_e=ae-ge*2;return!(this.wrap()!==F)||J&&K+ce>_e}_tryToAddEllipsisToLastLine(){const K=this.attrs.width,X=K!==u&&K!==void 0,ce=this.padding(),ae=K-ce*2,J=this.ellipsis(),ge=this.textArr[this.textArr.length-1];!ge||!J||(X&&(this._getTextWidth(ge.text+H)<ae||(ge.text=ge.text.slice(0,ge.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(ge.text+H))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const K=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,X=this.hasShadow();return K&&X?!0:super._useBufferCanvas()}}return kd.Text=$,$.prototype._fillFunc=G,$.prototype._strokeFunc=Q,$.prototype.className=E,$.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,s._registerNode)($),e.Factory.overWriteSetter($,"width",(0,i.getNumberOrAutoValidator)()),e.Factory.overWriteSetter($,"height",(0,i.getNumberOrAutoValidator)()),e.Factory.addGetterSetter($,"direction",h),e.Factory.addGetterSetter($,"fontFamily","Arial"),e.Factory.addGetterSetter($,"fontSize",12,(0,i.getNumberValidator)()),e.Factory.addGetterSetter($,"fontStyle",L),e.Factory.addGetterSetter($,"fontVariant",L),e.Factory.addGetterSetter($,"padding",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter($,"align",_),e.Factory.addGetterSetter($,"verticalAlign",A),e.Factory.addGetterSetter($,"lineHeight",1,(0,i.getNumberValidator)()),e.Factory.addGetterSetter($,"wrap",M),e.Factory.addGetterSetter($,"ellipsis",!1,(0,i.getBooleanValidator)()),e.Factory.addGetterSetter($,"letterSpacing",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter($,"text","",(0,i.getStringValidator)()),e.Factory.addGetterSetter($,"textDecoration",""),kd}var Gf={},bv;function ZA(){if(bv)return Gf;bv=1,Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.TextPath=void 0;const t=ji(),e=Jn(),n=Vs(),r=Sm(),i=c8(),s=nr(),l=Hn(),u="",c="normal";function h(v){v.fillText(this.partialText,0,0)}function p(v){v.strokeText(this.partialText,0,0)}let y=class extends n.Shape{constructor(g){super(g),this.dummyCanvas=t.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return r.Path.getPathLength(this.dataArray)}_getPointAtLength(g){if(!this.attrs.data)return null;const _=this.pathLength;return g-1>_?null:r.Path.getPointAtLengthOfDataArray(g,this.dataArray)}_readDataAttribute(){this.dataArray=r.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(g){g.setAttr("font",this._getContextFont()),g.setAttr("textBaseline",this.textBaseline()),g.setAttr("textAlign","left"),g.save();const _=this.textDecoration(),S=this.fill(),E=this.fontSize(),A=this.glyphInfo;_==="underline"&&g.beginPath();for(let N=0;N<A.length;N++){g.save();const x=A[N].p0;g.translate(x.x,x.y),g.rotate(A[N].rotation),this.partialText=A[N].text,g.fillStrokeShape(this),_==="underline"&&(N===0&&g.moveTo(0,E/2+1),g.lineTo(E,E/2+1)),g.restore()}_==="underline"&&(g.strokeStyle=S,g.lineWidth=E/20,g.stroke()),g.restore()}_hitFunc(g){g.beginPath();const _=this.glyphInfo;if(_.length>=1){const S=_[0].p0;g.moveTo(S.x,S.y)}for(let S=0;S<_.length;S++){const E=_[S].p1;g.lineTo(E.x,E.y)}g.setAttr("lineWidth",this.fontSize()),g.setAttr("strokeStyle",this.colorKey),g.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(g){return i.Text.prototype.setText.call(this,g)}_getContextFont(){return i.Text.prototype._getContextFont.call(this)}_getTextSize(g){const S=this.dummyCanvas.getContext("2d");S.save(),S.font=this._getContextFont();const E=S.measureText(g);return S.restore(),{width:E.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:g,height:_}=this._getTextSize(this.attrs.text);if(this.textWidth=g,this.textHeight=_,this.glyphInfo=[],!this.attrs.data)return null;const S=this.letterSpacing(),E=this.align(),A=this.kerningFunc(),N=Math.max(this.textWidth+((this.attrs.text||"").length-1)*S,0);let x=0;E==="center"&&(x=Math.max(0,this.pathLength/2-N/2)),E==="right"&&(x=Math.max(0,this.pathLength-N));const L=(0,i.stringToArray)(this.text());let D=x;for(let W=0;W<L.length;W++){const re=this._getPointAtLength(D);if(!re)return;let U=this._getTextSize(L[W]).width+S;if(L[W]===" "&&E==="justify"){const ne=this.text().split(" ").length-1;U+=(this.pathLength-N)/ne}const M=this._getPointAtLength(D+U);if(!M)return;const V=r.Path.getLineLength(re.x,re.y,M.x,M.y);let F=0;if(A)try{F=A(L[W-1],L[W])*this.fontSize()}catch{F=0}re.x+=F,M.x+=F,this.textWidth+=F;const H=r.Path.getPointOnLine(F+V/2,re.x,re.y,M.x,M.y),Z=Math.atan2(M.y-re.y,M.x-re.x);this.glyphInfo.push({transposeX:H.x,transposeY:H.y,text:L[W],rotation:Z,p0:re,p1:M}),D+=U}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const g=[];this.glyphInfo.forEach(function(D){g.push(D.p0.x),g.push(D.p0.y),g.push(D.p1.x),g.push(D.p1.y)});let _=g[0]||0,S=g[0]||0,E=g[1]||0,A=g[1]||0,N,x;for(let D=0;D<g.length/2;D++)N=g[D*2],x=g[D*2+1],_=Math.min(_,N),S=Math.max(S,N),E=Math.min(E,x),A=Math.max(A,x);const L=this.fontSize();return{x:_-L/2,y:E-L/2,width:S-_+L,height:A-E+L}}destroy(){return t.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Gf.TextPath=y,y.prototype._fillFunc=h,y.prototype._strokeFunc=p,y.prototype._fillFuncHit=h,y.prototype._strokeFuncHit=p,y.prototype.className="TextPath",y.prototype._attrsAffectingSize=["text","fontSize","data"],(0,l._registerNode)(y),e.Factory.addGetterSetter(y,"data"),e.Factory.addGetterSetter(y,"fontFamily","Arial"),e.Factory.addGetterSetter(y,"fontSize",12,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(y,"fontStyle",c),e.Factory.addGetterSetter(y,"align","left"),e.Factory.addGetterSetter(y,"letterSpacing",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(y,"textBaseline","middle"),e.Factory.addGetterSetter(y,"fontVariant",c),e.Factory.addGetterSetter(y,"text",u),e.Factory.addGetterSetter(y,"textDecoration",""),e.Factory.addGetterSetter(y,"kerningFunc",void 0),Gf}var Hf={},_v;function eL(){if(_v)return Hf;_v=1,Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.Transformer=void 0;const t=ji(),e=Jn(),n=es(),r=Vs(),i=u8(),s=_m(),l=Hn(),u=nr(),c=Hn(),h="tr-konva",p=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(U=>U+`.${h}`).join(" "),y="nodesRect",v=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],g={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},_="ontouchstart"in l.Konva._global;function S(U,M,V){if(U==="rotater")return V;M+=t.Util.degToRad(g[U]||0);const F=(t.Util.radToDeg(M)%360+360)%360;return t.Util._inRange(F,315+22.5,360)||t.Util._inRange(F,0,22.5)?"ns-resize":t.Util._inRange(F,45-22.5,45+22.5)?"nesw-resize":t.Util._inRange(F,90-22.5,90+22.5)?"ew-resize":t.Util._inRange(F,135-22.5,135+22.5)?"nwse-resize":t.Util._inRange(F,180-22.5,180+22.5)?"ns-resize":t.Util._inRange(F,225-22.5,225+22.5)?"nesw-resize":t.Util._inRange(F,270-22.5,270+22.5)?"ew-resize":t.Util._inRange(F,315-22.5,315+22.5)?"nwse-resize":(t.Util.error("Transformer has unknown angle for cursor detection: "+F),"pointer")}const E=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function A(U){return{x:U.x+U.width/2*Math.cos(U.rotation)+U.height/2*Math.sin(-U.rotation),y:U.y+U.height/2*Math.cos(U.rotation)+U.width/2*Math.sin(U.rotation)}}function N(U,M,V){const F=V.x+(U.x-V.x)*Math.cos(M)-(U.y-V.y)*Math.sin(M),H=V.y+(U.x-V.x)*Math.sin(M)+(U.y-V.y)*Math.cos(M);return{...U,rotation:U.rotation+M,x:F,y:H}}function x(U,M){const V=A(U);return N(U,M,V)}function L(U,M,V){let F=M;for(let H=0;H<U.length;H++){const Z=l.Konva.getAngle(U[H]),ne=Math.abs(Z-M)%(Math.PI*2);Math.min(ne,Math.PI*2-ne)<V&&(F=Z)}return F}let D=0;class W extends s.Group{constructor(M){super(M),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(p,this.update),this.getNode()&&this.update()}attachTo(M){return this.setNode(M),this}setNode(M){return t.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([M])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return h+this._id}setNodes(M=[]){this._nodes&&this._nodes.length&&this.detach();const V=M.filter(H=>H.isAncestorOf(this)?(t.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=M=V,M.length===1&&this.useSingleNodeRotation()?this.rotation(M[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(H=>{const Z=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(H._attrsAffectingSize.length){const ne=H._attrsAffectingSize.map(le=>le+"Change."+this._getEventNamespace()).join(" ");H.on(ne,Z)}H.on(v.map(ne=>ne+`.${this._getEventNamespace()}`).join(" "),Z),H.on(`absoluteTransformChange.${this._getEventNamespace()}`,Z),this._proxyDrag(H)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(M){let V;M.on(`dragstart.${this._getEventNamespace()}`,F=>{V=M.getAbsolutePosition(),!this.isDragging()&&M!==this.findOne(".back")&&this.startDrag(F,!1)}),M.on(`dragmove.${this._getEventNamespace()}`,F=>{if(!V)return;const H=M.getAbsolutePosition(),Z=H.x-V.x,ne=H.y-V.y;this.nodes().forEach(le=>{if(le===M||le.isDragging())return;const xe=le.getAbsolutePosition();le.setAbsolutePosition({x:xe.x+Z,y:xe.y+ne}),le.startDrag(F)}),V=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(M=>{M.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(y),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(y,this.__getNodeRect)}__getNodeShape(M,V=this.rotation(),F){const H=M.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),Z=M.getAbsoluteScale(F),ne=M.getAbsolutePosition(F),le=H.x*Z.x-M.offsetX()*Z.x,xe=H.y*Z.y-M.offsetY()*Z.y,B=(l.Konva.getAngle(M.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),G={x:ne.x+le*Math.cos(B)+xe*Math.sin(-B),y:ne.y+xe*Math.cos(B)+le*Math.sin(B),width:H.width*Z.x,height:H.height*Z.y,rotation:B};return N(G,-l.Konva.getAngle(V),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const V=[];this.nodes().map(B=>{const G=B.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),Q=[{x:G.x,y:G.y},{x:G.x+G.width,y:G.y},{x:G.x+G.width,y:G.y+G.height},{x:G.x,y:G.y+G.height}],ee=B.getAbsoluteTransform();Q.forEach(function($){const j=ee.point($);V.push(j)})});const F=new t.Transform;F.rotate(-l.Konva.getAngle(this.rotation()));let H=1/0,Z=1/0,ne=-1/0,le=-1/0;V.forEach(function(B){const G=F.point(B);H===void 0&&(H=ne=G.x,Z=le=G.y),H=Math.min(H,G.x),Z=Math.min(Z,G.y),ne=Math.max(ne,G.x),le=Math.max(le,G.y)}),F.invert();const xe=F.point({x:H,y:Z});return{x:xe.x,y:xe.y,width:ne-H,height:le-Z,rotation:l.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),E.forEach(M=>{this._createAnchor(M)}),this._createAnchor("rotater")}_createAnchor(M){const V=new i.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:M+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:_?10:"auto"}),F=this;V.on("mousedown touchstart",function(H){F._handleMouseDown(H)}),V.on("dragstart",H=>{V.stopDrag(),H.cancelBubble=!0}),V.on("dragend",H=>{H.cancelBubble=!0}),V.on("mouseenter",()=>{const H=l.Konva.getAngle(this.rotation()),Z=this.rotateAnchorCursor(),ne=S(M,H,Z);V.getStage().content&&(V.getStage().content.style.cursor=ne),this._cursorChange=!0}),V.on("mouseout",()=>{V.getStage().content&&(V.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(V)}_createBack(){const M=new r.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(V,F){const H=F.getParent(),Z=H.padding();V.beginPath(),V.rect(-Z,-Z,F.width()+Z*2,F.height()+Z*2),V.moveTo(F.width()/2,-Z),H.rotateEnabled()&&H.rotateLineVisible()&&V.lineTo(F.width()/2,-H.rotateAnchorOffset()*t.Util._sign(F.height())-Z),V.fillStrokeShape(F)},hitFunc:(V,F)=>{if(!this.shouldOverdrawWholeArea())return;const H=this.padding();V.beginPath(),V.rect(-H,-H,F.width()+H*2,F.height()+H*2),V.fillStrokeShape(F)}});this.add(M),this._proxyDrag(M),M.on("dragstart",V=>{V.cancelBubble=!0}),M.on("dragmove",V=>{V.cancelBubble=!0}),M.on("dragend",V=>{V.cancelBubble=!0}),this.on("dragmove",V=>{this.update()})}_handleMouseDown(M){if(this._transforming)return;this._movingAnchorName=M.target.name().split(" ")[0];const V=this._getNodeRect(),F=V.width,H=V.height,Z=Math.sqrt(Math.pow(F,2)+Math.pow(H,2));this.sin=Math.abs(H/Z),this.cos=Math.abs(F/Z),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const ne=M.target.getAbsolutePosition(),le=M.target.getStage().getPointerPosition();this._anchorDragOffset={x:le.x-ne.x,y:le.y-ne.y},D++,this._fire("transformstart",{evt:M.evt,target:this.getNode()}),this._nodes.forEach(xe=>{xe._fire("transformstart",{evt:M.evt,target:xe})})}_handleMouseMove(M){let V,F,H;const Z=this.findOne("."+this._movingAnchorName),ne=Z.getStage();ne.setPointersPositions(M);const le=ne.getPointerPosition();let xe={x:le.x-this._anchorDragOffset.x,y:le.y-this._anchorDragOffset.y};const B=Z.getAbsolutePosition();this.anchorDragBoundFunc()&&(xe=this.anchorDragBoundFunc()(B,xe,M)),Z.setAbsolutePosition(xe);const G=Z.getAbsolutePosition();if(B.x===G.x&&B.y===G.y)return;if(this._movingAnchorName==="rotater"){const ae=this._getNodeRect();V=Z.x()-ae.width/2,F=-Z.y()+ae.height/2;let J=Math.atan2(-F,V)+Math.PI/2;ae.height<0&&(J-=Math.PI);const _e=l.Konva.getAngle(this.rotation())+J,Se=l.Konva.getAngle(this.rotationSnapTolerance()),Ue=L(this.rotationSnaps(),_e,Se)-ae.rotation,Ve=x(ae,Ue);this._fitNodesInto(Ve,M);return}const Q=this.shiftBehavior();let ee;Q==="inverted"?ee=this.keepRatio()&&!M.shiftKey:Q==="none"?ee=this.keepRatio():ee=this.keepRatio()||M.shiftKey;let $=this.centeredScaling()||M.altKey;if(this._movingAnchorName==="top-left"){if(ee){const ae=$?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};H=Math.sqrt(Math.pow(ae.x-Z.x(),2)+Math.pow(ae.y-Z.y(),2));const J=this.findOne(".top-left").x()>ae.x?-1:1,ge=this.findOne(".top-left").y()>ae.y?-1:1;V=H*this.cos*J,F=H*this.sin*ge,this.findOne(".top-left").x(ae.x-V),this.findOne(".top-left").y(ae.y-F)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(Z.y());else if(this._movingAnchorName==="top-right"){if(ee){const ae=$?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};H=Math.sqrt(Math.pow(Z.x()-ae.x,2)+Math.pow(ae.y-Z.y(),2));const J=this.findOne(".top-right").x()<ae.x?-1:1,ge=this.findOne(".top-right").y()>ae.y?-1:1;V=H*this.cos*J,F=H*this.sin*ge,this.findOne(".top-right").x(ae.x+V),this.findOne(".top-right").y(ae.y-F)}var j=Z.position();this.findOne(".top-left").y(j.y),this.findOne(".bottom-right").x(j.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(Z.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(Z.x());else if(this._movingAnchorName==="bottom-left"){if(ee){const ae=$?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};H=Math.sqrt(Math.pow(ae.x-Z.x(),2)+Math.pow(Z.y()-ae.y,2));const J=ae.x<Z.x()?-1:1,ge=Z.y()<ae.y?-1:1;V=H*this.cos*J,F=H*this.sin*ge,Z.x(ae.x-V),Z.y(ae.y+F)}j=Z.position(),this.findOne(".top-left").x(j.x),this.findOne(".bottom-right").y(j.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(Z.y());else if(this._movingAnchorName==="bottom-right"){if(ee){const ae=$?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};H=Math.sqrt(Math.pow(Z.x()-ae.x,2)+Math.pow(Z.y()-ae.y,2));const J=this.findOne(".bottom-right").x()<ae.x?-1:1,ge=this.findOne(".bottom-right").y()<ae.y?-1:1;V=H*this.cos*J,F=H*this.sin*ge,this.findOne(".bottom-right").x(ae.x+V),this.findOne(".bottom-right").y(ae.y+F)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if($=this.centeredScaling()||M.altKey,$){const ae=this.findOne(".top-left"),J=this.findOne(".bottom-right"),ge=ae.x(),_e=ae.y(),Se=this.getWidth()-J.x(),Re=this.getHeight()-J.y();J.move({x:-ge,y:-_e}),ae.move({x:Se,y:Re})}const K=this.findOne(".top-left").getAbsolutePosition();V=K.x,F=K.y;const X=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),ce=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:V,y:F,width:X,height:ce,rotation:l.Konva.getAngle(this.rotation())},M)}_handleMouseUp(M){this._removeEvents(M)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(M){var V;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const F=this.getNode();D--,this._fire("transformend",{evt:M,target:F}),(V=this.getLayer())===null||V===void 0||V.batchDraw(),F&&this._nodes.forEach(H=>{var Z;H._fire("transformend",{evt:M,target:H}),(Z=H.getLayer())===null||Z===void 0||Z.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(M,V){const F=this._getNodeRect(),H=1;if(t.Util._inRange(M.width,-this.padding()*2-H,H)){this.update();return}if(t.Util._inRange(M.height,-this.padding()*2-H,H)){this.update();return}const Z=new t.Transform;if(Z.rotate(l.Konva.getAngle(this.rotation())),this._movingAnchorName&&M.width<0&&this._movingAnchorName.indexOf("left")>=0){const ee=Z.point({x:-this.padding()*2,y:0});M.x+=ee.x,M.y+=ee.y,M.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=ee.x,this._anchorDragOffset.y-=ee.y}else if(this._movingAnchorName&&M.width<0&&this._movingAnchorName.indexOf("right")>=0){const ee=Z.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=ee.x,this._anchorDragOffset.y-=ee.y,M.width+=this.padding()*2}if(this._movingAnchorName&&M.height<0&&this._movingAnchorName.indexOf("top")>=0){const ee=Z.point({x:0,y:-this.padding()*2});M.x+=ee.x,M.y+=ee.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=ee.x,this._anchorDragOffset.y-=ee.y,M.height+=this.padding()*2}else if(this._movingAnchorName&&M.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const ee=Z.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=ee.x,this._anchorDragOffset.y-=ee.y,M.height+=this.padding()*2}if(this.boundBoxFunc()){const ee=this.boundBoxFunc()(F,M);ee?M=ee:t.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const ne=1e7,le=new t.Transform;le.translate(F.x,F.y),le.rotate(F.rotation),le.scale(F.width/ne,F.height/ne);const xe=new t.Transform,B=M.width/ne,G=M.height/ne;this.flipEnabled()===!1?(xe.translate(M.x,M.y),xe.rotate(M.rotation),xe.translate(M.width<0?M.width:0,M.height<0?M.height:0),xe.scale(Math.abs(B),Math.abs(G))):(xe.translate(M.x,M.y),xe.rotate(M.rotation),xe.scale(B,G));const Q=xe.multiply(le.invert());this._nodes.forEach(ee=>{var $;const j=ee.getParent().getAbsoluteTransform(),K=ee.getTransform().copy();K.translate(ee.offsetX(),ee.offsetY());const X=new t.Transform;X.multiply(j.copy().invert()).multiply(Q).multiply(j).multiply(K);const ce=X.decompose();ee.setAttrs(ce),($=ee.getLayer())===null||$===void 0||$.batchDraw()}),this.rotation(t.Util._getRotation(M.rotation)),this._nodes.forEach(ee=>{this._fire("transform",{evt:V,target:ee}),ee._fire("transform",{evt:V,target:ee})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(M,V){this.findOne(M).setAttrs(V)}update(){var M;const V=this._getNodeRect();this.rotation(t.Util._getRotation(V.rotation));const F=V.width,H=V.height,Z=this.enabledAnchors(),ne=this.resizeEnabled(),le=this.padding(),xe=this.anchorSize(),B=this.find("._anchor");B.forEach(Q=>{Q.setAttrs({width:xe,height:xe,offsetX:xe/2,offsetY:xe/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:xe/2+le,offsetY:xe/2+le,visible:ne&&Z.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:F/2,y:0,offsetY:xe/2+le,visible:ne&&Z.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:F,y:0,offsetX:xe/2-le,offsetY:xe/2+le,visible:ne&&Z.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:H/2,offsetX:xe/2+le,visible:ne&&Z.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:F,y:H/2,offsetX:xe/2-le,visible:ne&&Z.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:H,offsetX:xe/2+le,offsetY:xe/2-le,visible:ne&&Z.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:F/2,y:H,offsetY:xe/2-le,visible:ne&&Z.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:F,y:H,offsetX:xe/2-le,offsetY:xe/2-le,visible:ne&&Z.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:F/2,y:-this.rotateAnchorOffset()*t.Util._sign(H)-le,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:F,height:H,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const G=this.anchorStyleFunc();G&&B.forEach(Q=>{G(Q)}),(M=this.getLayer())===null||M===void 0||M.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const M=this.findOne("."+this._movingAnchorName);M&&M.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),s.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return n.Node.prototype.toObject.call(this)}clone(M){return n.Node.prototype.clone.call(this,M)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Hf.Transformer=W,W.isTransforming=()=>D>0;function re(U){return U instanceof Array||t.Util.warn("enabledAnchors value should be an array"),U instanceof Array&&U.forEach(function(M){E.indexOf(M)===-1&&t.Util.warn("Unknown anchor name: "+M+". Available names are: "+E.join(", "))}),U||[]}return W.prototype.className="Transformer",(0,c._registerNode)(W),e.Factory.addGetterSetter(W,"enabledAnchors",E,re),e.Factory.addGetterSetter(W,"flipEnabled",!0,(0,u.getBooleanValidator)()),e.Factory.addGetterSetter(W,"resizeEnabled",!0),e.Factory.addGetterSetter(W,"anchorSize",10,(0,u.getNumberValidator)()),e.Factory.addGetterSetter(W,"rotateEnabled",!0),e.Factory.addGetterSetter(W,"rotateLineVisible",!0),e.Factory.addGetterSetter(W,"rotationSnaps",[]),e.Factory.addGetterSetter(W,"rotateAnchorOffset",50,(0,u.getNumberValidator)()),e.Factory.addGetterSetter(W,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(W,"rotationSnapTolerance",5,(0,u.getNumberValidator)()),e.Factory.addGetterSetter(W,"borderEnabled",!0),e.Factory.addGetterSetter(W,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(W,"anchorStrokeWidth",1,(0,u.getNumberValidator)()),e.Factory.addGetterSetter(W,"anchorFill","white"),e.Factory.addGetterSetter(W,"anchorCornerRadius",0,(0,u.getNumberValidator)()),e.Factory.addGetterSetter(W,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(W,"borderStrokeWidth",1,(0,u.getNumberValidator)()),e.Factory.addGetterSetter(W,"borderDash"),e.Factory.addGetterSetter(W,"keepRatio",!0),e.Factory.addGetterSetter(W,"shiftBehavior","default"),e.Factory.addGetterSetter(W,"centeredScaling",!1),e.Factory.addGetterSetter(W,"ignoreStroke",!1),e.Factory.addGetterSetter(W,"padding",0,(0,u.getNumberValidator)()),e.Factory.addGetterSetter(W,"nodes"),e.Factory.addGetterSetter(W,"node"),e.Factory.addGetterSetter(W,"boundBoxFunc"),e.Factory.addGetterSetter(W,"anchorDragBoundFunc"),e.Factory.addGetterSetter(W,"anchorStyleFunc"),e.Factory.addGetterSetter(W,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(W,"useSingleNodeRotation",!0),e.Factory.backCompat(W,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Hf}var Wf={},xv;function tL(){if(xv)return Wf;xv=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.Wedge=void 0;const t=Jn(),e=Vs(),n=Hn(),r=nr(),i=Hn();let s=class extends e.Shape{_sceneFunc(u){u.beginPath(),u.arc(0,0,this.radius(),0,n.Konva.getAngle(this.angle()),this.clockwise()),u.lineTo(0,0),u.closePath(),u.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(u){this.radius(u/2)}setHeight(u){this.radius(u/2)}};return Wf.Wedge=s,s.prototype.className="Wedge",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"angle",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"clockwise",!1),t.Factory.backCompat(s,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Wf}var qf={},Sv;function nL(){if(Sv)return qf;Sv=1,Object.defineProperty(qf,"__esModule",{value:!0}),qf.Blur=void 0;const t=Jn(),e=es(),n=nr();function r(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const i=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],s=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function l(c,h){const p=c.data,y=c.width,v=c.height;let g,_,S,E,A,N,x,L,D,W,re,U,M,V,F,H,Z,ne,le,xe;const B=h+h+1,G=y-1,Q=v-1,ee=h+1,$=ee*(ee+1)/2,j=new r,K=i[h],X=s[h];let ce=null,ae=j,J=null,ge=null;for(let _e=1;_e<B;_e++)ae=ae.next=new r,_e===ee&&(ce=ae);ae.next=j,S=_=0;for(let _e=0;_e<v;_e++){U=M=V=F=E=A=N=x=0,L=ee*(H=p[_]),D=ee*(Z=p[_+1]),W=ee*(ne=p[_+2]),re=ee*(le=p[_+3]),E+=$*H,A+=$*Z,N+=$*ne,x+=$*le,ae=j;for(let Se=0;Se<ee;Se++)ae.r=H,ae.g=Z,ae.b=ne,ae.a=le,ae=ae.next;for(let Se=1;Se<ee;Se++)g=_+((G<Se?G:Se)<<2),E+=(ae.r=H=p[g])*(xe=ee-Se),A+=(ae.g=Z=p[g+1])*xe,N+=(ae.b=ne=p[g+2])*xe,x+=(ae.a=le=p[g+3])*xe,U+=H,M+=Z,V+=ne,F+=le,ae=ae.next;J=j,ge=ce;for(let Se=0;Se<y;Se++)p[_+3]=le=x*K>>X,le!==0?(le=255/le,p[_]=(E*K>>X)*le,p[_+1]=(A*K>>X)*le,p[_+2]=(N*K>>X)*le):p[_]=p[_+1]=p[_+2]=0,E-=L,A-=D,N-=W,x-=re,L-=J.r,D-=J.g,W-=J.b,re-=J.a,g=S+((g=Se+h+1)<G?g:G)<<2,U+=J.r=p[g],M+=J.g=p[g+1],V+=J.b=p[g+2],F+=J.a=p[g+3],E+=U,A+=M,N+=V,x+=F,J=J.next,L+=H=ge.r,D+=Z=ge.g,W+=ne=ge.b,re+=le=ge.a,U-=H,M-=Z,V-=ne,F-=le,ge=ge.next,_+=4;S+=y}for(let _e=0;_e<y;_e++){M=V=F=U=A=N=x=E=0,_=_e<<2,L=ee*(H=p[_]),D=ee*(Z=p[_+1]),W=ee*(ne=p[_+2]),re=ee*(le=p[_+3]),E+=$*H,A+=$*Z,N+=$*ne,x+=$*le,ae=j;for(let Re=0;Re<ee;Re++)ae.r=H,ae.g=Z,ae.b=ne,ae.a=le,ae=ae.next;let Se=y;for(let Re=1;Re<=h;Re++)_=Se+_e<<2,E+=(ae.r=H=p[_])*(xe=ee-Re),A+=(ae.g=Z=p[_+1])*xe,N+=(ae.b=ne=p[_+2])*xe,x+=(ae.a=le=p[_+3])*xe,U+=H,M+=Z,V+=ne,F+=le,ae=ae.next,Re<Q&&(Se+=y);_=_e,J=j,ge=ce;for(let Re=0;Re<v;Re++)g=_<<2,p[g+3]=le=x*K>>X,le>0?(le=255/le,p[g]=(E*K>>X)*le,p[g+1]=(A*K>>X)*le,p[g+2]=(N*K>>X)*le):p[g]=p[g+1]=p[g+2]=0,E-=L,A-=D,N-=W,x-=re,L-=J.r,D-=J.g,W-=J.b,re-=J.a,g=_e+((g=Re+ee)<Q?g:Q)*y<<2,E+=U+=J.r=p[g],A+=M+=J.g=p[g+1],N+=V+=J.b=p[g+2],x+=F+=J.a=p[g+3],J=J.next,L+=H=ge.r,D+=Z=ge.g,W+=ne=ge.b,re+=le=ge.a,U-=H,M-=Z,V-=ne,F-=le,ge=ge.next,_+=y}}const u=function(h){const p=Math.round(this.blurRadius());p>0&&l(h,p)};return qf.Blur=u,t.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),qf}var Vf={},kv;function rL(){if(kv)return Vf;kv=1,Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.Brighten=void 0;const t=Jn(),e=es(),n=nr(),r=function(i){const s=this.brightness()*255,l=i.data,u=l.length;for(let c=0;c<u;c+=4)l[c]+=s,l[c+1]+=s,l[c+2]+=s};return Vf.Brighten=r,t.Factory.addGetterSetter(e.Node,"brightness",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Vf}var $f={},Cv;function iL(){if(Cv)return $f;Cv=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.Contrast=void 0;const t=Jn(),e=es(),n=nr(),r=function(i){const s=Math.pow((this.contrast()+100)/100,2),l=i.data,u=l.length;let c=150,h=150,p=150;for(let y=0;y<u;y+=4)c=l[y],h=l[y+1],p=l[y+2],c/=255,c-=.5,c*=s,c+=.5,c*=255,h/=255,h-=.5,h*=s,h+=.5,h*=255,p/=255,p-=.5,p*=s,p+=.5,p*=255,c=c<0?0:c>255?255:c,h=h<0?0:h>255?255:h,p=p<0?0:p>255?255:p,l[y]=c,l[y+1]=h,l[y+2]=p};return $f.Contrast=r,t.Factory.addGetterSetter(e.Node,"contrast",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),$f}var Yf={},Nv;function sL(){if(Nv)return Yf;Nv=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.Emboss=void 0;const t=Jn(),e=es(),n=ji(),r=nr(),i=function(s){const l=this.embossStrength()*10,u=this.embossWhiteLevel()*255,c=this.embossDirection(),h=this.embossBlend(),p=s.data,y=s.width,v=s.height,g=y*4;let _=0,S=0,E=v;switch(c){case"top-left":_=-1,S=-1;break;case"top":_=-1,S=0;break;case"top-right":_=-1,S=1;break;case"right":_=0,S=1;break;case"bottom-right":_=1,S=1;break;case"bottom":_=1,S=0;break;case"bottom-left":_=1,S=-1;break;case"left":_=0,S=-1;break;default:n.Util.error("Unknown emboss direction: "+c)}do{const A=(E-1)*g;let N=_;E+N<1&&(N=0),E+N>v&&(N=0);const x=(E-1+N)*y*4;let L=y;do{const D=A+(L-1)*4;let W=S;L+W<1&&(W=0),L+W>y&&(W=0);const re=x+(L-1+W)*4,U=p[D]-p[re],M=p[D+1]-p[re+1],V=p[D+2]-p[re+2];let F=U;const H=F>0?F:-F,Z=M>0?M:-M,ne=V>0?V:-V;if(Z>H&&(F=M),ne>H&&(F=V),F*=l,h){const le=p[D]+F,xe=p[D+1]+F,B=p[D+2]+F;p[D]=le>255?255:le<0?0:le,p[D+1]=xe>255?255:xe<0?0:xe,p[D+2]=B>255?255:B<0?0:B}else{let le=u-F;le<0?le=0:le>255&&(le=255),p[D]=p[D+1]=p[D+2]=le}}while(--L)}while(--E)};return Yf.Emboss=i,t.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossDirection","top-left",void 0,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossBlend",!1,void 0,t.Factory.afterSetFilter),Yf}var Kf={},Ev;function oL(){if(Ev)return Kf;Ev=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.Enhance=void 0;const t=Jn(),e=es(),n=nr();function r(s,l,u,c,h){const p=u-l,y=h-c;if(p===0)return c+y/2;if(y===0)return c;let v=(s-l)/p;return v=y*v+c,v}const i=function(s){const l=s.data,u=l.length;let c=l[0],h=c,p,y=l[1],v=y,g,_=l[2],S=_,E;const A=this.enhance();if(A===0)return;for(let U=0;U<u;U+=4)p=l[U+0],p<c?c=p:p>h&&(h=p),g=l[U+1],g<y?y=g:g>v&&(v=g),E=l[U+2],E<_?_=E:E>S&&(S=E);h===c&&(h=255,c=0),v===y&&(v=255,y=0),S===_&&(S=255,_=0);let N,x,L,D,W,re;if(A>0)N=h+A*(255-h),x=c-A*(c-0),L=v+A*(255-v),D=y-A*(y-0),W=S+A*(255-S),re=_-A*(_-0);else{const U=(h+c)*.5;N=h+A*(h-U),x=c+A*(c-U);const M=(v+y)*.5;L=v+A*(v-M),D=y+A*(y-M);const V=(S+_)*.5;W=S+A*(S-V),re=_+A*(_-V)}for(let U=0;U<u;U+=4)l[U+0]=r(l[U+0],c,h,x,N),l[U+1]=r(l[U+1],y,v,D,L),l[U+2]=r(l[U+2],_,S,re,W)};return Kf.Enhance=i,t.Factory.addGetterSetter(e.Node,"enhance",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Kf}var Xf={},Av;function aL(){if(Av)return Xf;Av=1,Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.Grayscale=void 0;const t=function(e){const n=e.data,r=n.length;for(let i=0;i<r;i+=4){const s=.34*n[i]+.5*n[i+1]+.16*n[i+2];n[i]=s,n[i+1]=s,n[i+2]=s}};return Xf.Grayscale=t,Xf}var Jf={},Lv;function lL(){if(Lv)return Jf;Lv=1,Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.HSL=void 0;const t=Jn(),e=es(),n=nr();t.Factory.addGetterSetter(e.Node,"hue",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"luminance",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter);const r=function(i){const s=i.data,l=s.length,u=1,c=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,p=this.luminance()*127,y=u*c*Math.cos(h*Math.PI/180),v=u*c*Math.sin(h*Math.PI/180),g=.299*u+.701*y+.167*v,_=.587*u-.587*y+.33*v,S=.114*u-.114*y-.497*v,E=.299*u-.299*y-.328*v,A=.587*u+.413*y+.035*v,N=.114*u-.114*y+.293*v,x=.299*u-.3*y+1.25*v,L=.587*u-.586*y-1.05*v,D=.114*u+.886*y-.2*v;let W,re,U,M;for(let V=0;V<l;V+=4)W=s[V+0],re=s[V+1],U=s[V+2],M=s[V+3],s[V+0]=g*W+_*re+S*U+p,s[V+1]=E*W+A*re+N*U+p,s[V+2]=x*W+L*re+D*U+p,s[V+3]=M};return Jf.HSL=r,Jf}var Qf={},Pv;function uL(){if(Pv)return Qf;Pv=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.HSV=void 0;const t=Jn(),e=es(),n=nr(),r=function(i){const s=i.data,l=s.length,u=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,p=u*c*Math.cos(h*Math.PI/180),y=u*c*Math.sin(h*Math.PI/180),v=.299*u+.701*p+.167*y,g=.587*u-.587*p+.33*y,_=.114*u-.114*p-.497*y,S=.299*u-.299*p-.328*y,E=.587*u+.413*p+.035*y,A=.114*u-.114*p+.293*y,N=.299*u-.3*p+1.25*y,x=.587*u-.586*p-1.05*y,L=.114*u+.886*p-.2*y;for(let D=0;D<l;D+=4){const W=s[D+0],re=s[D+1],U=s[D+2],M=s[D+3];s[D+0]=v*W+g*re+_*U,s[D+1]=S*W+E*re+A*U,s[D+2]=N*W+x*re+L*U,s[D+3]=M}};return Qf.HSV=r,t.Factory.addGetterSetter(e.Node,"hue",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"value",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Qf}var Zf={},Iv;function cL(){if(Iv)return Zf;Iv=1,Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.Invert=void 0;const t=function(e){const n=e.data,r=n.length;for(let i=0;i<r;i+=4)n[i]=255-n[i],n[i+1]=255-n[i+1],n[i+2]=255-n[i+2]};return Zf.Invert=t,Zf}var eh={},Rv;function dL(){if(Rv)return eh;Rv=1,Object.defineProperty(eh,"__esModule",{value:!0}),eh.Kaleidoscope=void 0;const t=Jn(),e=es(),n=ji(),r=nr(),i=function(u,c,h){const p=u.data,y=c.data,v=u.width,g=u.height,_=h.polarCenterX||v/2,S=h.polarCenterY||g/2;let E=Math.sqrt(_*_+S*S),A=v-_,N=g-S;const x=Math.sqrt(A*A+N*N);E=x>E?x:E;const L=g,D=v,W=360/D*Math.PI/180;for(let re=0;re<D;re+=1){const U=Math.sin(re*W),M=Math.cos(re*W);for(let V=0;V<L;V+=1){A=Math.floor(_+E*V/L*M),N=Math.floor(S+E*V/L*U);let F=(N*v+A)*4;const H=p[F+0],Z=p[F+1],ne=p[F+2],le=p[F+3];F=(re+V*v)*4,y[F+0]=H,y[F+1]=Z,y[F+2]=ne,y[F+3]=le}}},s=function(u,c,h){const p=u.data,y=c.data,v=u.width,g=u.height,_=h.polarCenterX||v/2,S=h.polarCenterY||g/2;let E=Math.sqrt(_*_+S*S),A=v-_,N=g-S;const x=Math.sqrt(A*A+N*N);E=x>E?x:E;const L=g,D=v,W=0;let re,U;for(A=0;A<v;A+=1)for(N=0;N<g;N+=1){const M=A-_,V=N-S,F=Math.sqrt(M*M+V*V)*L/E;let H=(Math.atan2(V,M)*180/Math.PI+360+W)%360;H=H*D/360,re=Math.floor(H),U=Math.floor(F);let Z=(U*v+re)*4;const ne=p[Z+0],le=p[Z+1],xe=p[Z+2],B=p[Z+3];Z=(N*v+A)*4,y[Z+0]=ne,y[Z+1]=le,y[Z+2]=xe,y[Z+3]=B}},l=function(u){const c=u.width,h=u.height;let p,y,v,g,_,S,E,A,N,x,L=Math.round(this.kaleidoscopePower());const D=Math.round(this.kaleidoscopeAngle()),W=Math.floor(c*(D%360)/360);if(L<1)return;const re=n.Util.createCanvasElement();re.width=c,re.height=h;const U=re.getContext("2d").getImageData(0,0,c,h);n.Util.releaseCanvas(re),i(u,U,{polarCenterX:c/2,polarCenterY:h/2});let M=c/Math.pow(2,L);for(;M<=8;)M=M*2,L-=1;M=Math.ceil(M);let V=M,F=0,H=V,Z=1;for(W+M>c&&(F=V,H=0,Z=-1),y=0;y<h;y+=1)for(p=F;p!==H;p+=Z)v=Math.round(p+W)%c,N=(c*y+v)*4,_=U.data[N+0],S=U.data[N+1],E=U.data[N+2],A=U.data[N+3],x=(c*y+p)*4,U.data[x+0]=_,U.data[x+1]=S,U.data[x+2]=E,U.data[x+3]=A;for(y=0;y<h;y+=1)for(V=Math.floor(M),g=0;g<L;g+=1){for(p=0;p<V+1;p+=1)N=(c*y+p)*4,_=U.data[N+0],S=U.data[N+1],E=U.data[N+2],A=U.data[N+3],x=(c*y+V*2-p-1)*4,U.data[x+0]=_,U.data[x+1]=S,U.data[x+2]=E,U.data[x+3]=A;V*=2}s(U,u,{})};return eh.Kaleidoscope=l,t.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),eh}var th={},Tv;function fL(){if(Tv)return th;Tv=1,Object.defineProperty(th,"__esModule",{value:!0}),th.Mask=void 0;const t=Jn(),e=es(),n=nr();function r(v,g,_){let S=(_*v.width+g)*4;const E=[];return E.push(v.data[S++],v.data[S++],v.data[S++],v.data[S++]),E}function i(v,g){return Math.sqrt(Math.pow(v[0]-g[0],2)+Math.pow(v[1]-g[1],2)+Math.pow(v[2]-g[2],2))}function s(v){const g=[0,0,0];for(let _=0;_<v.length;_++)g[0]+=v[_][0],g[1]+=v[_][1],g[2]+=v[_][2];return g[0]/=v.length,g[1]/=v.length,g[2]/=v.length,g}function l(v,g){const _=r(v,0,0),S=r(v,v.width-1,0),E=r(v,0,v.height-1),A=r(v,v.width-1,v.height-1),N=g||10;if(i(_,S)<N&&i(S,A)<N&&i(A,E)<N&&i(E,_)<N){const x=s([S,_,A,E]),L=[];for(let D=0;D<v.width*v.height;D++){const W=i(x,[v.data[D*4],v.data[D*4+1],v.data[D*4+2]]);L[D]=W<N?0:255}return L}}function u(v,g){for(let _=0;_<v.width*v.height;_++)v.data[4*_+3]=g[_]}function c(v,g,_){const S=[1,1,1,1,0,1,1,1,1],E=Math.round(Math.sqrt(S.length)),A=Math.floor(E/2),N=[];for(let x=0;x<_;x++)for(let L=0;L<g;L++){const D=x*g+L;let W=0;for(let re=0;re<E;re++)for(let U=0;U<E;U++){const M=x+re-A,V=L+U-A;if(M>=0&&M<_&&V>=0&&V<g){const F=M*g+V,H=S[re*E+U];W+=v[F]*H}}N[D]=W===2040?255:0}return N}function h(v,g,_){const S=[1,1,1,1,1,1,1,1,1],E=Math.round(Math.sqrt(S.length)),A=Math.floor(E/2),N=[];for(let x=0;x<_;x++)for(let L=0;L<g;L++){const D=x*g+L;let W=0;for(let re=0;re<E;re++)for(let U=0;U<E;U++){const M=x+re-A,V=L+U-A;if(M>=0&&M<_&&V>=0&&V<g){const F=M*g+V,H=S[re*E+U];W+=v[F]*H}}N[D]=W>=1020?255:0}return N}function p(v,g,_){const S=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],E=Math.round(Math.sqrt(S.length)),A=Math.floor(E/2),N=[];for(let x=0;x<_;x++)for(let L=0;L<g;L++){const D=x*g+L;let W=0;for(let re=0;re<E;re++)for(let U=0;U<E;U++){const M=x+re-A,V=L+U-A;if(M>=0&&M<_&&V>=0&&V<g){const F=M*g+V,H=S[re*E+U];W+=v[F]*H}}N[D]=W}return N}const y=function(v){const g=this.threshold();let _=l(v,g);return _&&(_=c(_,v.width,v.height),_=h(_,v.width,v.height),_=p(_,v.width,v.height),u(v,_)),v};return th.Mask=y,t.Factory.addGetterSetter(e.Node,"threshold",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),th}var nh={},Dv;function hL(){if(Dv)return nh;Dv=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.Noise=void 0;const t=Jn(),e=es(),n=nr(),r=function(i){const s=this.noise()*255,l=i.data,u=l.length,c=s/2;for(let h=0;h<u;h+=4)l[h+0]+=c-2*c*Math.random(),l[h+1]+=c-2*c*Math.random(),l[h+2]+=c-2*c*Math.random()};return nh.Noise=r,t.Factory.addGetterSetter(e.Node,"noise",.2,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),nh}var rh={},Ov;function pL(){if(Ov)return rh;Ov=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.Pixelate=void 0;const t=Jn(),e=ji(),n=es(),r=nr(),i=function(s){let l=Math.ceil(this.pixelSize()),u=s.width,c=s.height,h=Math.ceil(u/l),p=Math.ceil(c/l),y=s.data;if(l<=0){e.Util.error("pixelSize value can not be <= 0");return}for(let v=0;v<h;v+=1)for(let g=0;g<p;g+=1){let _=0,S=0,E=0,A=0;const N=v*l,x=N+l,L=g*l,D=L+l;let W=0;for(let re=N;re<x;re+=1)if(!(re>=u))for(let U=L;U<D;U+=1){if(U>=c)continue;const M=(u*U+re)*4;_+=y[M+0],S+=y[M+1],E+=y[M+2],A+=y[M+3],W+=1}_=_/W,S=S/W,E=E/W,A=A/W;for(let re=N;re<x;re+=1)if(!(re>=u))for(let U=L;U<D;U+=1){if(U>=c)continue;const M=(u*U+re)*4;y[M+0]=_,y[M+1]=S,y[M+2]=E,y[M+3]=A}}};return rh.Pixelate=i,t.Factory.addGetterSetter(n.Node,"pixelSize",8,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),rh}var ih={},Fv;function gL(){if(Fv)return ih;Fv=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.Posterize=void 0;const t=Jn(),e=es(),n=nr(),r=function(i){const s=Math.round(this.levels()*254)+1,l=i.data,u=l.length,c=255/s;for(let h=0;h<u;h+=1)l[h]=Math.floor(l[h]/c)*c};return ih.Posterize=r,t.Factory.addGetterSetter(e.Node,"levels",.5,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),ih}var sh={},Mv;function mL(){if(Mv)return sh;Mv=1,Object.defineProperty(sh,"__esModule",{value:!0}),sh.RGB=void 0;const t=Jn(),e=es(),n=nr(),r=function(i){const s=i.data,l=s.length,u=this.red(),c=this.green(),h=this.blue();for(let p=0;p<l;p+=4){const y=(.34*s[p]+.5*s[p+1]+.16*s[p+2])/255;s[p]=y*u,s[p+1]=y*c,s[p+2]=y*h,s[p+3]=s[p+3]}};return sh.RGB=r,t.Factory.addGetterSetter(e.Node,"red",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),t.Factory.addGetterSetter(e.Node,"green",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),t.Factory.addGetterSetter(e.Node,"blue",0,n.RGBComponent,t.Factory.afterSetFilter),sh}var oh={},Bv;function yL(){if(Bv)return oh;Bv=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.RGBA=void 0;const t=Jn(),e=es(),n=nr(),r=function(i){const s=i.data,l=s.length,u=this.red(),c=this.green(),h=this.blue(),p=this.alpha();for(let y=0;y<l;y+=4){const v=1-p;s[y]=u*p+s[y]*v,s[y+1]=c*p+s[y+1]*v,s[y+2]=h*p+s[y+2]*v}};return oh.RGBA=r,t.Factory.addGetterSetter(e.Node,"red",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),t.Factory.addGetterSetter(e.Node,"green",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),t.Factory.addGetterSetter(e.Node,"blue",0,n.RGBComponent,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"alpha",1,function(i){return this._filterUpToDate=!1,i>1?1:i<0?0:i}),oh}var ah={},jv;function vL(){if(jv)return ah;jv=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.Sepia=void 0;const t=function(e){const n=e.data,r=n.length;for(let i=0;i<r;i+=4){const s=n[i+0],l=n[i+1],u=n[i+2];n[i+0]=Math.min(255,s*.393+l*.769+u*.189),n[i+1]=Math.min(255,s*.349+l*.686+u*.168),n[i+2]=Math.min(255,s*.272+l*.534+u*.131)}};return ah.Sepia=t,ah}var lh={},Uv;function wL(){if(Uv)return lh;Uv=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.Solarize=void 0;const t=function(e){const n=e.data,r=e.width,i=e.height,s=r*4;let l=i;do{const u=(l-1)*s;let c=r;do{const h=u+(c-1)*4;let p=n[h],y=n[h+1],v=n[h+2];p>127&&(p=255-p),y>127&&(y=255-y),v>127&&(v=255-v),n[h]=p,n[h+1]=y,n[h+2]=v}while(--c)}while(--l)};return lh.Solarize=t,lh}var uh={},zv;function bL(){if(zv)return uh;zv=1,Object.defineProperty(uh,"__esModule",{value:!0}),uh.Threshold=void 0;const t=Jn(),e=es(),n=nr(),r=function(i){const s=this.threshold()*255,l=i.data,u=l.length;for(let c=0;c<u;c+=1)l[c]=l[c]<s?0:255};return uh.Threshold=r,t.Factory.addGetterSetter(e.Node,"threshold",.5,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),uh}var Gv;function _L(){if(Gv)return Sf;Gv=1,Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.Konva=void 0;const t=h2(),e=GA(),n=WA(),r=qA(),i=VA(),s=$A(),l=YA(),u=l8(),c=Sm(),h=u8(),p=KA(),y=XA(),v=JA(),g=QA(),_=c8(),S=ZA(),E=eL(),A=tL(),N=nL(),x=rL(),L=iL(),D=sL(),W=oL(),re=aL(),U=lL(),M=uL(),V=cL(),F=dL(),H=fL(),Z=hL(),ne=pL(),le=gL(),xe=mL(),B=yL(),G=vL(),Q=wL(),ee=bL();return Sf.Konva=t.Konva.Util._assign(t.Konva,{Arc:e.Arc,Arrow:n.Arrow,Circle:r.Circle,Ellipse:i.Ellipse,Image:s.Image,Label:l.Label,Tag:l.Tag,Line:u.Line,Path:c.Path,Rect:h.Rect,RegularPolygon:p.RegularPolygon,Ring:y.Ring,Sprite:v.Sprite,Star:g.Star,Text:_.Text,TextPath:S.TextPath,Transformer:E.Transformer,Wedge:A.Wedge,Filters:{Blur:N.Blur,Brighten:x.Brighten,Contrast:L.Contrast,Emboss:D.Emboss,Enhance:W.Enhance,Grayscale:re.Grayscale,HSL:U.HSL,HSV:M.HSV,Invert:V.Invert,Kaleidoscope:F.Kaleidoscope,Mask:H.Mask,Noise:Z.Noise,Pixelate:ne.Pixelate,Posterize:le.Posterize,RGB:xe.RGB,RGBA:B.RGBA,Sepia:G.Sepia,Solarize:Q.Solarize,Threshold:ee.Threshold}}),Sf}var xL=e0.exports,Hv;function SL(){if(Hv)return e0.exports;Hv=1,Object.defineProperty(xL,"__esModule",{value:!0});const t=_L();return e0.exports=t.Konva,e0.exports}var kL=SL();const hg=sd(kL);var Rp={exports:{}},Wv;function CL(){return Wv||(Wv=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var n=h2();Object.defineProperty(e,"Konva",{enumerable:!0,get:function(){return n.Konva}});const r=h2();t.exports=r.Konva})(Rp,Rp.exports)),Rp.exports}var NL=CL();const Bh=sd(NL);var pg={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg,qv;function EL(){return qv||(qv=1,gg=function(e){var n={},r=$d(),i=P2(),s=Object.assign;function l(d){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+d,b=1;b<arguments.length;b++)f+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),h=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),_=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),D=Symbol.iterator;function W(d){return d===null||typeof d!="object"?null:(d=D&&d[D]||d["@@iterator"],typeof d=="function"?d:null)}function re(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case p:return"Fragment";case h:return"Portal";case v:return"Profiler";case y:return"StrictMode";case E:return"Suspense";case A:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case _:return(d.displayName||"Context")+".Consumer";case g:return(d._context.displayName||"Context")+".Provider";case S:var f=d.render;return d=d.displayName,d||(d=f.displayName||f.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case N:return f=d.displayName||null,f!==null?f:re(d.type)||"Memo";case x:f=d._payload,d=d._init;try{return re(d(f))}catch{}}return null}function U(d){var f=d.type;switch(d.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=f.render,d=d.displayName||d.name||"",f.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(f);case 8:return f===y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function M(d){var f=d,b=d;if(d.alternate)for(;f.return;)f=f.return;else{d=f;do f=d,(f.flags&4098)!==0&&(b=f.return),d=f.return;while(d)}return f.tag===3?b:null}function V(d){if(M(d)!==d)throw Error(l(188))}function F(d){var f=d.alternate;if(!f){if(f=M(d),f===null)throw Error(l(188));return f!==d?null:d}for(var b=d,P=f;;){var T=b.return;if(T===null)break;var Y=T.alternate;if(Y===null){if(P=T.return,P!==null){b=P;continue}break}if(T.child===Y.child){for(Y=T.child;Y;){if(Y===b)return V(T),d;if(Y===P)return V(T),f;Y=Y.sibling}throw Error(l(188))}if(b.return!==P.return)b=T,P=Y;else{for(var me=!1,Te=T.child;Te;){if(Te===b){me=!0,b=T,P=Y;break}if(Te===P){me=!0,P=T,b=Y;break}Te=Te.sibling}if(!me){for(Te=Y.child;Te;){if(Te===b){me=!0,b=Y,P=T;break}if(Te===P){me=!0,P=Y,b=T;break}Te=Te.sibling}if(!me)throw Error(l(189))}}if(b.alternate!==P)throw Error(l(190))}if(b.tag!==3)throw Error(l(188));return b.stateNode.current===b?d:f}function H(d){return d=F(d),d!==null?Z(d):null}function Z(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var f=Z(d);if(f!==null)return f;d=d.sibling}return null}function ne(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var f=ne(d);if(f!==null)return f}d=d.sibling}return null}var le=Array.isArray,xe=e.getPublicInstance,B=e.getRootHostContext,G=e.getChildHostContext,Q=e.prepareForCommit,ee=e.resetAfterCommit,$=e.createInstance,j=e.appendInitialChild,K=e.finalizeInitialChildren,X=e.prepareUpdate,ce=e.shouldSetTextContent,ae=e.createTextInstance,J=e.scheduleTimeout,ge=e.cancelTimeout,_e=e.noTimeout,Se=e.isPrimaryRenderer,Re=e.supportsMutation,Ue=e.supportsPersistence,Ve=e.supportsHydration,Be=e.getInstanceFromNode,ye=e.preparePortalMount,Fe=e.getCurrentEventPriority,Ge=e.detachDeletedInstance,Je=e.supportsMicrotasks,Qe=e.scheduleMicrotask,ut=e.supportsTestSelectors,ot=e.findFiberRoot,ht=e.getBoundingRect,ct=e.getTextContent,Bt=e.isHiddenSubtree,kt=e.matchAccessibilityRole,Et=e.setFocusIfFocusable,Sn=e.setupIntersectionObserver,Vt=e.appendChild,Lt=e.appendChildToContainer,St=e.commitTextUpdate,wt=e.commitMount,wn=e.commitUpdate,In=e.insertBefore,Dt=e.insertInContainerBefore,rn=e.removeChild,Wn=e.removeChildFromContainer,Yt=e.resetTextContent,An=e.hideInstance,dn=e.hideTextInstance,Er=e.unhideInstance,xr=e.unhideTextInstance,qn=e.clearContainer,on=e.cloneInstance,Vn=e.createContainerChildSet,jo=e.appendChildToContainerChildSet,vi=e.finalizeContainerChildren,ps=e.replaceContainerChildren,gs=e.cloneHiddenInstance,Jt=e.cloneHiddenTextInstance,ts=e.canHydrateInstance,ks=e.canHydrateTextInstance,rt=e.canHydrateSuspenseInstance,$e=e.isSuspenseInstancePending,st=e.isSuspenseInstanceFallback,at=e.getSuspenseInstanceFallbackErrorDetails,gt=e.registerSuspenseInstanceRetry,yt=e.getNextHydratableSibling,Ct=e.getFirstHydratableChild,dt=e.getFirstHydratableChildWithinContainer,Gt=e.getFirstHydratableChildWithinSuspenseInstance,It=e.hydrateInstance,bn=e.hydrateTextInstance,nn=e.hydrateSuspenseInstance,an=e.getNextHydratableInstanceAfterSuspenseInstance,Xt=e.commitHydratedContainer,Rn=e.commitHydratedSuspenseInstance,sr=e.clearSuspenseBoundary,Mn=e.clearSuspenseBoundaryFromContainer,Bn=e.shouldDeleteUnhydratedTailInstances,wi=e.didNotMatchHydratedContainerTextInstance,On=e.didNotMatchHydratedTextInstance,go;function Cs(d){if(go===void 0)try{throw Error()}catch(b){var f=b.stack.trim().match(/\n( *(at )?)/);go=f&&f[1]||""}return`
`+go+d}var bi=!1;function Ns(d,f){if(!d||bi)return"";bi=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(mt){var P=mt}Reflect.construct(d,[],f)}else{try{f.call()}catch(mt){P=mt}d.call(f.prototype)}else{try{throw Error()}catch(mt){P=mt}d()}}catch(mt){if(mt&&P&&typeof mt.stack=="string"){for(var T=mt.stack.split(`
`),Y=P.stack.split(`
`),me=T.length-1,Te=Y.length-1;1<=me&&0<=Te&&T[me]!==Y[Te];)Te--;for(;1<=me&&0<=Te;me--,Te--)if(T[me]!==Y[Te]){if(me!==1||Te!==1)do if(me--,Te--,0>Te||T[me]!==Y[Te]){var Ye=`
`+T[me].replace(" at new "," at ");return d.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",d.displayName)),Ye}while(1<=me&&0<=Te);break}}}finally{bi=!1,Error.prepareStackTrace=b}return(d=d?d.displayName||d.name:"")?Cs(d):""}var Va=Object.prototype.hasOwnProperty,Uo=[],mo=-1;function ui(d){return{current:d}}function gr(d){0>mo||(d.current=Uo[mo],Uo[mo]=null,mo--)}function kn(d,f){mo++,Uo[mo]=d.current,d.current=f}var ea={},jn=ui(ea),Ui=ui(!1),$s=ea;function zi(d,f){var b=d.type.contextTypes;if(!b)return ea;var P=d.stateNode;if(P&&P.__reactInternalMemoizedUnmaskedChildContext===f)return P.__reactInternalMemoizedMaskedChildContext;var T={},Y;for(Y in b)T[Y]=f[Y];return P&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=f,d.__reactInternalMemoizedMaskedChildContext=T),T}function Or(d){return d=d.childContextTypes,d!=null}function Gi(){gr(Ui),gr(jn)}function $a(d,f,b){if(jn.current!==ea)throw Error(l(168));kn(jn,f),kn(Ui,b)}function Jr(d,f,b){var P=d.stateNode;if(f=f.childContextTypes,typeof P.getChildContext!="function")return b;P=P.getChildContext();for(var T in P)if(!(T in f))throw Error(l(108,U(d)||"Unknown",T));return s({},b,P)}function ta(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||ea,$s=jn.current,kn(jn,d),kn(Ui,Ui.current),!0}function yu(d,f,b){var P=d.stateNode;if(!P)throw Error(l(169));b?(d=Jr(d,f,$s),P.__reactInternalMemoizedMergedChildContext=d,gr(Ui),gr(jn),kn(jn,d)):gr(Ui),kn(Ui,b)}var ms=Math.clz32?Math.clz32:Ul,pl=Math.log,na=Math.LN2;function Ul(d){return d>>>=0,d===0?32:31-(pl(d)/na|0)|0}var Un=64,yo=4194304;function ra(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Ya(d,f){var b=d.pendingLanes;if(b===0)return 0;var P=0,T=d.suspendedLanes,Y=d.pingedLanes,me=b&268435455;if(me!==0){var Te=me&~T;Te!==0?P=ra(Te):(Y&=me,Y!==0&&(P=ra(Y)))}else me=b&~T,me!==0?P=ra(me):Y!==0&&(P=ra(Y));if(P===0)return 0;if(f!==0&&f!==P&&(f&T)===0&&(T=P&-P,Y=f&-f,T>=Y||T===16&&(Y&4194240)!==0))return f;if((P&4)!==0&&(P|=b&16),f=d.entangledLanes,f!==0)for(d=d.entanglements,f&=P;0<f;)b=31-ms(f),T=1<<b,P|=d[b],f&=~T;return P}function Gu(d,f){switch(d){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hu(d,f){for(var b=d.suspendedLanes,P=d.pingedLanes,T=d.expirationTimes,Y=d.pendingLanes;0<Y;){var me=31-ms(Y),Te=1<<me,Ye=T[me];Ye===-1?((Te&b)===0||(Te&P)!==0)&&(T[me]=Gu(Te,f)):Ye<=f&&(d.expiredLanes|=Te),Y&=~Te}}function Ka(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function ia(){var d=Un;return Un<<=1,(Un&4194240)===0&&(Un=64),d}function Ys(d){for(var f=[],b=0;31>b;b++)f.push(d);return f}function Es(d,f,b){d.pendingLanes|=f,f!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,f=31-ms(f),d[f]=b}function As(d,f){var b=d.pendingLanes&~f;d.pendingLanes=f,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=f,d.mutableReadLanes&=f,d.entangledLanes&=f,f=d.entanglements;var P=d.eventTimes;for(d=d.expirationTimes;0<b;){var T=31-ms(b),Y=1<<T;f[T]=0,P[T]=-1,d[T]=-1,b&=~Y}}function Ls(d,f){var b=d.entangledLanes|=f;for(d=d.entanglements;b;){var P=31-ms(b),T=1<<P;T&f|d[P]&f&&(d[P]|=f),b&=~T}}var _t=0;function Xa(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var vo=i.unstable_scheduleCallback,Wu=i.unstable_cancelCallback,qu=i.unstable_shouldYield,Ks=i.unstable_requestPaint,Sr=i.unstable_now,zl=i.unstable_ImmediatePriority,Gl=i.unstable_UserBlockingPriority,Aa=i.unstable_NormalPriority,vu=i.unstable_IdlePriority,Ps=null,_i=null;function zo(d){if(_i&&typeof _i.onCommitFiberRoot=="function")try{_i.onCommitFiberRoot(Ps,d,void 0,(d.current.flags&128)===128)}catch{}}function Hl(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var ys=typeof Object.is=="function"?Object.is:Hl,Xs=null,wo=!1,bo=!1;function Ja(d){Xs===null?Xs=[d]:Xs.push(d)}function gl(d){wo=!0,Ja(d)}function ni(){if(!bo&&Xs!==null){bo=!0;var d=0,f=_t;try{var b=Xs;for(_t=1;d<b.length;d++){var P=b[d];do P=P(!0);while(P!==null)}Xs=null,wo=!1}catch(T){throw Xs!==null&&(Xs=Xs.slice(d+1)),vo(zl,ni),T}finally{_t=f,bo=!1}}return null}var Is=[],_o=0,Qa=null,vs=0,Ur=[],ns=0,Qr=null,ci=1,Rs="";function I(d,f){Is[_o++]=vs,Is[_o++]=Qa,Qa=d,vs=f}function ie(d,f,b){Ur[ns++]=ci,Ur[ns++]=Rs,Ur[ns++]=Qr,Qr=d;var P=ci;d=Rs;var T=32-ms(P)-1;P&=~(1<<T),b+=1;var Y=32-ms(f)+T;if(30<Y){var me=T-T%5;Y=(P&(1<<me)-1).toString(32),P>>=me,T-=me,ci=1<<32-ms(f)+T|b<<T|P,Rs=Y+d}else ci=1<<Y|b<<T|P,Rs=d}function be(d){d.return!==null&&(I(d,1),ie(d,1,0))}function Ce(d){for(;d===Qa;)Qa=Is[--_o],Is[_o]=null,vs=Is[--_o],Is[_o]=null;for(;d===Qr;)Qr=Ur[--ns],Ur[ns]=null,Rs=Ur[--ns],Ur[ns]=null,ci=Ur[--ns],Ur[ns]=null}var Pe=null,Ke=null,tt=!1,Rt=!1,Pt=null;function fn(d,f){var b=Ko(5,null,null,0);b.elementType="DELETED",b.stateNode=f,b.return=d,f=d.deletions,f===null?(d.deletions=[b],d.flags|=16):f.push(b)}function hn(d,f){switch(d.tag){case 5:return f=ts(f,d.type,d.pendingProps),f!==null?(d.stateNode=f,Pe=d,Ke=Ct(f),!0):!1;case 6:return f=ks(f,d.pendingProps),f!==null?(d.stateNode=f,Pe=d,Ke=null,!0):!1;case 13:if(f=rt(f),f!==null){var b=Qr!==null?{id:ci,overflow:Rs}:null;return d.memoizedState={dehydrated:f,treeContext:b,retryLane:1073741824},b=Ko(18,null,null,0),b.stateNode=f,b.return=d,d.child=b,Pe=d,Ke=null,!0}return!1;default:return!1}}function Yn(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Ar(d){if(tt){var f=Ke;if(f){var b=f;if(!hn(d,f)){if(Yn(d))throw Error(l(418));f=yt(b);var P=Pe;f&&hn(d,f)?fn(P,b):(d.flags=d.flags&-4097|2,tt=!1,Pe=d)}}else{if(Yn(d))throw Error(l(418));d.flags=d.flags&-4097|2,tt=!1,Pe=d}}}function ri(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Pe=d}function dr(d){if(!Ve||d!==Pe)return!1;if(!tt)return ri(d),tt=!0,!1;if(d.tag!==3&&(d.tag!==5||Bn(d.type)&&!ce(d.type,d.memoizedProps))){var f=Ke;if(f){if(Yn(d))throw di(),Error(l(418));for(;f;)fn(d,f),f=yt(f)}}if(ri(d),d.tag===13){if(!Ve)throw Error(l(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));Ke=an(d)}else Ke=Pe?yt(d.stateNode):null;return!0}function di(){for(var d=Ke;d;)d=yt(d)}function kr(){Ve&&(Ke=Pe=null,Rt=tt=!1)}function xi(d){Pt===null?Pt=[d]:Pt.push(d)}var xo=u.ReactCurrentBatchConfig;function Hi(d,f){if(ys(d,f))return!0;if(typeof d!="object"||d===null||typeof f!="object"||f===null)return!1;var b=Object.keys(d),P=Object.keys(f);if(b.length!==P.length)return!1;for(P=0;P<b.length;P++){var T=b[P];if(!Va.call(f,T)||!ys(d[T],f[T]))return!1}return!0}function Vu(d){switch(d.tag){case 5:return Cs(d.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return d=Ns(d.type,!1),d;case 11:return d=Ns(d.type.render,!1),d;case 1:return d=Ns(d.type,!0),d;default:return""}}function So(d,f,b){if(d=b.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(l(309));var P=b.stateNode}if(!P)throw Error(l(147,d));var T=P,Y=""+d;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===Y?f.ref:(f=function(me){var Te=T.refs;me===null?delete Te[Y]:Te[Y]=me},f._stringRef=Y,f)}if(typeof d!="string")throw Error(l(284));if(!b._owner)throw Error(l(290,d))}return d}function sa(d,f){throw d=Object.prototype.toString.call(f),Error(l(31,d==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":d))}function La(d){var f=d._init;return f(d._payload)}function Za(d){function f(We,Oe){if(d){var et=We.deletions;et===null?(We.deletions=[Oe],We.flags|=16):et.push(Oe)}}function b(We,Oe){if(!d)return null;for(;Oe!==null;)f(We,Oe),Oe=Oe.sibling;return null}function P(We,Oe){for(We=new Map;Oe!==null;)Oe.key!==null?We.set(Oe.key,Oe):We.set(Oe.index,Oe),Oe=Oe.sibling;return We}function T(We,Oe){return We=ru(We,Oe),We.index=0,We.sibling=null,We}function Y(We,Oe,et){return We.index=et,d?(et=We.alternate,et!==null?(et=et.index,et<Oe?(We.flags|=2,Oe):et):(We.flags|=2,Oe)):(We.flags|=1048576,Oe)}function me(We){return d&&We.alternate===null&&(We.flags|=2),We}function Te(We,Oe,et,At){return Oe===null||Oe.tag!==6?(Oe=uc(et,We.mode,At),Oe.return=We,Oe):(Oe=T(Oe,et),Oe.return=We,Oe)}function Ye(We,Oe,et,At){var Zt=et.type;return Zt===p?Ut(We,Oe,et.props.children,At,et.key):Oe!==null&&(Oe.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===x&&La(Zt)===Oe.type)?(At=T(Oe,et.props),At.ref=So(We,Oe,et),At.return=We,At):(At=md(et.type,et.key,et.props,null,We.mode,At),At.ref=So(We,Oe,et),At.return=We,At)}function mt(We,Oe,et,At){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==et.containerInfo||Oe.stateNode.implementation!==et.implementation?(Oe=yd(et,We.mode,At),Oe.return=We,Oe):(Oe=T(Oe,et.children||[]),Oe.return=We,Oe)}function Ut(We,Oe,et,At,Zt){return Oe===null||Oe.tag!==7?(Oe=xs(et,We.mode,At,Zt),Oe.return=We,Oe):(Oe=T(Oe,et),Oe.return=We,Oe)}function _n(We,Oe,et){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Oe=uc(""+Oe,We.mode,et),Oe.return=We,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case c:return et=md(Oe.type,Oe.key,Oe.props,null,We.mode,et),et.ref=So(We,null,Oe),et.return=We,et;case h:return Oe=yd(Oe,We.mode,et),Oe.return=We,Oe;case x:var At=Oe._init;return _n(We,At(Oe._payload),et)}if(le(Oe)||W(Oe))return Oe=xs(Oe,We.mode,et,null),Oe.return=We,Oe;sa(We,Oe)}return null}function Nt(We,Oe,et,At){var Zt=Oe!==null?Oe.key:null;if(typeof et=="string"&&et!==""||typeof et=="number")return Zt!==null?null:Te(We,Oe,""+et,At);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case c:return et.key===Zt?Ye(We,Oe,et,At):null;case h:return et.key===Zt?mt(We,Oe,et,At):null;case x:return Zt=et._init,Nt(We,Oe,Zt(et._payload),At)}if(le(et)||W(et))return Zt!==null?null:Ut(We,Oe,et,At,null);sa(We,et)}return null}function jr(We,Oe,et,At,Zt){if(typeof At=="string"&&At!==""||typeof At=="number")return We=We.get(et)||null,Te(Oe,We,""+At,Zt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case c:return We=We.get(At.key===null?et:At.key)||null,Ye(Oe,We,At,Zt);case h:return We=We.get(At.key===null?et:At.key)||null,mt(Oe,We,At,Zt);case x:var Pn=At._init;return jr(We,Oe,et,Pn(At._payload),Zt)}if(le(At)||W(At))return We=We.get(et)||null,Ut(Oe,We,At,Zt,null);sa(Oe,At)}return null}function _r(We,Oe,et,At){for(var Zt=null,Pn=null,xn=Oe,tr=Oe=0,Ki=null;xn!==null&&tr<et.length;tr++){xn.index>tr?(Ki=xn,xn=null):Ki=xn.sibling;var Xn=Nt(We,xn,et[tr],At);if(Xn===null){xn===null&&(xn=Ki);break}d&&xn&&Xn.alternate===null&&f(We,xn),Oe=Y(Xn,Oe,tr),Pn===null?Zt=Xn:Pn.sibling=Xn,Pn=Xn,xn=Ki}if(tr===et.length)return b(We,xn),tt&&I(We,tr),Zt;if(xn===null){for(;tr<et.length;tr++)xn=_n(We,et[tr],At),xn!==null&&(Oe=Y(xn,Oe,tr),Pn===null?Zt=xn:Pn.sibling=xn,Pn=xn);return tt&&I(We,tr),Zt}for(xn=P(We,xn);tr<et.length;tr++)Ki=jr(xn,We,tr,et[tr],At),Ki!==null&&(d&&Ki.alternate!==null&&xn.delete(Ki.key===null?tr:Ki.key),Oe=Y(Ki,Oe,tr),Pn===null?Zt=Ki:Pn.sibling=Ki,Pn=Ki);return d&&xn.forEach(function(Bs){return f(We,Bs)}),tt&&I(We,tr),Zt}function ao(We,Oe,et,At){var Zt=W(et);if(typeof Zt!="function")throw Error(l(150));if(et=Zt.call(et),et==null)throw Error(l(151));for(var Pn=Zt=null,xn=Oe,tr=Oe=0,Ki=null,Xn=et.next();xn!==null&&!Xn.done;tr++,Xn=et.next()){xn.index>tr?(Ki=xn,xn=null):Ki=xn.sibling;var Bs=Nt(We,xn,Xn.value,At);if(Bs===null){xn===null&&(xn=Ki);break}d&&xn&&Bs.alternate===null&&f(We,xn),Oe=Y(Bs,Oe,tr),Pn===null?Zt=Bs:Pn.sibling=Bs,Pn=Bs,xn=Ki}if(Xn.done)return b(We,xn),tt&&I(We,tr),Zt;if(xn===null){for(;!Xn.done;tr++,Xn=et.next())Xn=_n(We,Xn.value,At),Xn!==null&&(Oe=Y(Xn,Oe,tr),Pn===null?Zt=Xn:Pn.sibling=Xn,Pn=Xn);return tt&&I(We,tr),Zt}for(xn=P(We,xn);!Xn.done;tr++,Xn=et.next())Xn=jr(xn,We,tr,Xn.value,At),Xn!==null&&(d&&Xn.alternate!==null&&xn.delete(Xn.key===null?tr:Xn.key),Oe=Y(Xn,Oe,tr),Pn===null?Zt=Xn:Pn.sibling=Xn,Pn=Xn);return d&&xn.forEach(function(r1){return f(We,r1)}),tt&&I(We,tr),Zt}function al(We,Oe,et,At){if(typeof et=="object"&&et!==null&&et.type===p&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case c:e:{for(var Zt=et.key,Pn=Oe;Pn!==null;){if(Pn.key===Zt){if(Zt=et.type,Zt===p){if(Pn.tag===7){b(We,Pn.sibling),Oe=T(Pn,et.props.children),Oe.return=We,We=Oe;break e}}else if(Pn.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===x&&La(Zt)===Pn.type){b(We,Pn.sibling),Oe=T(Pn,et.props),Oe.ref=So(We,Pn,et),Oe.return=We,We=Oe;break e}b(We,Pn);break}else f(We,Pn);Pn=Pn.sibling}et.type===p?(Oe=xs(et.props.children,We.mode,At,et.key),Oe.return=We,We=Oe):(At=md(et.type,et.key,et.props,null,We.mode,At),At.ref=So(We,Oe,et),At.return=We,We=At)}return me(We);case h:e:{for(Pn=et.key;Oe!==null;){if(Oe.key===Pn)if(Oe.tag===4&&Oe.stateNode.containerInfo===et.containerInfo&&Oe.stateNode.implementation===et.implementation){b(We,Oe.sibling),Oe=T(Oe,et.children||[]),Oe.return=We,We=Oe;break e}else{b(We,Oe);break}else f(We,Oe);Oe=Oe.sibling}Oe=yd(et,We.mode,At),Oe.return=We,We=Oe}return me(We);case x:return Pn=et._init,al(We,Oe,Pn(et._payload),At)}if(le(et))return _r(We,Oe,et,At);if(W(et))return ao(We,Oe,et,At);sa(We,et)}return typeof et=="string"&&et!==""||typeof et=="number"?(et=""+et,Oe!==null&&Oe.tag===6?(b(We,Oe.sibling),Oe=T(Oe,et),Oe.return=We,We=Oe):(b(We,Oe),Oe=uc(et,We.mode,At),Oe.return=We,We=Oe),me(We)):b(We,Oe)}return al}var Js=Za(!0),el=Za(!1),Si=ui(null),oa=null,ko=null,ml=null;function yl(){ml=ko=oa=null}function zr(d,f,b){Se?(kn(Si,f._currentValue),f._currentValue=b):(kn(Si,f._currentValue2),f._currentValue2=b)}function Qs(d){var f=Si.current;gr(Si),Se?d._currentValue=f:d._currentValue2=f}function Co(d,f,b){for(;d!==null;){var P=d.alternate;if((d.childLanes&f)!==f?(d.childLanes|=f,P!==null&&(P.childLanes|=f)):P!==null&&(P.childLanes&f)!==f&&(P.childLanes|=f),d===b)break;d=d.return}}function Pa(d,f){oa=d,ml=ko=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&f)!==0&&(fi=!0),d.firstContext=null)}function Fr(d){var f=Se?d._currentValue:d._currentValue2;if(ml!==d)if(d={context:d,memoizedValue:f,next:null},ko===null){if(oa===null)throw Error(l(308));ko=d,oa.dependencies={lanes:0,firstContext:d}}else ko=ko.next=d;return f}var Ts=null;function tl(d){Ts===null?Ts=[d]:Ts.push(d)}function vl(d,f,b,P){var T=f.interleaved;return T===null?(b.next=b,tl(f)):(b.next=T.next,T.next=b),f.interleaved=b,Ii(d,P)}function Ii(d,f){d.lanes|=f;var b=d.alternate;for(b!==null&&(b.lanes|=f),b=d,d=d.return;d!==null;)d.childLanes|=f,b=d.alternate,b!==null&&(b.childLanes|=f),b=d,d=d.return;return b.tag===3?b.stateNode:null}var ki=!1;function ws(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(d,f){d=d.updateQueue,f.updateQueue===d&&(f.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function rs(d,f){return{eventTime:d,lane:f,tag:0,payload:null,callback:null,next:null}}function Wi(d,f,b){var P=d.updateQueue;if(P===null)return null;if(P=P.shared,(ln&2)!==0){var T=P.pending;return T===null?f.next=f:(f.next=T.next,T.next=f),P.pending=f,Ii(d,b)}return T=P.interleaved,T===null?(f.next=f,tl(P)):(f.next=T.next,T.next=f),P.interleaved=f,Ii(d,b)}function No(d,f,b){if(f=f.updateQueue,f!==null&&(f=f.shared,(b&4194240)!==0)){var P=f.lanes;P&=d.pendingLanes,b|=P,f.lanes=b,Ls(d,b)}}function aa(d,f){var b=d.updateQueue,P=d.alternate;if(P!==null&&(P=P.updateQueue,b===P)){var T=null,Y=null;if(b=b.firstBaseUpdate,b!==null){do{var me={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};Y===null?T=Y=me:Y=Y.next=me,b=b.next}while(b!==null);Y===null?T=Y=f:Y=Y.next=f}else T=Y=f;b={baseState:P.baseState,firstBaseUpdate:T,lastBaseUpdate:Y,shared:P.shared,effects:P.effects},d.updateQueue=b;return}d=b.lastBaseUpdate,d===null?b.firstBaseUpdate=f:d.next=f,b.lastBaseUpdate=f}function Zs(d,f,b,P){var T=d.updateQueue;ki=!1;var Y=T.firstBaseUpdate,me=T.lastBaseUpdate,Te=T.shared.pending;if(Te!==null){T.shared.pending=null;var Ye=Te,mt=Ye.next;Ye.next=null,me===null?Y=mt:me.next=mt,me=Ye;var Ut=d.alternate;Ut!==null&&(Ut=Ut.updateQueue,Te=Ut.lastBaseUpdate,Te!==me&&(Te===null?Ut.firstBaseUpdate=mt:Te.next=mt,Ut.lastBaseUpdate=Ye))}if(Y!==null){var _n=T.baseState;me=0,Ut=mt=Ye=null,Te=Y;do{var Nt=Te.lane,jr=Te.eventTime;if((P&Nt)===Nt){Ut!==null&&(Ut=Ut.next={eventTime:jr,lane:0,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null});e:{var _r=d,ao=Te;switch(Nt=f,jr=b,ao.tag){case 1:if(_r=ao.payload,typeof _r=="function"){_n=_r.call(jr,_n,Nt);break e}_n=_r;break e;case 3:_r.flags=_r.flags&-65537|128;case 0:if(_r=ao.payload,Nt=typeof _r=="function"?_r.call(jr,_n,Nt):_r,Nt==null)break e;_n=s({},_n,Nt);break e;case 2:ki=!0}}Te.callback!==null&&Te.lane!==0&&(d.flags|=64,Nt=T.effects,Nt===null?T.effects=[Te]:Nt.push(Te))}else jr={eventTime:jr,lane:Nt,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null},Ut===null?(mt=Ut=jr,Ye=_n):Ut=Ut.next=jr,me|=Nt;if(Te=Te.next,Te===null){if(Te=T.shared.pending,Te===null)break;Nt=Te,Te=Nt.next,Nt.next=null,T.lastBaseUpdate=Nt,T.shared.pending=null}}while(!0);if(Ut===null&&(Ye=_n),T.baseState=Ye,T.firstBaseUpdate=mt,T.lastBaseUpdate=Ut,f=T.shared.interleaved,f!==null){T=f;do me|=T.lane,T=T.next;while(T!==f)}else Y===null&&(T.shared.lanes=0);Ma|=me,d.lanes=me,d.memoizedState=_n}}function Zr(d,f,b){if(d=f.effects,f.effects=null,d!==null)for(f=0;f<d.length;f++){var P=d[f],T=P.callback;if(T!==null){if(P.callback=null,P=b,typeof T!="function")throw Error(l(191,T));T.call(P)}}}var Go={},ii=ui(Go),bs=ui(Go),Eo=ui(Go);function is(d){if(d===Go)throw Error(l(174));return d}function nl(d,f){kn(Eo,f),kn(bs,d),kn(ii,Go),d=B(f),gr(ii),kn(ii,d)}function Ho(){gr(ii),gr(bs),gr(Eo)}function la(d){var f=is(Eo.current),b=is(ii.current);f=G(b,d.type,f),b!==f&&(kn(bs,d),kn(ii,f))}function ua(d){bs.current===d&&(gr(ii),gr(bs))}var or=ui(0);function ca(d){for(var f=d;f!==null;){if(f.tag===13){var b=f.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||$e(b)||st(b)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var da=[];function Ia(){for(var d=0;d<da.length;d++){var f=da[d];Se?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}da.length=0}var Lr=u.ReactCurrentDispatcher,ss=u.ReactCurrentBatchConfig,Tn=0,sn=null,Cn=null,Dn=null,Os=!1,Ra=!1,fa=0,Ta=0;function Ci(){throw Error(l(321))}function rl(d,f){if(f===null)return!1;for(var b=0;b<f.length&&b<d.length;b++)if(!ys(d[b],f[b]))return!1;return!0}function Wl(d,f,b,P,T,Y){if(Tn=Y,sn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Lr.current=d===null||d.memoizedState===null?Su:kl,d=b(P,T),Ra){Y=0;do{if(Ra=!1,fa=0,25<=Y)throw Error(l(301));Y+=1,Dn=Cn=null,f.updateQueue=null,Lr.current=Mc,d=b(P,T)}while(Ra)}if(Lr.current=Oa,f=Cn!==null&&Cn.next!==null,Tn=0,Dn=Cn=sn=null,Os=!1,f)throw Error(l(300));return d}function wu(){var d=fa!==0;return fa=0,d}function Fs(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?sn.memoizedState=Dn=d:Dn=Dn.next=d,Dn}function Ri(){if(Cn===null){var d=sn.alternate;d=d!==null?d.memoizedState:null}else d=Cn.next;var f=Dn===null?sn.memoizedState:Dn.next;if(f!==null)Dn=f,Cn=d;else{if(d===null)throw Error(l(310));Cn=d,d={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},Dn===null?sn.memoizedState=Dn=d:Dn=Dn.next=d}return Dn}function Wo(d,f){return typeof f=="function"?f(d):f}function bu(d){var f=Ri(),b=f.queue;if(b===null)throw Error(l(311));b.lastRenderedReducer=d;var P=Cn,T=P.baseQueue,Y=b.pending;if(Y!==null){if(T!==null){var me=T.next;T.next=Y.next,Y.next=me}P.baseQueue=T=Y,b.pending=null}if(T!==null){Y=T.next,P=P.baseState;var Te=me=null,Ye=null,mt=Y;do{var Ut=mt.lane;if((Tn&Ut)===Ut)Ye!==null&&(Ye=Ye.next={lane:0,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null}),P=mt.hasEagerState?mt.eagerState:d(P,mt.action);else{var _n={lane:Ut,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null};Ye===null?(Te=Ye=_n,me=P):Ye=Ye.next=_n,sn.lanes|=Ut,Ma|=Ut}mt=mt.next}while(mt!==null&&mt!==Y);Ye===null?me=P:Ye.next=Te,ys(P,f.memoizedState)||(fi=!0),f.memoizedState=P,f.baseState=me,f.baseQueue=Ye,b.lastRenderedState=P}if(d=b.interleaved,d!==null){T=d;do Y=T.lane,sn.lanes|=Y,Ma|=Y,T=T.next;while(T!==d)}else T===null&&(b.lanes=0);return[f.memoizedState,b.dispatch]}function wl(d){var f=Ri(),b=f.queue;if(b===null)throw Error(l(311));b.lastRenderedReducer=d;var P=b.dispatch,T=b.pending,Y=f.memoizedState;if(T!==null){b.pending=null;var me=T=T.next;do Y=d(Y,me.action),me=me.next;while(me!==T);ys(Y,f.memoizedState)||(fi=!0),f.memoizedState=Y,f.baseQueue===null&&(f.baseState=Y),b.lastRenderedState=Y}return[Y,P]}function $u(){}function Yu(d,f){var b=sn,P=Ri(),T=f(),Y=!ys(P.memoizedState,T);if(Y&&(P.memoizedState=T,fi=!0),P=P.queue,xl(Ju.bind(null,b,P,d),[d]),P.getSnapshot!==f||Y||Dn!==null&&Dn.memoizedState.tag&1){if(b.flags|=2048,Ni(9,Xu.bind(null,b,P,T,f),void 0,null),Gn===null)throw Error(l(349));(Tn&30)!==0||Ku(b,f,T)}return T}function Ku(d,f,b){d.flags|=16384,d={getSnapshot:f,value:b},f=sn.updateQueue,f===null?(f={lastEffect:null,stores:null},sn.updateQueue=f,f.stores=[d]):(b=f.stores,b===null?f.stores=[d]:b.push(d))}function Xu(d,f,b,P){f.value=b,f.getSnapshot=P,Qu(f)&&qo(d)}function Ju(d,f,b){return b(function(){Qu(f)&&qo(d)})}function Qu(d){var f=d.getSnapshot;d=d.value;try{var b=f();return!ys(d,b)}catch{return!0}}function qo(d){var f=Ii(d,1);f!==null&&fs(f,d,1,-1)}function bl(d){var f=Fs();return typeof d=="function"&&(d=d()),f.memoizedState=f.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:d},f.queue=d,d=d.dispatch=of.bind(null,sn,d),[f.memoizedState,d]}function Ni(d,f,b,P){return d={tag:d,create:f,destroy:b,deps:P,next:null},f=sn.updateQueue,f===null?(f={lastEffect:null,stores:null},sn.updateQueue=f,f.lastEffect=d.next=d):(b=f.lastEffect,b===null?f.lastEffect=d.next=d:(P=b.next,b.next=d,d.next=P,f.lastEffect=d)),d}function eo(){return Ri().memoizedState}function _l(d,f,b,P){var T=Fs();sn.flags|=d,T.memoizedState=Ni(1|f,b,void 0,P===void 0?null:P)}function Vo(d,f,b,P){var T=Ri();P=P===void 0?null:P;var Y=void 0;if(Cn!==null){var me=Cn.memoizedState;if(Y=me.destroy,P!==null&&rl(P,me.deps)){T.memoizedState=Ni(f,b,Y,P);return}}sn.flags|=d,T.memoizedState=Ni(1|f,b,Y,P)}function Oc(d,f){return _l(8390656,8,d,f)}function xl(d,f){return Vo(2048,8,d,f)}function ql(d,f){return Vo(4,2,d,f)}function mr(d,f){return Vo(4,4,d,f)}function _u(d,f){if(typeof f=="function")return d=d(),f(d),function(){f(null)};if(f!=null)return d=d(),f.current=d,function(){f.current=null}}function Sl(d,f,b){return b=b!=null?b.concat([d]):null,Vo(4,4,_u.bind(null,f,d),b)}function Da(){}function Vl(d,f){var b=Ri();f=f===void 0?null:f;var P=b.memoizedState;return P!==null&&f!==null&&rl(f,P[1])?P[0]:(b.memoizedState=[d,f],d)}function $l(d,f){var b=Ri();f=f===void 0?null:f;var P=b.memoizedState;return P!==null&&f!==null&&rl(f,P[1])?P[0]:(d=d(),b.memoizedState=[d,f],d)}function Yl(d,f,b){return(Tn&21)===0?(d.baseState&&(d.baseState=!1,fi=!0),d.memoizedState=b):(ys(b,f)||(b=ia(),sn.lanes|=b,Ma|=b,d.baseState=!0),f)}function Zu(d,f){var b=_t;_t=b!==0&&4>b?b:4,d(!0);var P=ss.transition;ss.transition={};try{d(!1),f()}finally{_t=b,ss.transition=P}}function il(){return Ri().memoizedState}function ld(d,f,b){var P=gi(d);if(b={lane:P,action:b,hasEagerState:!1,eagerState:null,next:null},ud(d))Fc(f,b);else if(b=vl(d,f,b,P),b!==null){var T=Cr();fs(b,d,P,T),xu(b,f,P)}}function of(d,f,b){var P=gi(d),T={lane:P,action:b,hasEagerState:!1,eagerState:null,next:null};if(ud(d))Fc(f,T);else{var Y=d.alternate;if(d.lanes===0&&(Y===null||Y.lanes===0)&&(Y=f.lastRenderedReducer,Y!==null))try{var me=f.lastRenderedState,Te=Y(me,b);if(T.hasEagerState=!0,T.eagerState=Te,ys(Te,me)){var Ye=f.interleaved;Ye===null?(T.next=T,tl(f)):(T.next=Ye.next,Ye.next=T),f.interleaved=T;return}}catch{}finally{}b=vl(d,f,T,P),b!==null&&(T=Cr(),fs(b,d,P,T),xu(b,f,P))}}function ud(d){var f=d.alternate;return d===sn||f!==null&&f===sn}function Fc(d,f){Ra=Os=!0;var b=d.pending;b===null?f.next=f:(f.next=b.next,b.next=f),d.pending=f}function xu(d,f,b){if((b&4194240)!==0){var P=f.lanes;P&=d.pendingLanes,b|=P,f.lanes=b,Ls(d,b)}}var Oa={readContext:Fr,useCallback:Ci,useContext:Ci,useEffect:Ci,useImperativeHandle:Ci,useInsertionEffect:Ci,useLayoutEffect:Ci,useMemo:Ci,useReducer:Ci,useRef:Ci,useState:Ci,useDebugValue:Ci,useDeferredValue:Ci,useTransition:Ci,useMutableSource:Ci,useSyncExternalStore:Ci,useId:Ci,unstable_isNewReconciler:!1},Su={readContext:Fr,useCallback:function(d,f){return Fs().memoizedState=[d,f===void 0?null:f],d},useContext:Fr,useEffect:Oc,useImperativeHandle:function(d,f,b){return b=b!=null?b.concat([d]):null,_l(4194308,4,_u.bind(null,f,d),b)},useLayoutEffect:function(d,f){return _l(4194308,4,d,f)},useInsertionEffect:function(d,f){return _l(4,2,d,f)},useMemo:function(d,f){var b=Fs();return f=f===void 0?null:f,d=d(),b.memoizedState=[d,f],d},useReducer:function(d,f,b){var P=Fs();return f=b!==void 0?b(f):f,P.memoizedState=P.baseState=f,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:f},P.queue=d,d=d.dispatch=ld.bind(null,sn,d),[P.memoizedState,d]},useRef:function(d){var f=Fs();return d={current:d},f.memoizedState=d},useState:bl,useDebugValue:Da,useDeferredValue:function(d){return Fs().memoizedState=d},useTransition:function(){var d=bl(!1),f=d[0];return d=Zu.bind(null,d[1]),Fs().memoizedState=d,[f,d]},useMutableSource:function(){},useSyncExternalStore:function(d,f,b){var P=sn,T=Fs();if(tt){if(b===void 0)throw Error(l(407));b=b()}else{if(b=f(),Gn===null)throw Error(l(349));(Tn&30)!==0||Ku(P,f,b)}T.memoizedState=b;var Y={value:b,getSnapshot:f};return T.queue=Y,Oc(Ju.bind(null,P,Y,d),[d]),P.flags|=2048,Ni(9,Xu.bind(null,P,Y,b,f),void 0,null),b},useId:function(){var d=Fs(),f=Gn.identifierPrefix;if(tt){var b=Rs,P=ci;b=(P&~(1<<32-ms(P)-1)).toString(32)+b,f=":"+f+"R"+b,b=fa++,0<b&&(f+="H"+b.toString(32)),f+=":"}else b=Ta++,f=":"+f+"r"+b.toString(32)+":";return d.memoizedState=f},unstable_isNewReconciler:!1},kl={readContext:Fr,useCallback:Vl,useContext:Fr,useEffect:xl,useImperativeHandle:Sl,useInsertionEffect:ql,useLayoutEffect:mr,useMemo:$l,useReducer:bu,useRef:eo,useState:function(){return bu(Wo)},useDebugValue:Da,useDeferredValue:function(d){var f=Ri();return Yl(f,Cn.memoizedState,d)},useTransition:function(){var d=bu(Wo)[0],f=Ri().memoizedState;return[d,f]},useMutableSource:$u,useSyncExternalStore:Yu,useId:il,unstable_isNewReconciler:!1},Mc={readContext:Fr,useCallback:Vl,useContext:Fr,useEffect:xl,useImperativeHandle:Sl,useInsertionEffect:ql,useLayoutEffect:mr,useMemo:$l,useReducer:wl,useRef:eo,useState:function(){return wl(Wo)},useDebugValue:Da,useDeferredValue:function(d){var f=Ri();return Cn===null?f.memoizedState=d:Yl(f,Cn.memoizedState,d)},useTransition:function(){var d=wl(Wo)[0],f=Ri().memoizedState;return[d,f]},useMutableSource:$u,useSyncExternalStore:Yu,useId:il,unstable_isNewReconciler:!1};function to(d,f){if(d&&d.defaultProps){f=s({},f),d=d.defaultProps;for(var b in d)f[b]===void 0&&(f[b]=d[b]);return f}return f}function ec(d,f,b,P){f=d.memoizedState,b=b(P,f),b=b==null?f:s({},f,b),d.memoizedState=b,d.lanes===0&&(d.updateQueue.baseState=b)}var ku={isMounted:function(d){return(d=d._reactInternals)?M(d)===d:!1},enqueueSetState:function(d,f,b){d=d._reactInternals;var P=Cr(),T=gi(d),Y=rs(P,T);Y.payload=f,b!=null&&(Y.callback=b),f=Wi(d,Y,T),f!==null&&(fs(f,d,T,P),No(f,d,T))},enqueueReplaceState:function(d,f,b){d=d._reactInternals;var P=Cr(),T=gi(d),Y=rs(P,T);Y.tag=1,Y.payload=f,b!=null&&(Y.callback=b),f=Wi(d,Y,T),f!==null&&(fs(f,d,T,P),No(f,d,T))},enqueueForceUpdate:function(d,f){d=d._reactInternals;var b=Cr(),P=gi(d),T=rs(b,P);T.tag=2,f!=null&&(T.callback=f),f=Wi(d,T,P),f!==null&&(fs(f,d,P,b),No(f,d,P))}};function cd(d,f,b,P,T,Y,me){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(P,Y,me):f.prototype&&f.prototype.isPureReactComponent?!Hi(b,P)||!Hi(T,Y):!0}function dd(d,f,b){var P=!1,T=ea,Y=f.contextType;return typeof Y=="object"&&Y!==null?Y=Fr(Y):(T=Or(f)?$s:jn.current,P=f.contextTypes,Y=(P=P!=null)?zi(d,T):ea),f=new f(b,Y),d.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ku,d.stateNode=f,f._reactInternals=d,P&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=T,d.__reactInternalMemoizedMaskedChildContext=Y),f}function tc(d,f,b,P){d=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(b,P),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(b,P),f.state!==d&&ku.enqueueReplaceState(f,f.state,null)}function qi(d,f,b,P){var T=d.stateNode;T.props=b,T.state=d.memoizedState,T.refs={},ws(d);var Y=f.contextType;typeof Y=="object"&&Y!==null?T.context=Fr(Y):(Y=Or(f)?$s:jn.current,T.context=zi(d,Y)),T.state=d.memoizedState,Y=f.getDerivedStateFromProps,typeof Y=="function"&&(ec(d,f,Y,b),T.state=d.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(f=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),f!==T.state&&ku.enqueueReplaceState(T,T.state,null),Zs(d,b,T,P),T.state=d.memoizedState),typeof T.componentDidMount=="function"&&(d.flags|=4194308)}function Vi(d,f){try{var b="",P=f;do b+=Vu(P),P=P.return;while(P);var T=b}catch(Y){T=`
Error generating stack: `+Y.message+`
`+Y.stack}return{value:d,source:f,stack:T,digest:null}}function os(d,f,b){return{value:d,source:null,stack:b??null,digest:f??null}}function Ao(d,f){try{console.error(f.value)}catch(b){setTimeout(function(){throw b})}}var Kl=typeof WeakMap=="function"?WeakMap:Map;function $i(d,f,b){b=rs(-1,b),b.tag=3,b.payload={element:null};var P=f.value;return b.callback=function(){qr||(qr=!0,Vr=P),Ao(d,f)},b}function _s(d,f,b){b=rs(-1,b),b.tag=3;var P=d.type.getDerivedStateFromError;if(typeof P=="function"){var T=f.value;b.payload=function(){return P(T)},b.callback=function(){Ao(d,f)}}var Y=d.stateNode;return Y!==null&&typeof Y.componentDidCatch=="function"&&(b.callback=function(){Ao(d,f),typeof P!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var me=f.stack;this.componentDidCatch(f.value,{componentStack:me!==null?me:""})}),b}function fd(d,f,b){var P=d.pingCache;if(P===null){P=d.pingCache=new Kl;var T=new Set;P.set(f,T)}else T=P.get(f),T===void 0&&(T=new Set,P.set(f,T));T.has(b)||(T.add(b),d=Jh.bind(null,d,f,b),f.then(d,d))}function hd(d){do{var f;if((f=d.tag===13)&&(f=d.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return d;d=d.return}while(d!==null);return null}function Fa(d,f,b,P,T){return(d.mode&1)===0?(d===f?d.flags|=65536:(d.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(f=rs(-1,1),f.tag=2,Wi(b,f,1))),b.lanes|=1),d):(d.flags|=65536,d.lanes=T,d)}var Xl=u.ReactCurrentOwner,fi=!1;function Ei(d,f,b,P){f.child=d===null?el(f,null,b,P):Js(f,d.child,b,P)}function nc(d,f,b,P,T){b=b.render;var Y=f.ref;return Pa(f,T),P=Wl(d,f,b,P,Y,T),b=wu(),d!==null&&!fi?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~T,O(d,f,T)):(tt&&b&&be(f),f.flags|=1,Ei(d,f,P,T),f.child)}function ha(d,f,b,P,T){if(d===null){var Y=b.type;return typeof Y=="function"&&!ac(Y)&&Y.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(f.tag=15,f.type=Y,Lo(d,f,Y,P,T)):(d=md(b.type,null,P,f,f.mode,T),d.ref=f.ref,d.return=f,f.child=d)}if(Y=d.child,(d.lanes&T)===0){var me=Y.memoizedProps;if(b=b.compare,b=b!==null?b:Hi,b(me,P)&&d.ref===f.ref)return O(d,f,T)}return f.flags|=1,d=ru(Y,P),d.ref=f.ref,d.return=f,f.child=d}function Lo(d,f,b,P,T){if(d!==null){var Y=d.memoizedProps;if(Hi(Y,P)&&d.ref===f.ref)if(fi=!1,f.pendingProps=P=Y,(d.lanes&T)!==0)(d.flags&131072)!==0&&(fi=!0);else return f.lanes=d.lanes,O(d,f,T)}return pa(d,f,b,P,T)}function ar(d,f,b){var P=f.pendingProps,T=P.children,Y=d!==null?d.memoizedState:null;if(P.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn($o,oi),oi|=b;else{if((b&1073741824)===0)return d=Y!==null?Y.baseLanes|b:b,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:d,cachePool:null,transitions:null},f.updateQueue=null,kn($o,oi),oi|=d,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},P=Y!==null?Y.baseLanes:b,kn($o,oi),oi|=P}else Y!==null?(P=Y.baseLanes|b,f.memoizedState=null):P=b,kn($o,oi),oi|=P;return Ei(d,f,T,b),f.child}function fr(d,f){var b=f.ref;(d===null&&b!==null||d!==null&&d.ref!==b)&&(f.flags|=512,f.flags|=2097152)}function pa(d,f,b,P,T){var Y=Or(b)?$s:jn.current;return Y=zi(f,Y),Pa(f,T),b=Wl(d,f,b,P,Y,T),P=wu(),d!==null&&!fi?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~T,O(d,f,T)):(tt&&P&&be(f),f.flags|=1,Ei(d,f,b,T),f.child)}function Ti(d,f,b,P,T){if(Or(b)){var Y=!0;ta(f)}else Y=!1;if(Pa(f,T),f.stateNode===null)C(d,f),dd(f,b,P),qi(f,b,P,T),P=!0;else if(d===null){var me=f.stateNode,Te=f.memoizedProps;me.props=Te;var Ye=me.context,mt=b.contextType;typeof mt=="object"&&mt!==null?mt=Fr(mt):(mt=Or(b)?$s:jn.current,mt=zi(f,mt));var Ut=b.getDerivedStateFromProps,_n=typeof Ut=="function"||typeof me.getSnapshotBeforeUpdate=="function";_n||typeof me.UNSAFE_componentWillReceiveProps!="function"&&typeof me.componentWillReceiveProps!="function"||(Te!==P||Ye!==mt)&&tc(f,me,P,mt),ki=!1;var Nt=f.memoizedState;me.state=Nt,Zs(f,P,me,T),Ye=f.memoizedState,Te!==P||Nt!==Ye||Ui.current||ki?(typeof Ut=="function"&&(ec(f,b,Ut,P),Ye=f.memoizedState),(Te=ki||cd(f,b,Te,P,Nt,Ye,mt))?(_n||typeof me.UNSAFE_componentWillMount!="function"&&typeof me.componentWillMount!="function"||(typeof me.componentWillMount=="function"&&me.componentWillMount(),typeof me.UNSAFE_componentWillMount=="function"&&me.UNSAFE_componentWillMount()),typeof me.componentDidMount=="function"&&(f.flags|=4194308)):(typeof me.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=P,f.memoizedState=Ye),me.props=P,me.state=Ye,me.context=mt,P=Te):(typeof me.componentDidMount=="function"&&(f.flags|=4194308),P=!1)}else{me=f.stateNode,Ds(d,f),Te=f.memoizedProps,mt=f.type===f.elementType?Te:to(f.type,Te),me.props=mt,_n=f.pendingProps,Nt=me.context,Ye=b.contextType,typeof Ye=="object"&&Ye!==null?Ye=Fr(Ye):(Ye=Or(b)?$s:jn.current,Ye=zi(f,Ye));var jr=b.getDerivedStateFromProps;(Ut=typeof jr=="function"||typeof me.getSnapshotBeforeUpdate=="function")||typeof me.UNSAFE_componentWillReceiveProps!="function"&&typeof me.componentWillReceiveProps!="function"||(Te!==_n||Nt!==Ye)&&tc(f,me,P,Ye),ki=!1,Nt=f.memoizedState,me.state=Nt,Zs(f,P,me,T);var _r=f.memoizedState;Te!==_n||Nt!==_r||Ui.current||ki?(typeof jr=="function"&&(ec(f,b,jr,P),_r=f.memoizedState),(mt=ki||cd(f,b,mt,P,Nt,_r,Ye)||!1)?(Ut||typeof me.UNSAFE_componentWillUpdate!="function"&&typeof me.componentWillUpdate!="function"||(typeof me.componentWillUpdate=="function"&&me.componentWillUpdate(P,_r,Ye),typeof me.UNSAFE_componentWillUpdate=="function"&&me.UNSAFE_componentWillUpdate(P,_r,Ye)),typeof me.componentDidUpdate=="function"&&(f.flags|=4),typeof me.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof me.componentDidUpdate!="function"||Te===d.memoizedProps&&Nt===d.memoizedState||(f.flags|=4),typeof me.getSnapshotBeforeUpdate!="function"||Te===d.memoizedProps&&Nt===d.memoizedState||(f.flags|=1024),f.memoizedProps=P,f.memoizedState=_r),me.props=P,me.state=_r,me.context=Ye,P=mt):(typeof me.componentDidUpdate!="function"||Te===d.memoizedProps&&Nt===d.memoizedState||(f.flags|=4),typeof me.getSnapshotBeforeUpdate!="function"||Te===d.memoizedProps&&Nt===d.memoizedState||(f.flags|=1024),P=!1)}return as(d,f,b,P,Y,T)}function as(d,f,b,P,T,Y){fr(d,f);var me=(f.flags&128)!==0;if(!P&&!me)return T&&yu(f,b,!1),O(d,f,Y);P=f.stateNode,Xl.current=f;var Te=me&&typeof b.getDerivedStateFromError!="function"?null:P.render();return f.flags|=1,d!==null&&me?(f.child=Js(f,d.child,null,Y),f.child=Js(f,null,Te,Y)):Ei(d,f,Te,Y),f.memoizedState=P.state,T&&yu(f,b,!0),f.child}function sl(d){var f=d.stateNode;f.pendingContext?$a(d,f.pendingContext,f.pendingContext!==f.context):f.context&&$a(d,f.context,!1),nl(d,f.containerInfo)}function Cl(d,f,b,P,T){return kr(),xi(T),f.flags|=256,Ei(d,f,b,P),f.child}var ls={dehydrated:null,treeContext:null,retryLane:0};function Jl(d){return{baseLanes:d,cachePool:null,transitions:null}}function Bc(d,f,b){var P=f.pendingProps,T=or.current,Y=!1,me=(f.flags&128)!==0,Te;if((Te=me)||(Te=d!==null&&d.memoizedState===null?!1:(T&2)!==0),Te?(Y=!0,f.flags&=-129):(d===null||d.memoizedState!==null)&&(T|=1),kn(or,T&1),d===null)return Ar(f),d=f.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((f.mode&1)===0?f.lanes=1:st(d)?f.lanes=8:f.lanes=1073741824,null):(me=P.children,d=P.fallback,Y?(P=f.mode,Y=f.child,me={mode:"hidden",children:me},(P&1)===0&&Y!==null?(Y.childLanes=0,Y.pendingProps=me):Y=lc(me,P,0,null),d=xs(d,P,b,null),Y.return=f,d.return=f,Y.sibling=d,f.child=Y,f.child.memoizedState=Jl(b),f.memoizedState=ls,d):Cu(f,me));if(T=d.memoizedState,T!==null&&(Te=T.dehydrated,Te!==null))return pd(d,f,me,P,Te,T,b);if(Y){Y=P.fallback,me=f.mode,T=d.child,Te=T.sibling;var Ye={mode:"hidden",children:P.children};return(me&1)===0&&f.child!==T?(P=f.child,P.childLanes=0,P.pendingProps=Ye,f.deletions=null):(P=ru(T,Ye),P.subtreeFlags=T.subtreeFlags&14680064),Te!==null?Y=ru(Te,Y):(Y=xs(Y,me,b,null),Y.flags|=2),Y.return=f,P.return=f,P.sibling=Y,f.child=P,P=Y,Y=f.child,me=d.child.memoizedState,me=me===null?Jl(b):{baseLanes:me.baseLanes|b,cachePool:null,transitions:me.transitions},Y.memoizedState=me,Y.childLanes=d.childLanes&~b,f.memoizedState=ls,P}return Y=d.child,d=Y.sibling,P=ru(Y,{mode:"visible",children:P.children}),(f.mode&1)===0&&(P.lanes=b),P.return=f,P.sibling=null,d!==null&&(b=f.deletions,b===null?(f.deletions=[d],f.flags|=16):b.push(d)),f.child=P,f.memoizedState=null,P}function Cu(d,f){return f=lc({mode:"visible",children:f},d.mode,0,null),f.return=d,d.child=f}function ga(d,f,b,P){return P!==null&&xi(P),Js(f,d.child,null,b),d=Cu(f,f.pendingProps.children),d.flags|=2,f.memoizedState=null,d}function pd(d,f,b,P,T,Y,me){if(b)return f.flags&256?(f.flags&=-257,P=os(Error(l(422))),ga(d,f,me,P)):f.memoizedState!==null?(f.child=d.child,f.flags|=128,null):(Y=P.fallback,T=f.mode,P=lc({mode:"visible",children:P.children},T,0,null),Y=xs(Y,T,me,null),Y.flags|=2,P.return=f,Y.return=f,P.sibling=Y,f.child=P,(f.mode&1)!==0&&Js(f,d.child,null,me),f.child.memoizedState=Jl(me),f.memoizedState=ls,Y);if((f.mode&1)===0)return ga(d,f,me,null);if(st(T))return P=at(T).digest,Y=Error(l(419)),P=os(Y,P,void 0),ga(d,f,me,P);if(b=(me&d.childLanes)!==0,fi||b){if(P=Gn,P!==null){switch(me&-me){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(P.suspendedLanes|me))!==0?0:T,T!==0&&T!==Y.retryLane&&(Y.retryLane=T,Ii(d,T),fs(P,d,T,-1))}return oo(),P=os(Error(l(421))),ga(d,f,me,P)}return $e(T)?(f.flags|=128,f.child=d.child,f=Zh.bind(null,d),gt(T,f),null):(d=Y.treeContext,Ve&&(Ke=Gt(T),Pe=f,tt=!0,Pt=null,Rt=!1,d!==null&&(Ur[ns++]=ci,Ur[ns++]=Rs,Ur[ns++]=Qr,ci=d.id,Rs=d.overflow,Qr=f)),f=Cu(f,P.children),f.flags|=4096,f)}function ma(d,f,b){d.lanes|=f;var P=d.alternate;P!==null&&(P.lanes|=f),Co(d.return,f,b)}function Nl(d,f,b,P,T){var Y=d.memoizedState;Y===null?d.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:P,tail:b,tailMode:T}:(Y.isBackwards=f,Y.rendering=null,Y.renderingStartTime=0,Y.last=P,Y.tail=b,Y.tailMode=T)}function w(d,f,b){var P=f.pendingProps,T=P.revealOrder,Y=P.tail;if(Ei(d,f,P.children,b),P=or.current,(P&2)!==0)P=P&1|2,f.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=f.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&ma(d,b,f);else if(d.tag===19)ma(d,b,f);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}P&=1}if(kn(or,P),(f.mode&1)===0)f.memoizedState=null;else switch(T){case"forwards":for(b=f.child,T=null;b!==null;)d=b.alternate,d!==null&&ca(d)===null&&(T=b),b=b.sibling;b=T,b===null?(T=f.child,f.child=null):(T=b.sibling,b.sibling=null),Nl(f,!1,T,b,Y);break;case"backwards":for(b=null,T=f.child,f.child=null;T!==null;){if(d=T.alternate,d!==null&&ca(d)===null){f.child=T;break}d=T.sibling,T.sibling=b,b=T,T=d}Nl(f,!0,b,null,Y);break;case"together":Nl(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function C(d,f){(f.mode&1)===0&&d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2)}function O(d,f,b){if(d!==null&&(f.dependencies=d.dependencies),Ma|=f.lanes,(b&f.childLanes)===0)return null;if(d!==null&&f.child!==d.child)throw Error(l(153));if(f.child!==null){for(d=f.child,b=ru(d,d.pendingProps),f.child=b,b.return=f;d.sibling!==null;)d=d.sibling,b=b.sibling=ru(d,d.pendingProps),b.return=f;b.sibling=null}return f.child}function q(d,f,b){switch(f.tag){case 3:sl(f),kr();break;case 5:la(f);break;case 1:Or(f.type)&&ta(f);break;case 4:nl(f,f.stateNode.containerInfo);break;case 10:zr(f,f.type._context,f.memoizedProps.value);break;case 13:var P=f.memoizedState;if(P!==null)return P.dehydrated!==null?(kn(or,or.current&1),f.flags|=128,null):(b&f.child.childLanes)!==0?Bc(d,f,b):(kn(or,or.current&1),d=O(d,f,b),d!==null?d.sibling:null);kn(or,or.current&1);break;case 19:if(P=(b&f.childLanes)!==0,(d.flags&128)!==0){if(P)return w(d,f,b);f.flags|=128}var T=f.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),kn(or,or.current),P)break;return null;case 22:case 23:return f.lanes=0,ar(d,f,b)}return O(d,f,b)}function te(d){d.flags|=4}function oe(d,f){if(d!==null&&d.child===f.child)return!0;if((f.flags&16)!==0)return!1;for(d=f.child;d!==null;){if((d.flags&12854)!==0||(d.subtreeFlags&12854)!==0)return!1;d=d.sibling}return!0}var de,he,pe,we;if(Re)de=function(d,f){for(var b=f.child;b!==null;){if(b.tag===5||b.tag===6)j(d,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===f)break;for(;b.sibling===null;){if(b.return===null||b.return===f)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},he=function(){},pe=function(d,f,b,P,T){if(d=d.memoizedProps,d!==P){var Y=f.stateNode,me=is(ii.current);b=X(Y,b,d,P,T,me),(f.updateQueue=b)&&te(f)}},we=function(d,f,b,P){b!==P&&te(f)};else if(Ue){de=function(d,f,b,P){for(var T=f.child;T!==null;){if(T.tag===5){var Y=T.stateNode;b&&P&&(Y=gs(Y,T.type,T.memoizedProps,T)),j(d,Y)}else if(T.tag===6)Y=T.stateNode,b&&P&&(Y=Jt(Y,T.memoizedProps,T)),j(d,Y);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)Y=T.child,Y!==null&&(Y.return=T),de(d,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===f)break;for(;T.sibling===null;){if(T.return===null||T.return===f)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var Ne=function(d,f,b,P){for(var T=f.child;T!==null;){if(T.tag===5){var Y=T.stateNode;b&&P&&(Y=gs(Y,T.type,T.memoizedProps,T)),jo(d,Y)}else if(T.tag===6)Y=T.stateNode,b&&P&&(Y=Jt(Y,T.memoizedProps,T)),jo(d,Y);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)Y=T.child,Y!==null&&(Y.return=T),Ne(d,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===f)break;for(;T.sibling===null;){if(T.return===null||T.return===f)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};he=function(d,f){var b=f.stateNode;if(!oe(d,f)){d=b.containerInfo;var P=Vn(d);Ne(P,f,!1,!1),b.pendingChildren=P,te(f),vi(d,P)}},pe=function(d,f,b,P,T){var Y=d.stateNode,me=d.memoizedProps;if((d=oe(d,f))&&me===P)f.stateNode=Y;else{var Te=f.stateNode,Ye=is(ii.current),mt=null;me!==P&&(mt=X(Te,b,me,P,T,Ye)),d&&mt===null?f.stateNode=Y:(Y=on(Y,mt,b,me,P,f,d,Te),K(Y,b,P,T,Ye)&&te(f),f.stateNode=Y,d?te(f):de(Y,f,!1,!1))}},we=function(d,f,b,P){b!==P?(d=is(Eo.current),b=is(ii.current),f.stateNode=ae(P,d,b,f),te(f)):f.stateNode=d.stateNode}}else he=function(){},pe=function(){},we=function(){};function je(d,f){if(!tt)switch(d.tailMode){case"hidden":f=d.tail;for(var b=null;f!==null;)f.alternate!==null&&(b=f),f=f.sibling;b===null?d.tail=null:b.sibling=null;break;case"collapsed":b=d.tail;for(var P=null;b!==null;)b.alternate!==null&&(P=b),b=b.sibling;P===null?f||d.tail===null?d.tail=null:d.tail.sibling=null:P.sibling=null}}function ve(d){var f=d.alternate!==null&&d.alternate.child===d.child,b=0,P=0;if(f)for(var T=d.child;T!==null;)b|=T.lanes|T.childLanes,P|=T.subtreeFlags&14680064,P|=T.flags&14680064,T.return=d,T=T.sibling;else for(T=d.child;T!==null;)b|=T.lanes|T.childLanes,P|=T.subtreeFlags,P|=T.flags,T.return=d,T=T.sibling;return d.subtreeFlags|=P,d.childLanes=b,f}function Le(d,f,b){var P=f.pendingProps;switch(Ce(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(f),null;case 1:return Or(f.type)&&Gi(),ve(f),null;case 3:return b=f.stateNode,Ho(),gr(Ui),gr(jn),Ia(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(d===null||d.child===null)&&(dr(f)?te(f):d===null||d.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Pt!==null&&(Nu(Pt),Pt=null))),he(d,f),ve(f),null;case 5:ua(f),b=is(Eo.current);var T=f.type;if(d!==null&&f.stateNode!=null)pe(d,f,T,P,b),d.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!P){if(f.stateNode===null)throw Error(l(166));return ve(f),null}if(d=is(ii.current),dr(f)){if(!Ve)throw Error(l(175));d=It(f.stateNode,f.type,f.memoizedProps,b,d,f,!Rt),f.updateQueue=d,d!==null&&te(f)}else{var Y=$(T,P,b,d,f);de(Y,f,!1,!1),f.stateNode=Y,K(Y,T,P,b,d)&&te(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return ve(f),null;case 6:if(d&&f.stateNode!=null)we(d,f,d.memoizedProps,P);else{if(typeof P!="string"&&f.stateNode===null)throw Error(l(166));if(d=is(Eo.current),b=is(ii.current),dr(f)){if(!Ve)throw Error(l(176));if(d=f.stateNode,b=f.memoizedProps,(P=bn(d,b,f,!Rt))&&(T=Pe,T!==null))switch(T.tag){case 3:wi(T.stateNode.containerInfo,d,b,(T.mode&1)!==0);break;case 5:On(T.type,T.memoizedProps,T.stateNode,d,b,(T.mode&1)!==0)}P&&te(f)}else f.stateNode=ae(P,d,b,f)}return ve(f),null;case 13:if(gr(or),P=f.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(tt&&Ke!==null&&(f.mode&1)!==0&&(f.flags&128)===0)di(),kr(),f.flags|=98560,T=!1;else if(T=dr(f),P!==null&&P.dehydrated!==null){if(d===null){if(!T)throw Error(l(318));if(!Ve)throw Error(l(344));if(T=f.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(l(317));nn(T,f)}else kr(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ve(f),T=!1}else Pt!==null&&(Nu(Pt),Pt=null),T=!0;if(!T)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=b,f):(b=P!==null,b!==(d!==null&&d.memoizedState!==null)&&b&&(f.child.flags|=8192,(f.mode&1)!==0&&(d===null||(or.current&1)!==0?yr===0&&(yr=3):oo())),f.updateQueue!==null&&(f.flags|=4),ve(f),null);case 4:return Ho(),he(d,f),d===null&&ye(f.stateNode.containerInfo),ve(f),null;case 10:return Qs(f.type._context),ve(f),null;case 17:return Or(f.type)&&Gi(),ve(f),null;case 19:if(gr(or),T=f.memoizedState,T===null)return ve(f),null;if(P=(f.flags&128)!==0,Y=T.rendering,Y===null)if(P)je(T,!1);else{if(yr!==0||d!==null&&(d.flags&128)!==0)for(d=f.child;d!==null;){if(Y=ca(d),Y!==null){for(f.flags|=128,je(T,!1),d=Y.updateQueue,d!==null&&(f.updateQueue=d,f.flags|=4),f.subtreeFlags=0,d=b,b=f.child;b!==null;)P=b,T=d,P.flags&=14680066,Y=P.alternate,Y===null?(P.childLanes=0,P.lanes=T,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=Y.childLanes,P.lanes=Y.lanes,P.child=Y.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=Y.memoizedProps,P.memoizedState=Y.memoizedState,P.updateQueue=Y.updateQueue,P.type=Y.type,T=Y.dependencies,P.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),b=b.sibling;return kn(or,or.current&1|2),f.child}d=d.sibling}T.tail!==null&&Sr()>eu&&(f.flags|=128,P=!0,je(T,!1),f.lanes=4194304)}else{if(!P)if(d=ca(Y),d!==null){if(f.flags|=128,P=!0,d=d.updateQueue,d!==null&&(f.updateQueue=d,f.flags|=4),je(T,!0),T.tail===null&&T.tailMode==="hidden"&&!Y.alternate&&!tt)return ve(f),null}else 2*Sr()-T.renderingStartTime>eu&&b!==1073741824&&(f.flags|=128,P=!0,je(T,!1),f.lanes=4194304);T.isBackwards?(Y.sibling=f.child,f.child=Y):(d=T.last,d!==null?d.sibling=Y:f.child=Y,T.last=Y)}return T.tail!==null?(f=T.tail,T.rendering=f,T.tail=f.sibling,T.renderingStartTime=Sr(),f.sibling=null,d=or.current,kn(or,P?d&1|2:d&1),f):(ve(f),null);case 22:case 23:return nu(),b=f.memoizedState!==null,d!==null&&d.memoizedState!==null!==b&&(f.flags|=8192),b&&(f.mode&1)!==0?(oi&1073741824)!==0&&(ve(f),Re&&f.subtreeFlags&6&&(f.flags|=8192)):ve(f),null;case 24:return null;case 25:return null}throw Error(l(156,f.tag))}function Me(d,f){switch(Ce(f),f.tag){case 1:return Or(f.type)&&Gi(),d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 3:return Ho(),gr(Ui),gr(jn),Ia(),d=f.flags,(d&65536)!==0&&(d&128)===0?(f.flags=d&-65537|128,f):null;case 5:return ua(f),null;case 13:if(gr(or),d=f.memoizedState,d!==null&&d.dehydrated!==null){if(f.alternate===null)throw Error(l(340));kr()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 19:return gr(or),null;case 4:return Ho(),null;case 10:return Qs(f.type._context),null;case 22:case 23:return nu(),null;case 24:return null;default:return null}}var Ze=!1,De=!1,Xe=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function nt(d,f){var b=d.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(P){Yr(d,f,P)}else b.current=null}function it(d,f,b){try{b()}catch(P){Yr(d,f,P)}}var Ht=!1;function Ot(d,f){for(Q(d.containerInfo),Ae=f;Ae!==null;)if(d=Ae,f=d.child,(d.subtreeFlags&1028)!==0&&f!==null)f.return=d,Ae=f;else for(;Ae!==null;){d=Ae;try{var b=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var P=b.memoizedProps,T=b.memoizedState,Y=d.stateNode,me=Y.getSnapshotBeforeUpdate(d.elementType===d.type?P:to(d.type,P),T);Y.__reactInternalSnapshotBeforeUpdate=me}break;case 3:Re&&qn(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(Te){Yr(d,d.return,Te)}if(f=d.sibling,f!==null){f.return=d.return,Ae=f;break}Ae=d.return}return b=Ht,Ht=!1,b}function pn(d,f,b){var P=f.updateQueue;if(P=P!==null?P.lastEffect:null,P!==null){var T=P=P.next;do{if((T.tag&d)===d){var Y=T.destroy;T.destroy=void 0,Y!==void 0&&it(f,b,Y)}T=T.next}while(T!==P)}}function Ft(d,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var b=f=f.next;do{if((b.tag&d)===d){var P=b.create;b.destroy=P()}b=b.next}while(b!==f)}}function Ln(d){var f=d.ref;if(f!==null){var b=d.stateNode;switch(d.tag){case 5:d=xe(b);break;default:d=b}typeof f=="function"?f(d):f.current=d}}function Gr(d){var f=d.alternate;f!==null&&(d.alternate=null,Gr(f)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(f=d.stateNode,f!==null&&Ge(f)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function mn(d){return d.tag===5||d.tag===3||d.tag===4}function Tt(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||mn(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function bt(d,f,b){var P=d.tag;if(P===5||P===6)d=d.stateNode,f?Dt(b,d,f):Lt(b,d);else if(P!==4&&(d=d.child,d!==null))for(bt(d,f,b),d=d.sibling;d!==null;)bt(d,f,b),d=d.sibling}function Hr(d,f,b){var P=d.tag;if(P===5||P===6)d=d.stateNode,f?In(b,d,f):Vt(b,d);else if(P!==4&&(d=d.child,d!==null))for(Hr(d,f,b),d=d.sibling;d!==null;)Hr(d,f,b),d=d.sibling}var jt=null,gn=!1;function zn(d,f,b){for(b=b.child;b!==null;)hi(d,f,b),b=b.sibling}function hi(d,f,b){if(_i&&typeof _i.onCommitFiberUnmount=="function")try{_i.onCommitFiberUnmount(Ps,b)}catch{}switch(b.tag){case 5:De||nt(b,f);case 6:if(Re){var P=jt,T=gn;jt=null,zn(d,f,b),jt=P,gn=T,jt!==null&&(gn?Wn(jt,b.stateNode):rn(jt,b.stateNode))}else zn(d,f,b);break;case 18:Re&&jt!==null&&(gn?Mn(jt,b.stateNode):sr(jt,b.stateNode));break;case 4:Re?(P=jt,T=gn,jt=b.stateNode.containerInfo,gn=!0,zn(d,f,b),jt=P,gn=T):(Ue&&(P=b.stateNode.containerInfo,T=Vn(P),ps(P,T)),zn(d,f,b));break;case 0:case 11:case 14:case 15:if(!De&&(P=b.updateQueue,P!==null&&(P=P.lastEffect,P!==null))){T=P=P.next;do{var Y=T,me=Y.destroy;Y=Y.tag,me!==void 0&&((Y&2)!==0||(Y&4)!==0)&&it(b,f,me),T=T.next}while(T!==P)}zn(d,f,b);break;case 1:if(!De&&(nt(b,f),P=b.stateNode,typeof P.componentWillUnmount=="function"))try{P.props=b.memoizedProps,P.state=b.memoizedState,P.componentWillUnmount()}catch(Te){Yr(b,f,Te)}zn(d,f,b);break;case 21:zn(d,f,b);break;case 22:b.mode&1?(De=(P=De)||b.memoizedState!==null,zn(d,f,b),De=P):zn(d,f,b);break;default:zn(d,f,b)}}function si(d){var f=d.updateQueue;if(f!==null){d.updateQueue=null;var b=d.stateNode;b===null&&(b=d.stateNode=new Xe),f.forEach(function(P){var T=e1.bind(null,d,P);b.has(P)||(b.add(P),P.then(T,T))})}}function Kn(d,f){var b=f.deletions;if(b!==null)for(var P=0;P<b.length;P++){var T=b[P];try{var Y=d,me=f;if(Re){var Te=me;e:for(;Te!==null;){switch(Te.tag){case 5:jt=Te.stateNode,gn=!1;break e;case 3:jt=Te.stateNode.containerInfo,gn=!0;break e;case 4:jt=Te.stateNode.containerInfo,gn=!0;break e}Te=Te.return}if(jt===null)throw Error(l(160));hi(Y,me,T),jt=null,gn=!1}else hi(Y,me,T);var Ye=T.alternate;Ye!==null&&(Ye.return=null),T.return=null}catch(mt){Yr(T,f,mt)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)pi(f,d),f=f.sibling}function pi(d,f){var b=d.alternate,P=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Kn(f,d),br(d),P&4){try{pn(3,d,d.return),Ft(3,d)}catch(Nt){Yr(d,d.return,Nt)}try{pn(5,d,d.return)}catch(Nt){Yr(d,d.return,Nt)}}break;case 1:Kn(f,d),br(d),P&512&&b!==null&&nt(b,b.return);break;case 5:if(Kn(f,d),br(d),P&512&&b!==null&&nt(b,b.return),Re){if(d.flags&32){var T=d.stateNode;try{Yt(T)}catch(Nt){Yr(d,d.return,Nt)}}if(P&4&&(T=d.stateNode,T!=null)){var Y=d.memoizedProps;if(b=b!==null?b.memoizedProps:Y,P=d.type,f=d.updateQueue,d.updateQueue=null,f!==null)try{wn(T,f,P,b,Y,d)}catch(Nt){Yr(d,d.return,Nt)}}}break;case 6:if(Kn(f,d),br(d),P&4&&Re){if(d.stateNode===null)throw Error(l(162));T=d.stateNode,Y=d.memoizedProps,b=b!==null?b.memoizedProps:Y;try{St(T,b,Y)}catch(Nt){Yr(d,d.return,Nt)}}break;case 3:if(Kn(f,d),br(d),P&4){if(Re&&Ve&&b!==null&&b.memoizedState.isDehydrated)try{Xt(f.containerInfo)}catch(Nt){Yr(d,d.return,Nt)}if(Ue){T=f.containerInfo,Y=f.pendingChildren;try{ps(T,Y)}catch(Nt){Yr(d,d.return,Nt)}}}break;case 4:if(Kn(f,d),br(d),P&4&&Ue){Y=d.stateNode,T=Y.containerInfo,Y=Y.pendingChildren;try{ps(T,Y)}catch(Nt){Yr(d,d.return,Nt)}}break;case 13:Kn(f,d),br(d),T=d.child,T.flags&8192&&(Y=T.memoizedState!==null,T.stateNode.isHidden=Y,!Y||T.alternate!==null&&T.alternate.memoizedState!==null||(Zl=Sr())),P&4&&si(d);break;case 22:var me=b!==null&&b.memoizedState!==null;if(d.mode&1?(De=(b=De)||me,Kn(f,d),De=b):Kn(f,d),br(d),P&8192){if(b=d.memoizedState!==null,(d.stateNode.isHidden=b)&&!me&&(d.mode&1)!==0)for(Ae=d,P=d.child;P!==null;){for(f=Ae=P;Ae!==null;){me=Ae;var Te=me.child;switch(me.tag){case 0:case 11:case 14:case 15:pn(4,me,me.return);break;case 1:nt(me,me.return);var Ye=me.stateNode;if(typeof Ye.componentWillUnmount=="function"){var mt=me,Ut=me.return;try{var _n=mt;Ye.props=_n.memoizedProps,Ye.state=_n.memoizedState,Ye.componentWillUnmount()}catch(Nt){Yr(mt,Ut,Nt)}}break;case 5:nt(me,me.return);break;case 22:if(me.memoizedState!==null){Pr(f);continue}}Te!==null?(Te.return=me,Ae=Te):Pr(f)}P=P.sibling}if(Re){e:if(P=null,Re)for(f=d;;){if(f.tag===5){if(P===null){P=f;try{T=f.stateNode,b?An(T):Er(f.stateNode,f.memoizedProps)}catch(Nt){Yr(d,d.return,Nt)}}}else if(f.tag===6){if(P===null)try{Y=f.stateNode,b?dn(Y):xr(Y,f.memoizedProps)}catch(Nt){Yr(d,d.return,Nt)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===d)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;P===f&&(P=null),f=f.return}P===f&&(P=null),f.sibling.return=f.return,f=f.sibling}}}break;case 19:Kn(f,d),br(d),P&4&&si(d);break;case 21:break;default:Kn(f,d),br(d)}}function br(d){var f=d.flags;if(f&2){try{if(Re){e:{for(var b=d.return;b!==null;){if(mn(b)){var P=b;break e}b=b.return}throw Error(l(160))}switch(P.tag){case 5:var T=P.stateNode;P.flags&32&&(Yt(T),P.flags&=-33);var Y=Tt(d);Hr(d,Y,T);break;case 3:case 4:var me=P.stateNode.containerInfo,Te=Tt(d);bt(d,Te,me);break;default:throw Error(l(161))}}}catch(Ye){Yr(d,d.return,Ye)}d.flags&=-3}f&4096&&(d.flags&=-4097)}function Mr(d,f,b){Ae=d,Fn(d)}function Fn(d,f,b){for(var P=(d.mode&1)!==0;Ae!==null;){var T=Ae,Y=T.child;if(T.tag===22&&P){var me=T.memoizedState!==null||Ze;if(!me){var Te=T.alternate,Ye=Te!==null&&Te.memoizedState!==null||De;Te=Ze;var mt=De;if(Ze=me,(De=Ye)&&!mt)for(Ae=T;Ae!==null;)me=Ae,Ye=me.child,me.tag===22&&me.memoizedState!==null?Zn(T):Ye!==null?(Ye.return=me,Ae=Ye):Zn(T);for(;Y!==null;)Ae=Y,Fn(Y),Y=Y.sibling;Ae=T,Ze=Te,De=mt}Qn(d)}else(T.subtreeFlags&8772)!==0&&Y!==null?(Y.return=T,Ae=Y):Qn(d)}}function Qn(d){for(;Ae!==null;){var f=Ae;if((f.flags&8772)!==0){var b=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:De||Ft(5,f);break;case 1:var P=f.stateNode;if(f.flags&4&&!De)if(b===null)P.componentDidMount();else{var T=f.elementType===f.type?b.memoizedProps:to(f.type,b.memoizedProps);P.componentDidUpdate(T,b.memoizedState,P.__reactInternalSnapshotBeforeUpdate)}var Y=f.updateQueue;Y!==null&&Zr(f,Y,P);break;case 3:var me=f.updateQueue;if(me!==null){if(b=null,f.child!==null)switch(f.child.tag){case 5:b=xe(f.child.stateNode);break;case 1:b=f.child.stateNode}Zr(f,me,b)}break;case 5:var Te=f.stateNode;b===null&&f.flags&4&&wt(Te,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(Ve&&f.memoizedState===null){var Ye=f.alternate;if(Ye!==null){var mt=Ye.memoizedState;if(mt!==null){var Ut=mt.dehydrated;Ut!==null&&Rn(Ut)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}De||f.flags&512&&Ln(f)}catch(_n){Yr(f,f.return,_n)}}if(f===d){Ae=null;break}if(b=f.sibling,b!==null){b.return=f.return,Ae=b;break}Ae=f.return}}function Pr(d){for(;Ae!==null;){var f=Ae;if(f===d){Ae=null;break}var b=f.sibling;if(b!==null){b.return=f.return,Ae=b;break}Ae=f.return}}function Zn(d){for(;Ae!==null;){var f=Ae;try{switch(f.tag){case 0:case 11:case 15:var b=f.return;try{Ft(4,f)}catch(Ye){Yr(f,b,Ye)}break;case 1:var P=f.stateNode;if(typeof P.componentDidMount=="function"){var T=f.return;try{P.componentDidMount()}catch(Ye){Yr(f,T,Ye)}}var Y=f.return;try{Ln(f)}catch(Ye){Yr(f,Y,Ye)}break;case 5:var me=f.return;try{Ln(f)}catch(Ye){Yr(f,me,Ye)}}}catch(Ye){Yr(f,f.return,Ye)}if(f===d){Ae=null;break}var Te=f.sibling;if(Te!==null){Te.return=f.return,Ae=Te;break}Ae=f.return}}var Ir=0,Rr=1,lr=2,Ai=3,rr=4;if(typeof Symbol=="function"&&Symbol.for){var ir=Symbol.for;Ir=ir("selector.component"),Rr=ir("selector.has_pseudo_class"),lr=ir("selector.role"),Ai=ir("selector.test_id"),rr=ir("selector.text")}function ei(d){var f=Be(d);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(l(364));return f}if(d=ot(d),d===null)throw Error(l(362));return d.stateNode.current}function Li(d,f){switch(f.$$typeof){case Ir:if(d.type===f.value)return!0;break;case Rr:e:{f=f.value,d=[d,0];for(var b=0;b<d.length;){var P=d[b++],T=d[b++],Y=f[T];if(P.tag!==5||!Bt(P)){for(;Y!=null&&Li(P,Y);)T++,Y=f[T];if(T===f.length){f=!0;break e}else for(P=P.child;P!==null;)d.push(P,T),P=P.sibling}}f=!1}return f;case lr:if(d.tag===5&&kt(d.stateNode,f.value))return!0;break;case rr:if((d.tag===5||d.tag===6)&&(d=ct(d),d!==null&&0<=d.indexOf(f.value)))return!0;break;case Ai:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(l(365))}return!1}function us(d){switch(d.$$typeof){case Ir:return"<"+(re(d.value)||"Unknown")+">";case Rr:return":has("+(us(d)||"")+")";case lr:return'[role="'+d.value+'"]';case rr:return'"'+d.value+'"';case Ai:return'[data-testname="'+d.value+'"]';default:throw Error(l(365))}}function ti(d,f){var b=[];d=[d,0];for(var P=0;P<d.length;){var T=d[P++],Y=d[P++],me=f[Y];if(T.tag!==5||!Bt(T)){for(;me!=null&&Li(T,me);)Y++,me=f[Y];if(Y===f.length)b.push(T);else for(T=T.child;T!==null;)d.push(T,Y),T=T.sibling}}return b}function Wr(d,f){if(!ut)throw Error(l(363));d=ei(d),d=ti(d,f),f=[],d=Array.from(d);for(var b=0;b<d.length;){var P=d[b++];if(P.tag===5)Bt(P)||f.push(P.stateNode);else for(P=P.child;P!==null;)d.push(P),P=P.sibling}return f}var cs=Math.ceil,ur=u.ReactCurrentDispatcher,Di=u.ReactCurrentOwner,er=u.ReactCurrentBatchConfig,ln=0,Gn=null,Nn=null,Br=0,oi=0,$o=ui(0),yr=0,Ql=null,Ma=0,vr=0,no=0,El=null,ds=null,Zl=0,eu=1/0,Oi=null;function hr(){eu=Sr()+500}var qr=!1,Vr=null,ro=null,Po=!1,io=null,rc=0,$r=0,tu=null,ol=-1,so=0;function Cr(){return(ln&6)!==0?Sr():ol!==-1?ol:ol=Sr()}function gi(d){return(d.mode&1)===0?1:(ln&2)!==0&&Br!==0?Br&-Br:xo.transition!==null?(so===0&&(so=ia()),so):(d=_t,d!==0?d:Fe())}function fs(d,f,b,P){if(50<$r)throw $r=0,tu=null,Error(l(185));Es(d,b,P),((ln&2)===0||d!==Gn)&&(d===Gn&&((ln&2)===0&&(vr|=b),yr===4&&ya(d,Br)),Yi(d,P),b===1&&ln===0&&(f.mode&1)===0&&(hr(),wo&&ni()))}function Yi(d,f){var b=d.callbackNode;Hu(d,f);var P=Ya(d,d===Gn?Br:0);if(P===0)b!==null&&Wu(b),d.callbackNode=null,d.callbackPriority=0;else if(f=P&-P,d.callbackPriority!==f){if(b!=null&&Wu(b),f===1)d.tag===0?gl(jc.bind(null,d)):Ja(jc.bind(null,d)),Je?Qe(function(){(ln&6)===0&&ni()}):vo(zl,ni),b=null;else{switch(Xa(P)){case 1:b=zl;break;case 4:b=Gl;break;case 16:b=Aa;break;case 536870912:b=vu;break;default:b=Aa}b=lf(b,Ba.bind(null,d))}d.callbackPriority=f,d.callbackNode=b}}function Ba(d,f){if(ol=-1,so=0,(ln&6)!==0)throw Error(l(327));var b=d.callbackNode;if(Ll()&&d.callbackNode!==b)return null;var P=Ya(d,d===Gn?Br:0);if(P===0)return null;if((P&30)!==0||(P&d.expiredLanes)!==0||f)f=wa(d,P);else{f=P;var T=ln;ln|=2;var Y=va();(Gn!==d||Br!==f)&&(Oi=null,hr(),Yo(d,f));do try{oc();break}catch(Te){Ms(d,Te)}while(!0);yl(),ur.current=Y,ln=T,Nn!==null?f=0:(Gn=null,Br=0,f=yr)}if(f!==0){if(f===2&&(T=Ka(d),T!==0&&(P=T,f=ic(d,T))),f===1)throw b=Ql,Yo(d,0),ya(d,P),Yi(d,Sr()),b;if(f===6)ya(d,P);else{if(T=d.current.alternate,(P&30)===0&&!gd(T)&&(f=wa(d,P),f===2&&(Y=Ka(d),Y!==0&&(P=Y,f=ic(d,Y))),f===1))throw b=Ql,Yo(d,0),ya(d,P),Yi(d,Sr()),b;switch(d.finishedWork=T,d.finishedLanes=P,f){case 0:case 1:throw Error(l(345));case 2:ba(d,ds,Oi);break;case 3:if(ya(d,P),(P&130023424)===P&&(f=Zl+500-Sr(),10<f)){if(Ya(d,0)!==0)break;if(T=d.suspendedLanes,(T&P)!==P){Cr(),d.pingedLanes|=d.suspendedLanes&T;break}d.timeoutHandle=J(ba.bind(null,d,ds,Oi),f);break}ba(d,ds,Oi);break;case 4:if(ya(d,P),(P&4194240)===P)break;for(f=d.eventTimes,T=-1;0<P;){var me=31-ms(P);Y=1<<me,me=f[me],me>T&&(T=me),P&=~Y}if(P=T,P=Sr()-P,P=(120>P?120:480>P?480:1080>P?1080:1920>P?1920:3e3>P?3e3:4320>P?4320:1960*cs(P/1960))-P,10<P){d.timeoutHandle=J(ba.bind(null,d,ds,Oi),P);break}ba(d,ds,Oi);break;case 5:ba(d,ds,Oi);break;default:throw Error(l(329))}}}return Yi(d,Sr()),d.callbackNode===b?Ba.bind(null,d):null}function ic(d,f){var b=El;return d.current.memoizedState.isDehydrated&&(Yo(d,f).flags|=256),d=wa(d,f),d!==2&&(f=ds,ds=b,f!==null&&Nu(f)),d}function Nu(d){ds===null?ds=d:ds.push.apply(ds,d)}function gd(d){for(var f=d;;){if(f.flags&16384){var b=f.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var P=0;P<b.length;P++){var T=b[P],Y=T.getSnapshot;T=T.value;try{if(!ys(Y(),T))return!1}catch{return!1}}}if(b=f.child,f.subtreeFlags&16384&&b!==null)b.return=f,f=b;else{if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function ya(d,f){for(f&=~no,f&=~vr,d.suspendedLanes|=f,d.pingedLanes&=~f,d=d.expirationTimes;0<f;){var b=31-ms(f),P=1<<b;d[b]=-1,f&=~P}}function jc(d){if((ln&6)!==0)throw Error(l(327));Ll();var f=Ya(d,0);if((f&1)===0)return Yi(d,Sr()),null;var b=wa(d,f);if(d.tag!==0&&b===2){var P=Ka(d);P!==0&&(f=P,b=ic(d,P))}if(b===1)throw b=Ql,Yo(d,0),ya(d,f),Yi(d,Sr()),b;if(b===6)throw Error(l(345));return d.finishedWork=d.current.alternate,d.finishedLanes=f,ba(d,ds,Oi),Yi(d,Sr()),null}function Al(d){io!==null&&io.tag===0&&(ln&6)===0&&Ll();var f=ln;ln|=1;var b=er.transition,P=_t;try{if(er.transition=null,_t=1,d)return d()}finally{_t=P,er.transition=b,ln=f,(ln&6)===0&&ni()}}function nu(){oi=$o.current,gr($o)}function Yo(d,f){d.finishedWork=null,d.finishedLanes=0;var b=d.timeoutHandle;if(b!==_e&&(d.timeoutHandle=_e,ge(b)),Nn!==null)for(b=Nn.return;b!==null;){var P=b;switch(Ce(P),P.tag){case 1:P=P.type.childContextTypes,P!=null&&Gi();break;case 3:Ho(),gr(Ui),gr(jn),Ia();break;case 5:ua(P);break;case 4:Ho();break;case 13:gr(or);break;case 19:gr(or);break;case 10:Qs(P.type._context);break;case 22:case 23:nu()}b=b.return}if(Gn=d,Nn=d=ru(d.current,null),Br=oi=f,yr=0,Ql=null,no=vr=Ma=0,ds=El=null,Ts!==null){for(f=0;f<Ts.length;f++)if(b=Ts[f],P=b.interleaved,P!==null){b.interleaved=null;var T=P.next,Y=b.pending;if(Y!==null){var me=Y.next;Y.next=T,P.next=me}b.pending=P}Ts=null}return d}function Ms(d,f){do{var b=Nn;try{if(yl(),Lr.current=Oa,Os){for(var P=sn.memoizedState;P!==null;){var T=P.queue;T!==null&&(T.pending=null),P=P.next}Os=!1}if(Tn=0,Dn=Cn=sn=null,Ra=!1,fa=0,Di.current=null,b===null||b.return===null){yr=1,Ql=f,Nn=null;break}e:{var Y=d,me=b.return,Te=b,Ye=f;if(f=Br,Te.flags|=32768,Ye!==null&&typeof Ye=="object"&&typeof Ye.then=="function"){var mt=Ye,Ut=Te,_n=Ut.tag;if((Ut.mode&1)===0&&(_n===0||_n===11||_n===15)){var Nt=Ut.alternate;Nt?(Ut.updateQueue=Nt.updateQueue,Ut.memoizedState=Nt.memoizedState,Ut.lanes=Nt.lanes):(Ut.updateQueue=null,Ut.memoizedState=null)}var jr=hd(me);if(jr!==null){jr.flags&=-257,Fa(jr,me,Te,Y,f),jr.mode&1&&fd(Y,mt,f),f=jr,Ye=mt;var _r=f.updateQueue;if(_r===null){var ao=new Set;ao.add(Ye),f.updateQueue=ao}else _r.add(Ye);break e}else{if((f&1)===0){fd(Y,mt,f),oo();break e}Ye=Error(l(426))}}else if(tt&&Te.mode&1){var al=hd(me);if(al!==null){(al.flags&65536)===0&&(al.flags|=256),Fa(al,me,Te,Y,f),xi(Vi(Ye,Te));break e}}Y=Ye=Vi(Ye,Te),yr!==4&&(yr=2),El===null?El=[Y]:El.push(Y),Y=me;do{switch(Y.tag){case 3:Y.flags|=65536,f&=-f,Y.lanes|=f;var We=$i(Y,Ye,f);aa(Y,We);break e;case 1:Te=Ye;var Oe=Y.type,et=Y.stateNode;if((Y.flags&128)===0&&(typeof Oe.getDerivedStateFromError=="function"||et!==null&&typeof et.componentDidCatch=="function"&&(ro===null||!ro.has(et)))){Y.flags|=65536,f&=-f,Y.lanes|=f;var At=_s(Y,Te,f);aa(Y,At);break e}}Y=Y.return}while(Y!==null)}Eu(b)}catch(Zt){f=Zt,Nn===b&&b!==null&&(Nn=b=b.return);continue}break}while(!0)}function va(){var d=ur.current;return ur.current=Oa,d===null?Oa:d}function oo(){(yr===0||yr===3||yr===2)&&(yr=4),Gn===null||(Ma&268435455)===0&&(vr&268435455)===0||ya(Gn,Br)}function wa(d,f){var b=ln;ln|=2;var P=va();(Gn!==d||Br!==f)&&(Oi=null,Yo(d,f));do try{sc();break}catch(T){Ms(d,T)}while(!0);if(yl(),ln=b,ur.current=P,Nn!==null)throw Error(l(261));return Gn=null,Br=0,yr}function sc(){for(;Nn!==null;)Uc(Nn)}function oc(){for(;Nn!==null&&!qu();)Uc(Nn)}function Uc(d){var f=ep(d.alternate,d,oi);d.memoizedProps=d.pendingProps,f===null?Eu(d):Nn=f,Di.current=null}function Eu(d){var f=d;do{var b=f.alternate;if(d=f.return,(f.flags&32768)===0){if(b=Le(b,f,oi),b!==null){Nn=b;return}}else{if(b=Me(b,f),b!==null){b.flags&=32767,Nn=b;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{yr=6,Nn=null;return}}if(f=f.sibling,f!==null){Nn=f;return}Nn=f=d}while(f!==null);yr===0&&(yr=5)}function ba(d,f,b){var P=_t,T=er.transition;try{er.transition=null,_t=1,Xh(d,f,b,P)}finally{er.transition=T,_t=P}return null}function Xh(d,f,b,P){do Ll();while(io!==null);if((ln&6)!==0)throw Error(l(327));b=d.finishedWork;var T=d.finishedLanes;if(b===null)return null;if(d.finishedWork=null,d.finishedLanes=0,b===d.current)throw Error(l(177));d.callbackNode=null,d.callbackPriority=0;var Y=b.lanes|b.childLanes;if(As(d,Y),d===Gn&&(Nn=Gn=null,Br=0),(b.subtreeFlags&2064)===0&&(b.flags&2064)===0||Po||(Po=!0,lf(Aa,function(){return Ll(),null})),Y=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||Y){Y=er.transition,er.transition=null;var me=_t;_t=1;var Te=ln;ln|=4,Di.current=null,Ot(d,b),pi(b,d),ee(d.containerInfo),d.current=b,Mr(b),Ks(),ln=Te,_t=me,er.transition=Y}else d.current=b;if(Po&&(Po=!1,io=d,rc=T),Y=d.pendingLanes,Y===0&&(ro=null),zo(b.stateNode),Yi(d,Sr()),f!==null)for(P=d.onRecoverableError,b=0;b<f.length;b++)T=f[b],P(T.value,{componentStack:T.stack,digest:T.digest});if(qr)throw qr=!1,d=Vr,Vr=null,d;return(rc&1)!==0&&d.tag!==0&&Ll(),Y=d.pendingLanes,(Y&1)!==0?d===tu?$r++:($r=0,tu=d):$r=0,ni(),null}function Ll(){if(io!==null){var d=Xa(rc),f=er.transition,b=_t;try{if(er.transition=null,_t=16>d?16:d,io===null)var P=!1;else{if(d=io,io=null,rc=0,(ln&6)!==0)throw Error(l(331));var T=ln;for(ln|=4,Ae=d.current;Ae!==null;){var Y=Ae,me=Y.child;if((Ae.flags&16)!==0){var Te=Y.deletions;if(Te!==null){for(var Ye=0;Ye<Te.length;Ye++){var mt=Te[Ye];for(Ae=mt;Ae!==null;){var Ut=Ae;switch(Ut.tag){case 0:case 11:case 15:pn(8,Ut,Y)}var _n=Ut.child;if(_n!==null)_n.return=Ut,Ae=_n;else for(;Ae!==null;){Ut=Ae;var Nt=Ut.sibling,jr=Ut.return;if(Gr(Ut),Ut===mt){Ae=null;break}if(Nt!==null){Nt.return=jr,Ae=Nt;break}Ae=jr}}}var _r=Y.alternate;if(_r!==null){var ao=_r.child;if(ao!==null){_r.child=null;do{var al=ao.sibling;ao.sibling=null,ao=al}while(ao!==null)}}Ae=Y}}if((Y.subtreeFlags&2064)!==0&&me!==null)me.return=Y,Ae=me;else e:for(;Ae!==null;){if(Y=Ae,(Y.flags&2048)!==0)switch(Y.tag){case 0:case 11:case 15:pn(9,Y,Y.return)}var We=Y.sibling;if(We!==null){We.return=Y.return,Ae=We;break e}Ae=Y.return}}var Oe=d.current;for(Ae=Oe;Ae!==null;){me=Ae;var et=me.child;if((me.subtreeFlags&2064)!==0&&et!==null)et.return=me,Ae=et;else e:for(me=Oe;Ae!==null;){if(Te=Ae,(Te.flags&2048)!==0)try{switch(Te.tag){case 0:case 11:case 15:Ft(9,Te)}}catch(Zt){Yr(Te,Te.return,Zt)}if(Te===me){Ae=null;break e}var At=Te.sibling;if(At!==null){At.return=Te.return,Ae=At;break e}Ae=Te.return}}if(ln=T,ni(),_i&&typeof _i.onPostCommitFiberRoot=="function")try{_i.onPostCommitFiberRoot(Ps,d)}catch{}P=!0}return P}finally{_t=b,er.transition=f}}return!1}function af(d,f,b){f=Vi(b,f),f=$i(d,f,1),d=Wi(d,f,1),f=Cr(),d!==null&&(Es(d,1,f),Yi(d,f))}function Yr(d,f,b){if(d.tag===3)af(d,d,b);else for(;f!==null;){if(f.tag===3){af(f,d,b);break}else if(f.tag===1){var P=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(ro===null||!ro.has(P))){d=Vi(b,d),d=_s(f,d,1),f=Wi(f,d,1),d=Cr(),f!==null&&(Es(f,1,d),Yi(f,d));break}}f=f.return}}function Jh(d,f,b){var P=d.pingCache;P!==null&&P.delete(f),f=Cr(),d.pingedLanes|=d.suspendedLanes&b,Gn===d&&(Br&b)===b&&(yr===4||yr===3&&(Br&130023424)===Br&&500>Sr()-Zl?Yo(d,0):no|=b),Yi(d,f)}function Qh(d,f){f===0&&((d.mode&1)===0?f=1:(f=yo,yo<<=1,(yo&130023424)===0&&(yo=4194304)));var b=Cr();d=Ii(d,f),d!==null&&(Es(d,f,b),Yi(d,b))}function Zh(d){var f=d.memoizedState,b=0;f!==null&&(b=f.retryLane),Qh(d,b)}function e1(d,f){var b=0;switch(d.tag){case 13:var P=d.stateNode,T=d.memoizedState;T!==null&&(b=T.retryLane);break;case 19:P=d.stateNode;break;default:throw Error(l(314))}P!==null&&P.delete(f),Qh(d,b)}var ep;ep=function(d,f,b){if(d!==null)if(d.memoizedProps!==f.pendingProps||Ui.current)fi=!0;else{if((d.lanes&b)===0&&(f.flags&128)===0)return fi=!1,q(d,f,b);fi=(d.flags&131072)!==0}else fi=!1,tt&&(f.flags&1048576)!==0&&ie(f,vs,f.index);switch(f.lanes=0,f.tag){case 2:var P=f.type;C(d,f),d=f.pendingProps;var T=zi(f,jn.current);Pa(f,b),T=Wl(null,f,P,d,T,b);var Y=wu();return f.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Or(P)?(Y=!0,ta(f)):Y=!1,f.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,ws(f),T.updater=ku,f.stateNode=T,T._reactInternals=f,qi(f,P,d,b),f=as(null,f,P,!0,Y,b)):(f.tag=0,tt&&Y&&be(f),Ei(null,f,T,b),f=f.child),f;case 16:P=f.elementType;e:{switch(C(d,f),d=f.pendingProps,T=P._init,P=T(P._payload),f.type=P,T=f.tag=t1(P),d=to(P,d),T){case 0:f=pa(null,f,P,d,b);break e;case 1:f=Ti(null,f,P,d,b);break e;case 11:f=nc(null,f,P,d,b);break e;case 14:f=ha(null,f,P,to(P.type,d),b);break e}throw Error(l(306,P,""))}return f;case 0:return P=f.type,T=f.pendingProps,T=f.elementType===P?T:to(P,T),pa(d,f,P,T,b);case 1:return P=f.type,T=f.pendingProps,T=f.elementType===P?T:to(P,T),Ti(d,f,P,T,b);case 3:e:{if(sl(f),d===null)throw Error(l(387));P=f.pendingProps,Y=f.memoizedState,T=Y.element,Ds(d,f),Zs(f,P,null,b);var me=f.memoizedState;if(P=me.element,Ve&&Y.isDehydrated)if(Y={element:P,isDehydrated:!1,cache:me.cache,pendingSuspenseBoundaries:me.pendingSuspenseBoundaries,transitions:me.transitions},f.updateQueue.baseState=Y,f.memoizedState=Y,f.flags&256){T=Vi(Error(l(423)),f),f=Cl(d,f,P,b,T);break e}else if(P!==T){T=Vi(Error(l(424)),f),f=Cl(d,f,P,b,T);break e}else for(Ve&&(Ke=dt(f.stateNode.containerInfo),Pe=f,tt=!0,Pt=null,Rt=!1),b=el(f,null,P,b),f.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(kr(),P===T){f=O(d,f,b);break e}Ei(d,f,P,b)}f=f.child}return f;case 5:return la(f),d===null&&Ar(f),P=f.type,T=f.pendingProps,Y=d!==null?d.memoizedProps:null,me=T.children,ce(P,T)?me=null:Y!==null&&ce(P,Y)&&(f.flags|=32),fr(d,f),Ei(d,f,me,b),f.child;case 6:return d===null&&Ar(f),null;case 13:return Bc(d,f,b);case 4:return nl(f,f.stateNode.containerInfo),P=f.pendingProps,d===null?f.child=Js(f,null,P,b):Ei(d,f,P,b),f.child;case 11:return P=f.type,T=f.pendingProps,T=f.elementType===P?T:to(P,T),nc(d,f,P,T,b);case 7:return Ei(d,f,f.pendingProps,b),f.child;case 8:return Ei(d,f,f.pendingProps.children,b),f.child;case 12:return Ei(d,f,f.pendingProps.children,b),f.child;case 10:e:{if(P=f.type._context,T=f.pendingProps,Y=f.memoizedProps,me=T.value,zr(f,P,me),Y!==null)if(ys(Y.value,me)){if(Y.children===T.children&&!Ui.current){f=O(d,f,b);break e}}else for(Y=f.child,Y!==null&&(Y.return=f);Y!==null;){var Te=Y.dependencies;if(Te!==null){me=Y.child;for(var Ye=Te.firstContext;Ye!==null;){if(Ye.context===P){if(Y.tag===1){Ye=rs(-1,b&-b),Ye.tag=2;var mt=Y.updateQueue;if(mt!==null){mt=mt.shared;var Ut=mt.pending;Ut===null?Ye.next=Ye:(Ye.next=Ut.next,Ut.next=Ye),mt.pending=Ye}}Y.lanes|=b,Ye=Y.alternate,Ye!==null&&(Ye.lanes|=b),Co(Y.return,b,f),Te.lanes|=b;break}Ye=Ye.next}}else if(Y.tag===10)me=Y.type===f.type?null:Y.child;else if(Y.tag===18){if(me=Y.return,me===null)throw Error(l(341));me.lanes|=b,Te=me.alternate,Te!==null&&(Te.lanes|=b),Co(me,b,f),me=Y.sibling}else me=Y.child;if(me!==null)me.return=Y;else for(me=Y;me!==null;){if(me===f){me=null;break}if(Y=me.sibling,Y!==null){Y.return=me.return,me=Y;break}me=me.return}Y=me}Ei(d,f,T.children,b),f=f.child}return f;case 9:return T=f.type,P=f.pendingProps.children,Pa(f,b),T=Fr(T),P=P(T),f.flags|=1,Ei(d,f,P,b),f.child;case 14:return P=f.type,T=to(P,f.pendingProps),T=to(P.type,T),ha(d,f,P,T,b);case 15:return Lo(d,f,f.type,f.pendingProps,b);case 17:return P=f.type,T=f.pendingProps,T=f.elementType===P?T:to(P,T),C(d,f),f.tag=1,Or(P)?(d=!0,ta(f)):d=!1,Pa(f,b),dd(f,P,T),qi(f,P,T,b),as(null,f,P,!0,d,b);case 19:return w(d,f,b);case 22:return ar(d,f,b)}throw Error(l(156,f.tag))};function lf(d,f){return vo(d,f)}function tp(d,f,b,P){this.tag=d,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ko(d,f,b,P){return new tp(d,f,b,P)}function ac(d){return d=d.prototype,!(!d||!d.isReactComponent)}function t1(d){if(typeof d=="function")return ac(d)?1:0;if(d!=null){if(d=d.$$typeof,d===S)return 11;if(d===N)return 14}return 2}function ru(d,f){var b=d.alternate;return b===null?(b=Ko(d.tag,f,d.key,d.mode),b.elementType=d.elementType,b.type=d.type,b.stateNode=d.stateNode,b.alternate=d,d.alternate=b):(b.pendingProps=f,b.type=d.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=d.flags&14680064,b.childLanes=d.childLanes,b.lanes=d.lanes,b.child=d.child,b.memoizedProps=d.memoizedProps,b.memoizedState=d.memoizedState,b.updateQueue=d.updateQueue,f=d.dependencies,b.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},b.sibling=d.sibling,b.index=d.index,b.ref=d.ref,b}function md(d,f,b,P,T,Y){var me=2;if(P=d,typeof d=="function")ac(d)&&(me=1);else if(typeof d=="string")me=5;else e:switch(d){case p:return xs(b.children,T,Y,f);case y:me=8,T|=8;break;case v:return d=Ko(12,b,f,T|2),d.elementType=v,d.lanes=Y,d;case E:return d=Ko(13,b,f,T),d.elementType=E,d.lanes=Y,d;case A:return d=Ko(19,b,f,T),d.elementType=A,d.lanes=Y,d;case L:return lc(b,T,Y,f);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case g:me=10;break e;case _:me=9;break e;case S:me=11;break e;case N:me=14;break e;case x:me=16,P=null;break e}throw Error(l(130,d==null?d:typeof d,""))}return f=Ko(me,b,f,T),f.elementType=d,f.type=P,f.lanes=Y,f}function xs(d,f,b,P){return d=Ko(7,d,P,f),d.lanes=b,d}function lc(d,f,b,P){return d=Ko(22,d,P,f),d.elementType=L,d.lanes=b,d.stateNode={isHidden:!1},d}function uc(d,f,b){return d=Ko(6,d,null,f),d.lanes=b,d}function yd(d,f,b){return f=Ko(4,d.children!==null?d.children:[],d.key,f),f.lanes=b,f.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},f}function np(d,f,b,P,T){this.tag=f,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=_e,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ys(0),this.expirationTimes=Ys(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ys(0),this.identifierPrefix=P,this.onRecoverableError=T,Ve&&(this.mutableSourceEagerHydrationData=null)}function uf(d,f,b,P,T,Y,me,Te,Ye){return d=new np(d,f,b,Te,Ye),f===1?(f=1,Y===!0&&(f|=8)):f=0,Y=Ko(3,null,null,f),d.current=Y,Y.stateNode=d,Y.memoizedState={element:P,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},ws(Y),d}function vd(d){if(!d)return ea;d=d._reactInternals;e:{if(M(d)!==d||d.tag!==1)throw Error(l(170));var f=d;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Or(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(l(171))}if(d.tag===1){var b=d.type;if(Or(b))return Jr(d,b,f)}return f}function Au(d){var f=d._reactInternals;if(f===void 0)throw typeof d.render=="function"?Error(l(188)):(d=Object.keys(d).join(","),Error(l(268,d)));return d=H(f),d===null?null:d.stateNode}function wd(d,f){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var b=d.retryLane;d.retryLane=b!==0&&b<f?b:f}}function cc(d,f){wd(d,f),(d=d.alternate)&&wd(d,f)}function n1(d){return d=H(d),d===null?null:d.stateNode}function rp(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var f=Ii(d,134217728);if(f!==null){var b=Cr();fs(f,d,134217728,b)}cc(d,134217728)}},n.attemptDiscreteHydration=function(d){if(d.tag===13){var f=Ii(d,1);if(f!==null){var b=Cr();fs(f,d,1,b)}cc(d,1)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var f=gi(d),b=Ii(d,f);if(b!==null){var P=Cr();fs(b,d,f,P)}cc(d,f)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var f=d.stateNode;if(f.current.memoizedState.isDehydrated){var b=ra(f.pendingLanes);b!==0&&(Ls(f,b|1),Yi(f,Sr()),(ln&6)===0&&(hr(),ni()))}break;case 13:Al(function(){var P=Ii(d,1);if(P!==null){var T=Cr();fs(P,d,1,T)}}),cc(d,1)}},n.batchedUpdates=function(d,f){var b=ln;ln|=1;try{return d(f)}finally{ln=b,ln===0&&(hr(),wo&&ni())}},n.createComponentSelector=function(d){return{$$typeof:Ir,value:d}},n.createContainer=function(d,f,b,P,T,Y,me){return uf(d,f,!1,null,b,P,T,Y,me)},n.createHasPseudoClassSelector=function(d){return{$$typeof:Rr,value:d}},n.createHydrationContainer=function(d,f,b,P,T,Y,me,Te,Ye){return d=uf(b,P,!0,d,T,Y,me,Te,Ye),d.context=vd(null),b=d.current,P=Cr(),T=gi(b),Y=rs(P,T),Y.callback=f??null,Wi(b,Y,T),d.current.lanes=T,Es(d,T,P),Yi(d,P),d},n.createPortal=function(d,f,b){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:P==null?null:""+P,children:d,containerInfo:f,implementation:b}},n.createRoleSelector=function(d){return{$$typeof:lr,value:d}},n.createTestNameSelector=function(d){return{$$typeof:Ai,value:d}},n.createTextSelector=function(d){return{$$typeof:rr,value:d}},n.deferredUpdates=function(d){var f=_t,b=er.transition;try{return er.transition=null,_t=16,d()}finally{_t=f,er.transition=b}},n.discreteUpdates=function(d,f,b,P,T){var Y=_t,me=er.transition;try{return er.transition=null,_t=1,d(f,b,P,T)}finally{_t=Y,er.transition=me,ln===0&&hr()}},n.findAllNodes=Wr,n.findBoundingRects=function(d,f){if(!ut)throw Error(l(363));f=Wr(d,f),d=[];for(var b=0;b<f.length;b++)d.push(ht(f[b]));for(f=d.length-1;0<f;f--){b=d[f];for(var P=b.x,T=P+b.width,Y=b.y,me=Y+b.height,Te=f-1;0<=Te;Te--)if(f!==Te){var Ye=d[Te],mt=Ye.x,Ut=mt+Ye.width,_n=Ye.y,Nt=_n+Ye.height;if(P>=mt&&Y>=_n&&T<=Ut&&me<=Nt){d.splice(f,1);break}else if(P!==mt||b.width!==Ye.width||Nt<Y||_n>me){if(!(Y!==_n||b.height!==Ye.height||Ut<P||mt>T)){mt>P&&(Ye.width+=mt-P,Ye.x=P),Ut<T&&(Ye.width=T-mt),d.splice(f,1);break}}else{_n>Y&&(Ye.height+=_n-Y,Ye.y=Y),Nt<me&&(Ye.height=me-_n),d.splice(f,1);break}}}return d},n.findHostInstance=Au,n.findHostInstanceWithNoPortals=function(d){return d=F(d),d=d!==null?ne(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return Au(d)},n.flushControlled=function(d){var f=ln;ln|=1;var b=er.transition,P=_t;try{er.transition=null,_t=1,d()}finally{_t=P,er.transition=b,ln=f,ln===0&&(hr(),ni())}},n.flushPassiveEffects=Ll,n.flushSync=Al,n.focusWithin=function(d,f){if(!ut)throw Error(l(363));for(d=ei(d),f=ti(d,f),f=Array.from(f),d=0;d<f.length;){var b=f[d++];if(!Bt(b)){if(b.tag===5&&Et(b.stateNode))return!0;for(b=b.child;b!==null;)f.push(b),b=b.sibling}}return!1},n.getCurrentUpdatePriority=function(){return _t},n.getFindAllNodesFailureDescription=function(d,f){if(!ut)throw Error(l(363));var b=0,P=[];d=[ei(d),0];for(var T=0;T<d.length;){var Y=d[T++],me=d[T++],Te=f[me];if((Y.tag!==5||!Bt(Y))&&(Li(Y,Te)&&(P.push(us(Te)),me++,me>b&&(b=me)),me<f.length))for(Y=Y.child;Y!==null;)d.push(Y,me),Y=Y.sibling}if(b<f.length){for(d=[];b<f.length;b++)d.push(us(f[b]));return`findAllNodes was able to match part of the selector:
  `+(P.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return xe(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:n1,findFiberByHostInstance:d.findFiberByHostInstance||rp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)d=!0;else{try{Ps=f.inject(d),_i=f}catch{}d=!!f.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,f,b,P){if(!ut)throw Error(l(363));d=Wr(d,f);var T=Sn(d,b,P).disconnect;return{disconnect:function(){T()}}},n.registerMutableSourceForHydration=function(d,f){var b=f._getVersion;b=b(f._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[f,b]:d.mutableSourceEagerHydrationData.push(f,b)},n.runWithPriority=function(d,f){var b=_t;try{return _t=d,f()}finally{_t=b}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,f,b,P){var T=f.current,Y=Cr(),me=gi(T);return b=vd(b),f.context===null?f.context=b:f.pendingContext=b,f=rs(Y,me),f.payload={element:d},P=P===void 0?null:P,P!==null&&(f.callback=P),d=Wi(T,f,me),d!==null&&(fs(d,T,me,Y),No(d,T,me)),me},n}),gg}var Vv;function AL(){return Vv||(Vv=1,pg.exports=EL()),pg.exports}var LL=AL();const PL=sd(LL);var mg={exports:{}},wc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function IL(){return $v||($v=1,wc.ConcurrentRoot=1,wc.ContinuousEventPriority=4,wc.DefaultEventPriority=16,wc.DiscreteEventPriority=1,wc.IdleEventPriority=536870912,wc.LegacyRoot=0),wc}var Yv;function RL(){return Yv||(Yv=1,mg.exports=IL()),mg.exports}var d8=RL(),TL=Hn();const Kv={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let Xv=!1,Jv=!1;const km=".react-konva-event",DL=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,OL=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,FL={};function X0(t,e,n=FL){if(!Xv&&"zIndex"in e&&(console.warn(OL),Xv=!0),!Jv&&e.draggable){var r=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;r&&!i&&(console.warn(DL),Jv=!0)}for(var s in n)if(!Kv[s]){var l=s.slice(0,2)==="on",u=n[s]!==e[s];if(l&&u){var c=s.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),t.off(c,n[s])}var h=!e.hasOwnProperty(s);h&&t.setAttr(s,void 0)}var p=e._useStrictMode,y={},v=!1;const g={};for(var s in e)if(!Kv[s]){var l=s.slice(0,2)==="on",_=n[s]!==e[s];if(l&&_){var c=s.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),e[s]&&(g[c]=e[s])}!l&&(e[s]!==n[s]||p&&e[s]!==t.getAttr(s))&&(v=!0,y[s]=e[s])}v&&(t.setAttrs(y),Dc(t));for(var c in g)t.on(c+km,g[c])}function Dc(t){if(!TL.Konva.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var yg=P2();const f8={},ML={};Bh.Node.prototype._applyProps=X0;function BL(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),Dc(t)}function jL(t,e,n){let r=Bh[t];r||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=Bh.Group);const i={},s={};for(var l in e){var u=l.slice(0,2)==="on";u?s[l]=e[l]:i[l]=e[l]}const c=new r(i);return X0(c,s),c}function UL(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function zL(t,e,n){return!1}function GL(t){return t}function HL(){return null}function WL(){return null}function qL(t,e,n,r){return ML}function VL(){}function $L(t){}function YL(t,e){return!1}function KL(){return f8}function XL(){return f8}const JL=setTimeout,QL=clearTimeout,ZL=-1;function eP(t,e){return!1}const tP=!1,nP=!0,rP=!0;function iP(t,e){e.parent===t?e.moveToTop():t.add(e),Dc(t)}function sP(t,e){e.parent===t?e.moveToTop():t.add(e),Dc(t)}function h8(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),Dc(t)}function oP(t,e,n){h8(t,e,n)}function aP(t,e){e.destroy(),e.off(km),Dc(t)}function lP(t,e){e.destroy(),e.off(km),Dc(t)}function uP(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function cP(t,e,n){}function dP(t,e,n,r,i){X0(t,i,r)}function fP(t){t.hide(),Dc(t)}function hP(t){}function pP(t,e){(e.visible==null||e.visible)&&t.show()}function gP(t,e){}function mP(t){}function yP(){}const vP=()=>d8.DefaultEventPriority,wP=Object.freeze(Object.defineProperty({__proto__:null,appendChild:iP,appendChildToContainer:sP,appendInitialChild:BL,cancelTimeout:QL,clearContainer:mP,commitMount:cP,commitTextUpdate:uP,commitUpdate:dP,createInstance:jL,createTextInstance:UL,detachDeletedInstance:yP,finalizeInitialChildren:zL,getChildHostContext:XL,getCurrentEventPriority:vP,getPublicInstance:GL,getRootHostContext:KL,hideInstance:fP,hideTextInstance:hP,idlePriority:yg.unstable_IdlePriority,insertBefore:h8,insertInContainerBefore:oP,isPrimaryRenderer:tP,noTimeout:ZL,now:yg.unstable_now,prepareForCommit:HL,preparePortalMount:WL,prepareUpdate:qL,removeChild:aP,removeChildFromContainer:lP,resetAfterCommit:VL,resetTextContent:$L,run:yg.unstable_runWithPriority,scheduleTimeout:JL,shouldDeprioritizeSubtree:YL,shouldSetTextContent:eP,supportsMutation:rP,unhideInstance:pP,unhideTextInstance:gP,warnsIfNotActing:nP},Symbol.toStringTag,{value:"Module"}));var bP=Object.defineProperty,_P=Object.defineProperties,xP=Object.getOwnPropertyDescriptors,Qv=Object.getOwnPropertySymbols,SP=Object.prototype.hasOwnProperty,kP=Object.prototype.propertyIsEnumerable,Zv=(t,e,n)=>e in t?bP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,e3=(t,e)=>{for(var n in e||(e={}))SP.call(e,n)&&Zv(t,n,e[n]);if(Qv)for(var n of Qv(e))kP.call(e,n)&&Zv(t,n,e[n]);return t},CP=(t,e)=>_P(t,xP(e)),t3,n3;typeof window<"u"&&((t3=window.document)!=null&&t3.createElement||((n3=window.navigator)==null?void 0:n3.product)==="ReactNative")?ue.useLayoutEffect:ue.useEffect;function p8(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=p8(r,e,n);if(i)return i;r=r.sibling}}function g8(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const r3=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=r3;return}return r3.apply(this,arguments)};const Cm=g8(ue.createContext(null));class m8 extends ue.Component{render(){return ue.createElement(Cm.Provider,{value:this._reactInternals},this.props.children)}}function NP(){const t=ue.useContext(Cm);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ue.useId();return ue.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=p8(r,!1,s=>{let l=s.memoizedState;for(;l;){if(l.memoizedState===e)return!0;l=l.next}});if(i)return i}},[t,e])}function EP(){const t=NP(),[e]=ue.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==Cm&&!e.has(i)&&e.set(i,ue.useContext(g8(i)))}n=n.return}return e}function AP(){const t=EP();return ue.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>ue.createElement(e,null,ue.createElement(n.Provider,CP(e3({},r),{value:t.get(n)}))),e=>ue.createElement(m8,e3({},e))),[t])}function LP(t){const e=tn.useRef({});return tn.useLayoutEffect(()=>{e.current=t}),tn.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const PP=t=>{const e=tn.useRef(null),n=tn.useRef(null),r=tn.useRef(null),i=LP(t),s=AP(),l=u=>{const{forwardedRef:c}=t;c&&(typeof c=="function"?c(u):c.current=u)};return tn.useLayoutEffect(()=>(n.current=new Bh.Stage({width:t.width,height:t.height,container:e.current}),l(n.current),r.current=hh.createContainer(n.current,d8.LegacyRoot,!1,null),hh.updateContainer(tn.createElement(s,{},t.children),r.current),()=>{Bh.isBrowser&&(l(null),hh.updateContainer(null,r.current,null),n.current.destroy())}),[]),tn.useLayoutEffect(()=>{l(n.current),X0(n.current,t,i),hh.updateContainer(tn.createElement(s,{},t.children),r.current,null)}),tn.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},y8="Layer",C0="Rect",v8="Ellipse",N0="Line",w8="Image",b8="Text",_8="Star",x8="Arrow",IP="Transformer",hh=PL(wP);hh.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:tn.version,rendererPackageName:"react-konva"});const S8=tn.forwardRef((t,e)=>tn.createElement(m8,{},tn.createElement(PP,{...t,forwardedRef:e})));function RP(t,e={},n){const{color:r="black",width:i=2,isEraser:s=!1,eraserSize:l=15,eraserMode:u="size"}=e,c=ue.useRef(!1),h=ue.useRef(null),p=ue.useRef([]),y=N=>{c.current=!0;const x=N.target.getStage(),L=(x==null?void 0:x.getPointerPosition())??null;L&&(s?(S(),h.current=L):p.current=[L.x,L.y])},v=N=>{if(!c.current)return;const x=N.target.getStage(),L=(x==null?void 0:x.getPointerPosition())??null;L&&(s?u==="size"?E(L):A(L):(p.current.push(L.x,L.y),_()))},g=()=>{if(c.current=!1,!s&&p.current.length>=4){const N={id:Date.now(),type:"line",x:0,y:0,points:[...p.current],color:r,strokeWidth:i};n(x=>[...x,N])}p.current=[],h.current=null,S()},_=()=>{var x,L,D;let N=(x=t.current)==null?void 0:x.findOne(".drawing-preview");N?N.points(p.current):(N=new hg.Line({name:"drawing-preview",points:p.current,stroke:r,strokeWidth:i,lineCap:"round",lineJoin:"round",dash:[10,5]}),(L=t.current)==null||L.add(N)),(D=t.current)==null||D.batchDraw()},S=()=>{var N,x,L,D;(N=t.current)==null||N.find(".drawing-preview").forEach(W=>W.destroy()),(x=t.current)==null||x.find(".eraser-circle").forEach(W=>W.destroy()),(L=t.current)==null||L.find(".eraser-rect").forEach(W=>W.destroy()),(D=t.current)==null||D.batchDraw()},E=N=>{var re,U,M;const x=N.x,L=N.y,D=l/2;n(V=>V.filter(F=>{if(F.type!=="line"||!F.points)return!0;for(let H=0;H<F.points.length;H+=2){const Z=F.points[H],ne=F.points[H+1];if(Math.hypot(Z-x,ne-L)<=D)return!1}return!0}));let W=(re=t.current)==null?void 0:re.findOne(".eraser-circle");W?(W.position({x,y:L}),W.radius(D)):(W=new hg.Circle({name:"eraser-circle",x,y:L,radius:D,fill:"rgba(255,0,0,0.2)",stroke:"red",strokeWidth:2}),(U=t.current)==null||U.add(W)),(M=t.current)==null||M.batchDraw()},A=N=>{var V,F,H;if(!h.current)return;const x=h.current,L=Math.min(x.x,N.x),D=Math.max(x.x,N.x),W=Math.min(x.y,N.y),re=Math.max(x.y,N.y);n(Z=>Z.filter(ne=>{if(ne.type!=="line"||!ne.points)return!0;for(let le=0;le<ne.points.length;le+=2){const xe=ne.points[le],B=ne.points[le+1];if(xe>=L&&xe<=D&&B>=W&&B<=re)return!1}return!0}));let U=(V=t.current)==null?void 0:V.findOne(".eraser-rect");const M={x:L,y:W,width:D-L,height:re-W};U?U.setAttrs(M):(U=new hg.Rect({name:"eraser-rect",...M,fill:"rgba(255,0,0,0.3)",stroke:"red",strokeWidth:2}),(F=t.current)==null||F.add(U)),(H=t.current)==null||H.batchDraw()};return{onMouseDown:y,onMouseMove:v,onMouseUp:g}}const Jc=1e3,Qc=563,i3=(t,e,n=1,r=1)=>{const l=100*n,u=100*r;return[0,-u/2,-l/2,u/2,l/2,u/2]},s3=t=>{const{isFullscreen:e,isHistoryPage:n}=t;if(e){const r=window.innerWidth,i=window.innerHeight,s=Jc/Qc,l=r/i;let u,c;return l>s?(c=i,u=c*s):(u=r,c=u/s),{width:u,height:c,scale:{x:u/Jc,y:c/Qc}}}else{const r=n?800:Jc,i=n?450:Qc,s=n?{x:r/Jc,y:i/Qc}:{x:1,y:1};return{width:r,height:i,scale:s}}};var vg,o3;function TP(){if(o3)return vg;o3=1;var t=$d();return vg=function(n,r,i){const s=t.useRef("loading"),l=t.useRef(),[u,c]=t.useState(0),h=t.useRef(),p=t.useRef(),y=t.useRef();return(h.current!==n||p.current!==r||y.current!==i)&&(s.current="loading",l.current=void 0,h.current=n,p.current=r,y.current=i),t.useLayoutEffect(function(){if(!n)return;var v=document.createElement("img");function g(){v.decode().catch(()=>{}).finally(()=>{s.current="loaded",l.current=v,c(Math.random())})}function _(){s.current="failed",l.current=void 0,c(Math.random())}return v.addEventListener("load",g),v.addEventListener("error",_),r&&(v.crossOrigin=r),i&&(v.referrerPolicy=i),v.src=n,function(){v.removeEventListener("load",g),v.removeEventListener("error",_)}},[n,r,i]),[l.current,s.current]},vg}var DP=TP();const OP=sd(DP),FP=({shape:t,onSelect:e,onDrag:n,onResize:r,registerRef:i,draggable:s=!1})=>{const[l]=OP(t.imageSrc||"","anonymous"),u=ue.useRef(null);return ue.useEffect(()=>{},[l]),fe.jsx(w8,{ref:c=>{u.current=c,i(c)},image:l,x:t.x,y:t.y,width:t.width,height:t.height,draggable:s,onClick:e,onTransformEnd:()=>{const c=u.current;if(!c)return;const h=c.scaleX(),p=c.scaleY(),y={...t,x:c.x(),y:c.y(),width:c.width()*h,height:c.height()*p};c.scaleX(1),c.scaleY(1),r(y)},onDragEnd:c=>{const{x:h,y:p}=c.target.position();n(h,p)}})},MP=({shape:t,setActiveTool:e,setSelectedColor:n,onSelectShape:r,onSelectText:i,setSelectedShapeId:s,setSelectedTextId:l,setShapes:u,sendEdit:c,shapeRefs:h,isDraggable:p,onTransformEnd:y})=>{const v={onClick:()=>{s(t.id),l(null),e("cursor"),r(String(t.id)),i(null),t.color&&n(t.color)},onDragEnd:g=>{var A;const{x:_,y:S}=g.target.position(),E={...t,x:_,y:S};u(N=>{const x=N.map(L=>L.id===t.id?E:L);return setTimeout(()=>c(),0),x}),(A=g.target.getLayer())==null||A.batchDraw()},draggable:p};return t.type==="rectangle"?fe.jsx(C0,{ref:g=>g&&h.current.set(t.id,g),x:t.x,y:t.y,width:t.width,height:t.height,fill:t.color,onTransformEnd:()=>y(t.id),...v}):t.type==="circle"?fe.jsx(v8,{ref:g=>g&&h.current.set(t.id,g),x:t.x,y:t.y,radiusX:t.radiusX??t.radius??50,radiusY:t.radiusY??t.radius??50,fill:t.color,onTransformEnd:()=>y(t.id),...v}):t.type==="triangle"?fe.jsx(N0,{ref:g=>g&&h.current.set(t.id,g),x:t.x,y:t.y,points:t.points,fill:t.color,rotation:t.rotation||0,closed:!0,onTransformEnd:()=>y(t.id),...v}):t.type==="line"?fe.jsx(N0,{points:t.points||[],stroke:t.color||"black",strokeWidth:t.strokeWidth||3,lineCap:"round",lineJoin:"round"},t.id):t.type==="star"?fe.jsx(_8,{ref:g=>g&&h.current.set(t.id,g),x:t.x,y:t.y,numPoints:t.numPoints??5,innerRadius:t.innerRadius??20,outerRadius:t.outerRadius??40,fill:t.color,onTransformEnd:()=>y(t.id),...v}):t.type==="arrow"?fe.jsx(x8,{ref:g=>g&&h.current.set(t.id,g),points:t.points||[t.x??0,t.y??0,(t.x??0)+100,t.y??0],pointerLength:t.pointerLength??10,pointerWidth:t.pointerWidth??10,stroke:t.color||"black",fill:t.color||"black",strokeWidth:t.strokeWidth||3,onTransformEnd:()=>y(t.id),...v}):null},k8=({activeTool:t,selectedColor:e,setSelectedColor:n,setActiveTool:r,shapes:i,setShapes:s,texts:l,setTexts:u,currentSlide:c,updateThumbnail:h,sendEdit:p,setIsTyping:y,defaultFontSize:v,isHistoryPage:g,onSelectShape:_,onSelectText:S,isPresentationMode:E=!1,isFullscreen:A,slides:N,goToNextSlide:x,goToPrevSlide:L,eraserSize:D,eraserMode:W})=>{const[,re]=ue.useState(!1),[U,M]=ue.useState(null),[V,F]=ue.useState(null),[H,Z]=ue.useState(null),ne=ue.useRef(null),le=ue.useRef(new Map),xe=ue.useRef(null),B=ue.useRef(null),G=ue.useRef(null),Q=ue.useRef(null),ee=ue.useRef({shapes:[],texts:[]}),$=ue.useRef(null),j=ue.useRef(null),K=ue.useRef(null),X=()=>{var Fe;return(Fe=K.current)==null?void 0:Fe.focus()};ue.useEffect(()=>{G.current&&($.current&&clearTimeout($.current),$.current=setTimeout(()=>{const Fe=G.current;if(!Fe)return;const Ge=Fe.toDataURL({pixelRatio:3,mimeType:"image/png"});h(c,Ge)},300))},[i,l,c,h]),ue.useEffect(()=>{const Fe=ee.current;(JSON.stringify(Fe.shapes)!==JSON.stringify(i)||JSON.stringify(Fe.texts)!==JSON.stringify(l))&&(p(),ee.current={shapes:i,texts:l})},[i,l]);const ce=(Fe,Ge)=>{let Je=null;t==="rectangle"?Je={type:"rectangle",x:Fe-50,y:Ge-50,width:100,height:100,color:"#B0B0B0",id:Date.now()}:t==="circle"?Je={type:"circle",x:Fe,y:Ge,radiusX:50,radiusY:50,color:"#B0B0B0",id:Date.now()}:t==="triangle"?Je={type:"triangle",x:Fe,y:Ge,points:i3(),color:"#B0B0B0",id:Date.now(),rotation:0}:t==="star"?Je={type:"star",x:Fe,y:Ge,numPoints:5,innerRadius:20,outerRadius:40,color:"#B0B0B0",id:Date.now()}:t==="arrow"&&(Je={type:"arrow",x:Fe,y:Ge,points:[Fe,Ge,Fe+100,Ge],color:"#000000",strokeWidth:3,id:Date.now()}),Je&&(s(Qe=>[...Qe,Je]),M(Je.id),F(null),_(String(Je.id)),S(null),setTimeout(()=>{r("cursor"),X()},0))},ae=(Fe,Ge)=>{const Je=Date.now(),Qe={id:Je,text:"",x:Fe,y:Ge,color:"#000000",fontSize:v};u(ut=>[...ut,Qe]),F(Je),S(String(Je)),_(null),setTimeout(X,0)};ue.useEffect(()=>{if(t==="text"&&l.length>0){const Fe=l[l.length-1];Z(Fe)}},[l]),ue.useEffect(()=>{H&&xe.current&&xe.current.focus()},[H]);const J=Fe=>{if(Fe.target!==B.current)return;const Ge=G.current,Je=Ge==null?void 0:Ge.getPointerPosition();if(!Je)return;const{x:Qe,y:ut}=Je;t==="text"?ae(Qe,ut):["rectangle","circle","triangle","star","arrow"].includes(t)?(ce(Qe,ut),Z(null)):(M(null),F(null),Z(null),_(null),S(null))},ge=Fe=>{const Ge=le.current.get(Fe);if(!Ge)return;const Je=Ge.scaleX(),Qe=Ge.scaleY();let ut=null;s(ot=>ot.map(ht=>{if(ht.id!==Fe)return ht;const ct={...ht,x:Ge.x(),y:Ge.y()};if(ht.type==="rectangle")ct.width=Ge.width()*Je,ct.height=Ge.height()*Qe;else if(ht.type==="circle")ct.radiusX=Ge.width()/2*Je,ct.radiusY=Ge.height()/2*Qe;else if(ht.type==="triangle"){const Bt=ht.points||i3();ct.points=Bt.map((kt,Et)=>Et%2===0?kt*Je:kt*Qe),ct.rotation=Ge.rotation()}else if(ht.type==="image")ct.width=Ge.width()*Je,ct.height=Ge.height()*Qe;else if(ht.type==="star"){const Bt=(Je+Qe)/2;ct.innerRadius=(ht.innerRadius??20)*Bt,ct.outerRadius=(ht.outerRadius??40)*Bt}else if(ht.type==="arrow"){const kt=[...ht.points||[0,0,100,0]];for(let Et=0;Et<kt.length;Et+=2)kt[Et]=kt[Et]*Je,kt[Et+1]=kt[Et+1]*Qe;ct.points=kt}return Ge.scaleX(1),Ge.scaleY(1),ut=ct,ct})),ut&&p()};ue.useEffect(()=>{var Fe,Ge;if(U!==null&&ne.current){const Je=le.current.get(U);Je&&(ne.current.nodes([Je]),(Fe=ne.current.getLayer())==null||Fe.batchDraw())}else(Ge=ne.current)==null||Ge.nodes([])},[U,i]),ue.useEffect(()=>{if(G.current){const{width:Fe,height:Ge,scale:Je}=s3({isFullscreen:A,isHistoryPage:g});G.current.width(Fe),G.current.height(Ge),G.current.scale(Je);const Qe=Math.max(0,(Fe-Jc*Je.x)/2),ut=Math.max(0,(Ge-Qc*Je.y)/2);G.current.position({x:Qe,y:ut}),G.current.batchDraw()}},[A]),ue.useEffect(()=>{U!==null?s(Fe=>Fe.map(Ge=>Ge.id===U?{...Ge,color:e}:Ge)):V!==null&&u(Fe=>Fe.map(Ge=>Ge.id===V?{...Ge,color:e}:Ge))},[e]);const _e=()=>{U!==null?(s(Fe=>Fe.filter(Ge=>Ge.id!==U)),p(),M(null),_(null)):V!==null&&(u(Fe=>Fe.filter(Ge=>Ge.id!==V)),p(),F(null),S(null))},Se=Fe=>t==="cursor"&&U===Fe,Re=Fe=>t==="cursor"&&V===Fe&&(H==null?void 0:H.id)!==Fe,Ue=RP(j,{color:e,width:3,isEraser:t==="eraser",eraserSize:D,eraserMode:W},s),{width:Ve,height:Be,scale:ye}=s3({isFullscreen:A,isHistoryPage:g});return fe.jsxs("div",{ref:K,tabIndex:0,onMouseDown:()=>X(),onKeyDown:Fe=>{var Je;if(Fe.key!=="Backspace"&&Fe.key!=="Delete"||((Je=document.activeElement)==null?void 0:Je.tagName)==="TEXTAREA")return;(U!==null||V!==null)&&(Fe.preventDefault(),Fe.stopPropagation(),_e())},className:"whiteboard-container",style:{position:A?"fixed":"relative",top:A?0:void 0,left:A?0:void 0,width:A?"100vw":void 0,height:A?"100vh":void 0,backgroundColor:A?"black":void 0,zIndex:A?9999:void 0,display:"flex",justifyContent:"center",alignItems:"center"},children:[fe.jsx(S8,{ref:G,width:Ve,height:Be,scale:ye,x:(Ve-Jc*ye.x)/2,y:(Be-Qc*ye.y)/2,onMouseDown:Fe=>{var Ge;t==="pen"||t==="eraser"?(Ge=Ue.onMouseDown)==null||Ge.call(Ue,Fe):J(Fe)},onMouseMove:t==="pen"||t==="eraser"?Ue.onMouseMove:void 0,onMouseUp:t==="pen"||t==="eraser"?Ue.onMouseUp:void 0,children:fe.jsxs(y8,{ref:j,children:[fe.jsx(C0,{width:Jc,height:Qc,fill:"white",ref:B}),i.map(Fe=>fe.jsx(tn.Fragment,{children:Fe.type==="image"?fe.jsx(FP,{shape:Fe,onSelect:()=>{M(Fe.id),F(null),r("cursor"),_(String(Fe.id)),S(null)},onDrag:(Ge,Je)=>{const Qe={...Fe,x:Ge,y:Je};s(ut=>ut.map(ot=>ot.id===Fe.id?Qe:ot)),p()},onResize:Ge=>{s(Je=>Je.map(Qe=>Qe.id===Ge.id?Ge:Qe)),p()},registerRef:Ge=>{Ge&&le.current.set(Fe.id,Ge)},draggable:Se(Fe.id)}):fe.jsx(MP,{shape:Fe,setActiveTool:r,setSelectedColor:n,onSelectShape:_,onSelectText:S,setSelectedShapeId:M,setSelectedTextId:F,setShapes:s,sendEdit:p,shapeRefs:le,isDraggable:Se(Fe.id),onTransformEnd:ge})},Fe.id)),l.map(Fe=>fe.jsx(b8,{x:Fe.x,y:Fe.y,text:Fe.text,fontSize:Fe.fontSize||20,fontFamily:"Pretendard",fill:Fe.color,draggable:Re(Fe.id),onClick:()=>{F(Fe.id),r("cursor"),S(String(Fe.id)),_(null),Fe.color&&n(Fe.color)},onDblClick:()=>{Z(Fe)},onDragEnd:Ge=>{var ot;const{x:Je,y:Qe}=Ge.target.position(),ut={...Fe,x:Je,y:Qe};u(ht=>{const ct=ht.map(Bt=>Bt.id===Fe.id?ut:Bt);return setTimeout(()=>p(),0),ct}),(ot=Ge.target.getLayer())==null||ot.batchDraw()}},Fe.id)),(U!==null||V!==null)&&fe.jsx(IP,{ref:ne,boundBoxFunc:(Fe,Ge)=>Ge.width<5||Ge.height<5?Fe:Ge})]})}),E&&A&&fe.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0,0,0,0.7)",color:"white",padding:"10px 20px",borderRadius:"20px",fontSize:"14px",zIndex:1e3,display:"flex",alignItems:"center",gap:"20px"},children:[fe.jsx("button",{onClick:L,disabled:(N==null?void 0:N.findIndex(Fe=>Fe.id===c))===0,style:{background:"none",border:"none",color:"white",fontSize:"16px",cursor:"pointer",opacity:(N==null?void 0:N.findIndex(Fe=>Fe.id===c))===0?.5:1},children:""}),fe.jsx("span",{children:N?`${N.findIndex(Fe=>Fe.id===c)+1} / ${N.length}`:"1 / 1"}),fe.jsx("button",{onClick:x,disabled:N?N.findIndex(Fe=>Fe.id===c)===(N==null?void 0:N.length)-1:!0,style:{background:"none",border:"none",color:"white",fontSize:"16px",cursor:"pointer",opacity:N?N.findIndex(Fe=>Fe.id===c)===N.length-1?.5:1:.5},children:""})]}),H&&G.current&&(()=>{const Je=G.current.getAbsoluteTransform().point({x:H.x,y:H.y}),Qe=Je.y,ut=Je.x;return fe.jsx("textarea",{ref:xe,value:H.text,style:{position:"absolute",top:Qe,left:ut,fontSize:`${H.fontSize||v}px`,fontFamily:"'Pretendard'",lineHeight:"0.82",whiteSpace:"pre",padding:"0",margin:"0",border:"none",background:"transparent",outline:"none",resize:"none",overflow:"hidden",verticalAlign:"top",color:H.color,zIndex:10},onCompositionStart:()=>re(!0),onCompositionEnd:()=>re(!1),onChange:ot=>{const ht=ot.target.value;Z(ct=>ct?{...ct,text:ht}:null),y(!0),Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>y(!1),500)},onBlur:()=>{const ot=(H==null?void 0:H.text.trim())||"";ot===""?u(ht=>ht.filter(ct=>ct.id!==H.id)):(u(ht=>ht.map(ct=>ct.id===H.id?{...ct,text:ot}:ct)),p()),Z(null),F(null)},onKeyDown:ot=>{var ht;if((ot.key==="Backspace"||ot.key==="Delete")&&ot.stopPropagation(),ot.key==="Enter"&&!ot.shiftKey){ot.preventDefault();const ct=((ht=xe.current)==null?void 0:ht.value.trim())||"";u(ct===""?Bt=>Bt.filter(kt=>kt.id!==H.id):Bt=>Bt.map(kt=>kt.id===H.id?{...kt,text:ct}:kt)),Z(null),F(null),r("cursor")}}})})()]})};function J0(){return(J0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function C8(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}function p2(t){var e=ue.useRef(t),n=ue.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var jh=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},wh=function(t){return"touches"in t},g2=function(t){return t&&t.ownerDocument.defaultView||self},a3=function(t,e,n){var r=t.getBoundingClientRect(),i=wh(e)?(function(s,l){for(var u=0;u<s.length;u++)if(s[u].identifier===l)return s[u];return s[0]})(e.touches,n):e;return{left:jh((i.pageX-(r.left+g2(t).pageXOffset))/r.width),top:jh((i.pageY-(r.top+g2(t).pageYOffset))/r.height)}},l3=function(t){!wh(t)&&t.preventDefault()},N8=tn.memo(function(t){var e=t.onMove,n=t.onKey,r=C8(t,["onMove","onKey"]),i=ue.useRef(null),s=p2(e),l=p2(n),u=ue.useRef(null),c=ue.useRef(!1),h=ue.useMemo(function(){var g=function(E){l3(E),(wh(E)?E.touches.length>0:E.buttons>0)&&i.current?s(a3(i.current,E,u.current)):S(!1)},_=function(){return S(!1)};function S(E){var A=c.current,N=g2(i.current),x=E?N.addEventListener:N.removeEventListener;x(A?"touchmove":"mousemove",g),x(A?"touchend":"mouseup",_)}return[function(E){var A=E.nativeEvent,N=i.current;if(N&&(l3(A),!(function(L,D){return D&&!wh(L)})(A,c.current)&&N)){if(wh(A)){c.current=!0;var x=A.changedTouches||[];x.length&&(u.current=x[0].identifier)}N.focus(),s(a3(N,A,u.current)),S(!0)}},function(E){var A=E.which||E.keyCode;A<37||A>40||(E.preventDefault(),l({left:A===39?.05:A===37?-.05:0,top:A===40?.05:A===38?-.05:0}))},S]},[l,s]),p=h[0],y=h[1],v=h[2];return ue.useEffect(function(){return v},[v]),tn.createElement("div",J0({},r,{onTouchStart:p,onMouseDown:p,className:"react-colorful__interactive",ref:i,onKeyDown:y,tabIndex:0,role:"slider"}))}),Nm=function(t){return t.filter(Boolean).join(" ")},E8=function(t){var e=t.color,n=t.left,r=t.top,i=r===void 0?.5:r,s=Nm(["react-colorful__pointer",t.className]);return tn.createElement("div",{className:s,style:{top:100*i+"%",left:100*n+"%"}},tn.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},ho=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},BP=function(t){return HP(m2(t))},m2=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?ho(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?ho(parseInt(t.substring(6,8),16)/255,2):1}},jP=function(t){return GP(zP(t))},UP=function(t){var e=t.s,n=t.v,r=t.a,i=(200-e)*n/100;return{h:ho(t.h),s:ho(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:ho(i/2),a:ho(r,2)}},y2=function(t){var e=UP(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},zP=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),l=r*(1-n),u=r*(1-(e-s)*n),c=r*(1-(1-e+s)*n),h=s%6;return{r:ho(255*[r,u,l,l,c,r][h]),g:ho(255*[c,r,r,u,l,l][h]),b:ho(255*[l,l,c,r,r,u][h]),a:ho(i,2)}},Tp=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},GP=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i<1?Tp(ho(255*i)):"";return"#"+Tp(e)+Tp(n)+Tp(r)+s},HP=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),l=s-Math.min(e,n,r),u=l?s===e?(n-r)/l:s===n?2+(r-e)/l:4+(e-n)/l:0;return{h:ho(60*(u<0?u+6:u)),s:ho(s?l/s*100:0),v:ho(s/255*100),a:i}},WP=tn.memo(function(t){var e=t.hue,n=t.onChange,r=Nm(["react-colorful__hue",t.className]);return tn.createElement("div",{className:r},tn.createElement(N8,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:jh(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":ho(e),"aria-valuemax":"360","aria-valuemin":"0"},tn.createElement(E8,{className:"react-colorful__hue-pointer",left:e/360,color:y2({h:e,s:100,v:100,a:1})})))}),qP=tn.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:y2({h:e.h,s:100,v:100,a:1})};return tn.createElement("div",{className:"react-colorful__saturation",style:r},tn.createElement(N8,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:jh(e.s+100*i.left,0,100),v:jh(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+ho(e.s)+"%, Brightness "+ho(e.v)+"%"},tn.createElement(E8,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:y2(e)})))}),A8=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0},VP=function(t,e){return t.toLowerCase()===e.toLowerCase()||A8(m2(t),m2(e))};function $P(t,e,n){var r=p2(n),i=ue.useState(function(){return t.toHsva(e)}),s=i[0],l=i[1],u=ue.useRef({color:e,hsva:s});ue.useEffect(function(){if(!t.equal(e,u.current.color)){var h=t.toHsva(e);u.current={hsva:h,color:e},l(h)}},[e,t]),ue.useEffect(function(){var h;A8(s,u.current.hsva)||t.equal(h=t.fromHsva(s),u.current.color)||(u.current={hsva:s,color:h},r(h))},[s,t,r]);var c=ue.useCallback(function(h){l(function(p){return Object.assign({},p,h)})},[]);return[s,c]}var YP=typeof window<"u"?ue.useLayoutEffect:ue.useEffect,KP=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},u3=new Map,XP=function(t){YP(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!u3.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,u3.set(e,n);var r=KP();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},JP=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,l=C8(t,["className","colorModel","color","onChange"]),u=ue.useRef(null);XP(u);var c=$P(n,i,s),h=c[0],p=c[1],y=Nm(["react-colorful",e]);return tn.createElement("div",J0({},l,{ref:u,className:y}),tn.createElement(qP,{hsva:h,onChange:p}),tn.createElement(WP,{hue:h.h,onChange:p,className:"react-colorful__last-control"}))},QP={defaultColor:"000",toHsva:BP,fromHsva:function(t){return jP({h:t.h,s:t.s,v:t.v,a:1})},equal:VP},ZP=function(t){return tn.createElement(JP,J0({},t,{colorModel:QP}))};const L8=t=>/^#([0-9a-fA-F]{6})$/.test(t),eI=t=>/^#([0-9a-fA-F]{8})$/.test(t),tI=/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})(?:\s*,\s*(\d*\.?\d+))?\s*\)/,nI=t=>Math.min(1,Math.max(0,t)),rI=t=>Math.min(255,Math.max(0,Math.round(t))),iI=(t,e,n)=>`#${[t,e,n].map(r=>rI(r).toString(16).padStart(2,"0")).join("")}`,sI=t=>{const e=t.replace("#",""),n=parseInt(e.slice(0,2),16),r=parseInt(e.slice(2,4),16),i=parseInt(e.slice(4,6),16);return{r:n,g:r,b:i}};function c3(t){let e="#3385FF",n=100;if(!t||typeof t!="string")return{hex:e,alphaPct:n};if(L8(t))return e=t,n=100,{hex:e,alphaPct:n};if(eI(t)){e=t.slice(0,7);const i=parseInt(t.slice(7,9),16);return n=Math.round(i/255*100),{hex:e,alphaPct:n}}const r=t.match(tI);if(r){const i=+r[1],s=+r[2],l=+r[3],u=r[4]!=null?nI(+r[4]):1;return e=iI(i,s,l),n=Math.round(u*100),{hex:e,alphaPct:n}}return{hex:e,alphaPct:n}}function oI({value:t,onChange:e,onClose:n,enableAlpha:r=!0,anchorEl:i}){const s=ue.useRef(null),l=c3(t),[u,c]=ue.useState(l.hex),[h,p]=ue.useState(l.alphaPct);ue.useEffect(()=>{const{hex:g,alphaPct:_}=c3(t);c(g),p(_)},[t]),ue.useEffect(()=>{const g=S=>{!s.current||s.current.contains(S.target)||n==null||n()},_=S=>{S.key==="Escape"&&(n==null||n())};return document.addEventListener("mousedown",g),document.addEventListener("keydown",_),()=>{document.removeEventListener("mousedown",g),document.removeEventListener("keydown",_)}},[n]);const y={};if(i){const g=i.getBoundingClientRect(),_=8;y.position="fixed",y.left=g.left+g.width/2,y.top=g.top-_,y.transform="translate(-50%, -100%)",y.zIndex=2e3}const v=(g,_=h)=>{if(c(g),r&&_<100){const{r:S,g:E,b:A}=sI(g),N=+(_/100).toFixed(2);e(`rgba(${S}, ${E}, ${A}, ${N})`)}else e(g)};return fe.jsxs("div",{className:"acp-popover",ref:s,style:y,children:[fe.jsx("div",{className:"acp-row",children:fe.jsx(ZP,{color:u,onChange:g=>v(g)})}),r&&fe.jsxs("div",{className:"acp-row acp-alpha",children:[fe.jsx("label",{children:""}),fe.jsx("input",{type:"range",min:0,max:100,value:h,onChange:g=>{const _=parseInt(g.target.value,10);p(_),v(u,_)}}),fe.jsxs("span",{children:[h,"%"]})]}),fe.jsx("div",{className:"acp-row acp-tools",children:fe.jsx("input",{className:"acp-hex-input",value:u.toUpperCase(),onChange:g=>{const _=g.target.value.trim(),S=_.startsWith("#")?_:`#${_}`;L8(S)&&v(S),c(S)}})})]})}const aI=({setActiveTool:t,activeTool:e,selectedColor:n,setSelectedColor:r,defaultFontSize:i,setDefaultFontSize:s,onImageUpload:l,eraserSize:u=15,setEraserSize:c,eraserMode:h="size",setEraserMode:p,onUndo:y,onRedo:v,canUndo:g=!1,canRedo:_=!1,getAuthToken:S})=>{const[E,A]=ue.useState(!1),[N,x]=ue.useState(!1),L=ue.useRef(null),D=ue.useRef(null),[W,re]=ue.useState(!1),[U,M]=ue.useState(null);ue.useEffect(()=>{const F=H=>{const Z=H.target;L.current&&!L.current.contains(Z)&&A(!1),D.current&&!D.current.contains(Z)&&x(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const V=[{name:"cursor",icon:"/kimbanana/ui/assets/toolIcon/cursor.svg"},{name:"text",icon:"/kimbanana/ui/assets/toolIcon/text.svg",isTextButton:!0},{name:"shapes",icon:"/kimbanana/ui/assets/toolIcon/shapes.svg",isShapeButton:!0},{name:"color",icon:"/kimbanana/ui/assets/toolIcon/color.svg",isColorButton:!0},{name:"pen",icon:"/kimbanana/ui/assets/toolIcon/pen.svg"},{name:"eraser",icon:"/kimbanana/ui/assets/toolIcon/eraser.svg"},{name:"image",icon:"/kimbanana/ui/assets/toolIcon/image.svg"}];return fe.jsxs("div",{className:"toolbar",children:[V.map(F=>F.isShapeButton?fe.jsxs("div",{className:"shape-dropdown",children:[fe.jsx("button",{className:`toolbar-btn ${E?"active":""}`,onClick:()=>{A(H=>!H),t("shapes")},children:fe.jsx("img",{src:F.icon,alt:"Shapes"})}),E&&fe.jsxs("div",{className:"shape-menu",ref:L,children:[fe.jsxs("button",{onClick:()=>{t("circle"),A(!1)},children:[fe.jsx("img",{src:"/kimbanana/ui/assets/toolIcon/circle.svg",alt:"Circle"}),fe.jsx("span",{children:""})]}),fe.jsxs("button",{onClick:()=>{t("rectangle"),A(!1)},children:[fe.jsx("img",{src:"/kimbanana/ui/assets/toolIcon/rectangle.svg",alt:"Rectangle"}),fe.jsx("span",{children:""})]}),fe.jsxs("button",{onClick:()=>{t("triangle"),A(!1)},children:[fe.jsx("img",{src:"/kimbanana/ui/assets/toolIcon/triangle.svg",alt:"Triangle"}),fe.jsx("span",{children:""})]}),fe.jsxs("button",{onClick:()=>{t("star"),A(!1)},children:[fe.jsx(yi,{icon:"mdi:star",width:"18",height:"18"}),fe.jsx("span",{children:""})]}),fe.jsxs("button",{onClick:()=>{t("arrow"),A(!1)},children:[fe.jsx(yi,{icon:"mdi:arrow-right",width:"18",height:"18"}),fe.jsx("span",{children:""})]})]})]},F.name):F.isColorButton?fe.jsxs("div",{className:"color-dropdown",children:[fe.jsx("button",{className:`toolbar-btn ${W?"active":""}`,onClick:H=>{t("color"),A(!1),x(!1),M(H.currentTarget),re(Z=>!Z)},children:fe.jsx("img",{src:F.icon,alt:"Color"})}),W&&fe.jsx(oI,{value:n,onChange:H=>{r(H)},onClose:()=>re(!1),enableAlpha:!0,anchorEl:U})]},F.name):F.isTextButton?fe.jsxs("div",{className:"text-dropdown",children:[fe.jsx("button",{className:`toolbar-btn ${N?"active":""}`,onClick:()=>{x(H=>!H),t("text")},children:fe.jsx("img",{src:F.icon,alt:"Text"})}),N&&fe.jsxs("div",{className:"text-menu",ref:D,children:[fe.jsx(yi,{icon:"mdi:format-size",width:"18",height:"18"}),fe.jsx("select",{value:i,onChange:H=>s(parseInt(H.target.value,10)),children:[18,24,32,48,64,96,128].map(H=>fe.jsxs("option",{value:H,children:[H,"px"]},H))})]})]},F.name):F.name==="image"?fe.jsxs(tn.Fragment,{children:[fe.jsx("input",{type:"file",accept:"image/*",id:"image-upload",style:{display:"none"},onChange:async H=>{var Z;try{const ne=(Z=H.target.files)==null?void 0:Z[0];if(!ne)return;const le=new FormData;le.append("file",ne);const xe=await S(),B={};xe&&(B.Authorization=`Bearer ${xe}`);const G=await fetch("https://daisy.wisoft.io/kimbanana/app/api/images/upload",{method:"POST",body:le,headers:B});if(!G.ok)throw new Error(" ");const ee=`https://daisy.wisoft.io/kimbanana/app${await G.text()}`;console.log(" URL:",ee),l(ee)}catch(ne){console.error("    :",ne),alert("  .")}}}),fe.jsx("label",{htmlFor:"image-upload",className:"toolbar-btn",children:fe.jsx("img",{src:F.icon,alt:"Image"})})]},F.name):F.name==="pen"?fe.jsx("button",{className:`toolbar-btn ${e===F.name?"active":""}`,onClick:()=>t("pen"),children:fe.jsx("img",{src:F.icon,alt:F.name})},F.name):F.name==="eraser"?e==="pen"||e==="eraser"?fe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[fe.jsx("button",{className:`toolbar-btn ${e===F.name?"active":""}`,onClick:()=>t(e==="eraser"?"pen":"eraser"),title:"",children:fe.jsx(yi,{icon:"mdi:eraser",width:"20",height:"20"})}),e==="eraser"&&p&&fe.jsxs("select",{value:h,onChange:H=>p(H.target.value),style:{fontSize:"12px",padding:"2px 4px",border:"1px solid #ccc",borderRadius:"3px"},title:" ",children:[fe.jsx("option",{value:"size",children:" "}),fe.jsx("option",{value:"area",children:" "})]}),e==="eraser"&&c&&fe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[fe.jsx("input",{type:"range",min:"5",max:"50",value:u,onChange:H=>c(parseInt(H.target.value)),style:{width:"50px",height:"20px"},title:" "}),fe.jsx("span",{style:{fontSize:"12px",color:"#666"},children:u})]})]},F.name):null:fe.jsx("button",{className:`toolbar-btn ${e===F.name?"active":""}`,onClick:()=>t(F.name),children:fe.jsx("img",{src:F.icon,alt:F.name})},F.name)),fe.jsx("div",{className:"divider"}),fe.jsx("button",{className:"toolbar-btn",onClick:y,disabled:!g,title:"",children:fe.jsx("img",{src:"/kimbanana/ui/assets/toolIcon/before.svg",alt:"Undo"})}),fe.jsx("button",{className:"toolbar-btn",onClick:v,disabled:!_,title:"",children:fe.jsx("img",{src:"/kimbanana/ui/assets/toolIcon/after.svg",alt:"Redo"})})]})};function lI(t){const[e,n]=ue.useState(!1),r=ue.useCallback(()=>{var s;(s=t.current)!=null&&s.requestFullscreen&&t.current.requestFullscreen()},[t]),i=ue.useCallback(()=>{document.fullscreenElement&&document.exitFullscreen()},[]);return ue.useEffect(()=>{const s=()=>n(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",s),()=>document.removeEventListener("fullscreenchange",s)},[]),{isFullscreen:e,enter:r,exit:i}}const E0=({slideId:t,slideData:e,onRendered:n,pixelRatio:r=.25})=>{const i=ue.useRef(null),[s,l]=ue.useState({});ue.useEffect(()=>{(async()=>{const h=e.shapes.filter(p=>p.type==="image"&&p.imageSrc).map(p=>new Promise(y=>{const v=new window.Image;v.crossOrigin="anonymous",v.src=p.imageSrc,v.onload=()=>{l(g=>({...g,[p.id]:v})),y()},v.onerror=()=>y()}));await Promise.all(h),setTimeout(()=>{var y;const p=(y=i.current)==null?void 0:y.toDataURL({pixelRatio:r});p&&n(t,p)},100)})()},[e.shapes,t,n,r]);const u=()=>[0,-50,-50,50,50,50];return fe.jsx("div",{style:{position:"absolute",top:-9999,left:-9999},children:fe.jsx(S8,{width:1e3,height:563,ref:i,children:fe.jsxs(y8,{children:[fe.jsx(C0,{width:1e3,height:563,fill:"white"}),e.shapes.map(c=>c.type==="rectangle"?fe.jsx(C0,{x:c.x,y:c.y,width:c.width,height:c.height,fill:c.color},c.id):c.type==="circle"?fe.jsx(v8,{x:c.x,y:c.y,radiusX:c.radius??50,radiusY:c.radius??50,fill:c.color},c.id):c.type==="triangle"?fe.jsx(N0,{x:c.x,y:c.y,points:c.points??u(),fill:c.color,closed:!0,rotation:c.rotation??0},c.id):c.type==="image"&&s[c.id]?fe.jsx(w8,{x:c.x,y:c.y,width:c.width,height:c.height,image:s[c.id]},c.id):c.type==="star"?fe.jsx(_8,{x:c.x,y:c.y,numPoints:c.numPoints??5,innerRadius:c.innerRadius??20,outerRadius:c.outerRadius??40,fill:c.color},c.id):c.type==="arrow"?fe.jsx(x8,{points:c.points||[c.x??0,c.y??0,(c.x??0)+100,c.y??0],pointerLength:c.pointerLength??10,pointerWidth:c.pointerWidth??10,stroke:c.color||"black",fill:c.color||"black",strokeWidth:c.strokeWidth||3},c.id):c.type==="line"?fe.jsx(N0,{points:c.points||[],stroke:c.color||"black",strokeWidth:c.strokeWidth||3,lineCap:"round",lineJoin:"round"},c.id):null),e.texts.map(c=>fe.jsx(b8,{x:c.x,y:c.y,text:c.text,fontSize:c.fontSize||20,fontFamily:"Noto Sans KR",fill:c.color},c.id))]})})})},uI=({uploadFirstThumbnail:t})=>{const[e,n]=ue.useState({}),r=ue.useRef(new Set),i=ue.useRef(""),s=ue.useRef(null),l=ue.useRef({}),u=ue.useCallback(v=>{var g,_;return JSON.stringify({shapes:(g=v.shapes)==null?void 0:g.map(S=>({id:S.id,type:S.type,x:S.x,y:S.y,rotation:S.rotation,width:S.width,height:S.height,radiusX:S.radiusX,radiusY:S.radiusY,color:S.color,imageSrc:S.imageSrc,points:S.points,numPoints:S.numPoints,innerRadius:S.innerRadius,outerRadius:S.outerRadius,pointerLength:S.pointerLength,pointerWidth:S.pointerWidth,strokeWidth:S.strokeWidth})),texts:(_=v.texts)==null?void 0:_.map(S=>({id:S.id,text:S.text,x:S.x,y:S.y,color:S.color,fontSize:S.fontSize}))})},[]),c=ue.useCallback((v,g,_=!1,S=.25)=>{if(r.current.has(v))return;r.current.add(v);const E=document.createElement("div");document.body.appendChild(E);const A=y5.createRoot(E),N=(x,L)=>{n(W=>({...W,[x]:L}));const D=u(g);l.current[x]=D,_&&t(L).catch(W=>console.error("  :",W)),A.unmount(),document.body.removeChild(E),r.current.delete(v)};A.render(fe.jsx(E0,{slideId:v,slideData:g,onRendered:N,pixelRatio:S}))},[t,u]),h=ue.useCallback((v,g,_=!1,S=!1)=>{if(!g)return;const E=u(g),A=l.current[v];if(!S&&r.current.has(v)||!S&&e[v]&&A===E)return;const N=()=>c(v,g,_);typeof window<"u"&&window.requestIdleCallback?window.requestIdleCallback(N,{timeout:500}):setTimeout(N,0)},[e,c,u]),p=ue.useCallback((v,g,_)=>{if(n(S=>({...S,[v]:g})),_&&v===_){const S=g.slice(0,4096);S!==i.current&&(i.current=S,s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{t(g).catch(E=>console.error("  :",E)),s.current=null},400))}},[t]),y=ue.useCallback((v,g)=>new Promise(_=>{const S=document.createElement("div");document.body.appendChild(S);const E=y5.createRoot(S),A=(N,x)=>{E.unmount(),document.body.removeChild(S),_(x)};E.render(fe.jsx(E0,{slideId:v,slideData:g,onRendered:A,pixelRatio:3}))}),[]);return{thumbnails:e,renderThumbnail:c,scheduleThumbnail:h,updateThumbnail:p,renderHighResThumbnail:y}},v2={"demo-1":{id:"demo-1",title:"AI    -  ",slides:[{id:"s_bp_001_page_01",order:1,data:{shapes:[{id:1001,type:"rectangle",x:50,y:50,rotation:0,width:900,height:500,color:"#2563eb"}],texts:[{id:2001,text:"AI   ",x:200,y:200,color:"#ffffff",fontSize:48},{id:2002,text:" ",x:250,y:280,color:"#ffffff",fontSize:36},{id:2003,text:"2025 1",x:400,y:450,color:"#ffffff",fontSize:24}]}},{id:"s_bp_001_page_02",order:2,data:{shapes:[{id:1002,type:"rectangle",x:50,y:50,rotation:0,width:900,height:80,color:"#1e40af"},{id:1003,type:"circle",x:150,y:250,rotation:0,radiusX:80,radiusY:80,color:"#3b82f6"},{id:1004,type:"circle",x:400,y:250,rotation:0,radiusX:80,radiusY:80,color:"#60a5fa"},{id:1005,type:"circle",x:650,y:250,rotation:0,radiusX:80,radiusY:80,color:"#93c5fd"}],texts:[{id:2004,text:" ",x:400,y:70,color:"#ffffff",fontSize:32},{id:2005,text:" ",x:100,y:380,color:"#1f2937",fontSize:20},{id:2006,text:"$50B",x:120,y:240,color:"#ffffff",fontSize:24},{id:2007,text:"",x:360,y:380,color:"#1f2937",fontSize:20},{id:2008,text:"35%",x:380,y:240,color:"#ffffff",fontSize:24},{id:2009,text:" ",x:600,y:380,color:"#1f2937",fontSize:20},{id:2010,text:"SMB",x:630,y:240,color:"#ffffff",fontSize:24}]}},{id:"s_bp_001_page_03",order:3,data:{shapes:[{id:1006,type:"rectangle",x:50,y:50,rotation:0,width:900,height:80,color:"#1e40af"},{id:1007,type:"rectangle",x:100,y:200,rotation:0,width:250,height:300,color:"#dbeafe"},{id:1008,type:"rectangle",x:400,y:200,rotation:0,width:250,height:300,color:"#bfdbfe"},{id:1009,type:"rectangle",x:700,y:200,rotation:0,width:250,height:300,color:"#93c5fd"}],texts:[{id:2011,text:" ",x:350,y:70,color:"#ffffff",fontSize:32},{id:2012,text:" ",x:160,y:230,color:"#1e40af",fontSize:24},{id:2013,text:`  
 3
 1GB `,x:120,y:290,color:"#374151",fontSize:18},{id:2014,text:" ",x:460,y:230,color:"#1e40af",fontSize:24},{id:2015,text:`  
 50
 100GB `,x:420,y:290,color:"#374151",fontSize:18},{id:2016,text:"",x:730,y:230,color:"#1e40af",fontSize:24},{id:2017,text:` 
 
  `,x:720,y:290,color:"#374151",fontSize:18}]}},{id:"s_bp_001_page_04",order:4,data:{shapes:[{id:1010,type:"rectangle",x:50,y:50,rotation:0,width:900,height:80,color:"#1e40af"},{id:1011,type:"rectangle",x:100,y:200,rotation:0,width:150,height:100,color:"#3b82f6"},{id:1012,type:"rectangle",x:300,y:320,rotation:0,width:150,height:150,color:"#60a5fa"},{id:1013,type:"rectangle",x:500,y:490,rotation:0,width:150,height:200,color:"#93c5fd"}],texts:[{id:2018,text:"  (3)",x:350,y:70,color:"#ffffff",fontSize:32},{id:2019,text:"Year 1",x:150,y:160,color:"#1f2937",fontSize:20},{id:2020,text:"$500K",x:145,y:240,color:"#ffffff",fontSize:20},{id:2021,text:"Year 2",x:350,y:280,color:"#1f2937",fontSize:20},{id:2022,text:"$2M",x:360,y:380,color:"#ffffff",fontSize:20},{id:2023,text:"Year 3",x:550,y:450,color:"#1f2937",fontSize:20},{id:2024,text:"$5M",x:560,y:560,color:"#ffffff",fontSize:20}]}},{id:"s_bp_001_page_05",order:5,data:{shapes:[{id:1014,type:"rectangle",x:50,y:50,rotation:0,width:900,height:80,color:"#1e40af"},{id:1015,type:"circle",x:150,y:250,rotation:0,radiusX:50,radiusY:50,color:"#10b981"},{id:1016,type:"circle",x:400,y:250,rotation:0,radiusX:50,radiusY:50,color:"#3b82f6"},{id:1017,type:"circle",x:650,y:250,rotation:0,radiusX:50,radiusY:50,color:"#8b5cf6"},{id:1018,type:"rectangle",x:200,y:245,rotation:0,width:150,height:10,color:"#9ca3af"},{id:1019,type:"rectangle",x:450,y:245,rotation:0,width:150,height:10,color:"#9ca3af"}],texts:[{id:2025,text:"",x:420,y:70,color:"#ffffff",fontSize:32},{id:2026,text:"Q1 2025",x:120,y:340,color:"#1f2937",fontSize:18},{id:2027,text:" ",x:110,y:370,color:"#6b7280",fontSize:16},{id:2028,text:"Q2 2025",x:370,y:340,color:"#1f2937",fontSize:18},{id:2029,text:" ",x:360,y:370,color:"#6b7280",fontSize:16},{id:2030,text:"Q3 2025",x:620,y:340,color:"#1f2937",fontSize:18},{id:2031,text:" ",x:600,y:370,color:"#6b7280",fontSize:16}]}}]},"demo-2":{id:"demo-2",title:"   -  ",slides:[{id:"s_ed_002_page_01",order:1,data:{shapes:[{id:2001,type:"rectangle",x:50,y:50,rotation:0,width:900,height:500,color:"#059669"}],texts:[{id:3001,text:"  ",x:300,y:200,color:"#ffffff",fontSize:48},{id:3002,text:"HTML, CSS, JavaScript ",x:220,y:280,color:"#d1fae5",fontSize:28},{id:3003,text:`: 
 : 4`,x:350,y:400,color:"#ffffff",fontSize:20}]}},{id:"s_ed_002_page_02",order:2,data:{shapes:[{id:2002,type:"rectangle",x:50,y:50,rotation:0,width:900,height:80,color:"#047857"},{id:2003,type:"rectangle",x:100,y:180,rotation:0,width:800,height:100,color:"#d1fae5"},{id:2004,type:"rectangle",x:100,y:300,rotation:0,width:800,height:100,color:"#a7f3d0"},{id:2005,type:"rectangle",x:100,y:420,rotation:0,width:800,height:100,color:"#6ee7b7"}],texts:[{id:3004,text:" ",x:400,y:70,color:"#ffffff",fontSize:32},{id:3005,text:"1. HTML   ",x:130,y:210,color:"#065f46",fontSize:22},{id:3006,text:"2. CSS   ",x:130,y:330,color:"#065f46",fontSize:22},{id:3007,text:"3. JavaScript   ",x:130,y:450,color:"#065f46",fontSize:22}]}},{id:"s_ed_002_page_03",order:3,data:{shapes:[{id:2006,type:"rectangle",x:50,y:50,rotation:0,width:900,height:80,color:"#047857"},{id:2007,type:"rectangle",x:100,y:180,rotation:0,width:800,height:350,color:"#1f2937"}],texts:[{id:3008,text:"HTML  ",x:360,y:70,color:"#ffffff",fontSize:32},{id:3009,text:`<html>
  <head>
    <title>  </title>
  </head>
  <body>
    <h1>!</h1>
    <p>  .</p>
  </body>
</html>`,x:130,y:210,color:"#10b981",fontSize:18}]}},{id:"s_ed_002_page_04",order:4,data:{shapes:[{id:2008,type:"rectangle",x:50,y:50,rotation:0,width:900,height:80,color:"#047857"},{id:2009,type:"rectangle",x:100,y:180,rotation:0,width:350,height:300,color:"#3b82f6"},{id:2010,type:"circle",x:650,y:330,rotation:0,radiusX:100,radiusY:100,color:"#ef4444"}],texts:[{id:3010,text:"CSS ",x:400,y:70,color:"#ffffff",fontSize:32},{id:3011,text:`, , 
 `,x:150,y:300,color:"#ffffff",fontSize:24},{id:3012,text:` 
 `,x:570,y:470,color:"#1f2937",fontSize:20}]}},{id:"s_ed_002_page_05",order:5,data:{shapes:[{id:2011,type:"rectangle",x:50,y:50,rotation:0,width:900,height:80,color:"#047857"},{id:2012,type:"rectangle",x:100,y:180,rotation:0,width:800,height:400,color:"#fef3c7"}],texts:[{id:3013,text:" ",x:400,y:70,color:"#ffffff",fontSize:32},{id:3014,text:" :   ",x:150,y:220,color:"#92400e",fontSize:28},{id:3015,text:`:

 HTML   
 CSS  
  3  
   `,x:150,y:290,color:"#78350f",fontSize:20},{id:3016,text:" : 1",x:350,y:520,color:"#b45309",fontSize:22}]}}]},"demo-3":{id:"demo-3",title:"Kimbanana -  ",slides:[{id:"s_pi_003_page_01",order:1,data:{shapes:[{id:3001,type:"rectangle",x:50,y:50,rotation:0,width:900,height:500,color:"#7c3aed"}],texts:[{id:4001,text:"Kimbanana",x:350,y:180,color:"#ffffff",fontSize:56},{id:4002,text:"   ",x:240,y:270,color:"#e9d5ff",fontSize:28},{id:4003,text:"   ",x:260,y:420,color:"#ffffff",fontSize:22}]}},{id:"s_pi_003_page_02",order:2,data:{shapes:[{id:3002,type:"rectangle",x:50,y:50,rotation:0,width:900,height:80,color:"#6d28d9"},{id:3003,type:"triangle",x:200,y:250,rotation:180,points:[0,-80,80,80,-80,80],color:"#ef4444"},{id:3004,type:"triangle",x:500,y:250,rotation:180,points:[0,-80,80,80,-80,80],color:"#f59e0b"},{id:3005,type:"triangle",x:800,y:250,rotation:180,points:[0,-80,80,80,-80,80],color:"#eab308"}],texts:[{id:4004,text:"   ?",x:300,y:70,color:"#ffffff",fontSize:32},{id:4005,text:` 
`,x:150,y:360,color:"#1f2937",fontSize:20},{id:4006,text:` 
`,x:460,y:360,color:"#1f2937",fontSize:20},{id:4007,text:` 
`,x:750,y:360,color:"#1f2937",fontSize:20}]}},{id:"s_pi_003_page_03",order:3,data:{shapes:[{id:3006,type:"rectangle",x:50,y:50,rotation:0,width:900,height:80,color:"#6d28d9"},{id:3007,type:"circle",x:500,y:320,rotation:0,radiusX:150,radiusY:150,color:"#10b981"}],texts:[{id:4008,text:"Kimbanana ",x:300,y:70,color:"#ffffff",fontSize:32},{id:4009,text:`   
   
  
  `,x:150,y:200,color:"#1f2937",fontSize:24},{id:4010,text:`
`,x:430,y:290,color:"#ffffff",fontSize:26}]}},{id:"s_pi_003_page_04",order:4,data:{shapes:[{id:3008,type:"rectangle",x:50,y:50,rotation:0,width:900,height:80,color:"#6d28d9"},{id:3009,type:"rectangle",x:100,y:180,rotation:0,width:180,height:180,color:"#ddd6fe"},{id:3010,type:"rectangle",x:320,y:180,rotation:0,width:180,height:180,color:"#c4b5fd"},{id:3011,type:"rectangle",x:540,y:180,rotation:0,width:180,height:180,color:"#a78bfa"},{id:3012,type:"rectangle",x:760,y:180,rotation:0,width:180,height:180,color:"#8b5cf6"}],texts:[{id:4011,text:" ",x:400,y:70,color:"#ffffff",fontSize:32},{id:4012,text:`
`,x:150,y:230,color:"#5b21b6",fontSize:20},{id:4013,text:`
`,x:365,y:230,color:"#5b21b6",fontSize:20},{id:4014,text:`
`,x:585,y:230,color:"#ffffff",fontSize:20},{id:4015,text:`
`,x:810,y:230,color:"#ffffff",fontSize:20},{id:4016,text:"    ",x:280,y:450,color:"#1f2937",fontSize:24}]}},{id:"s_pi_003_page_05",order:5,data:{shapes:[{id:3013,type:"rectangle",x:50,y:50,rotation:0,width:900,height:80,color:"#6d28d9"},{id:3014,type:"rectangle",x:100,y:180,rotation:0,width:250,height:350,color:"#f3f4f6"},{id:3015,type:"rectangle",x:380,y:180,rotation:0,width:250,height:350,color:"#e5e7eb"},{id:3016,type:"rectangle",x:660,y:180,rotation:0,width:250,height:350,color:"#d1d5db"}],texts:[{id:4017,text:"",x:420,y:70,color:"#ffffff",fontSize:32},{id:4018,text:"",x:200,y:210,color:"#6d28d9",fontSize:28},{id:4019,text:`0/

 3
  
 1GB `,x:130,y:270,color:"#374151",fontSize:18},{id:4020,text:"",x:480,y:210,color:"#6d28d9",fontSize:28},{id:4021,text:`9,900/

 50
  
 100GB `,x:410,y:270,color:"#374151",fontSize:18},{id:4022,text:"",x:750,y:210,color:"#6d28d9",fontSize:28},{id:4023,text:`

 
  
  `,x:690,y:270,color:"#374151",fontSize:18},{id:4024,text:" contact@kimbanana.io",x:320,y:560,color:"#6d28d9",fontSize:20}]}}]}},cI="modulepreload",dI=function(t){return"/kimbanana/ui/"+t},d3={},wg=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(n.map(h=>{if(h=dI(h),h in d3)return;d3[h]=!0;const p=h.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":cI,p||(v.as="script"),v.crossOrigin="",v.href=h,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((g,_)=>{v.addEventListener("load",g),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};function Dr(t){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(t)}var Ml=Uint8Array,Ha=Uint16Array,Em=Int32Array,Am=new Ml([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Lm=new Ml([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),f3=new Ml([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),P8=function(t,e){for(var n=new Ha(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Em(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},I8=P8(Am,2),fI=I8.b,w2=I8.r;fI[28]=258,w2[258]=28;var hI=P8(Lm,0),h3=hI.r,b2=new Ha(32768);for(var li=0;li<32768;++li){var bc=(li&43690)>>1|(li&21845)<<1;bc=(bc&52428)>>2|(bc&13107)<<2,bc=(bc&61680)>>4|(bc&3855)<<4,b2[li]=((bc&65280)>>8|(bc&255)<<8)>>1}var bh=(function(t,e,n){for(var r=t.length,i=0,s=new Ha(e);i<r;++i)t[i]&&++s[t[i]-1];var l=new Ha(e);for(i=1;i<e;++i)l[i]=l[i-1]+s[i-1]<<1;var u;if(n){u=new Ha(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var h=i<<4|t[i],p=e-t[i],y=l[t[i]-1]++<<p,v=y|(1<<p)-1;y<=v;++y)u[b2[y]>>c]=h}else for(u=new Ha(r),i=0;i<r;++i)t[i]&&(u[i]=b2[l[t[i]-1]++]>>15-t[i]);return u}),rd=new Ml(288);for(var li=0;li<144;++li)rd[li]=8;for(var li=144;li<256;++li)rd[li]=9;for(var li=256;li<280;++li)rd[li]=7;for(var li=280;li<288;++li)rd[li]=8;var A0=new Ml(32);for(var li=0;li<32;++li)A0[li]=5;var pI=bh(rd,9,0),gI=bh(A0,5,0),R8=function(t){return(t+7)/8|0},mI=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Ml(t.subarray(e,n))},Tu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},ch=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},bg=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:D8,l:0};if(i==1){var l=new Ml(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(D,W){return D.f-W.f}),n.push({s:-1,f:25001});var u=n[0],c=n[1],h=0,p=1,y=2;for(n[0]={s:-1,f:u.f+c.f,l:u,r:c};p!=i-1;)u=n[n[h].f<n[y].f?h++:y++],c=n[h!=p&&n[h].f<n[y].f?h++:y++],n[p++]={s:-1,f:u.f+c.f,l:u,r:c};for(var v=s[0].s,r=1;r<i;++r)s[r].s>v&&(v=s[r].s);var g=new Ha(v+1),_=_2(n[p-1],g,0);if(_>e){var r=0,S=0,E=_-e,A=1<<E;for(s.sort(function(W,re){return g[re.s]-g[W.s]||W.f-re.f});r<i;++r){var N=s[r].s;if(g[N]>e)S+=A-(1<<_-g[N]),g[N]=e;else break}for(S>>=E;S>0;){var x=s[r].s;g[x]<e?S-=1<<e-g[x]++-1:++r}for(;r>=0&&S;--r){var L=s[r].s;g[L]==e&&(--g[L],++S)}_=e}return{t:new Ml(g),l:_}},_2=function(t,e,n){return t.s==-1?Math.max(_2(t.l,e,n+1),_2(t.r,e,n+1)):e[t.s]=n},p3=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ha(++e),r=0,i=t[0],s=1,l=function(c){n[r++]=c},u=1;u<=e;++u)if(t[u]==i&&u!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(i),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(i);s=1,i=t[u]}return{c:n.subarray(0,r),n:e}},dh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},T8=function(t,e,n){var r=n.length,i=R8(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},g3=function(t,e,n,r,i,s,l,u,c,h,p){Tu(e,p++,n),++i[256];for(var y=bg(i,15),v=y.t,g=y.l,_=bg(s,15),S=_.t,E=_.l,A=p3(v),N=A.c,x=A.n,L=p3(S),D=L.c,W=L.n,re=new Ha(19),U=0;U<N.length;++U)++re[N[U]&31];for(var U=0;U<D.length;++U)++re[D[U]&31];for(var M=bg(re,7),V=M.t,F=M.l,H=19;H>4&&!V[f3[H-1]];--H);var Z=h+5<<3,ne=dh(i,rd)+dh(s,A0)+l,le=dh(i,v)+dh(s,S)+l+14+3*H+dh(re,V)+2*re[16]+3*re[17]+7*re[18];if(c>=0&&Z<=ne&&Z<=le)return T8(e,p,t.subarray(c,c+h));var xe,B,G,Q;if(Tu(e,p,1+(le<ne)),p+=2,le<ne){xe=bh(v,g,0),B=v,G=bh(S,E,0),Q=S;var ee=bh(V,F,0);Tu(e,p,x-257),Tu(e,p+5,W-1),Tu(e,p+10,H-4),p+=14;for(var U=0;U<H;++U)Tu(e,p+3*U,V[f3[U]]);p+=3*H;for(var $=[N,D],j=0;j<2;++j)for(var K=$[j],U=0;U<K.length;++U){var X=K[U]&31;Tu(e,p,ee[X]),p+=V[X],X>15&&(Tu(e,p,K[U]>>5&127),p+=K[U]>>12)}}else xe=pI,B=rd,G=gI,Q=A0;for(var U=0;U<u;++U){var ce=r[U];if(ce>255){var X=ce>>18&31;ch(e,p,xe[X+257]),p+=B[X+257],X>7&&(Tu(e,p,ce>>23&31),p+=Am[X]);var ae=ce&31;ch(e,p,G[ae]),p+=Q[ae],ae>3&&(ch(e,p,ce>>5&8191),p+=Lm[ae])}else ch(e,p,xe[ce]),p+=B[ce]}return ch(e,p,xe[256]),p+B[256]},yI=new Em([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),D8=new Ml(0),vI=function(t,e,n,r,i,s){var l=s.z||t.length,u=new Ml(r+l+5*(1+Math.ceil(l/7e3))+i),c=u.subarray(r,u.length-i),h=s.l,p=(s.r||0)&7;if(e){p&&(c[0]=s.r>>3);for(var y=yI[e-1],v=y>>13,g=y&8191,_=(1<<n)-1,S=s.p||new Ha(32768),E=s.h||new Ha(_+1),A=Math.ceil(n/3),N=2*A,x=function(Be){return(t[Be]^t[Be+1]<<A^t[Be+2]<<N)&_},L=new Em(25e3),D=new Ha(288),W=new Ha(32),re=0,U=0,M=s.i||0,V=0,F=s.w||0,H=0;M+2<l;++M){var Z=x(M),ne=M&32767,le=E[Z];if(S[ne]=le,E[Z]=ne,F<=M){var xe=l-M;if((re>7e3||V>24576)&&(xe>423||!h)){p=g3(t,c,0,L,D,W,U,V,H,M-H,p),V=re=U=0,H=M;for(var B=0;B<286;++B)D[B]=0;for(var B=0;B<30;++B)W[B]=0}var G=2,Q=0,ee=g,$=ne-le&32767;if(xe>2&&Z==x(M-$))for(var j=Math.min(v,xe)-1,K=Math.min(32767,M),X=Math.min(258,xe);$<=K&&--ee&&ne!=le;){if(t[M+G]==t[M+G-$]){for(var ce=0;ce<X&&t[M+ce]==t[M+ce-$];++ce);if(ce>G){if(G=ce,Q=$,ce>j)break;for(var ae=Math.min($,ce-2),J=0,B=0;B<ae;++B){var ge=M-$+B&32767,_e=S[ge],Se=ge-_e&32767;Se>J&&(J=Se,le=ge)}}}ne=le,le=S[ne],$+=ne-le&32767}if(Q){L[V++]=268435456|w2[G]<<18|h3[Q];var Re=w2[G]&31,Ue=h3[Q]&31;U+=Am[Re]+Lm[Ue],++D[257+Re],++W[Ue],F=M+G,++re}else L[V++]=t[M],++D[t[M]]}}for(M=Math.max(M,F);M<l;++M)L[V++]=t[M],++D[t[M]];p=g3(t,c,h,L,D,W,U,V,H,M-H,p),h||(s.r=p&7|c[p/8|0]<<3,p-=7,s.h=E,s.p=S,s.i=M,s.w=F)}else{for(var M=s.w||0;M<l+h;M+=65535){var Ve=M+65535;Ve>=l&&(c[p/8|0]=h,Ve=l),p=T8(c,p+1,t.subarray(M,Ve))}s.i=l}return mI(u,0,r+R8(p)+i)},O8=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,l=0;l!=s;){for(var u=Math.min(l+2655,s);l<u;++l)i+=r+=n[l];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},wI=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),l=new Ml(s.length+t.length);l.set(s),l.set(t,s.length),t=l,i.w=s.length}return vI(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},F8=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},bI=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=O8();i.p(e.dictionary),F8(t,2,i.d())}};function x2(t,e){e||(e={});var n=O8();n.p(t);var r=wI(t,e,e.dictionary?6:2,4);return bI(r,e),F8(r,r.length-4,n.d()),r}var _I=typeof TextDecoder<"u"&&new TextDecoder,xI=0;try{_I.decode(D8,{stream:!0}),xI=1}catch{}function SI(t){if(Array.isArray(t))return t}function kI(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,u=[],c=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(p){h=!0,i=p}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function m3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function CI(t,e){if(t){if(typeof t=="string")return m3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m3(t,e):void 0}}function NI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y3(t,e){return SI(t)||kI(t,e)||CI(t,e)||NI()}function v3(t,e="utf8"){return new TextDecoder(e).decode(t)}const EI=new TextEncoder;function AI(t){return EI.encode(t)}const LI=1024*8,PI=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),_g={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Pm{constructor(e=LI,n={}){Tr(this,"buffer");Tr(this,"byteLength");Tr(this,"byteOffset");Tr(this,"length");Tr(this,"offset");Tr(this,"lastWrittenByte");Tr(this,"littleEndian");Tr(this,"_data");Tr(this,"_mark");Tr(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let l=i;(ArrayBuffer.isView(e)||e instanceof Pm)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=_g[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===PI&&n!=="uint8"&&n!=="int8"){const u=new Uint8Array(this.buffer.slice(i,i+r));u.reverse();const c=new _g[n](u.buffer);return this.offset+=r,c.reverse(),c}const l=new _g[n](s);return this.offset+=r,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return v3(this.readBytes(e))}decodeText(e=1,n="utf8"){return v3(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(AI(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function sf(t){let e=t.length;for(;--e>=0;)t[e]=0}const II=3,RI=258,M8=29,TI=256,DI=TI+1+M8,B8=30,OI=512,FI=new Array((DI+2)*2);sf(FI);const MI=new Array(B8*2);sf(MI);const BI=new Array(OI);sf(BI);const jI=new Array(RI-II+1);sf(jI);const UI=new Array(M8);sf(UI);const zI=new Array(B8);sf(zI);const GI=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do i=i+e[r++]|0,s=s+i|0;while(--l);i%=65521,s%=65521}return i|s<<16|0};var S2=GI;const HI=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},WI=new Uint32Array(HI()),qI=(t,e,n,r)=>{const i=WI,s=r+n;t^=-1;for(let l=r;l<s;l++)t=t>>>8^i[(t^e[l])&255];return t^-1};var ou=qI,k2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},j8={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const VI=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var $I=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)VI(n,r)&&(t[r]=n[r])}}return t},YI=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let l=t[r];n.set(l,i),i+=l.length}return n},U8={assign:$I,flattenChunks:YI};let z8=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{z8=!1}const Uh=new Uint8Array(256);for(let t=0;t<256;t++)Uh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Uh[254]=Uh[254]=1;var KI=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,l=t.length,u=0;for(i=0;i<l;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<l&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(u),s=0,i=0;s<u;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<l&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const XI=(t,e)=>{if(e<65534&&t.subarray&&z8)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var JI=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let l=t[r++];if(l<128){s[i++]=l;continue}let u=Uh[l];if(u>4){s[i++]=65533,r+=u-1;continue}for(l&=u===2?31:u===3?15:7;u>1&&r<n;)l=l<<6|t[r++]&63,u--;if(u>1){s[i++]=65533;continue}l<65536?s[i++]=l:(l-=65536,s[i++]=55296|l>>10&1023,s[i++]=56320|l&1023)}return XI(s,i)},QI=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Uh[t[n]]>e?n:e},C2={string2buf:KI,buf2string:JI,utf8border:QI};function ZI(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var eR=ZI;const Dp=16209,tR=16191;var nR=function(e,n){let r,i,s,l,u,c,h,p,y,v,g,_,S,E,A,N,x,L,D,W,re,U,M,V;const F=e.state;r=e.next_in,M=e.input,i=r+(e.avail_in-5),s=e.next_out,V=e.output,l=s-(n-e.avail_out),u=s+(e.avail_out-257),c=F.dmax,h=F.wsize,p=F.whave,y=F.wnext,v=F.window,g=F.hold,_=F.bits,S=F.lencode,E=F.distcode,A=(1<<F.lenbits)-1,N=(1<<F.distbits)-1;e:do{_<15&&(g+=M[r++]<<_,_+=8,g+=M[r++]<<_,_+=8),x=S[g&A];t:for(;;){if(L=x>>>24,g>>>=L,_-=L,L=x>>>16&255,L===0)V[s++]=x&65535;else if(L&16){D=x&65535,L&=15,L&&(_<L&&(g+=M[r++]<<_,_+=8),D+=g&(1<<L)-1,g>>>=L,_-=L),_<15&&(g+=M[r++]<<_,_+=8,g+=M[r++]<<_,_+=8),x=E[g&N];n:for(;;){if(L=x>>>24,g>>>=L,_-=L,L=x>>>16&255,L&16){if(W=x&65535,L&=15,_<L&&(g+=M[r++]<<_,_+=8,_<L&&(g+=M[r++]<<_,_+=8)),W+=g&(1<<L)-1,W>c){e.msg="invalid distance too far back",F.mode=Dp;break e}if(g>>>=L,_-=L,L=s-l,W>L){if(L=W-L,L>p&&F.sane){e.msg="invalid distance too far back",F.mode=Dp;break e}if(re=0,U=v,y===0){if(re+=h-L,L<D){D-=L;do V[s++]=v[re++];while(--L);re=s-W,U=V}}else if(y<L){if(re+=h+y-L,L-=y,L<D){D-=L;do V[s++]=v[re++];while(--L);if(re=0,y<D){L=y,D-=L;do V[s++]=v[re++];while(--L);re=s-W,U=V}}}else if(re+=y-L,L<D){D-=L;do V[s++]=v[re++];while(--L);re=s-W,U=V}for(;D>2;)V[s++]=U[re++],V[s++]=U[re++],V[s++]=U[re++],D-=3;D&&(V[s++]=U[re++],D>1&&(V[s++]=U[re++]))}else{re=s-W;do V[s++]=V[re++],V[s++]=V[re++],V[s++]=V[re++],D-=3;while(D>2);D&&(V[s++]=V[re++],D>1&&(V[s++]=V[re++]))}}else if((L&64)===0){x=E[(x&65535)+(g&(1<<L)-1)];continue n}else{e.msg="invalid distance code",F.mode=Dp;break e}break}}else if((L&64)===0){x=S[(x&65535)+(g&(1<<L)-1)];continue t}else if(L&32){F.mode=tR;break e}else{e.msg="invalid literal/length code",F.mode=Dp;break e}break}}while(r<i&&s<u);D=_>>3,r-=D,_-=D<<3,g&=(1<<_)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<u?257+(u-s):257-(s-u),F.hold=g,F.bits=_};const Cd=15,w3=852,b3=592,_3=0,xg=1,x3=2,rR=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),iR=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),sR=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),oR=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),aR=(t,e,n,r,i,s,l,u)=>{const c=u.bits;let h=0,p=0,y=0,v=0,g=0,_=0,S=0,E=0,A=0,N=0,x,L,D,W,re,U=null,M;const V=new Uint16Array(Cd+1),F=new Uint16Array(Cd+1);let H=null,Z,ne,le;for(h=0;h<=Cd;h++)V[h]=0;for(p=0;p<r;p++)V[e[n+p]]++;for(g=c,v=Cd;v>=1&&V[v]===0;v--);if(g>v&&(g=v),v===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,u.bits=1,0;for(y=1;y<v&&V[y]===0;y++);for(g<y&&(g=y),E=1,h=1;h<=Cd;h++)if(E<<=1,E-=V[h],E<0)return-1;if(E>0&&(t===_3||v!==1))return-1;for(F[1]=0,h=1;h<Cd;h++)F[h+1]=F[h]+V[h];for(p=0;p<r;p++)e[n+p]!==0&&(l[F[e[n+p]]++]=p);if(t===_3?(U=H=l,M=20):t===xg?(U=rR,H=iR,M=257):(U=sR,H=oR,M=0),N=0,p=0,h=y,re=s,_=g,S=0,D=-1,A=1<<g,W=A-1,t===xg&&A>w3||t===x3&&A>b3)return 1;for(;;){Z=h-S,l[p]+1<M?(ne=0,le=l[p]):l[p]>=M?(ne=H[l[p]-M],le=U[l[p]-M]):(ne=96,le=0),x=1<<h-S,L=1<<_,y=L;do L-=x,i[re+(N>>S)+L]=Z<<24|ne<<16|le|0;while(L!==0);for(x=1<<h-1;N&x;)x>>=1;if(x!==0?(N&=x-1,N+=x):N=0,p++,--V[h]===0){if(h===v)break;h=e[n+l[p]]}if(h>g&&(N&W)!==D){for(S===0&&(S=g),re+=y,_=h-S,E=1<<_;_+S<v&&(E-=V[_+S],!(E<=0));)_++,E<<=1;if(A+=1<<_,t===xg&&A>w3||t===x3&&A>b3)return 1;D=N&W,i[D]=g<<24|_<<16|re-s|0}}return N!==0&&(i[re+N]=h-S<<24|64<<16|0),u.bits=g,0};var _h=aR;const lR=0,G8=1,H8=2,{Z_FINISH:S3,Z_BLOCK:uR,Z_TREES:Op,Z_OK:id,Z_STREAM_END:cR,Z_NEED_DICT:dR,Z_STREAM_ERROR:hl,Z_DATA_ERROR:W8,Z_MEM_ERROR:q8,Z_BUF_ERROR:fR,Z_DEFLATED:k3}=j8,Q0=16180,C3=16181,N3=16182,E3=16183,A3=16184,L3=16185,P3=16186,I3=16187,R3=16188,T3=16189,L0=16190,Du=16191,Sg=16192,D3=16193,kg=16194,O3=16195,F3=16196,M3=16197,B3=16198,Fp=16199,Mp=16200,j3=16201,U3=16202,z3=16203,G3=16204,H3=16205,Cg=16206,W3=16207,q3=16208,mi=16209,V8=16210,$8=16211,hR=852,pR=592,gR=15,mR=gR,V3=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function yR(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const od=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Q0||e.mode>$8?1:0},Y8=t=>{if(od(t))return hl;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Q0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(hR),e.distcode=e.distdyn=new Int32Array(pR),e.sane=1,e.back=-1,id},K8=t=>{if(od(t))return hl;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Y8(t)},X8=(t,e)=>{let n;if(od(t))return hl;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?hl:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,K8(t))},J8=(t,e)=>{if(!t)return hl;const n=new yR;t.state=n,n.strm=t,n.window=null,n.mode=Q0;const r=X8(t,e);return r!==id&&(t.state=null),r},vR=t=>J8(t,mR);let $3=!0,Ng,Eg;const wR=t=>{if($3){Ng=new Int32Array(512),Eg=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(_h(G8,t.lens,0,288,Ng,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;_h(H8,t.lens,0,32,Eg,0,t.work,{bits:5}),$3=!1}t.lencode=Ng,t.lenbits=9,t.distcode=Eg,t.distbits=5},Q8=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},bR=(t,e)=>{let n,r,i,s,l,u,c,h,p,y,v,g,_,S,E=0,A,N,x,L,D,W,re,U;const M=new Uint8Array(4);let V,F;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(od(t)||!t.output||!t.input&&t.avail_in!==0)return hl;n=t.state,n.mode===Du&&(n.mode=Sg),l=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,r=t.input,u=t.avail_in,h=n.hold,p=n.bits,y=u,v=c,U=id;e:for(;;)switch(n.mode){case Q0:if(n.wrap===0){n.mode=Sg;break}for(;p<16;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}if(n.wrap&2&&h===35615){n.wbits===0&&(n.wbits=15),n.check=0,M[0]=h&255,M[1]=h>>>8&255,n.check=ou(n.check,M,2,0),h=0,p=0,n.mode=C3;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=mi;break}if((h&15)!==k3){t.msg="unknown compression method",n.mode=mi;break}if(h>>>=4,p-=4,re=(h&15)+8,n.wbits===0&&(n.wbits=re),re>15||re>n.wbits){t.msg="invalid window size",n.mode=mi;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=h&512?T3:Du,h=0,p=0;break;case C3:for(;p<16;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}if(n.flags=h,(n.flags&255)!==k3){t.msg="unknown compression method",n.mode=mi;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=mi;break}n.head&&(n.head.text=h>>8&1),n.flags&512&&n.wrap&4&&(M[0]=h&255,M[1]=h>>>8&255,n.check=ou(n.check,M,2,0)),h=0,p=0,n.mode=N3;case N3:for(;p<32;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}n.head&&(n.head.time=h),n.flags&512&&n.wrap&4&&(M[0]=h&255,M[1]=h>>>8&255,M[2]=h>>>16&255,M[3]=h>>>24&255,n.check=ou(n.check,M,4,0)),h=0,p=0,n.mode=E3;case E3:for(;p<16;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}n.head&&(n.head.xflags=h&255,n.head.os=h>>8),n.flags&512&&n.wrap&4&&(M[0]=h&255,M[1]=h>>>8&255,n.check=ou(n.check,M,2,0)),h=0,p=0,n.mode=A3;case A3:if(n.flags&1024){for(;p<16;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}n.length=h,n.head&&(n.head.extra_len=h),n.flags&512&&n.wrap&4&&(M[0]=h&255,M[1]=h>>>8&255,n.check=ou(n.check,M,2,0)),h=0,p=0}else n.head&&(n.head.extra=null);n.mode=L3;case L3:if(n.flags&1024&&(g=n.length,g>u&&(g=u),g&&(n.head&&(re=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+g),re)),n.flags&512&&n.wrap&4&&(n.check=ou(n.check,r,g,s)),u-=g,s+=g,n.length-=g),n.length))break e;n.length=0,n.mode=P3;case P3:if(n.flags&2048){if(u===0)break e;g=0;do re=r[s+g++],n.head&&re&&n.length<65536&&(n.head.name+=String.fromCharCode(re));while(re&&g<u);if(n.flags&512&&n.wrap&4&&(n.check=ou(n.check,r,g,s)),u-=g,s+=g,re)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=I3;case I3:if(n.flags&4096){if(u===0)break e;g=0;do re=r[s+g++],n.head&&re&&n.length<65536&&(n.head.comment+=String.fromCharCode(re));while(re&&g<u);if(n.flags&512&&n.wrap&4&&(n.check=ou(n.check,r,g,s)),u-=g,s+=g,re)break e}else n.head&&(n.head.comment=null);n.mode=R3;case R3:if(n.flags&512){for(;p<16;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}if(n.wrap&4&&h!==(n.check&65535)){t.msg="header crc mismatch",n.mode=mi;break}h=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Du;break;case T3:for(;p<32;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}t.adler=n.check=V3(h),h=0,p=0,n.mode=L0;case L0:if(n.havedict===0)return t.next_out=l,t.avail_out=c,t.next_in=s,t.avail_in=u,n.hold=h,n.bits=p,dR;t.adler=n.check=1,n.mode=Du;case Du:if(e===uR||e===Op)break e;case Sg:if(n.last){h>>>=p&7,p-=p&7,n.mode=Cg;break}for(;p<3;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}switch(n.last=h&1,h>>>=1,p-=1,h&3){case 0:n.mode=D3;break;case 1:if(wR(n),n.mode=Fp,e===Op){h>>>=2,p-=2;break e}break;case 2:n.mode=F3;break;case 3:t.msg="invalid block type",n.mode=mi}h>>>=2,p-=2;break;case D3:for(h>>>=p&7,p-=p&7;p<32;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=mi;break}if(n.length=h&65535,h=0,p=0,n.mode=kg,e===Op)break e;case kg:n.mode=O3;case O3:if(g=n.length,g){if(g>u&&(g=u),g>c&&(g=c),g===0)break e;i.set(r.subarray(s,s+g),l),u-=g,s+=g,c-=g,l+=g,n.length-=g;break}n.mode=Du;break;case F3:for(;p<14;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}if(n.nlen=(h&31)+257,h>>>=5,p-=5,n.ndist=(h&31)+1,h>>>=5,p-=5,n.ncode=(h&15)+4,h>>>=4,p-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=mi;break}n.have=0,n.mode=M3;case M3:for(;n.have<n.ncode;){for(;p<3;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}n.lens[H[n.have++]]=h&7,h>>>=3,p-=3}for(;n.have<19;)n.lens[H[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,V={bits:n.lenbits},U=_h(lR,n.lens,0,19,n.lencode,0,n.work,V),n.lenbits=V.bits,U){t.msg="invalid code lengths set",n.mode=mi;break}n.have=0,n.mode=B3;case B3:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[h&(1<<n.lenbits)-1],A=E>>>24,N=E>>>16&255,x=E&65535,!(A<=p);){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}if(x<16)h>>>=A,p-=A,n.lens[n.have++]=x;else{if(x===16){for(F=A+2;p<F;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}if(h>>>=A,p-=A,n.have===0){t.msg="invalid bit length repeat",n.mode=mi;break}re=n.lens[n.have-1],g=3+(h&3),h>>>=2,p-=2}else if(x===17){for(F=A+3;p<F;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}h>>>=A,p-=A,re=0,g=3+(h&7),h>>>=3,p-=3}else{for(F=A+7;p<F;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}h>>>=A,p-=A,re=0,g=11+(h&127),h>>>=7,p-=7}if(n.have+g>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=mi;break}for(;g--;)n.lens[n.have++]=re}}if(n.mode===mi)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=mi;break}if(n.lenbits=9,V={bits:n.lenbits},U=_h(G8,n.lens,0,n.nlen,n.lencode,0,n.work,V),n.lenbits=V.bits,U){t.msg="invalid literal/lengths set",n.mode=mi;break}if(n.distbits=6,n.distcode=n.distdyn,V={bits:n.distbits},U=_h(H8,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,V),n.distbits=V.bits,U){t.msg="invalid distances set",n.mode=mi;break}if(n.mode=Fp,e===Op)break e;case Fp:n.mode=Mp;case Mp:if(u>=6&&c>=258){t.next_out=l,t.avail_out=c,t.next_in=s,t.avail_in=u,n.hold=h,n.bits=p,nR(t,v),l=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,r=t.input,u=t.avail_in,h=n.hold,p=n.bits,n.mode===Du&&(n.back=-1);break}for(n.back=0;E=n.lencode[h&(1<<n.lenbits)-1],A=E>>>24,N=E>>>16&255,x=E&65535,!(A<=p);){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}if(N&&(N&240)===0){for(L=A,D=N,W=x;E=n.lencode[W+((h&(1<<L+D)-1)>>L)],A=E>>>24,N=E>>>16&255,x=E&65535,!(L+A<=p);){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}h>>>=L,p-=L,n.back+=L}if(h>>>=A,p-=A,n.back+=A,n.length=x,N===0){n.mode=H3;break}if(N&32){n.back=-1,n.mode=Du;break}if(N&64){t.msg="invalid literal/length code",n.mode=mi;break}n.extra=N&15,n.mode=j3;case j3:if(n.extra){for(F=n.extra;p<F;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=U3;case U3:for(;E=n.distcode[h&(1<<n.distbits)-1],A=E>>>24,N=E>>>16&255,x=E&65535,!(A<=p);){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}if((N&240)===0){for(L=A,D=N,W=x;E=n.distcode[W+((h&(1<<L+D)-1)>>L)],A=E>>>24,N=E>>>16&255,x=E&65535,!(L+A<=p);){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}h>>>=L,p-=L,n.back+=L}if(h>>>=A,p-=A,n.back+=A,N&64){t.msg="invalid distance code",n.mode=mi;break}n.offset=x,n.extra=N&15,n.mode=z3;case z3:if(n.extra){for(F=n.extra;p<F;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=mi;break}n.mode=G3;case G3:if(c===0)break e;if(g=v-c,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=mi;break}g>n.wnext?(g-=n.wnext,_=n.wsize-g):_=n.wnext-g,g>n.length&&(g=n.length),S=n.window}else S=i,_=l-n.offset,g=n.length;g>c&&(g=c),c-=g,n.length-=g;do i[l++]=S[_++];while(--g);n.length===0&&(n.mode=Mp);break;case H3:if(c===0)break e;i[l++]=n.length,c--,n.mode=Mp;break;case Cg:if(n.wrap){for(;p<32;){if(u===0)break e;u--,h|=r[s++]<<p,p+=8}if(v-=c,t.total_out+=v,n.total+=v,n.wrap&4&&v&&(t.adler=n.check=n.flags?ou(n.check,i,v,l-v):S2(n.check,i,v,l-v)),v=c,n.wrap&4&&(n.flags?h:V3(h))!==n.check){t.msg="incorrect data check",n.mode=mi;break}h=0,p=0}n.mode=W3;case W3:if(n.wrap&&n.flags){for(;p<32;){if(u===0)break e;u--,h+=r[s++]<<p,p+=8}if(n.wrap&4&&h!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=mi;break}h=0,p=0}n.mode=q3;case q3:U=cR;break e;case mi:U=W8;break e;case V8:return q8;case $8:default:return hl}return t.next_out=l,t.avail_out=c,t.next_in=s,t.avail_in=u,n.hold=h,n.bits=p,(n.wsize||v!==t.avail_out&&n.mode<mi&&(n.mode<Cg||e!==S3))&&Q8(t,t.output,t.next_out,v-t.avail_out),y-=t.avail_in,v-=t.avail_out,t.total_in+=y,t.total_out+=v,n.total+=v,n.wrap&4&&v&&(t.adler=n.check=n.flags?ou(n.check,i,v,t.next_out-v):S2(n.check,i,v,t.next_out-v)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Du?128:0)+(n.mode===Fp||n.mode===kg?256:0),(y===0&&v===0||e===S3)&&U===id&&(U=fR),U},_R=t=>{if(od(t))return hl;let e=t.state;return e.window&&(e.window=null),t.state=null,id},xR=(t,e)=>{if(od(t))return hl;const n=t.state;return(n.wrap&2)===0?hl:(n.head=e,e.done=!1,id)},SR=(t,e)=>{const n=e.length;let r,i,s;return od(t)||(r=t.state,r.wrap!==0&&r.mode!==L0)?hl:r.mode===L0&&(i=1,i=S2(i,e,n,0),i!==r.check)?W8:(s=Q8(t,e,n,n),s?(r.mode=V8,q8):(r.havedict=1,id))};var kR=K8,CR=X8,NR=Y8,ER=vR,AR=J8,LR=bR,PR=_R,IR=xR,RR=SR,TR="pako inflate (from Nodeca project)",Ou={inflateReset:kR,inflateReset2:CR,inflateResetKeep:NR,inflateInit:ER,inflateInit2:AR,inflate:LR,inflateEnd:PR,inflateGetHeader:IR,inflateSetDictionary:RR,inflateInfo:TR};function DR(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var OR=DR;const Z8=Object.prototype.toString,{Z_NO_FLUSH:FR,Z_FINISH:MR,Z_OK:zh,Z_STREAM_END:Ag,Z_NEED_DICT:Lg,Z_STREAM_ERROR:BR,Z_DATA_ERROR:Y3,Z_MEM_ERROR:jR}=j8;function Kh(t){this.options=U8.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new eR,this.strm.avail_out=0;let n=Ou.inflateInit2(this.strm,e.windowBits);if(n!==zh)throw new Error(k2[n]);if(this.header=new OR,Ou.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=C2.string2buf(e.dictionary):Z8.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Ou.inflateSetDictionary(this.strm,e.dictionary),n!==zh)))throw new Error(k2[n])}Kh.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,l,u;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?MR:FR,Z8.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=Ou.inflate(n,l),s===Lg&&i&&(s=Ou.inflateSetDictionary(n,i),s===zh?s=Ou.inflate(n,l):s===Y3&&(s=Lg));n.avail_in>0&&s===Ag&&n.state.wrap>0&&t[n.next_in]!==0;)Ou.inflateReset(n),s=Ou.inflate(n,l);switch(s){case BR:case Y3:case Lg:case jR:return this.onEnd(s),this.ended=!0,!1}if(u=n.avail_out,n.next_out&&(n.avail_out===0||s===Ag))if(this.options.to==="string"){let c=C2.utf8border(n.output,n.next_out),h=n.next_out-c,p=C2.buf2string(n.output,c);n.next_out=h,n.avail_out=r-h,h&&n.output.set(n.output.subarray(c,c+h),0),this.onData(p)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===zh&&u===0)){if(s===Ag)return s=Ou.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Kh.prototype.onData=function(t){this.chunks.push(t)};Kh.prototype.onEnd=function(t){t===zh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=U8.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function UR(t,e){const n=new Kh(e);if(n.push(t),n.err)throw n.msg||k2[n.err];return n.result}var zR=Kh,GR=UR,HR={Inflate:zR,inflate:GR};const{Inflate:WR,inflate:qR}=HR;var K3=WR,VR=qR;const eb=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;eb[t]=e}const X3=4294967295;function $R(t,e,n){let r=t;for(let i=0;i<n;i++)r=eb[(r^e[i])&255]^r>>>8;return r}function YR(t,e){return($R(X3,t,e)^X3)>>>0}function J3(t,e,n){const r=t.readUint32(),i=YR(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function tb(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function nb(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function rb(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function ib(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function sb(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+KR(e[s-i],n[s],n[s-i])&255}}function KR(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),l=Math.abs(r-n);return i<=s&&i<=l?t:s<=l?e:n}function XR(t,e,n,r,i,s){switch(t){case 0:tb(e,n,i);break;case 1:nb(e,n,i,s);break;case 2:rb(e,n,r,i);break;case 3:ib(e,n,r,i,s);break;case 4:sb(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const JR=new Uint16Array([255]),QR=new Uint8Array(JR.buffer),ZR=QR[0]===255;function eT(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(s/8)*i,c=new Uint8Array(r*n*u);let h=0;for(let p=0;p<7;p++){const y=l[p],v=Math.ceil((n-y.x)/y.xStep),g=Math.ceil((r-y.y)/y.yStep);if(v<=0||g<=0)continue;const _=v*u,S=new Uint8Array(_);for(let E=0;E<g;E++){const A=e[h++],N=e.subarray(h,h+_);h+=_;const x=new Uint8Array(_);XR(A,N,x,S,_,u),S.set(x);for(let L=0;L<v;L++){const D=y.x+L*y.xStep,W=y.y+E*y.yStep;if(!(D>=n||W>=r))for(let re=0;re<u;re++)c[(W*n+D)*u+re]=x[L*u+re]}}}if(s===16){const p=new Uint16Array(c.buffer);if(ZR)for(let y=0;y<p.length;y++)p[y]=tT(p[y]);return p}else return c}function tT(t){return(t&255)<<8|t>>8&255}const nT=new Uint16Array([255]),rT=new Uint8Array(nT.buffer),iT=rT[0]===255,sT=new Uint8Array(0);function Q3(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,l=Math.ceil(s/8)*i,u=Math.ceil(s/8*i*n),c=new Uint8Array(r*u);let h=sT,p=0,y,v;for(let g=0;g<r;g++){switch(y=e.subarray(p+1,p+1+u),v=c.subarray(g*u,(g+1)*u),e[p]){case 0:tb(y,v,u);break;case 1:nb(y,v,u,l);break;case 2:rb(y,v,h,u);break;case 3:ib(y,v,h,u,l);break;case 4:sb(y,v,h,u,l);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}h=v,p+=u+1}if(s===16){const g=new Uint16Array(c.buffer);if(iT)for(let _=0;_<g.length;_++)g[_]=oT(g[_]);return g}else return c}function oT(t){return(t&255)<<8|t>>8&255}const t0=Uint8Array.of(137,80,78,71,13,10,26,10);function Z3(t){if(!aT(t.readBytes(t0.length)))throw new Error("wrong PNG signature")}function aT(t){if(t.length<t0.length)return!1;for(let e=0;e<t0.length;e++)if(t[e]!==t0[e])return!1;return!0}const lT="tEXt",uT=0,ob=new TextDecoder("latin1");function cT(t){if(fT(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const dT=/^[\u0000-\u00FF]*$/;function fT(t){if(!dT.test(t))throw new Error("invalid latin1 text")}function hT(t,e,n){const r=ab(e);t[r]=pT(e,n-r.length-1)}function ab(t){for(t.mark();t.readByte()!==uT;);const e=t.offset;t.reset();const n=ob.decode(t.readBytes(e-t.offset-1));return t.skip(1),cT(n),n}function pT(t,e){return ob.decode(t.readBytes(e))}const Ua={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Pg={UNKNOWN:-1,DEFLATE:0},e4={UNKNOWN:-1,ADAPTIVE:0},Ig={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Bp={NONE:0,BACKGROUND:1,PREVIOUS:2},Rg={SOURCE:0,OVER:1};class gT extends Pm{constructor(n,r={}){super(n);Tr(this,"_checkCrc");Tr(this,"_inflator");Tr(this,"_png");Tr(this,"_apng");Tr(this,"_end");Tr(this,"_hasPalette");Tr(this,"_palette");Tr(this,"_hasTransparency");Tr(this,"_transparency");Tr(this,"_compressionMethod");Tr(this,"_filterMethod");Tr(this,"_interlaceMethod");Tr(this,"_colorType");Tr(this,"_isAnimated");Tr(this,"_numberOfFrames");Tr(this,"_numberOfPlays");Tr(this,"_frames");Tr(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new K3,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Pg.UNKNOWN,this._filterMethod=e4.UNKNOWN,this._interlaceMethod=Ig.UNKNOWN,this._colorType=Ua.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Z3(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(Z3(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case lT:hT(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?J3(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?J3(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=mT(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Ua.GREYSCALE:i=1;break;case Ua.TRUECOLOUR:i=3;break;case Ua.INDEXED_COLOUR:i=1;break;case Ua.GREYSCALE_ALPHA:i=2;break;case Ua.TRUECOLOUR_ALPHA:i=4;break;case Ua.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Pg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Ua.GREYSCALE:case Ua.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Ua.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ua.UNKNOWN:case Ua.GREYSCALE_ALPHA:case Ua.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=ab(this),i=this.readUint8();if(i!==Pg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:VR(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=Q3({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Bp.NONE:break;case Bp.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let l=0;l<this._png.width;l++){const u=(s*n.width+l)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[u+c]=0}break;case Bp.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(l,u)=>{const c=((l+r.yOffset)*this._png.width+r.xOffset+u)*this._png.channels,h=(l*r.width+u)*this._png.channels;return{index:c,frameIndex:h}};switch(r.blendOp){case Rg.SOURCE:for(let l=0;l<r.height;l++)for(let u=0;u<r.width;u++){const{index:c,frameIndex:h}=s(l,u);for(let p=0;p<this._png.channels;p++)n.data[c+p]=r.data[h+p]}break;case Rg.OVER:for(let l=0;l<r.height;l++)for(let u=0;u<r.width;u++){const{index:c,frameIndex:h}=s(l,u);for(let p=0;p<this._png.channels;p++){const y=r.data[h+this._png.channels-1]/i,v=p%(this._png.channels-1)===0?1:r.data[h+p],g=Math.floor(y*v+(1-y)*n.data[c+p]);n.data[c+p]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==e4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ig.NO_INTERLACE)this._png.data=Q3({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ig.ADAM7)this._png.data=eT({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Bp.NONE,blendOp:Rg.SOURCE,data:n}),this._inflator=new K3,this._writingDataChunks=!1}}function mT(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var t4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(t4||(t4={}));function yT(t,e){return new gT(t,e).decode()}var vn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Tg(){vn.console&&typeof vn.console.log=="function"&&vn.console.log.apply(vn.console,arguments)}var Kr={log:Tg,warn:function(t){vn.console&&(typeof vn.console.warn=="function"?vn.console.warn.apply(vn.console,arguments):Tg.call(null,arguments))},error:function(t){vn.console&&(typeof vn.console.error=="function"?vn.console.error.apply(vn.console,arguments):Tg(t))}};function Dg(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Kc(r.response,e,n)},r.onerror=function(){Kr.error("could not download file")},r.send()}function n4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function jp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Kc=vn.saveAs||((typeof window>"u"?"undefined":Dr(window))!=="object"||window!==vn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=vn.URL||vn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?n4(i.href)?Dg(t,e,n):jp(i,i.target="_blank"):jp(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){jp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(n4(t))Dg(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){jp(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Dr(s)!=="object"&&(Kr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Dg(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(vn.HTMLElement)||vn.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s)&&(typeof FileReader>"u"?"undefined":Dr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},u.readAsDataURL(t)}else{var c=vn.URL||vn.webkitURL,h=c.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function lb(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,l=i.exec(t);l&&(e=s(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+u+c+h}}var n0=vn.atob.bind(vn),r4=vn.btoa.bind(vn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Og(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=To(n,r,i,s,e[0],7,-680876936),s=To(s,n,r,i,e[1],12,-389564586),i=To(i,s,n,r,e[2],17,606105819),r=To(r,i,s,n,e[3],22,-1044525330),n=To(n,r,i,s,e[4],7,-176418897),s=To(s,n,r,i,e[5],12,1200080426),i=To(i,s,n,r,e[6],17,-1473231341),r=To(r,i,s,n,e[7],22,-45705983),n=To(n,r,i,s,e[8],7,1770035416),s=To(s,n,r,i,e[9],12,-1958414417),i=To(i,s,n,r,e[10],17,-42063),r=To(r,i,s,n,e[11],22,-1990404162),n=To(n,r,i,s,e[12],7,1804603682),s=To(s,n,r,i,e[13],12,-40341101),i=To(i,s,n,r,e[14],17,-1502002290),n=Do(n,r=To(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Do(s,n,r,i,e[6],9,-1069501632),i=Do(i,s,n,r,e[11],14,643717713),r=Do(r,i,s,n,e[0],20,-373897302),n=Do(n,r,i,s,e[5],5,-701558691),s=Do(s,n,r,i,e[10],9,38016083),i=Do(i,s,n,r,e[15],14,-660478335),r=Do(r,i,s,n,e[4],20,-405537848),n=Do(n,r,i,s,e[9],5,568446438),s=Do(s,n,r,i,e[14],9,-1019803690),i=Do(i,s,n,r,e[3],14,-187363961),r=Do(r,i,s,n,e[8],20,1163531501),n=Do(n,r,i,s,e[13],5,-1444681467),s=Do(s,n,r,i,e[2],9,-51403784),i=Do(i,s,n,r,e[7],14,1735328473),n=Oo(n,r=Do(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Oo(s,n,r,i,e[8],11,-2022574463),i=Oo(i,s,n,r,e[11],16,1839030562),r=Oo(r,i,s,n,e[14],23,-35309556),n=Oo(n,r,i,s,e[1],4,-1530992060),s=Oo(s,n,r,i,e[4],11,1272893353),i=Oo(i,s,n,r,e[7],16,-155497632),r=Oo(r,i,s,n,e[10],23,-1094730640),n=Oo(n,r,i,s,e[13],4,681279174),s=Oo(s,n,r,i,e[0],11,-358537222),i=Oo(i,s,n,r,e[3],16,-722521979),r=Oo(r,i,s,n,e[6],23,76029189),n=Oo(n,r,i,s,e[9],4,-640364487),s=Oo(s,n,r,i,e[12],11,-421815835),i=Oo(i,s,n,r,e[15],16,530742520),n=Fo(n,r=Oo(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Fo(s,n,r,i,e[7],10,1126891415),i=Fo(i,s,n,r,e[14],15,-1416354905),r=Fo(r,i,s,n,e[5],21,-57434055),n=Fo(n,r,i,s,e[12],6,1700485571),s=Fo(s,n,r,i,e[3],10,-1894986606),i=Fo(i,s,n,r,e[10],15,-1051523),r=Fo(r,i,s,n,e[1],21,-2054922799),n=Fo(n,r,i,s,e[8],6,1873313359),s=Fo(s,n,r,i,e[15],10,-30611744),i=Fo(i,s,n,r,e[6],15,-1560198380),r=Fo(r,i,s,n,e[13],21,1309151649),n=Fo(n,r,i,s,e[4],6,-145523070),s=Fo(s,n,r,i,e[11],10,-1120210379),i=Fo(i,s,n,r,e[2],15,718787259),r=Fo(r,i,s,n,e[9],21,-343485551),t[0]=Nc(n,t[0]),t[1]=Nc(r,t[1]),t[2]=Nc(i,t[2]),t[3]=Nc(s,t[3])}function Z0(t,e,n,r,i,s){return e=Nc(Nc(e,t),Nc(r,s)),Nc(e<<i|e>>>32-i,n)}function To(t,e,n,r,i,s,l){return Z0(e&n|~e&r,t,e,i,s,l)}function Do(t,e,n,r,i,s,l){return Z0(e&r|n&~r,t,e,i,s,l)}function Oo(t,e,n,r,i,s,l){return Z0(e^n^r,t,e,i,s,l)}function Fo(t,e,n,r,i,s,l){return Z0(n^(e|~r),t,e,i,s,l)}function ub(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Og(r,vT(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Og(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Og(r,i),r}function vT(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var i4="0123456789abcdef".split("");function wT(t){for(var e="",n=0;n<4;n++)e+=i4[t>>8*n+4&15]+i4[t>>8*n&15];return e}function bT(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function N2(t){return ub(t).map(bT).join("")}var _T=(function(t){for(var e=0;e<t.length;e++)t[e]=wT(t[e]);return t.join("")})(ub("hello"))!="5d41402abc4b2a76b9719d911017c592";function Nc(t,e){if(_T){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function E2(t,e){var n,r,i,s;if(t!==n){for(var l=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),u=[],c=0;c<256;c++)u[c]=c;var h=0;for(c=0;c<256;c++){var p=u[c];h=(h+p+l.charCodeAt(c))%256,u[c]=u[h],u[h]=p}n=t,r=u}else u=r;var y=e.length,v=0,g=0,_="";for(c=0;c<y;c++)g=(g+(p=u[v=(v+1)%256]))%256,u[v]=u[g],u[g]=p,l=u[(u[v]+u[g])%256],_+=String.fromCharCode(e.charCodeAt(c)^l);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var s4={print:4,modify:8,copy:16,"annot-forms":32};function Pd(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(u){if(s4.perm!==void 0)throw new Error("Invalid permission: "+u);i+=s4[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,l),this.P=-(1+(255^i)),this.encryptionKey=N2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=E2(this.encryptionKey,this.padding)}function Id(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function o4(t){if(Dr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var l=e[n][s];try{l[0].apply(t,r)}catch(u){vn.console&&Kr.error("jsPDF PubSub Error",u.message,u)}l[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function P0(t){if(!(this instanceof P0))return new P0(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function cb(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Xc(t,e,n,r,i){if(!(this instanceof Xc))return new Xc(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,cb.call(this,r,i)}function Rd(t,e,n,r,i){if(!(this instanceof Rd))return new Rd(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,cb.call(this,r,i)}function Qt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],l=[],u=1,c=16,h="S",p=null;Dr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),h=t.defaultPathOperation||"S"),l=t.filters||(s===!0?["FlateEncode"]:l),r=r||"mm",n=(""+(n||"P")).toLowerCase();var y=t.putOnlyUsedFonts||!1,v={},g={internal:{},__private__:{}};g.__private__.PubSub=o4;var _="1.3",S=g.__private__.getPdfVersion=function(){return _};g.__private__.setPdfVersion=function(I){_=I};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return E};var A=g.__private__.getPageFormat=function(I){return E[I]};i=i||"a4";var N="compat",x="advanced",L=N;function D(){this.saveGraphicsState(),ye(new Jt(St,0,0,-St,0,ci()*St).toString()+" cm"),this.setFontSize(this.getFontSize()/St),h="n",L=x}function W(){this.restoreGraphicsState(),h="S",L=N}var re=g.__private__.combineFontStyleAndFontWeight=function(I,ie){if(I=="bold"&&ie=="normal"||I=="bold"&&ie==400||I=="normal"&&ie=="italic"||I=="bold"&&ie=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ie&&(I=ie==400||ie==="normal"?I==="italic"?"italic":"normal":ie!=700&&ie!=="bold"||I!=="normal"?(ie==700?"bold":ie)+""+I:"bold"),I};g.advancedAPI=function(I){var ie=L===N;return ie&&D.call(this),typeof I!="function"||(I(this),ie&&W.call(this)),this},g.compatAPI=function(I){var ie=L===x;return ie&&W.call(this),typeof I!="function"||(I(this),ie&&D.call(this)),this},g.isAdvancedAPI=function(){return L===x};var U,M=function(I){if(L!==x)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=g.roundToPrecision=g.__private__.roundToPrecision=function(I,ie){var be=e||ie;if(isNaN(I)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(be).replace(/0+$/,"")};U=g.hpf=g.__private__.hpf=typeof c=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return V(I,c)}:c==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return V(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return V(I,16)};var F=g.f2=g.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return V(I,2)},H=g.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return V(I,3)},Z=g.scale=g.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return L===N?I*St:L===x?I:void 0},ne=function(I){return Z((function(ie){return L===N?ci()-ie:L===x?ie:void 0})(I))};g.__private__.setPrecision=g.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(e=parseInt(I,10))};var le,xe="00000000000000000000000000000000",B=g.__private__.getFileId=function(){return xe},G=g.__private__.setFileId=function(I){return xe=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():xe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Jr=new Pd(p.userPermissions,p.userPassword,p.ownerPassword,xe)),xe};g.setFileId=function(I){return G(I),this},g.getFileId=function(){return B()};var Q=g.__private__.convertDateToPDFDate=function(I){var ie=I.getTimezoneOffset(),be=ie<0?"+":"-",Ce=Math.floor(Math.abs(ie/60)),Pe=Math.abs(ie%60),Ke=[be,X(Ce),"'",X(Pe),"'"].join("");return["D:",I.getFullYear(),X(I.getMonth()+1),X(I.getDate()),X(I.getHours()),X(I.getMinutes()),X(I.getSeconds()),Ke].join("")},ee=g.__private__.convertPDFDateToDate=function(I){var ie=parseInt(I.substr(2,4),10),be=parseInt(I.substr(6,2),10)-1,Ce=parseInt(I.substr(8,2),10),Pe=parseInt(I.substr(10,2),10),Ke=parseInt(I.substr(12,2),10),tt=parseInt(I.substr(14,2),10);return new Date(ie,be,Ce,Pe,Ke,tt,0)},$=g.__private__.setCreationDate=function(I){var ie;if(I===void 0&&(I=new Date),I instanceof Date)ie=Q(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ie=I}return le=ie},j=g.__private__.getCreationDate=function(I){var ie=le;return I==="jsDate"&&(ie=ee(le)),ie};g.setCreationDate=function(I){return $(I),this},g.getCreationDate=function(I){return j(I)};var K,X=g.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},ce=g.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},ae=0,J=[],ge=[],_e=0,Se=[],Re=[],Ue=!1,Ve=ge;g.__private__.setCustomOutputDestination=function(I){Ue=!0,Ve=I};var Be=function(I){Ue||(Ve=I)};g.__private__.resetCustomOutputDestination=function(){Ue=!1,Ve=ge};var ye=g.__private__.out=function(I){return I=I.toString(),_e+=I.length+1,Ve.push(I),Ve},Fe=g.__private__.write=function(I){return ye(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},Ge=g.__private__.getArrayBuffer=function(I){for(var ie=I.length,be=new ArrayBuffer(ie),Ce=new Uint8Array(be);ie--;)Ce[ie]=I.charCodeAt(ie);return be},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Je};var Qe=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(I){return Qe=L===x?I/St:I,this};var ut,ot=g.__private__.getFontSize=g.getFontSize=function(){return L===N?Qe:Qe*St},ht=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(I){return ht=I,this},g.__private__.getR2L=g.getR2L=function(){return ht};var ct,Bt=g.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))ut=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');ut=I}else ut=parseInt(I,10)};g.__private__.getZoomMode=function(){return ut};var kt,Et=g.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');ct=I};g.__private__.getPageMode=function(){return ct};var Sn=g.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');kt=I};g.__private__.getLayoutMode=function(){return kt},g.__private__.setDisplayMode=g.setDisplayMode=function(I,ie,be){return Bt(I),Sn(ie),Et(be),this};var Vt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(I){if(Object.keys(Vt).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Vt[I]},g.__private__.getDocumentProperties=function(){return Vt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(I){for(var ie in Vt)Vt.hasOwnProperty(ie)&&I[ie]&&(Vt[ie]=I[ie]);return this},g.__private__.setDocumentProperty=function(I,ie){if(Object.keys(Vt).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Vt[I]=ie};var Lt,St,wt,wn,In,Dt={},rn={},Wn=[],Yt={},An={},dn={},Er={},xr=null,qn=0,on=[],Vn=new o4(g),jo=t.hotfixes||[],vi={},ps={},gs=[],Jt=function I(ie,be,Ce,Pe,Ke,tt){if(!(this instanceof I))return new I(ie,be,Ce,Pe,Ke,tt);isNaN(ie)&&(ie=1),isNaN(be)&&(be=0),isNaN(Ce)&&(Ce=0),isNaN(Pe)&&(Pe=1),isNaN(Ke)&&(Ke=0),isNaN(tt)&&(tt=0),this._matrix=[ie,be,Ce,Pe,Ke,tt]};Object.defineProperty(Jt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Jt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Jt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Jt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Jt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Jt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Jt.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Jt.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Jt.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Jt.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Jt.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Jt.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Jt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Jt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Jt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Jt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Jt.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(I)},Jt.prototype.multiply=function(I){var ie=I.sx*this.sx+I.shy*this.shx,be=I.sx*this.shy+I.shy*this.sy,Ce=I.shx*this.sx+I.sy*this.shx,Pe=I.shx*this.shy+I.sy*this.sy,Ke=I.tx*this.sx+I.ty*this.shx+this.tx,tt=I.tx*this.shy+I.ty*this.sy+this.ty;return new Jt(ie,be,Ce,Pe,Ke,tt)},Jt.prototype.decompose=function(){var I=this.sx,ie=this.shy,be=this.shx,Ce=this.sy,Pe=this.tx,Ke=this.ty,tt=Math.sqrt(I*I+ie*ie),Rt=(I/=tt)*be+(ie/=tt)*Ce;be-=I*Rt,Ce-=ie*Rt;var Pt=Math.sqrt(be*be+Ce*Ce);return Rt/=Pt,I*(Ce/=Pt)<ie*(be/=Pt)&&(I=-I,ie=-ie,Rt=-Rt,tt=-tt),{scale:new Jt(tt,0,0,Pt,0,0),translate:new Jt(1,0,0,1,Pe,Ke),rotate:new Jt(I,ie,-ie,I,0,0),skew:new Jt(1,0,Rt,1,0,0)}},Jt.prototype.toString=function(I){return this.join(" ")},Jt.prototype.inversed=function(){var I=this.sx,ie=this.shy,be=this.shx,Ce=this.sy,Pe=this.tx,Ke=this.ty,tt=1/(I*Ce-ie*be),Rt=Ce*tt,Pt=-ie*tt,fn=-be*tt,hn=I*tt;return new Jt(Rt,Pt,fn,hn,-Rt*Pe-fn*Ke,-Pt*Pe-hn*Ke)},Jt.prototype.applyToPoint=function(I){var ie=I.x*this.sx+I.y*this.shx+this.tx,be=I.x*this.shy+I.y*this.sy+this.ty;return new bo(ie,be)},Jt.prototype.applyToRectangle=function(I){var ie=this.applyToPoint(I),be=this.applyToPoint(new bo(I.x+I.w,I.y+I.h));return new Ja(ie.x,ie.y,be.x-ie.x,be.y-ie.y)},Jt.prototype.clone=function(){var I=this.sx,ie=this.shy,be=this.shx,Ce=this.sy,Pe=this.tx,Ke=this.ty;return new Jt(I,ie,be,Ce,Pe,Ke)},g.Matrix=Jt;var ts=g.matrixMult=function(I,ie){return ie.multiply(I)},ks=new Jt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=ks;var rt=function(I,ie){if(!An[I]){var be=(ie instanceof Xc?"Sh":"P")+(Object.keys(Yt).length+1).toString(10);ie.id=be,An[I]=be,Yt[be]=ie,Vn.publish("addPattern",ie)}};g.ShadingPattern=Xc,g.TilingPattern=Rd,g.addShadingPattern=function(I,ie){return M("addShadingPattern()"),rt(I,ie),this},g.beginTilingPattern=function(I){M("beginTilingPattern()"),ni(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},g.endTilingPattern=function(I,ie){M("endTilingPattern()"),ie.stream=Re[K].join(`
`),rt(I,ie),Vn.publish("endTilingPattern",ie),gs.pop().restore()};var $e,st=g.__private__.newObject=function(){var I=at();return gt(I,!0),I},at=g.__private__.newObjectDeferred=function(){return ae++,J[ae]=function(){return _e},ae},gt=function(I,ie){return ie=typeof ie=="boolean"&&ie,J[I]=_e,ie&&ye(I+" 0 obj"),I},yt=g.__private__.newAdditionalObject=function(){var I={objId:at(),content:""};return Se.push(I),I},Ct=at(),dt=at(),Gt=g.__private__.decodeColorString=function(I){var ie=I.split(" ");if(ie.length!==2||ie[1]!=="g"&&ie[1]!=="G")ie.length!==5||ie[4]!=="k"&&ie[4]!=="K"||(ie=[(1-ie[0])*(1-ie[3]),(1-ie[1])*(1-ie[3]),(1-ie[2])*(1-ie[3]),"r"]);else{var be=parseFloat(ie[0]);ie=[be,be,be,"r"]}for(var Ce="#",Pe=0;Pe<3;Pe++)Ce+=("0"+Math.floor(255*parseFloat(ie[Pe])).toString(16)).slice(-2);return Ce},It=g.__private__.encodeColorString=function(I){var ie;typeof I=="string"&&(I={ch1:I});var be=I.ch1,Ce=I.ch2,Pe=I.ch3,Ke=I.ch4,tt=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var Rt=new lb(be);if(Rt.ok)be=Rt.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var Pt=parseInt(be.substr(1),16);be=Pt>>16&255,Ce=Pt>>8&255,Pe=255&Pt}if(Ce===void 0||Ke===void 0&&be===Ce&&Ce===Pe)ie=typeof be=="string"?be+" "+tt[0]:I.precision===2?F(be/255)+" "+tt[0]:H(be/255)+" "+tt[0];else if(Ke===void 0||Dr(Ke)==="object"){if(Ke&&!isNaN(Ke.a)&&Ke.a===0)return["1.","1.","1.",tt[1]].join(" ");ie=typeof be=="string"?[be,Ce,Pe,tt[1]].join(" "):I.precision===2?[F(be/255),F(Ce/255),F(Pe/255),tt[1]].join(" "):[H(be/255),H(Ce/255),H(Pe/255),tt[1]].join(" ")}else ie=typeof be=="string"?[be,Ce,Pe,Ke,tt[2]].join(" "):I.precision===2?[F(be),F(Ce),F(Pe),F(Ke),tt[2]].join(" "):[H(be),H(Ce),H(Pe),H(Ke),tt[2]].join(" ");return ie},bn=g.__private__.getFilters=function(){return l},nn=g.__private__.putStream=function(I){var ie=(I=I||{}).data||"",be=I.filters||bn(),Ce=I.alreadyAppliedFilters||[],Pe=I.addLength1||!1,Ke=ie.length,tt=I.objectId,Rt=function(di){return di};if(p!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Rt=Jr.encryptor(tt,0));var Pt={};be===!0&&(be=["FlateEncode"]);var fn=I.additionalKeyValues||[],hn=(Pt=Qt.API.processDataByFilters!==void 0?Qt.API.processDataByFilters(ie,be):{data:ie,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(Pt.data.length!==0&&(fn.push({key:"Length",value:Pt.data.length}),Pe===!0&&fn.push({key:"Length1",value:Ke})),hn.length!=0)if(hn.split("/").length-1==1)fn.push({key:"Filter",value:hn});else{fn.push({key:"Filter",value:"["+hn+"]"});for(var Yn=0;Yn<fn.length;Yn+=1)if(fn[Yn].key==="DecodeParms"){for(var Ar=[],ri=0;ri<Pt.reverseChain.split("/").length-1;ri+=1)Ar.push("null");Ar.push(fn[Yn].value),fn[Yn].value="["+Ar.join(" ")+"]"}}ye("<<");for(var dr=0;dr<fn.length;dr++)ye("/"+fn[dr].key+" "+fn[dr].value);ye(">>"),Pt.data.length!==0&&(ye("stream"),ye(Rt(Pt.data)),ye("endstream"))},an=g.__private__.putPage=function(I){var ie=I.number,be=I.data,Ce=I.objId,Pe=I.contentsObjId;gt(Ce,!0),ye("<</Type /Page"),ye("/Parent "+I.rootDictionaryObjId+" 0 R"),ye("/Resources "+I.resourceDictionaryObjId+" 0 R"),ye("/MediaBox ["+parseFloat(U(I.mediaBox.bottomLeftX))+" "+parseFloat(U(I.mediaBox.bottomLeftY))+" "+U(I.mediaBox.topRightX)+" "+U(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&ye("/CropBox ["+U(I.cropBox.bottomLeftX)+" "+U(I.cropBox.bottomLeftY)+" "+U(I.cropBox.topRightX)+" "+U(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&ye("/BleedBox ["+U(I.bleedBox.bottomLeftX)+" "+U(I.bleedBox.bottomLeftY)+" "+U(I.bleedBox.topRightX)+" "+U(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&ye("/TrimBox ["+U(I.trimBox.bottomLeftX)+" "+U(I.trimBox.bottomLeftY)+" "+U(I.trimBox.topRightX)+" "+U(I.trimBox.topRightY)+"]"),I.artBox!==null&&ye("/ArtBox ["+U(I.artBox.bottomLeftX)+" "+U(I.artBox.bottomLeftY)+" "+U(I.artBox.topRightX)+" "+U(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&ye("/UserUnit "+I.userUnit),Vn.publish("putPage",{objId:Ce,pageContext:on[ie],pageNumber:ie,page:be}),ye("/Contents "+Pe+" 0 R"),ye(">>"),ye("endobj");var Ke=be.join(`
`);return L===x&&(Ke+=`
Q`),gt(Pe,!0),nn({data:Ke,filters:bn(),objectId:Pe}),ye("endobj"),Ce},Xt=g.__private__.putPages=function(){var I,ie,be=[];for(I=1;I<=qn;I++)on[I].objId=at(),on[I].contentsObjId=at();for(I=1;I<=qn;I++)be.push(an({number:I,data:Re[I],objId:on[I].objId,contentsObjId:on[I].contentsObjId,mediaBox:on[I].mediaBox,cropBox:on[I].cropBox,bleedBox:on[I].bleedBox,trimBox:on[I].trimBox,artBox:on[I].artBox,userUnit:on[I].userUnit,rootDictionaryObjId:Ct,resourceDictionaryObjId:dt}));gt(Ct,!0),ye("<</Type /Pages");var Ce="/Kids [";for(ie=0;ie<qn;ie++)Ce+=be[ie]+" 0 R ";ye(Ce+"]"),ye("/Count "+qn),ye(">>"),ye("endobj"),Vn.publish("postPutPages")},Rn=function(I){Vn.publish("putFont",{font:I,out:ye,newObject:st,putStream:nn}),I.isAlreadyPutted!==!0&&(I.objectNumber=st(),ye("<<"),ye("/Type /Font"),ye("/BaseFont /"+Id(I.postScriptName)),ye("/Subtype /Type1"),typeof I.encoding=="string"&&ye("/Encoding /"+I.encoding),ye("/FirstChar 32"),ye("/LastChar 255"),ye(">>"),ye("endobj"))},sr=function(I){I.objectNumber=st();var ie=[];ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Form"}),ie.push({key:"BBox",value:"["+[U(I.x),U(I.y),U(I.x+I.width),U(I.y+I.height)].join(" ")+"]"}),ie.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var be=I.pages[1].join(`
`);nn({data:be,additionalKeyValues:ie,objectId:I.objectNumber}),ye("endobj")},Mn=function(I,ie){ie||(ie=21);var be=st(),Ce=(function(tt,Rt){var Pt,fn=[],hn=1/(Rt-1);for(Pt=0;Pt<1;Pt+=hn)fn.push(Pt);if(fn.push(1),tt[0].offset!=0){var Yn={offset:0,color:tt[0].color};tt.unshift(Yn)}if(tt[tt.length-1].offset!=1){var Ar={offset:1,color:tt[tt.length-1].color};tt.push(Ar)}for(var ri="",dr=0,di=0;di<fn.length;di++){for(Pt=fn[di];Pt>tt[dr+1].offset;)dr++;var kr=tt[dr].offset,xi=(Pt-kr)/(tt[dr+1].offset-kr),xo=tt[dr].color,Hi=tt[dr+1].color;ri+=ce(Math.round((1-xi)*xo[0]+xi*Hi[0]).toString(16))+ce(Math.round((1-xi)*xo[1]+xi*Hi[1]).toString(16))+ce(Math.round((1-xi)*xo[2]+xi*Hi[2]).toString(16))}return ri.trim()})(I.colors,ie),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+ie+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nn({data:Ce,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),ye("endobj"),I.objectNumber=st(),ye("<< /ShadingType "+I.type),ye("/ColorSpace /DeviceRGB");var Ke="/Coords ["+U(parseFloat(I.coords[0]))+" "+U(parseFloat(I.coords[1]))+" ";I.type===2?Ke+=U(parseFloat(I.coords[2]))+" "+U(parseFloat(I.coords[3])):Ke+=U(parseFloat(I.coords[2]))+" "+U(parseFloat(I.coords[3]))+" "+U(parseFloat(I.coords[4]))+" "+U(parseFloat(I.coords[5])),ye(Ke+="]"),I.matrix&&ye("/Matrix ["+I.matrix.toString()+"]"),ye("/Function "+be+" 0 R"),ye("/Extend [true true]"),ye(">>"),ye("endobj")},Bn=function(I,ie){var be=at(),Ce=st();ie.push({resourcesOid:be,objectOid:Ce}),I.objectNumber=Ce;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+I.boundingBox.map(U).join(" ")+"]"}),Pe.push({key:"XStep",value:U(I.xStep)}),Pe.push({key:"YStep",value:U(I.yStep)}),Pe.push({key:"Resources",value:be+" 0 R"}),I.matrix&&Pe.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),nn({data:I.stream,additionalKeyValues:Pe,objectId:I.objectNumber}),ye("endobj")},wi=function(I){for(var ie in I.objectNumber=st(),ye("<<"),I)switch(ie){case"opacity":ye("/ca "+F(I[ie]));break;case"stroke-opacity":ye("/CA "+F(I[ie]))}ye(">>"),ye("endobj")},On=function(I){gt(I.resourcesOid,!0),ye("<<"),ye("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ie in ye("/Font <<"),Dt)Dt.hasOwnProperty(ie)&&(y===!1||y===!0&&v.hasOwnProperty(ie))&&ye("/"+ie+" "+Dt[ie].objectNumber+" 0 R");ye(">>")})(),(function(){if(Object.keys(Yt).length>0){for(var ie in ye("/Shading <<"),Yt)Yt.hasOwnProperty(ie)&&Yt[ie]instanceof Xc&&Yt[ie].objectNumber>=0&&ye("/"+ie+" "+Yt[ie].objectNumber+" 0 R");Vn.publish("putShadingPatternDict"),ye(">>")}})(),(function(ie){if(Object.keys(Yt).length>0){for(var be in ye("/Pattern <<"),Yt)Yt.hasOwnProperty(be)&&Yt[be]instanceof g.TilingPattern&&Yt[be].objectNumber>=0&&Yt[be].objectNumber<ie&&ye("/"+be+" "+Yt[be].objectNumber+" 0 R");Vn.publish("putTilingPatternDict"),ye(">>")}})(I.objectOid),(function(){if(Object.keys(dn).length>0){var ie;for(ie in ye("/ExtGState <<"),dn)dn.hasOwnProperty(ie)&&dn[ie].objectNumber>=0&&ye("/"+ie+" "+dn[ie].objectNumber+" 0 R");Vn.publish("putGStateDict"),ye(">>")}})(),(function(){for(var ie in ye("/XObject <<"),vi)vi.hasOwnProperty(ie)&&vi[ie].objectNumber>=0&&ye("/"+ie+" "+vi[ie].objectNumber+" 0 R");Vn.publish("putXobjectDict"),ye(">>")})(),ye(">>"),ye("endobj")},go=function(I){rn[I.fontName]=rn[I.fontName]||{},rn[I.fontName][I.fontStyle]=I.id},Cs=function(I,ie,be,Ce,Pe){var Ke={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:I,fontName:ie,fontStyle:be,encoding:Ce,isStandardFont:Pe||!1,metadata:{}};return Vn.publish("addFont",{font:Ke,instance:this}),Dt[Ke.id]=Ke,go(Ke),Ke.id},bi=g.__private__.pdfEscape=g.pdfEscape=function(I,ie){return(function(be,Ce){var Pe,Ke,tt,Rt,Pt,fn,hn,Yn,Ar;if(tt=(Ce=Ce||{}).sourceEncoding||"Unicode",Pt=Ce.outputEncoding,(Ce.autoencode||Pt)&&Dt[Lt].metadata&&Dt[Lt].metadata[tt]&&Dt[Lt].metadata[tt].encoding&&(Rt=Dt[Lt].metadata[tt].encoding,!Pt&&Dt[Lt].encoding&&(Pt=Dt[Lt].encoding),!Pt&&Rt.codePages&&(Pt=Rt.codePages[0]),typeof Pt=="string"&&(Pt=Rt[Pt]),Pt)){for(hn=!1,fn=[],Pe=0,Ke=be.length;Pe<Ke;Pe++)(Yn=Pt[be.charCodeAt(Pe)])?fn.push(String.fromCharCode(Yn)):fn.push(be[Pe]),fn[Pe].charCodeAt(0)>>8&&(hn=!0);be=fn.join("")}for(Pe=be.length;hn===void 0&&Pe!==0;)be.charCodeAt(Pe-1)>>8&&(hn=!0),Pe--;if(!hn)return be;for(fn=Ce.noBOM?[]:[254,255],Pe=0,Ke=be.length;Pe<Ke;Pe++){if((Ar=(Yn=be.charCodeAt(Pe))>>8)>>8)throw new Error("Character at position "+Pe+" of string '"+be+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");fn.push(Ar),fn.push(Yn-(Ar<<8))}return String.fromCharCode.apply(void 0,fn)})(I,ie).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ns=g.__private__.beginPage=function(I){Re[++qn]=[],on[qn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},mo(qn),Be(Re[K])},Va=function(I,ie){var be,Ce,Pe;switch(n=ie||n,typeof I=="string"&&(be=A(I.toLowerCase()),Array.isArray(be)&&(Ce=be[0],Pe=be[1])),Array.isArray(I)&&(Ce=I[0]*St,Pe=I[1]*St),isNaN(Ce)&&(Ce=i[0],Pe=i[1]),(Ce>14400||Pe>14400)&&(Kr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),Pe=Math.min(14400,Pe)),i=[Ce,Pe],n.substr(0,1)){case"l":Pe>Ce&&(i=[Pe,Ce]);break;case"p":Ce>Pe&&(i=[Pe,Ce])}Ns(i),Xa(Ls),ye(Aa),ys!==0&&ye(ys+" J"),Xs!==0&&ye(Xs+" j"),Vn.publish("addPage",{pageNumber:qn})},Uo=function(I){I>0&&I<=qn&&(Re.splice(I,1),on.splice(I,1),qn--,K>qn&&(K=qn),this.setPage(K))},mo=function(I){I>0&&I<=qn&&(K=I)},ui=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Re.length-1},gr=function(I,ie,be){var Ce,Pe=void 0;return be=be||{},I=I!==void 0?I:Dt[Lt].fontName,ie=ie!==void 0?ie:Dt[Lt].fontStyle,Ce=I.toLowerCase(),rn[Ce]!==void 0&&rn[Ce][ie]!==void 0?Pe=rn[Ce][ie]:rn[I]!==void 0&&rn[I][ie]!==void 0?Pe=rn[I][ie]:be.disableWarning===!1&&Kr.warn("Unable to look up font label for font '"+I+"', '"+ie+"'. Refer to getFontList() for available fonts."),Pe||be.noFallback||(Pe=rn.times[ie])==null&&(Pe=rn.times.normal),Pe},kn=g.__private__.putInfo=function(){var I=st(),ie=function(Ce){return Ce};for(var be in p!==null&&(ie=Jr.encryptor(I,0)),ye("<<"),ye("/Producer ("+bi(ie("jsPDF "+Qt.version))+")"),Vt)Vt.hasOwnProperty(be)&&Vt[be]&&ye("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+bi(ie(Vt[be]))+")");ye("/CreationDate ("+bi(ie(le))+")"),ye(">>"),ye("endobj")},ea=g.__private__.putCatalog=function(I){var ie=(I=I||{}).rootDictionaryObjId||Ct;switch(st(),ye("<<"),ye("/Type /Catalog"),ye("/Pages "+ie+" 0 R"),ut||(ut="fullwidth"),ut){case"fullwidth":ye("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ye("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ye("/OpenAction [3 0 R /Fit]");break;case"original":ye("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+ut;be.substr(be.length-1)==="%"&&(ut=parseInt(ut)/100),typeof ut=="number"&&ye("/OpenAction [3 0 R /XYZ null null "+F(ut)+"]")}switch(kt||(kt="continuous"),kt){case"continuous":ye("/PageLayout /OneColumn");break;case"single":ye("/PageLayout /SinglePage");break;case"two":case"twoleft":ye("/PageLayout /TwoColumnLeft");break;case"tworight":ye("/PageLayout /TwoColumnRight")}ct&&ye("/PageMode /"+ct),Vn.publish("putCatalog"),ye(">>"),ye("endobj")},jn=g.__private__.putTrailer=function(){ye("trailer"),ye("<<"),ye("/Size "+(ae+1)),ye("/Root "+ae+" 0 R"),ye("/Info "+(ae-1)+" 0 R"),p!==null&&ye("/Encrypt "+Jr.oid+" 0 R"),ye("/ID [ <"+xe+"> <"+xe+"> ]"),ye(">>")},Ui=g.__private__.putHeader=function(){ye("%PDF-"+_),ye("%")},$s=g.__private__.putXRef=function(){var I="0000000000";ye("xref"),ye("0 "+(ae+1)),ye("0000000000 65535 f ");for(var ie=1;ie<=ae;ie++)typeof J[ie]=="function"?ye((I+J[ie]()).slice(-10)+" 00000 n "):J[ie]!==void 0?ye((I+J[ie]).slice(-10)+" 00000 n "):ye("0000000000 00000 n ")},zi=g.__private__.buildDocument=function(){var I;ae=0,_e=0,ge=[],J=[],Se=[],Ct=at(),dt=at(),Be(ge),Vn.publish("buildDocument"),Ui(),Xt(),(function(){Vn.publish("putAdditionalObjects");for(var be=0;be<Se.length;be++){var Ce=Se[be];gt(Ce.objId,!0),ye(Ce.content),ye("endobj")}Vn.publish("postPutAdditionalObjects")})(),I=[],(function(){for(var be in Dt)Dt.hasOwnProperty(be)&&(y===!1||y===!0&&v.hasOwnProperty(be))&&Rn(Dt[be])})(),(function(){var be;for(be in dn)dn.hasOwnProperty(be)&&wi(dn[be])})(),(function(){for(var be in vi)vi.hasOwnProperty(be)&&sr(vi[be])})(),(function(be){var Ce;for(Ce in Yt)Yt.hasOwnProperty(Ce)&&(Yt[Ce]instanceof Xc?Mn(Yt[Ce]):Yt[Ce]instanceof Rd&&Bn(Yt[Ce],be))})(I),Vn.publish("putResources"),I.forEach(On),On({resourcesOid:dt,objectOid:Number.MAX_SAFE_INTEGER}),Vn.publish("postPutResources"),p!==null&&(Jr.oid=st(),ye("<<"),ye("/Filter /Standard"),ye("/V "+Jr.v),ye("/R "+Jr.r),ye("/U <"+Jr.toHexString(Jr.U)+">"),ye("/O <"+Jr.toHexString(Jr.O)+">"),ye("/P "+Jr.P),ye(">>"),ye("endobj")),kn(),ea();var ie=_e;return $s(),jn(),ye("startxref"),ye(""+ie),ye("%%EOF"),Be(Re[K]),ge.join(`
`)},Or=g.__private__.getBlob=function(I){return new Blob([Ge(I)],{type:"application/pdf"})},Gi=g.output=g.__private__.output=($e=function(I,ie){switch(typeof(ie=ie||{})=="string"?ie={filename:ie}:ie.filename=ie.filename||"generated.pdf",I){case void 0:return zi();case"save":g.save(ie.filename);break;case"arraybuffer":return Ge(zi());case"blob":return Or(zi());case"bloburi":case"bloburl":if(vn.URL!==void 0&&typeof vn.URL.createObjectURL=="function")return vn.URL&&vn.URL.createObjectURL(Or(zi()))||void 0;Kr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",Ce=zi();try{be=r4(Ce)}catch{be=r4(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+ie.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vn)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ie.pdfObjectUrl&&(Pe=ie.pdfObjectUrl,Ke="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+Ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ie)+");<\/script></body></html>",Rt=vn.open();return Rt!==null&&Rt.document.write(tt),Rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vn)==="[object Window]"){var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ie.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ie.filename+'" width="500px" height="400px" /></body></html>',fn=vn.open();if(fn!==null){fn.document.write(Pt);var hn=this;fn.document.documentElement.querySelector("#pdfViewer").onload=function(){fn.document.title=ie.filename,fn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(hn.output("bloburl"))}}return fn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ie)+'"></iframe></body></html>',Ar=vn.open();if(Ar!==null&&(Ar.document.write(Yn),Ar.document.title=ie.filename),Ar||typeof safari>"u")return Ar;break;case"datauri":case"dataurl":return vn.document.location.href=this.output("datauristring",ie);default:return null}},$e.foo=function(){try{return $e.apply(this,arguments)}catch(be){var I=be.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var ie="Error in function "+I.split(`
`)[0].split("<")[0]+": "+be.message;if(!vn.console)throw new Error(ie);vn.console.error(ie,be),vn.alert&&alert(ie)}},$e.foo.bar=$e,$e.foo),$a=function(I){return Array.isArray(jo)===!0&&jo.indexOf(I)>-1};switch(r){case"pt":St=1;break;case"mm":St=72/25.4;break;case"cm":St=72/2.54;break;case"in":St=72;break;case"px":St=$a("px_scaling")==1?.75:96/72;break;case"pc":case"em":St=12;break;case"ex":St=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);St=r}var Jr=null;$(),G();var ta=g.__private__.getPageInfo=g.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:on[I].objId,pageNumber:I,pageContext:on[I]}},yu=g.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ie in on)if(on[ie].objId===I)break;return ta(ie)},ms=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:on[K].objId,pageNumber:K,pageContext:on[K]}};g.addPage=function(){return Va.apply(this,arguments),this},g.setPage=function(){return mo.apply(this,arguments),Be.call(this,Re[K]),this},g.insertPage=function(I){return this.addPage(),this.movePage(K,I),this},g.movePage=function(I,ie){var be,Ce;if(I>ie){be=Re[I],Ce=on[I];for(var Pe=I;Pe>ie;Pe--)Re[Pe]=Re[Pe-1],on[Pe]=on[Pe-1];Re[ie]=be,on[ie]=Ce,this.setPage(ie)}else if(I<ie){be=Re[I],Ce=on[I];for(var Ke=I;Ke<ie;Ke++)Re[Ke]=Re[Ke+1],on[Ke]=on[Ke+1];Re[ie]=be,on[ie]=Ce,this.setPage(ie)}return this},g.deletePage=function(){return Uo.apply(this,arguments),this},g.__private__.text=g.text=function(I,ie,be,Ce,Pe){var Ke,tt,Rt,Pt,fn,hn,Yn,Ar,ri,dr=(Ce=Ce||{}).scope||this;if(typeof I=="number"&&typeof ie=="number"&&(typeof be=="string"||Array.isArray(be))){var di=be;be=ie,ie=I,I=di}if(arguments[3]instanceof Jt==0?(Rt=arguments[4],Pt=arguments[5],Dr(Yn=arguments[3])==="object"&&Yn!==null||(typeof Rt=="string"&&(Pt=Rt,Rt=null),typeof Yn=="string"&&(Pt=Yn,Yn=null),typeof Yn=="number"&&(Rt=Yn,Yn=null),Ce={flags:Yn,angle:Rt,align:Pt})):(M("The transform parameter of text() with a Matrix value"),ri=Pe),isNaN(ie)||isNaN(be)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return dr;var kr,xi="",xo=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:As,Hi=dr.internal.scaleFactor;function Vu(Tn){return Tn=Tn.split("	").join(Array(Ce.TabLen||9).join(" ")),bi(Tn,Yn)}function So(Tn){for(var sn,Cn=Tn.concat(),Dn=[],Os=Cn.length;Os--;)typeof(sn=Cn.shift())=="string"?Dn.push(sn):Array.isArray(Tn)&&(sn.length===1||sn[1]===void 0&&sn[2]===void 0)?Dn.push(sn[0]):Dn.push([sn[0],sn[1],sn[2]]);return Dn}function sa(Tn,sn){var Cn;if(typeof Tn=="string")Cn=sn(Tn)[0];else if(Array.isArray(Tn)){for(var Dn,Os,Ra=Tn.concat(),fa=[],Ta=Ra.length;Ta--;)typeof(Dn=Ra.shift())=="string"?fa.push(sn(Dn)[0]):Array.isArray(Dn)&&typeof Dn[0]=="string"&&(Os=sn(Dn[0],Dn[1],Dn[2]),fa.push([Os[0],Os[1],Os[2]]));Cn=fa}return Cn}var La=!1,Za=!0;if(typeof I=="string")La=!0;else if(Array.isArray(I)){var Js=I.concat();tt=[];for(var el,Si=Js.length;Si--;)(typeof(el=Js.shift())!="string"||Array.isArray(el)&&typeof el[0]!="string")&&(Za=!1);La=Za}if(La===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var oa=Qe/dr.internal.scaleFactor,ko=oa*(xo-1);switch(Ce.baseline){case"bottom":be-=ko;break;case"top":be+=oa-ko;break;case"hanging":be+=oa-2*ko;break;case"middle":be+=oa/2-ko}if((hn=Ce.maxWidth||0)>0&&(typeof I=="string"?I=dr.splitTextToSize(I,hn):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(Tn,sn){return Tn.concat(dr.splitTextToSize(sn,hn))},[]))),Ke={text:I,x:ie,y:be,options:Ce,mutex:{pdfEscape:bi,activeFontKey:Lt,fonts:Dt,activeFontSize:Qe}},Vn.publish("preProcessText",Ke),I=Ke.text,Rt=(Ce=Ke.options).angle,ri instanceof Jt==0&&Rt&&typeof Rt=="number"){Rt*=Math.PI/180,Ce.rotationDirection===0&&(Rt=-Rt),L===x&&(Rt=-Rt);var ml=Math.cos(Rt),yl=Math.sin(Rt);ri=new Jt(ml,yl,-yl,ml,0,0)}else Rt&&Rt instanceof Jt&&(ri=Rt);L!==x||ri||(ri=ks),(fn=Ce.charSpace||zo)!==void 0&&(xi+=U(Z(fn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ar=Ce.horizontalScale)!==void 0&&(xi+=U(100*Ar)+` Tz
`),Ce.lang;var zr=-1,Qs=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,Co=dr.internal.getCurrentPageInfo().pageContext;switch(Qs){case 0:case!1:case"fill":zr=0;break;case 1:case!0:case"stroke":zr=1;break;case 2:case"fillThenStroke":zr=2;break;case 3:case"invisible":zr=3;break;case 4:case"fillAndAddForClipping":zr=4;break;case 5:case"strokeAndAddPathForClipping":zr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":zr=6;break;case 7:case"addToPathForClipping":zr=7}var Pa=Co.usedRenderingMode!==void 0?Co.usedRenderingMode:-1;zr!==-1?xi+=zr+` Tr
`:Pa!==-1&&(xi+=`0 Tr
`),zr!==-1&&(Co.usedRenderingMode=zr),Pt=Ce.align||"left";var Fr,Ts=Qe*xo,tl=dr.internal.pageSize.getWidth(),vl=Dt[Lt];fn=Ce.charSpace||zo,hn=Ce.maxWidth||0,Yn=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var Ii=[],ki=function(Tn){return dr.getStringUnitWidth(Tn,{font:vl,charSpace:fn,fontSize:Qe,doKerning:!1})*Qe/Hi};if(Object.prototype.toString.call(I)==="[object Array]"){var ws;tt=So(I),Pt!=="left"&&(Fr=tt.map(ki));var Ds,rs=0;if(Pt==="right"){ie-=Fr[0],I=[],Si=tt.length;for(var Wi=0;Wi<Si;Wi++)Wi===0?(Ds=Ks(ie),ws=Sr(be)):(Ds=Z(rs-Fr[Wi]),ws=-Ts),I.push([tt[Wi],Ds,ws]),rs=Fr[Wi]}else if(Pt==="center"){ie-=Fr[0]/2,I=[],Si=tt.length;for(var No=0;No<Si;No++)No===0?(Ds=Ks(ie),ws=Sr(be)):(Ds=Z((rs-Fr[No])/2),ws=-Ts),I.push([tt[No],Ds,ws]),rs=Fr[No]}else if(Pt==="left"){I=[],Si=tt.length;for(var aa=0;aa<Si;aa++)I.push(tt[aa])}else if(Pt==="justify"&&vl.encoding==="Identity-H"){I=[],Si=tt.length,hn=hn!==0?hn:tl;for(var Zs=0,Zr=0;Zr<Si;Zr++)if(ws=Zr===0?Sr(be):-Ts,Ds=Zr===0?Ks(ie):Zs,Zr<Si-1){var Go=Z((hn-Fr[Zr])/(tt[Zr].split(" ").length-1)),ii=tt[Zr].split(" ");I.push([ii[0]+" ",Ds,ws]),Zs=0;for(var bs=1;bs<ii.length;bs++){var Eo=(ki(ii[bs-1]+" "+ii[bs])-ki(ii[bs]))*Hi+Go;bs==ii.length-1?I.push([ii[bs],Eo,0]):I.push([ii[bs]+" ",Eo,0]),Zs-=Eo}}else I.push([tt[Zr],Ds,ws]);I.push(["",Zs,0])}else{if(Pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],Si=tt.length,hn=hn!==0?hn:tl,Zr=0;Zr<Si;Zr++){ws=Zr===0?Sr(be):-Ts,Ds=Zr===0?Ks(ie):0;var is=tt[Zr].split(" ").length-1,nl=is>0?(hn-Fr[Zr])/is:0;Zr<Si-1?Ii.push(U(Z(nl))):Ii.push(0),I.push([tt[Zr],Ds,ws])}}}(typeof Ce.R2L=="boolean"?Ce.R2L:ht)===!0&&(I=sa(I,function(Tn,sn,Cn){return[Tn.split("").reverse().join(""),sn,Cn]})),Ke={text:I,x:ie,y:be,options:Ce,mutex:{pdfEscape:bi,activeFontKey:Lt,fonts:Dt,activeFontSize:Qe}},Vn.publish("postProcessText",Ke),I=Ke.text,kr=Ke.mutex.isHex||!1;var Ho=Dt[Lt].encoding;Ho!=="WinAnsiEncoding"&&Ho!=="StandardEncoding"||(I=sa(I,function(Tn,sn,Cn){return[Vu(Tn),sn,Cn]})),tt=So(I),I=[];for(var la,ua,or,ca=Array.isArray(tt[0])?1:0,da="",Ia=function(Tn,sn,Cn){var Dn="";return Cn instanceof Jt?(Cn=typeof Ce.angle=="number"?ts(Cn,new Jt(1,0,0,1,Tn,sn)):ts(new Jt(1,0,0,1,Tn,sn),Cn),L===x&&(Cn=ts(new Jt(1,0,0,-1,0,0),Cn)),Dn=Cn.join(" ")+` Tm
`):Dn=U(Tn)+" "+U(sn)+` Td
`,Dn},Lr=0;Lr<tt.length;Lr++){switch(da="",ca){case 1:or=(kr?"<":"(")+tt[Lr][0]+(kr?">":")"),la=parseFloat(tt[Lr][1]),ua=parseFloat(tt[Lr][2]);break;case 0:or=(kr?"<":"(")+tt[Lr]+(kr?">":")"),la=Ks(ie),ua=Sr(be)}Ii!==void 0&&Ii[Lr]!==void 0&&(da=Ii[Lr]+` Tw
`),Lr===0?I.push(da+Ia(la,ua,ri)+or):ca===0?I.push(da+or):ca===1&&I.push(da+Ia(la,ua,ri)+or)}I=ca===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var ss=`BT
/`;return ss+=Lt+" "+Qe+` Tf
`,ss+=U(Qe*xo)+` TL
`,ss+=Ps+`
`,ss+=xi,ss+=I,ye(ss+="ET"),v[Lt]=!0,dr};var pl=g.__private__.clip=g.clip=function(I){return ye(I==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return pl("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ye("n"),this};var na=g.__private__.isValidStyle=function(I){var ie=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(ie=!0),ie};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(I){return na(I)&&(h=I),this};var Ul=g.__private__.getStyle=g.getStyle=function(I){var ie=h;switch(I){case"D":case"S":ie="S";break;case"F":ie="f";break;case"FD":case"DF":ie="B";break;case"f":case"f*":case"B":case"B*":ie=I}return ie},Un=g.close=function(){return ye("h"),this};g.stroke=function(){return ye("S"),this},g.fill=function(I){return yo("f",I),this},g.fillEvenOdd=function(I){return yo("f*",I),this},g.fillStroke=function(I){return yo("B",I),this},g.fillStrokeEvenOdd=function(I){return yo("B*",I),this};var yo=function(I,ie){Dr(ie)==="object"?Gu(ie,I):ye(I)},ra=function(I){I===null||L===x&&I===void 0||(I=Ul(I),ye(I))};function Ya(I,ie,be,Ce,Pe){var Ke=new Rd(ie||this.boundingBox,be||this.xStep,Ce||this.yStep,this.gState,Pe||this.matrix);Ke.stream=this.stream;var tt=I+"$$"+this.cloneIndex+++"$$";return rt(tt,Ke),Ke}var Gu=function(I,ie){var be=An[I.key],Ce=Yt[be];if(Ce instanceof Xc)ye("q"),ye(Hu(ie)),Ce.gState&&g.setGState(Ce.gState),ye(I.matrix.toString()+" cm"),ye("/"+be+" sh"),ye("Q");else if(Ce instanceof Rd){var Pe=new Jt(1,0,0,-1,0,ci());I.matrix&&(Pe=Pe.multiply(I.matrix||ks),be=Ya.call(Ce,I.key,I.boundingBox,I.xStep,I.yStep,Pe).id),ye("q"),ye("/Pattern cs"),ye("/"+be+" scn"),Ce.gState&&g.setGState(Ce.gState),ye(ie),ye("Q")}},Hu=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ka=g.moveTo=function(I,ie){return ye(U(Z(I))+" "+U(ne(ie))+" m"),this},ia=g.lineTo=function(I,ie){return ye(U(Z(I))+" "+U(ne(ie))+" l"),this},Ys=g.curveTo=function(I,ie,be,Ce,Pe,Ke){return ye([U(Z(I)),U(ne(ie)),U(Z(be)),U(ne(Ce)),U(Z(Pe)),U(ne(Ke)),"c"].join(" ")),this};g.__private__.line=g.line=function(I,ie,be,Ce,Pe){if(isNaN(I)||isNaN(ie)||isNaN(be)||isNaN(Ce)||!na(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return L===N?this.lines([[be-I,Ce-ie]],I,ie,[1,1],Pe||"S"):this.lines([[be-I,Ce-ie]],I,ie,[1,1]).stroke()},g.__private__.lines=g.lines=function(I,ie,be,Ce,Pe,Ke){var tt,Rt,Pt,fn,hn,Yn,Ar,ri,dr,di,kr,xi;if(typeof I=="number"&&(xi=be,be=ie,ie=I,I=xi),Ce=Ce||[1,1],Ke=Ke||!1,isNaN(ie)||isNaN(be)||!Array.isArray(I)||!Array.isArray(Ce)||!na(Pe)||typeof Ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ka(ie,be),tt=Ce[0],Rt=Ce[1],fn=I.length,di=ie,kr=be,Pt=0;Pt<fn;Pt++)(hn=I[Pt]).length===2?(di=hn[0]*tt+di,kr=hn[1]*Rt+kr,ia(di,kr)):(Yn=hn[0]*tt+di,Ar=hn[1]*Rt+kr,ri=hn[2]*tt+di,dr=hn[3]*Rt+kr,di=hn[4]*tt+di,kr=hn[5]*Rt+kr,Ys(Yn,Ar,ri,dr,di,kr));return Ke&&Un(),ra(Pe),this},g.path=function(I){for(var ie=0;ie<I.length;ie++){var be=I[ie],Ce=be.c;switch(be.op){case"m":Ka(Ce[0],Ce[1]);break;case"l":ia(Ce[0],Ce[1]);break;case"c":Ys.apply(this,Ce);break;case"h":Un()}}return this},g.__private__.rect=g.rect=function(I,ie,be,Ce,Pe){if(isNaN(I)||isNaN(ie)||isNaN(be)||isNaN(Ce)||!na(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return L===N&&(Ce=-Ce),ye([U(Z(I)),U(ne(ie)),U(Z(be)),U(Z(Ce)),"re"].join(" ")),ra(Pe),this},g.__private__.triangle=g.triangle=function(I,ie,be,Ce,Pe,Ke,tt){if(isNaN(I)||isNaN(ie)||isNaN(be)||isNaN(Ce)||isNaN(Pe)||isNaN(Ke)||!na(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-I,Ce-ie],[Pe-be,Ke-Ce],[I-Pe,ie-Ke]],I,ie,[1,1],tt,!0),this},g.__private__.roundedRect=g.roundedRect=function(I,ie,be,Ce,Pe,Ke,tt){if(isNaN(I)||isNaN(ie)||isNaN(be)||isNaN(Ce)||isNaN(Pe)||isNaN(Ke)||!na(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rt=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*be),Ke=Math.min(Ke,.5*Ce),this.lines([[be-2*Pe,0],[Pe*Rt,0,Pe,Ke-Ke*Rt,Pe,Ke],[0,Ce-2*Ke],[0,Ke*Rt,-Pe*Rt,Ke,-Pe,Ke],[2*Pe-be,0],[-Pe*Rt,0,-Pe,-Ke*Rt,-Pe,-Ke],[0,2*Ke-Ce],[0,-Ke*Rt,Pe*Rt,-Ke,Pe,-Ke]],I+Pe,ie,[1,1],tt,!0),this},g.__private__.ellipse=g.ellipse=function(I,ie,be,Ce,Pe){if(isNaN(I)||isNaN(ie)||isNaN(be)||isNaN(Ce)||!na(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ke=4/3*(Math.SQRT2-1)*be,tt=4/3*(Math.SQRT2-1)*Ce;return Ka(I+be,ie),Ys(I+be,ie-tt,I+Ke,ie-Ce,I,ie-Ce),Ys(I-Ke,ie-Ce,I-be,ie-tt,I-be,ie),Ys(I-be,ie+tt,I-Ke,ie+Ce,I,ie+Ce),Ys(I+Ke,ie+Ce,I+be,ie+tt,I+be,ie),ra(Pe),this},g.__private__.circle=g.circle=function(I,ie,be,Ce){if(isNaN(I)||isNaN(ie)||isNaN(be)||!na(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,ie,be,be,Ce)},g.setFont=function(I,ie,be){return be&&(ie=re(ie,be)),Lt=gr(I,ie,{disableWarning:!1}),this};var Es=g.__private__.getFont=g.getFont=function(){return Dt[gr.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var I,ie,be={};for(I in rn)if(rn.hasOwnProperty(I))for(ie in be[I]=[],rn[I])rn[I].hasOwnProperty(ie)&&be[I].push(ie);return be},g.addFont=function(I,ie,be,Ce,Pe){var Ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ke.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&Ke.indexOf(arguments[3])==-1&&(be=re(be,Ce)),Cs.call(this,I,ie,be,Pe=Pe||"Identity-H")};var As,Ls=t.lineWidth||.200025,_t=g.__private__.getLineWidth=g.getLineWidth=function(){return Ls},Xa=g.__private__.setLineWidth=g.setLineWidth=function(I){return Ls=I,ye(U(Z(I))+" w"),this};g.__private__.setLineDash=Qt.API.setLineDash=Qt.API.setLineDashPattern=function(I,ie){if(I=I||[],ie=ie||0,isNaN(ie)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(be){return U(Z(be))}).join(" "),ie=U(Z(ie)),ye("["+I+"] "+ie+" d"),this};var vo=g.__private__.getLineHeight=g.getLineHeight=function(){return Qe*As};g.__private__.getLineHeight=g.getLineHeight=function(){return Qe*As};var Wu=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(As=I),this},qu=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return As};Wu(t.lineHeight);var Ks=g.__private__.getHorizontalCoordinate=function(I){return Z(I)},Sr=g.__private__.getVerticalCoordinate=function(I){return L===x?I:on[K].mediaBox.topRightY-on[K].mediaBox.bottomLeftY-Z(I)},zl=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(I){return U(Ks(I))},Gl=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(I){return U(Sr(I))},Aa=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Gt(Aa)},g.__private__.setStrokeColor=g.setDrawColor=function(I,ie,be,Ce){return Aa=It({ch1:I,ch2:ie,ch3:be,ch4:Ce,pdfColorType:"draw",precision:2}),ye(Aa),this};var vu=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Gt(vu)},g.__private__.setFillColor=g.setFillColor=function(I,ie,be,Ce){return vu=It({ch1:I,ch2:ie,ch3:be,ch4:Ce,pdfColorType:"fill",precision:2}),ye(vu),this};var Ps=t.textColor||"0 g",_i=g.__private__.getTextColor=g.getTextColor=function(){return Gt(Ps)};g.__private__.setTextColor=g.setTextColor=function(I,ie,be,Ce){return Ps=It({ch1:I,ch2:ie,ch3:be,ch4:Ce,pdfColorType:"text",precision:3}),this};var zo=t.charSpace,Hl=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(zo||0)};g.__private__.setCharSpace=g.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zo=I,this};var ys=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(I){var ie=g.CapJoinStyles[I];if(ie===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ys=ie,ye(ie+" J"),this};var Xs=0;g.__private__.setLineJoin=g.setLineJoin=function(I){var ie=g.CapJoinStyles[I];if(ie===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xs=ie,ye(ie+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ye(U(Z(I))+" M"),this},g.GState=P0,g.setGState=function(I){(I=typeof I=="string"?dn[Er[I]]:wo(null,I)).equals(xr)||(ye("/"+I.id+" gs"),xr=I)};var wo=function(I,ie){if(!I||!Er[I]){var be=!1;for(var Ce in dn)if(dn.hasOwnProperty(Ce)&&dn[Ce].equals(ie)){be=!0;break}if(be)ie=dn[Ce];else{var Pe="GS"+(Object.keys(dn).length+1).toString(10);dn[Pe]=ie,ie.id=Pe}return I&&(Er[I]=ie.id),Vn.publish("addGState",ie),ie}};g.addGState=function(I,ie){return wo(I,ie),this},g.saveGraphicsState=function(){return ye("q"),Wn.push({key:Lt,size:Qe,color:Ps}),this},g.restoreGraphicsState=function(){ye("Q");var I=Wn.pop();return Lt=I.key,Qe=I.size,Ps=I.color,xr=null,this},g.setCurrentTransformationMatrix=function(I){return ye(I.toString()+" cm"),this},g.comment=function(I){return ye("#"+I),this};var bo=function(I,ie){var be=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(Ke){isNaN(Ke)||(be=parseFloat(Ke))}});var Ce=ie||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(Ke){isNaN(Ke)||(Ce=parseFloat(Ke))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(Ke){Pe=Ke.toString()}}),this},Ja=function(I,ie,be,Ce){bo.call(this,I,ie),this.type="rect";var Pe=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(tt){isNaN(tt)||(Pe=parseFloat(tt))}});var Ke=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ke},set:function(tt){isNaN(tt)||(Ke=parseFloat(tt))}}),this},gl=function(){this.page=qn,this.currentPage=K,this.pages=Re.slice(0),this.pagesContext=on.slice(0),this.x=wt,this.y=wn,this.matrix=In,this.width=_o(K),this.height=vs(K),this.outputDestination=Ve,this.id="",this.objectNumber=-1};gl.prototype.restore=function(){qn=this.page,K=this.currentPage,on=this.pagesContext,Re=this.pages,wt=this.x,wn=this.y,In=this.matrix,Qa(K,this.width),Ur(K,this.height),Ve=this.outputDestination};var ni=function(I,ie,be,Ce,Pe){gs.push(new gl),qn=K=0,Re=[],wt=I,wn=ie,In=Pe,Ns([be,Ce])};for(var Is in g.beginFormObject=function(I,ie,be,Ce,Pe){return ni(I,ie,be,Ce,Pe),this},g.endFormObject=function(I){return(function(ie){if(ps[ie])gs.pop().restore();else{var be=new gl,Ce="Xo"+(Object.keys(vi).length+1).toString(10);be.id=Ce,ps[ie]=Ce,vi[Ce]=be,Vn.publish("addFormObject",be),gs.pop().restore()}})(I),this},g.doFormObject=function(I,ie){var be=vi[ps[I]];return ye("q"),ye(ie.toString()+" cm"),ye("/"+be.id+" Do"),ye("Q"),this},g.getFormObject=function(I){var ie=vi[ps[I]];return{x:ie.x,y:ie.y,width:ie.width,height:ie.height,matrix:ie.matrix}},g.save=function(I,ie){return I=I||"generated.pdf",(ie=ie||{}).returnPromise=ie.returnPromise||!1,ie.returnPromise===!1?(Kc(Or(zi()),I),typeof Kc.unload=="function"&&vn.setTimeout&&setTimeout(Kc.unload,911),this):new Promise(function(be,Ce){try{var Pe=Kc(Or(zi()),I);typeof Kc.unload=="function"&&vn.setTimeout&&setTimeout(Kc.unload,911),be(Pe)}catch(Ke){Ce(Ke.message)}})},Qt.API)Qt.API.hasOwnProperty(Is)&&(Is==="events"&&Qt.API.events.length?(function(I,ie){var be,Ce,Pe;for(Pe=ie.length-1;Pe!==-1;Pe--)be=ie[Pe][0],Ce=ie[Pe][1],I.subscribe.apply(I,[be].concat(typeof Ce=="function"?[Ce]:Ce))})(Vn,Qt.API.events):g[Is]=Qt.API[Is]);function _o(I){return on[I].mediaBox.topRightX-on[I].mediaBox.bottomLeftX}function Qa(I,ie){on[I].mediaBox.topRightX=ie+on[I].mediaBox.bottomLeftX}function vs(I){return on[I].mediaBox.topRightY-on[I].mediaBox.bottomLeftY}function Ur(I,ie){on[I].mediaBox.topRightY=ie+on[I].mediaBox.bottomLeftY}var ns=g.getPageWidth=function(I){return _o(I=I||K)/St},Qr=g.setPageWidth=function(I,ie){Qa(I,ie*St)},ci=g.getPageHeight=function(I){return vs(I=I||K)/St},Rs=g.setPageHeight=function(I,ie){Ur(I,ie*St)};return g.internal={pdfEscape:bi,getStyle:Ul,getFont:Es,getFontSize:ot,getCharSpace:Hl,getTextColor:_i,getLineHeight:vo,getLineHeightFactor:qu,getLineWidth:_t,write:Fe,getHorizontalCoordinate:Ks,getVerticalCoordinate:Sr,getCoordinateString:zl,getVerticalCoordinateString:Gl,collections:{},newObject:st,newAdditionalObject:yt,newObjectDeferred:at,newObjectDeferredBegin:gt,getFilters:bn,putStream:nn,events:Vn,scaleFactor:St,pageSize:{getWidth:function(){return ns(K)},setWidth:function(I){Qr(K,I)},getHeight:function(){return ci(K)},setHeight:function(I){Rs(K,I)}},encryptionOptions:p,encryption:Jr,getEncryptor:function(I){return p!==null?Jr.encryptor(I,0):function(ie){return ie}},output:Gi,getNumberOfPages:ui,pages:Re,out:ye,f2:F,f3:H,getPageInfo:ta,getPageInfoByObjId:yu,getCurrentPageInfo:ms,getPDFVersion:S,Point:bo,Rectangle:Ja,Matrix:Jt,hasHotfix:$a},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return ns(K)},set:function(I){Qr(K,I)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return ci(K)},set:function(I){Rs(K,I)},enumerable:!0,configurable:!0}),(function(I){for(var ie=0,be=Je.length;ie<be;ie++){var Ce=Cs.call(this,I[ie][0],I[ie][1],I[ie][2],Je[ie][3],!0);y===!1&&(v[Ce]=!0);var Pe=I[ie][0].split("-");go({id:Ce,fontName:Pe[0],fontStyle:Pe[1]||""})}Vn.publish("addFonts",{fonts:Dt,dictionary:rn})}).call(g,Je),Lt="F1",Va(i,n),Vn.publish("initialized"),g}Pd.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Pd.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Pd.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Pd.prototype.processOwnerPassword=function(t,e){return E2(N2(e).substr(0,5),t)},Pd.prototype.encryptor=function(t,e){var n=N2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return E2(n,r)}},P0.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Dr(t)!==Dr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Qt.API={events:[]},Qt.version="3.0.3";var Mi=Qt.API,Im=1,ad=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},En=function(t){return t.toFixed(2)},_c=function(t){return t.toFixed(5)};Mi.__acroform__={};var Ea=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},a4=function(t){return t*Im},lu=function(t){var e=new fb,n=qt.internal.getHeight(t)||0,r=qt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(En(r)),Number(En(n))],e},xT=Mi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},ST=Mi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},kT=Mi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ji=Mi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return kT(t,e-1)},Qi=Mi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return xT(t,e-1)},Zi=Mi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ST(t,e-1)},CT=Mi.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],l=t[2],u=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+u)||0,c.upperRight_X=n(i+l)||0,c.upperRight_Y=r(s)||0,[Number(En(c.lowerLeft_X)),Number(En(c.lowerLeft_Y)),Number(En(c.upperRight_X)),Number(En(c.upperRight_Y))]},NT=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=A2(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+En(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=lu(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},A2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(F){return F.split(`
`)}):i.map(function(F){return[F]});var s=n,l=qt.internal.getHeight(t)||0;l=l<0?-l:l;var u=qt.internal.getWidth(t)||0;u=u<0?-u:u;var c=function(F,H,Z){if(F+1<i.length){var ne=H+" "+i[F+1][0];return Up(ne,t,Z).width<=u-4}return!1};s++;e:for(;s>0;){e="",s--;var h,p,y=Up("3",t,s).height,v=t.multiline?l-s:(l-y)/2,g=v+=2,_=0,S=0,E=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Up(e,t,s=12).width+", FieldWidth:"+u+`
`;break}for(var A="",N=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var L=!1;if(i[x].length!==1&&E!==i[x].length-1){if((y+2)*(N+2)+2>l)continue e;A+=i[x][E],L=!0,S=x,x--}else{A=(A+=i[x][E]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var D=parseInt(x),W=c(D,A,s),re=x>=i.length-1;if(W&&!re){A+=" ",E=0;continue}if(W||re){if(re)S=D;else if(t.multiline&&(y+2)*(N+2)+2>l)continue e}else{if(!t.multiline||(y+2)*(N+2)+2>l)continue e;S=D}}for(var U="",M=_;M<=S;M++){var V=i[M];if(t.multiline){if(M===S){U+=V[E]+" ",E=(E+1)%V.length;continue}if(M===_){U+=V[V.length-1]+" ";continue}}U+=V[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,p=Up(U,t,s).width,t.textAlign){case"right":h=u-p-2;break;case"center":h=(u-p)/2;break;default:h=2}e+=En(h)+" "+En(g)+` Td
`,e+="("+ad(U)+`) Tj
`,e+=-En(h)+` 0 Td
`,g=-(s+2),p=0,_=L?S:S+1,N++,A=""}break}return r.text=e,r.fontSize=s,r},Up=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},ET={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},AT=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},LT=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Bl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(ET)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Im=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new hb,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&AT(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var l in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var u=r[l],c=[],h=u.Rect;if(u.Rect&&(u.Rect=CT(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=qt.createDefaultAppearanceStream(u),Dr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=h,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=NT(u);c.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var y="";for(var v in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(v)){var g=u.appearanceStreamContent[v];if(y+="/"+v+" ",y+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var l in g)if(g.hasOwnProperty(l)){var _=g[l];typeof _=="function"&&(_=_.call(i,u)),y+="/"+l+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=g)=="function"&&(_=_.call(i,u)),y+="/"+l+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);y+=">>"}c.push({key:"AP",value:`<<
`+y+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:u.objId}),i.internal.out("endobj")}s&&(function(S,E){for(var A in S)if(S.hasOwnProperty(A)){var N=A,x=S[A];E.internal.newObjectDeferredBegin(x.objId,!0),Dr(x)==="object"&&typeof x.putStream=="function"&&x.putStream(),delete S[N]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},db=Mi.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(l){return l};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Dr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+ad(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Fg=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+ad(r(t))+")"},cu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};cu.prototype.toString=function(){return this.objId+" 0 R"},cu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},cu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:db(i,this.objId,this.scope)}):i instanceof cu?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var fb=function(){cu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ea(fb,cu);var hb=function(){cu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+ad(n(t))+")"}},set:function(n){t=n}})};Ea(hb,cu);var Bl=function t(){cu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');e=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ji(e,3)},set:function(A){A?this.F=Qi(e,3):this.F=Zi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');n=A}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(A){r=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(A){r[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(A){r[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(A){r[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(A){r[3]=A}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof I0)return;s="FieldObject"+t.FieldNum++}var A=function(N){return N};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+ad(A(s))+")"},set:function(A){s=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(A){s=A}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(A){l=A}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(A){u=A}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(A){c=A}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/Im:h},set:function(A){h=A}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(A){p=A}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof I0||this instanceof Zc))return Fg(y,this.objId,this.scope)},set:function(A){A=A.toString(),y=A}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Gs==0?Fg(v,this.objId,this.scope):v},set:function(A){A=A.toString(),v=this instanceof Gs==0?A.substr(0,1)==="("?Nd(A.substr(1,A.length-2)):Nd(A):A}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gs==1?Nd(v.substr(1,v.length-1)):v},set:function(A){A=A.toString(),v=this instanceof Gs==1?"/"+A:A}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Gs==0?Fg(g,this.objId,this.scope):g},set:function(A){A=A.toString(),g=this instanceof Gs==0?A.substr(0,1)==="("?Nd(A.substr(1,A.length-2)):Nd(A):A}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gs==1?Nd(g.substr(1,g.length-1)):g},set:function(A){A=A.toString(),g=this instanceof Gs==1?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(A){A=!!A,S=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(A){_=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,1)},set:function(A){A?this.Ff=Qi(this.Ff,1):this.Ff=Zi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,2)},set:function(A){A?this.Ff=Qi(this.Ff,2):this.Ff=Zi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,3)},set:function(A){A?this.Ff=Qi(this.Ff,3):this.Ff=Zi(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');E=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(E){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};Ea(Bl,cu);var Dd=function(){Bl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return db(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(s,l,u){u||(u=1);for(var c,h=[];c=l.exec(s);)h.push(c[u]);return h})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,18)},set:function(n){n?this.Ff=Qi(this.Ff,18):this.Ff=Zi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Qi(this.Ff,19):this.Ff=Zi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,20)},set:function(n){n?(this.Ff=Qi(this.Ff,20),e.sort()):this.Ff=Zi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,22)},set:function(n){n?this.Ff=Qi(this.Ff,22):this.Ff=Zi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,23)},set:function(n){n?this.Ff=Qi(this.Ff,23):this.Ff=Zi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,27)},set:function(n){n?this.Ff=Qi(this.Ff,27):this.Ff=Zi(this.Ff,27)}}),this.hasAppearanceStream=!1};Ea(Dd,Bl);var Od=function(){Dd.call(this),this.fontName="helvetica",this.combo=!1};Ea(Od,Dd);var Fd=function(){Od.call(this),this.combo=!0};Ea(Fd,Od);var r0=function(){Fd.call(this),this.edit=!0};Ea(r0,Fd);var Gs=function(){Bl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,15)},set:function(n){n?this.Ff=Qi(this.Ff,15):this.Ff=Zi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,16)},set:function(n){n?this.Ff=Qi(this.Ff,16):this.Ff=Zi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,17)},set:function(n){n?this.Ff=Qi(this.Ff,17):this.Ff=Zi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,26)},set:function(n){n?this.Ff=Qi(this.Ff,26):this.Ff=Zi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+ad(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Dr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ea(Gs,Bl);var i0=function(){Gs.call(this),this.pushButton=!0};Ea(i0,Gs);var Md=function(){Gs.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ea(Md,Gs);var I0=function(){var t,e;Bl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,l=[];for(s in l.push("<<"),r)l.push("/"+s+" ("+ad(i(r[s]))+")");return l.push(">>"),l.join(`
`)},set:function(i){Dr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=qt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ea(I0,Bl),Md.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Md.prototype.createOption=function(t){var e=new I0;return e.Parent=this,e.optionName=t,this.Kids.push(e),PT.call(this.scope,e),e};var s0=function(){Gs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=qt.CheckBox.createAppearanceStream()};Ea(s0,Gs);var Zc=function(){Bl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,13)},set:function(e){e?this.Ff=Qi(this.Ff,13):this.Ff=Zi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,21)},set:function(e){e?this.Ff=Qi(this.Ff,21):this.Ff=Zi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,23)},set:function(e){e?this.Ff=Qi(this.Ff,23):this.Ff=Zi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,24)},set:function(e){e?this.Ff=Qi(this.Ff,24):this.Ff=Zi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,25)},set:function(e){e?this.Ff=Qi(this.Ff,25):this.Ff=Zi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,26)},set:function(e){e?this.Ff=Qi(this.Ff,26):this.Ff=Zi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ea(Zc,Bl);var o0=function(){Zc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ji(this.Ff,14)},set:function(t){t?this.Ff=Qi(this.Ff,14):this.Ff=Zi(this.Ff,14)}}),this.password=!0};Ea(o0,Zc);var qt={CheckBox:{createAppearanceStream:function(){return{N:{On:qt.CheckBox.YesNormal},D:{On:qt.CheckBox.YesPushDown,Off:qt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=lu(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=A2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+En(qt.internal.getWidth(t))+" "+En(qt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+En(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=lu(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=qt.internal.getHeight(t),l=qt.internal.getWidth(t),u=A2(t,t.caption);return i.push("1 g"),i.push("0 0 "+En(l)+" "+En(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+En(l-1)+" "+En(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+En(u.fontSize)+" Tf "+r),i.push(u.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=lu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+En(qt.internal.getWidth(t))+" "+En(qt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:qt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=qt.RadioButton.Circle.YesNormal,e.D[t]=qt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=lu(t);e.scope=t.scope;var n=[],r=qt.internal.getWidth(t)<=qt.internal.getHeight(t)?qt.internal.getWidth(t)/4:qt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=qt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+_c(qt.internal.getWidth(t)/2)+" "+_c(qt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=lu(t);e.scope=t.scope;var n=[],r=qt.internal.getWidth(t)<=qt.internal.getHeight(t)?qt.internal.getWidth(t)/4:qt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*qt.internal.Bezier_C).toFixed(5)),l=Number((r*qt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+_c(qt.internal.getWidth(t)/2)+" "+_c(qt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+_c(qt.internal.getWidth(t)/2)+" "+_c(qt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),n.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),n.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),n.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=lu(t);e.scope=t.scope;var n=[],r=qt.internal.getWidth(t)<=qt.internal.getHeight(t)?qt.internal.getWidth(t)/4:qt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*qt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+_c(qt.internal.getWidth(t)/2)+" "+_c(qt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:qt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=qt.RadioButton.Cross.YesNormal,e.D[t]=qt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=lu(t);e.scope=t.scope;var n=[],r=qt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+En(qt.internal.getWidth(t)-2)+" "+En(qt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(En(r.x1.x)+" "+En(r.x1.y)+" m"),n.push(En(r.x2.x)+" "+En(r.x2.y)+" l"),n.push(En(r.x4.x)+" "+En(r.x4.y)+" m"),n.push(En(r.x3.x)+" "+En(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=lu(t);e.scope=t.scope;var n=qt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+En(qt.internal.getWidth(t))+" "+En(qt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+En(qt.internal.getWidth(t)-2)+" "+En(qt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(En(n.x1.x)+" "+En(n.x1.y)+" m"),r.push(En(n.x2.x)+" "+En(n.x2.y)+" l"),r.push(En(n.x4.x)+" "+En(n.x4.y)+" m"),r.push(En(n.x3.x)+" "+En(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=lu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+En(qt.internal.getWidth(t))+" "+En(qt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};qt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=qt.internal.getWidth(t),n=qt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},qt.internal.getWidth=function(t){var e=0;return Dr(t)==="object"&&(e=a4(t.Rect[2])),e},qt.internal.getHeight=function(t){var e=0;return Dr(t)==="object"&&(e=a4(t.Rect[3])),e};var PT=Mi.addField=function(t){if(LT(this,t),!(t instanceof Bl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Mi.AcroFormChoiceField=Dd,Mi.AcroFormListBox=Od,Mi.AcroFormComboBox=Fd,Mi.AcroFormEditBox=r0,Mi.AcroFormButton=Gs,Mi.AcroFormPushButton=i0,Mi.AcroFormRadioButton=Md,Mi.AcroFormCheckBox=s0,Mi.AcroFormTextField=Zc,Mi.AcroFormPasswordField=o0,Mi.AcroFormAppearance=qt,Mi.AcroForm={ChoiceField:Dd,ListBox:Od,ComboBox:Fd,EditBox:r0,Button:Gs,PushButton:i0,RadioButton:Md,CheckBox:s0,TextField:Zc,PasswordField:o0,Appearance:qt},Qt.AcroForm={ChoiceField:Dd,ListBox:Od,ComboBox:Fd,EditBox:r0,Button:Gs,PushButton:i0,RadioButton:Md,CheckBox:s0,TextField:Zc,PasswordField:o0,Appearance:qt};Qt.AcroForm;function pb(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(F,H){var Z,ne,le,xe,B,G=n;if((H=H||n)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(W(F))for(B in r)for(le=r[B],Z=0;Z<le.length;Z+=1){for(xe=!0,ne=0;ne<le[Z].length;ne+=1)if(le[Z][ne]!==void 0&&le[Z][ne]!==F[ne]){xe=!1;break}if(xe===!0){G=B;break}}else for(B in r)for(le=r[B],Z=0;Z<le.length;Z+=1){for(xe=!0,ne=0;ne<le[Z].length;ne+=1)if(le[Z][ne]!==void 0&&le[Z][ne]!==F.charCodeAt(ne)){xe=!1;break}if(xe===!0){G=B;break}}return G===n&&H!==n&&(G=H),G},s=function F(H){for(var Z=this.internal.write,ne=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var xe=[];if(xe.push({key:"Type",value:"/XObject"}),xe.push({key:"Subtype",value:"/Image"}),xe.push({key:"Width",value:H.width}),xe.push({key:"Height",value:H.height}),H.colorSpace===A.INDEXED?xe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(xe.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===A.DEVICE_CMYK&&xe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),xe.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&xe.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)&&H.transparency.length>0){for(var B="",G=0,Q=H.transparency.length;G<Q;G++)B+=H.transparency[G]+" "+H.transparency[G]+" ";xe.push({key:"Mask",value:"["+B+"]"})}H.sMask!==void 0&&xe.push({key:"SMask",value:H.objectId+1+" 0 R"});var ee=H.filter!==void 0?["/"+H.filter]:void 0;if(ne({data:H.data,additionalKeyValues:xe,alreadyAppliedFilters:ee,objectId:H.objectId}),Z("endobj"),"sMask"in H&&H.sMask!==void 0){var $,j=($=H.sMaskBitsPerComponent)!==null&&$!==void 0?$:H.bitsPerComponent,K={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:j,data:H.sMask};"filter"in H&&(K.decodeParameters="/Predictor ".concat(H.predictor," /Colors 1 /BitsPerComponent ").concat(j," /Columns ").concat(H.width),K.filter=H.filter),F.call(this,K)}if(H.colorSpace===A.INDEXED){var X=this.internal.newObject();ne({data:U(new Uint8Array(H.palette)),objectId:X}),Z("endobj")}},l=function(){var F=this.internal.collections[e+"images"];for(var H in F)s.call(this,F[H])},u=function(){var F,H=this.internal.collections[e+"images"],Z=this.internal.write;for(var ne in H)Z("/I"+(F=H[ne]).index,F.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",u))},h=function(){var F=this.internal.collections[e+"images"];return c.call(this),F},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(F){return typeof t["process"+F.toUpperCase()]=="function"},v=function(F){return Dr(F)==="object"&&F.nodeType===1},g=function(F,H){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var Z=""+F.getAttribute("src");if(Z.indexOf("data:image/")===0)return n0(unescape(Z).split("base64,").pop());var ne=t.loadFile(Z,!0);if(ne!==void 0)return ne}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var le;switch(H){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;default:le="image/jpeg"}return n0(F.toDataURL(le,1).split("base64,").pop())}},_=function(F){var H=this.internal.collections[e+"images"];if(H){for(var Z in H)if(F===H[Z].alias)return H[Z]}},S=function(F,H,Z){return F||H||(F=-96,H=-96),F<0&&(F=-1*Z.width*72/F/this.internal.scaleFactor),H<0&&(H=-1*Z.height*72/H/this.internal.scaleFactor),F===0&&(F=H*Z.width/Z.height),H===0&&(H=F*Z.height/Z.width),[F,H]},E=function(F,H,Z,ne,le,xe){var B=S.call(this,Z,ne,le),G=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString,ee=h.call(this);if(Z=B[0],ne=B[1],ee[le.index]=le,xe){xe*=Math.PI/180;var $=Math.cos(xe),j=Math.sin(xe),K=function(ce){return ce.toFixed(4)},X=[K($),K(j),K(-1*j),K($),0,0,"cm"]}this.internal.write("q"),xe?(this.internal.write([1,"0","0",1,G(F),Q(H+ne),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([G(Z),"0","0",G(ne),"0","0","cm"].join(" "))):this.internal.write([G(Z),"0","0",G(ne),G(F),Q(H+ne),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},A=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(F){var H,Z,ne=0;if(typeof F=="string")for(Z=F.length,H=0;H<Z;H++)ne=(ne<<5)-ne+F.charCodeAt(H),ne|=0;else if(W(F))for(Z=F.byteLength/2,H=0;H<Z;H++)ne=(ne<<5)-ne+F[H],ne|=0;return ne},L=t.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var H=!0;return F.length===0&&(H=!1),F.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(H=!1),H},D=t.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var H=F.indexOf(",");return H<0?null:F.substring(0,H).trim().endsWith("base64")?F.substring(H+1):null};t.__addimage__.isArrayBuffer=function(F){return F instanceof ArrayBuffer};var W=t.__addimage__.isArrayBufferView=function(F){return F instanceof Int8Array||F instanceof Uint8Array||F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array},re=t.__addimage__.binaryStringToUint8Array=function(F){for(var H=F.length,Z=new Uint8Array(H),ne=0;ne<H;ne++)Z[ne]=F.charCodeAt(ne);return Z},U=t.__addimage__.arrayBufferToBinaryString=function(F){for(var H="",Z=W(F)?F:new Uint8Array(F),ne=0;ne<Z.length;ne+=8192)H+=String.fromCharCode.apply(null,Z.subarray(ne,ne+8192));return H};t.addImage=function(){var F,H,Z,ne,le,xe,B,G,Q;if(typeof arguments[1]=="number"?(H=n,Z=arguments[1],ne=arguments[2],le=arguments[3],xe=arguments[4],B=arguments[5],G=arguments[6],Q=arguments[7]):(H=arguments[1],Z=arguments[2],ne=arguments[3],le=arguments[4],xe=arguments[5],B=arguments[6],G=arguments[7],Q=arguments[8]),Dr(F=arguments[0])==="object"&&!v(F)&&"imageData"in F){var ee=F;F=ee.imageData,H=ee.format||H||n,Z=ee.x||Z||0,ne=ee.y||ne||0,le=ee.w||ee.width||le,xe=ee.h||ee.height||xe,B=ee.alias||B,G=ee.compression||G,Q=ee.rotation||ee.angle||Q}var $=this.internal.getFilters();if(G===void 0&&$.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(Z)||isNaN(ne))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var j=M.call(this,F,H,B,G);return E.call(this,Z,ne,le,xe,j,Q),this};var M=function(F,H,Z,ne){var le,xe,B;if(typeof F=="string"&&i(F)===n){F=unescape(F);var G=V(F,!1);(G!==""||(G=t.loadFile(F,!0))!==void 0)&&(F=G)}if(v(F)&&(F=g(F,H)),H=i(F,H),!y(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((B=Z)==null||B.length===0)&&(Z=(function(Q){return typeof Q=="string"||W(Q)?x(Q):W(Q.data)?x(Q.data):null})(F)),(le=_.call(this,Z))||(F instanceof Uint8Array||H==="RGBA"||(xe=F,F=re(F)),le=this["process"+H.toUpperCase()](F,p.call(this),Z,(function(Q){return Q&&typeof Q=="string"&&(Q=Q.toUpperCase()),Q in t.image_compression?Q:N.NONE})(ne),xe)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},V=t.__addimage__.convertBase64ToBinaryString=function(F,H){H=typeof H!="boolean"||H;var Z,ne="";if(typeof F=="string"){var le;Z=(le=D(F))!==null&&le!==void 0?le:F;try{ne=n0(Z)}catch(xe){if(H)throw L(Z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+xe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};t.getImageProperties=function(F){var H,Z,ne="";if(v(F)&&(F=g(F)),typeof F=="string"&&i(F)===n&&((ne=V(F,!1))===""&&(ne=t.loadFile(F)||""),F=ne),Z=i(F),!y(Z))throw new Error("addImage does not support files of type '"+Z+"', please ensure that a plugin for '"+Z+"' support is added.");if(F instanceof Uint8Array||(F=re(F)),!(H=this["process"+Z.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=Z,H}})(Qt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Qt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,p=!1,y=0;y<h.length&&!p;y++)switch((r=h[y]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var v=0;v<h.length;v++){r=h[v];var g=this.internal.pdfEscape,_=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(S.objId),N=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+g(A(r.contents))+")",s+=" /Popup "+E.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+g(A(N))+") >>",S.content=s;var x=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+x,r.open&&(s+=" /Open true"),s+=" >>",E.content=s,this.internal.write(S.objId,"0 R",E.objId,"0 R");break;case"freetext":i="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var L=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(_(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var D=this.annotations._nameMap[r.options.name];r.options.pageNumber=D.page,r.options.top=D.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(_(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var W=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+W+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,l){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(n),y:h(r),w:c(n+i),h:h(r+s)},options:l,type:"link"})},t.textWithLink=function(n,r,i,s){var l,u,c=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var p=this.splitTextToSize(n,u).length;l=Math.ceil(h*p)}else u=c,l=h;return this.text(n,r,i,s),i+=.2*h,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-h,u,l,s),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(Qt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},u=t.__arabicParser__.isArabicEndLetter=function(S){return l(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(S){return l(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return l(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return l(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return l(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return l(S)&&s(S)&&e[S.charCodeAt(0)].length==4},y=t.__arabicParser__.resolveLigatures=function(S){var E=0,A=n,N="",x=0;for(E=0;E<S.length;E+=1)A[S.charCodeAt(E)]!==void 0?(x++,typeof(A=A[S.charCodeAt(E)])=="number"&&(N+=String.fromCharCode(A),A=n,x=0),E===S.length-1&&(A=n,N+=S.charAt(E-(x-1)),E-=x-1,x=0)):(A=n,N+=S.charAt(E-x),E-=x,x=0);return N};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(S,E,A){return l(S)?s(S)===!1?-1:!h(S)||!l(E)&&!l(A)||!l(A)&&u(E)||u(S)&&!l(E)||u(S)&&c(E)||u(S)&&u(E)?0:p(S)&&l(E)&&!u(E)&&l(A)&&h(A)?3:u(S)||!l(A)?1:2:-1},g=function(S){var E=0,A=0,N=0,x="",L="",D="",W=(S=S||"").split("\\s+"),re=[];for(E=0;E<W.length;E+=1){for(re.push(""),A=0;A<W[E].length;A+=1)x=W[E][A],L=W[E][A-1],D=W[E][A+1],l(x)?(N=v(x,L,D),re[E]+=N!==-1?String.fromCharCode(e[x.charCodeAt(0)][N]):x):re[E]+=x;re[E]=y(re[E])}return re.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var S,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(E)){var N=0;for(A=[],N=0;N<E.length;N+=1)Array.isArray(E[N])?A.push([g(E[N][0]),E[N][1],E[N][2]]):A.push([g(E[N])]);S=A}else S=g(E);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",_])})(Qt.API),Qt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(u){n=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(u){l=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Qt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(S){v=S}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(S){_=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,h){r.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),y=h.font||this.getFont(),v=h.scaleFactor||this.internal.scaleFactor,g=0,_=0,S=0,E=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var A=h.maxWidth;A>0?typeof c=="string"?c=this.splitTextToSize(c,A):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(x,L){return x.concat(E.splitTextToSize(L,A))},[])):c=Array.isArray(c)?c:[c];for(var N=0;N<c.length;N++)g<(S=this.getStringUnitWidth(c[N],{font:y})*p)&&(g=S);return g!==0&&(_=c.length),{w:g/=v,h:Math.max((_*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=y.top,g&&v&&(this.printHeaderRow(c.lineNumber,!0),c.y+=v[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};t.table=function(c,h,p,y,v){if(r.call(this),!p)throw new Error("No data for PDF table.");var g,_,S,E,A=[],N=[],x=[],L={},D={},W=[],re=[],U=(v=v||{}).autoSize||!1,M=v.printHeaders!==!1,V=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,F=v.margins||Object.assign({width:this.getPageWidth()},e),H=typeof v.padding=="number"?v.padding:3,Z=v.headerBackgroundColor||"#c8c8c8",ne=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=Z,this.internal.__cell__.headerTextColor=ne,this.setFontSize(V),y==null)N=A=Object.keys(p[0]),x=A.map(function(){return"left"});else if(Array.isArray(y)&&Dr(y[0])==="object")for(A=y.map(function(ee){return ee.name}),N=y.map(function(ee){return ee.prompt||ee.name||""}),x=y.map(function(ee){return ee.align||"left"}),g=0;g<y.length;g+=1)D[y[g].name]=.7499990551181103*y[g].width;else Array.isArray(y)&&typeof y[0]=="string"&&(N=A=y,x=A.map(function(){return"left"}));if(U||Array.isArray(y)&&typeof y[0]=="string")for(g=0;g<A.length;g+=1){for(L[E=A[g]]=p.map(function(ee){return ee[E]}),this.setFont(void 0,"bold"),W.push(this.getTextDimensions(N[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=L[E],this.setFont(void 0,"normal"),S=0;S<_.length;S+=1)W.push(this.getTextDimensions(_[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[E]=Math.max.apply(null,W)+H+H,W=[]}if(M){var le={};for(g=0;g<A.length;g+=1)le[A[g]]={},le[A[g]].text=N[g],le[A[g]].align=x[g];var xe=u.call(this,le,D);re=A.map(function(ee){return new s(c,h,D[ee],xe,le[ee].text,void 0,le[ee].align)}),this.setTableHeaderRow(re),this.printHeaderRow(1,!1)}var B=y.reduce(function(ee,$){return ee[$.name]=$.align,ee},{});for(g=0;g<p.length;g+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:g,data:p[g]},this);var G=u.call(this,p[g],D);for(S=0;S<A.length;S+=1){var Q=p[g][A[S]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:g,col:S,data:Q},this),l.call(this,new s(c,h,D[A[S]],G,Q,g+2,B[A[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var u=function(c,h){var p=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(c).map(function(g){var _=c[g];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,h[g]-p-p)},this).map(function(g){return this.getLineHeightFactor()*g.length*y/v+p+p},this).reduce(function(g,_){return Math.max(g,_)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){p=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,v.push(p)),p.lineNumber=c;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(_)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),n=!1}})(Qt.API);var gb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],L2=pb(mb),yb=[100,200,300,400,500,600,700,800,900],IT=pb(yb);function Mg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return gb[s=s||"normal"]?s:"normal"})(t.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),i=(function(s){return typeof L2[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function l4(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var RT={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},u4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function c4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function d4(t){return t.trimLeft()}function TT(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function DT(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var zp,f4,h4,Ed,Gp,p4,g4,m4,Bg=["times"];function y4(t,e,n,r,i){var s=4,l=w4;switch(i){case Qt.API.image_compression.FAST:s=1,l=v4;break;case Qt.API.image_compression.MEDIUM:s=6,l=b4;break;case Qt.API.image_compression.SLOW:s=9,l=_4}t=(function(c,h,p,y){for(var v,g=c.length/h,_=new Uint8Array(c.length+g),S=[OT,v4,w4,b4,_4],E=0;E<g;E+=1){var A=E*h,N=c.subarray(A,A+h);if(y)_.set(y(N,p,v),A+E);else{for(var x=S.length,L=[],D=0;D<x;D+=1)L[D]=S[D](N,p,v);var W=MT(L.concat());_.set(L[W],A+E)}v=N}return _})(t,e,Math.ceil(n*r/8),l);var u=x2(t,{level:s});return Qt.API.__addimage__.arrayBufferToBinaryString(u)}function OT(t){var e=Array.apply([],t);return e.unshift(0),e}function v4(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function w4(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var l=n&&n[s]||0;i[s+1]=t[s]-l+256&255}return i}function b4(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var l=t[s-e]||0,u=n&&n[s]||0;i[s+1]=t[s]+256-(l+u>>>1)&255}return i}function _4(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var l=FT(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-l+256&255}return i}function FT(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function MT(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function jg(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),l=(1<<n)-1;return vb(t,i)>>s&l}function x4(t,e,n,r){var i=n*r,s=Math.floor(i/8),l=16-(i-8*s+r),u=(1<<r)-1,c=(e&u)<<l;(function(h,p,y){if(p+1<h.byteLength)h.setUint16(p,y,!1);else{var v=y>>8&255;h.setUint8(p,v)}})(t,s,vb(t,s)&~(u<<l)&65535|c)}function vb(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function BT(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,l=1<<1+(7&i);t[e++],t[e++];var u=null,c=null;s&&(u=e,c=l,e+=3*l);var h=!0,p=[],y=0,v=null,g=0,_=null;for(this.width=n,this.height=r;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((F=t[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];y=t[e++]|t[e++]<<8,v=t[e++],1&S||(v=null),g=S>>2&7,e++;break;case 254:for(;;){if(!((F=t[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var E=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,L=t[e++],D=L>>6&1,W=1<<1+(7&L),re=u,U=c,M=!1;L>>7&&(M=!0,re=e,U=W,e+=3*W);var V=e;for(e++;;){var F;if(!((F=t[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}p.push({x:E,y:A,width:N,height:x,has_local_palette:M,palette_offset:re,palette_size:U,data_offset:V,data_length:e-V,transparent_index:v,interlaced:!!D,delay:y,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return _},this.frameInfo=function(H){if(H<0||H>=p.length)throw new Error("Frame index out of range.");return p[H]},this.decodeAndBlitFrameBGRA=function(H,Z){var ne=this.frameInfo(H),le=ne.width*ne.height,xe=new Uint8Array(le);S4(t,ne.data_offset,xe,le);var B=ne.palette_offset,G=ne.transparent_index;G===null&&(G=256);var Q=ne.width,ee=n-Q,$=Q,j=4*(ne.y*n+ne.x),K=4*((ne.y+ne.height)*n+ne.x),X=j,ce=4*ee;ne.interlaced===!0&&(ce+=4*n*7);for(var ae=8,J=0,ge=xe.length;J<ge;++J){var _e=xe[J];if($===0&&($=Q,(X+=ce)>=K&&(ce=4*ee+4*n*(ae-1),X=j+(Q+ee)*(ae<<1),ae>>=1)),_e===G)X+=4;else{var Se=t[B+3*_e],Re=t[B+3*_e+1],Ue=t[B+3*_e+2];Z[X++]=Ue,Z[X++]=Re,Z[X++]=Se,Z[X++]=255}--$}},this.decodeAndBlitFrameRGBA=function(H,Z){var ne=this.frameInfo(H),le=ne.width*ne.height,xe=new Uint8Array(le);S4(t,ne.data_offset,xe,le);var B=ne.palette_offset,G=ne.transparent_index;G===null&&(G=256);var Q=ne.width,ee=n-Q,$=Q,j=4*(ne.y*n+ne.x),K=4*((ne.y+ne.height)*n+ne.x),X=j,ce=4*ee;ne.interlaced===!0&&(ce+=4*n*7);for(var ae=8,J=0,ge=xe.length;J<ge;++J){var _e=xe[J];if($===0&&($=Q,(X+=ce)>=K&&(ce=4*ee+4*n*(ae-1),X=j+(Q+ee)*(ae<<1),ae>>=1)),_e===G)X+=4;else{var Se=t[B+3*_e],Re=t[B+3*_e+1],Ue=t[B+3*_e+2];Z[X++]=Se,Z[X++]=Re,Z[X++]=Ue,Z[X++]=255}--$}}}function S4(t,e,n,r){for(var i=t[e++],s=1<<i,l=s+1,u=l+1,c=i+1,h=(1<<c)-1,p=0,y=0,v=0,g=t[e++],_=new Int32Array(4096),S=null;;){for(;p<16&&g!==0;)y|=t[e++]<<p,p+=8,g===1?g=t[e++]:--g;if(p<c)break;var E=y&h;if(y>>=c,p-=c,E!==s){if(E===l)break;for(var A=E<u?E:S,N=0,x=A;x>s;)x=_[x]>>8,++N;var L=x;if(v+N+(A!==E?1:0)>r)return void Kr.log("Warning, gif stream longer than expected.");n[v++]=L;var D=v+=N;for(A!==E&&(n[v++]=L),x=A;N--;)x=_[x],n[--D]=255&x,x>>=8;S!==null&&u<4096&&(_[u++]=S<<8|L,u>=h+1&&c<12&&(++c,h=h<<1|1)),S=E}else u=l+1,h=(1<<(c=i+1))-1,S=null}return v!==r&&Kr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ug(t){var e,n,r,i,s,l=Math.floor,u=new Array(64),c=new Array(64),h=new Array(64),p=new Array(64),y=new Array(65535),v=new Array(65535),g=new Array(64),_=new Array(64),S=[],E=0,A=7,N=new Array(64),x=new Array(64),L=new Array(64),D=new Array(256),W=new Array(2048),re=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function xe(j,K){for(var X=0,ce=0,ae=new Array,J=1;J<=16;J++){for(var ge=1;ge<=j[J];ge++)ae[K[ce]]=[],ae[K[ce]][0]=X,ae[K[ce]][1]=J,ce++,X++;X*=2}return ae}function B(j){for(var K=j[0],X=j[1]-1;X>=0;)K&1<<X&&(E|=1<<A),X--,--A<0&&(E==255?(G(255),G(0)):G(E),A=7,E=0)}function G(j){S.push(j)}function Q(j){G(j>>8&255),G(255&j)}function ee(j,K,X,ce,ae){for(var J,ge=ae[0],_e=ae[240],Se=(function(Qe,ut){var ot,ht,ct,Bt,kt,Et,Sn,Vt,Lt,St,wt=0;for(Lt=0;Lt<8;++Lt){ot=Qe[wt],ht=Qe[wt+1],ct=Qe[wt+2],Bt=Qe[wt+3],kt=Qe[wt+4],Et=Qe[wt+5],Sn=Qe[wt+6];var wn=ot+(Vt=Qe[wt+7]),In=ot-Vt,Dt=ht+Sn,rn=ht-Sn,Wn=ct+Et,Yt=ct-Et,An=Bt+kt,dn=Bt-kt,Er=wn+An,xr=wn-An,qn=Dt+Wn,on=Dt-Wn;Qe[wt]=Er+qn,Qe[wt+4]=Er-qn;var Vn=.707106781*(on+xr);Qe[wt+2]=xr+Vn,Qe[wt+6]=xr-Vn;var jo=.382683433*((Er=dn+Yt)-(on=rn+In)),vi=.5411961*Er+jo,ps=1.306562965*on+jo,gs=.707106781*(qn=Yt+rn),Jt=In+gs,ts=In-gs;Qe[wt+5]=ts+vi,Qe[wt+3]=ts-vi,Qe[wt+1]=Jt+ps,Qe[wt+7]=Jt-ps,wt+=8}for(wt=0,Lt=0;Lt<8;++Lt){ot=Qe[wt],ht=Qe[wt+8],ct=Qe[wt+16],Bt=Qe[wt+24],kt=Qe[wt+32],Et=Qe[wt+40],Sn=Qe[wt+48];var ks=ot+(Vt=Qe[wt+56]),rt=ot-Vt,$e=ht+Sn,st=ht-Sn,at=ct+Et,gt=ct-Et,yt=Bt+kt,Ct=Bt-kt,dt=ks+yt,Gt=ks-yt,It=$e+at,bn=$e-at;Qe[wt]=dt+It,Qe[wt+32]=dt-It;var nn=.707106781*(bn+Gt);Qe[wt+16]=Gt+nn,Qe[wt+48]=Gt-nn;var an=.382683433*((dt=Ct+gt)-(bn=st+rt)),Xt=.5411961*dt+an,Rn=1.306562965*bn+an,sr=.707106781*(It=gt+st),Mn=rt+sr,Bn=rt-sr;Qe[wt+40]=Bn+Xt,Qe[wt+24]=Bn-Xt,Qe[wt+8]=Mn+Rn,Qe[wt+56]=Mn-Rn,wt++}for(Lt=0;Lt<64;++Lt)St=Qe[Lt]*ut[Lt],g[Lt]=St>0?St+.5|0:St-.5|0;return g})(j,K),Re=0;Re<64;++Re)_[re[Re]]=Se[Re];var Ue=_[0]-X;X=_[0],Ue==0?B(ce[0]):(B(ce[v[J=32767+Ue]]),B(y[J]));for(var Ve=63;Ve>0&&_[Ve]==0;)Ve--;if(Ve==0)return B(ge),X;for(var Be,ye=1;ye<=Ve;){for(var Fe=ye;_[ye]==0&&ye<=Ve;)++ye;var Ge=ye-Fe;if(Ge>=16){Be=Ge>>4;for(var Je=1;Je<=Be;++Je)B(_e);Ge&=15}J=32767+_[ye],B(ae[(Ge<<4)+v[J]]),B(y[J]),ye++}return Ve!=63&&B(ge),X}function $(j){j=Math.min(Math.max(j,1),100),s!=j&&((function(K){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var ae=l((X[ce]*K+50)/100);ae=Math.min(Math.max(ae,1),255),u[re[ce]]=ae}for(var J=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var _e=l((J[ge]*K+50)/100);_e=Math.min(Math.max(_e,1),255),c[re[ge]]=_e}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,Ue=0;Ue<8;Ue++)for(var Ve=0;Ve<8;Ve++)h[Re]=1/(u[re[Re]]*Se[Ue]*Se[Ve]*8),p[Re]=1/(c[re[Re]]*Se[Ue]*Se[Ve]*8),Re++})(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),s=j)}this.encode=function(j,K){K&&$(K),S=new Array,E=0,A=7,Q(65496),Q(65504),Q(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),Q(1),Q(1),G(0),G(0),(function(){Q(65499),Q(132),G(0);for(var ht=0;ht<64;ht++)G(u[ht]);G(1);for(var ct=0;ct<64;ct++)G(c[ct])})(),(function(ht,ct){Q(65472),Q(17),G(8),Q(ct),Q(ht),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)})(j.width,j.height),(function(){Q(65476),Q(418),G(0);for(var ht=0;ht<16;ht++)G(U[ht+1]);for(var ct=0;ct<=11;ct++)G(M[ct]);G(16);for(var Bt=0;Bt<16;Bt++)G(V[Bt+1]);for(var kt=0;kt<=161;kt++)G(F[kt]);G(1);for(var Et=0;Et<16;Et++)G(H[Et+1]);for(var Sn=0;Sn<=11;Sn++)G(Z[Sn]);G(17);for(var Vt=0;Vt<16;Vt++)G(ne[Vt+1]);for(var Lt=0;Lt<=161;Lt++)G(le[Lt])})(),Q(65498),Q(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var X=0,ce=0,ae=0;E=0,A=7,this.encode.displayName="_encode_";for(var J,ge,_e,Se,Re,Ue,Ve,Be,ye,Fe=j.data,Ge=j.width,Je=j.height,Qe=4*Ge,ut=0;ut<Je;){for(J=0;J<Qe;){for(Re=Qe*ut+J,Ve=-1,Be=0,ye=0;ye<64;ye++)Ue=Re+(Be=ye>>3)*Qe+(Ve=4*(7&ye)),ut+Be>=Je&&(Ue-=Qe*(ut+1+Be-Je)),J+Ve>=Qe&&(Ue-=J+Ve-Qe+4),ge=Fe[Ue++],_e=Fe[Ue++],Se=Fe[Ue++],N[ye]=(W[ge]+W[_e+256|0]+W[Se+512|0]>>16)-128,x[ye]=(W[ge+768|0]+W[_e+1024|0]+W[Se+1280|0]>>16)-128,L[ye]=(W[ge+1280|0]+W[_e+1536|0]+W[Se+1792|0]>>16)-128;X=ee(N,h,X,e,r),ce=ee(x,p,ce,n,i),ae=ee(L,p,ae,n,i),J+=32}ut+=8}if(A>=0){var ot=[];ot[1]=A+1,ot[0]=(1<<A+1)-1,B(ot)}return Q(65497),new Uint8Array(S)},t=t||50,(function(){for(var j=String.fromCharCode,K=0;K<256;K++)D[K]=j(K)})(),e=xe(U,M),n=xe(H,Z),r=xe(V,F),i=xe(ne,le),(function(){for(var j=1,K=2,X=1;X<=15;X++){for(var ce=j;ce<K;ce++)v[32767+ce]=X,y[32767+ce]=[],y[32767+ce][1]=X,y[32767+ce][0]=ce;for(var ae=-(K-1);ae<=-j;ae++)v[32767+ae]=X,y[32767+ae]=[],y[32767+ae][1]=X,y[32767+ae][0]=K-1+ae;j<<=1,K<<=1}})(),(function(){for(var j=0;j<256;j++)W[j]=19595*j,W[j+256|0]=38470*j,W[j+512|0]=7471*j+32768,W[j+768|0]=-11059*j,W[j+1024|0]=-21709*j,W[j+1280|0]=32768*j+8421375,W[j+1536|0]=-27439*j,W[j+1792|0]=-5329*j})(),$(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Tl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function k4(t){function e(M){if(!M)throw Error("assert :P")}function n(M,V,F){for(var H=0;4>H;H++)if(M[V+H]!=F.charCodeAt(H))return!0;return!1}function r(M,V,F,H,Z){for(var ne=0;ne<Z;ne++)M[V+ne]=F[H+ne]}function i(M,V,F,H){for(var Z=0;Z<H;Z++)M[V+Z]=F}function s(M){return new Int32Array(M)}function l(M,V){for(var F=[],H=0;H<M;H++)F.push(new V);return F}function u(M,V){var F=[];return(function H(Z,ne,le){for(var xe=le[ne],B=0;B<xe&&(Z.push(le.length>ne+1?[]:new V),!(le.length<ne+1));B++)H(Z[B],ne+1,le)})(F,0,M),F}var c=function(){var M=this;function V(w,C){for(var O=1<<C-1>>>0;w&O;)O>>>=1;return O?(w&O-1)+O:w}function F(w,C,O,q,te){e(!(q%O));do w[C+(q-=O)]=te;while(0<q)}function H(w,C,O,q,te){if(e(2328>=te),512>=te)var oe=s(512);else if((oe=s(te))==null)return 0;return(function(de,he,pe,we,Ne,je){var ve,Le,Me=he,Ze=1<<pe,De=s(16),Xe=s(16);for(e(Ne!=0),e(we!=null),e(de!=null),e(0<pe),Le=0;Le<Ne;++Le){if(15<we[Le])return 0;++De[we[Le]]}if(De[0]==Ne)return 0;for(Xe[1]=0,ve=1;15>ve;++ve){if(De[ve]>1<<ve)return 0;Xe[ve+1]=Xe[ve]+De[ve]}for(Le=0;Le<Ne;++Le)ve=we[Le],0<we[Le]&&(je[Xe[ve]++]=Le);if(Xe[15]==1)return(we=new Z).g=0,we.value=je[0],F(de,Me,1,Ze,we),Ze;var Ae,nt=-1,it=Ze-1,Ht=0,Ot=1,pn=1,Ft=1<<pe;for(Le=0,ve=1,Ne=2;ve<=pe;++ve,Ne<<=1){if(Ot+=pn<<=1,0>(pn-=De[ve]))return 0;for(;0<De[ve];--De[ve])(we=new Z).g=ve,we.value=je[Le++],F(de,Me+Ht,Ne,Ft,we),Ht=V(Ht,ve)}for(ve=pe+1,Ne=2;15>=ve;++ve,Ne<<=1){if(Ot+=pn<<=1,0>(pn-=De[ve]))return 0;for(;0<De[ve];--De[ve]){if(we=new Z,(Ht&it)!=nt){for(Me+=Ft,Ae=1<<(nt=ve)-pe;15>nt&&!(0>=(Ae-=De[nt]));)++nt,Ae<<=1;Ze+=Ft=1<<(Ae=nt-pe),de[he+(nt=Ht&it)].g=Ae+pe,de[he+nt].value=Me-he-nt}we.g=ve-pe,we.value=je[Le++],F(de,Me+(Ht>>pe),Ne,Ft,we),Ht=V(Ht,ve)}}return Ot!=2*Xe[15]-1?0:Ze})(w,C,O,q,te,oe)}function Z(){this.value=this.g=0}function ne(){this.value=this.g=0}function le(){this.G=l(5,Z),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(ki,ne)}function xe(w,C,O,q){e(w!=null),e(C!=null),e(2147483648>q),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=C,w.pa=O,w.Jd=C,w.Yc=O+q,w.Zc=4<=q?O+q-4+1:O,ge(w)}function B(w,C){for(var O=0;0<C--;)O|=Se(w,128)<<C;return O}function G(w,C){var O=B(w,C);return _e(w)?-O:O}function Q(w,C,O,q){var te,oe=0;for(e(w!=null),e(C!=null),e(4294967288>q),w.Sb=q,w.Ra=0,w.u=0,w.h=0,4<q&&(q=4),te=0;te<q;++te)oe+=C[O+te]<<8*te;w.Ra=oe,w.bb=q,w.oa=C,w.pa=O}function ee(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<rs-8>>>0,++w.bb,w.u-=8;ce(w)&&(w.h=1,w.u=0)}function $(w,C){if(e(0<=C),!w.h&&C<=Ds){var O=X(w)&ws[C];return w.u+=C,ee(w),O}return w.h=1,w.u=0}function j(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(w){return w.Ra>>>(w.u&rs-1)>>>0}function ce(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>rs}function ae(w,C){w.u=C,w.h=ce(w)}function J(w){w.u>=Wi&&(e(w.u>=Wi),ee(w))}function ge(w){e(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function _e(w){return B(w,1)}function Se(w,C){var O=w.Ca;0>w.b&&ge(w);var q=w.b,te=O*C>>>8,oe=(w.I>>>q>te)+0;for(oe?(O-=te,w.I-=te+1<<q>>>0):O=te+1,q=O,te=0;256<=q;)te+=8,q>>=8;return q=7^te+No[q],w.b-=q,w.Ca=(O<<q)-1,oe}function Re(w,C,O){w[C+0]=O>>24&255,w[C+1]=O>>16&255,w[C+2]=O>>8&255,w[C+3]=255&O}function Ue(w,C){return w[C+0]|w[C+1]<<8}function Ve(w,C){return Ue(w,C)|w[C+2]<<16}function Be(w,C){return Ue(w,C)|Ue(w,C+2)<<16}function ye(w,C){var O=1<<C;return e(w!=null),e(0<C),w.X=s(O),w.X==null?0:(w.Mb=32-C,w.Xa=C,1)}function Fe(w,C){e(w!=null),e(C!=null),e(w.Xa==C.Xa),r(C.X,0,w.X,0,1<<C.Xa)}function Ge(){this.X=[],this.Xa=this.Mb=0}function Je(w,C,O,q){e(O!=null),e(q!=null);var te=O[0],oe=q[0];return te==0&&(te=(w*oe+C/2)/C),oe==0&&(oe=(C*te+w/2)/w),0>=te||0>=oe?0:(O[0]=te,q[0]=oe,1)}function Qe(w,C){return w+(1<<C)-1>>>C}function ut(w,C){return((4278255360&w)+(4278255360&C)>>>0&4278255360)+((16711935&w)+(16711935&C)>>>0&16711935)>>>0}function ot(w,C){M[C]=function(O,q,te,oe,de,he,pe){var we;for(we=0;we<de;++we){var Ne=M[w](he[pe+we-1],te,oe+we);he[pe+we]=ut(O[q+we],Ne)}}}function ht(){this.ud=this.hd=this.jd=0}function ct(w,C){return((4278124286&(w^C))>>>1)+(w&C)>>>0}function Bt(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function kt(w,C){return Bt(w+(w-C+.5>>1))}function Et(w,C,O){return Math.abs(C-O)-Math.abs(w-O)}function Sn(w,C,O,q,te,oe,de){for(q=oe[de-1],O=0;O<te;++O)oe[de+O]=q=ut(w[C+O],q)}function Vt(w,C,O,q,te){var oe;for(oe=0;oe<O;++oe){var de=w[C+oe],he=de>>8&255,pe=16711935&(pe=(pe=16711935&de)+((he<<16)+he));q[te+oe]=(4278255360&de)+pe>>>0}}function Lt(w,C){C.jd=255&w,C.hd=w>>8&255,C.ud=w>>16&255}function St(w,C,O,q,te,oe){var de;for(de=0;de<q;++de){var he=C[O+de],pe=he>>>8,we=he,Ne=255&(Ne=(Ne=he>>>16)+((w.jd<<24>>24)*(pe<<24>>24)>>>5));we=255&(we=(we+=(w.hd<<24>>24)*(pe<<24>>24)>>>5)+((w.ud<<24>>24)*(Ne<<24>>24)>>>5)),te[oe+de]=(4278255360&he)+(Ne<<16)+we}}function wt(w,C,O,q,te){M[C]=function(oe,de,he,pe,we,Ne,je,ve,Le){for(pe=je;pe<ve;++pe)for(je=0;je<Le;++je)we[Ne++]=te(he[q(oe[de++])])},M[w]=function(oe,de,he,pe,we,Ne,je){var ve=8>>oe.b,Le=oe.Ea,Me=oe.K[0],Ze=oe.w;if(8>ve)for(oe=(1<<oe.b)-1,Ze=(1<<ve)-1;de<he;++de){var De,Xe=0;for(De=0;De<Le;++De)De&oe||(Xe=q(pe[we++])),Ne[je++]=te(Me[Xe&Ze]),Xe>>=ve}else M["VP8LMapColor"+O](pe,we,Me,Ze,Ne,je,de,he,Le)}}function wn(w,C,O,q,te){for(O=C+O;C<O;){var oe=w[C++];q[te++]=oe>>16&255,q[te++]=oe>>8&255,q[te++]=255&oe}}function In(w,C,O,q,te){for(O=C+O;C<O;){var oe=w[C++];q[te++]=oe>>16&255,q[te++]=oe>>8&255,q[te++]=255&oe,q[te++]=oe>>24&255}}function Dt(w,C,O,q,te){for(O=C+O;C<O;){var oe=(de=w[C++])>>16&240|de>>12&15,de=240&de|de>>28&15;q[te++]=oe,q[te++]=de}}function rn(w,C,O,q,te){for(O=C+O;C<O;){var oe=(de=w[C++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;q[te++]=oe,q[te++]=de}}function Wn(w,C,O,q,te){for(O=C+O;C<O;){var oe=w[C++];q[te++]=255&oe,q[te++]=oe>>8&255,q[te++]=oe>>16&255}}function Yt(w,C,O,q,te,oe){if(oe==0)for(O=C+O;C<O;)Re(q,((oe=w[C++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),te+=32;else r(q,te,w,C,O)}function An(w,C){M[C][0]=M[w+"0"],M[C][1]=M[w+"1"],M[C][2]=M[w+"2"],M[C][3]=M[w+"3"],M[C][4]=M[w+"4"],M[C][5]=M[w+"5"],M[C][6]=M[w+"6"],M[C][7]=M[w+"7"],M[C][8]=M[w+"8"],M[C][9]=M[w+"9"],M[C][10]=M[w+"10"],M[C][11]=M[w+"11"],M[C][12]=M[w+"12"],M[C][13]=M[w+"13"],M[C][14]=M[w+"0"],M[C][15]=M[w+"0"]}function dn(w){return w==Sl||w==Da||w==Vl||w==$l}function Er(){this.eb=[],this.size=this.A=this.fb=0}function xr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Er,this.f.kb=new xr,this.sd=null}function on(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function jo(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function vi(w,C){var O=w.T,q=C.ba.f.RGBA,te=q.eb,oe=q.fb+w.ka*q.A,de=_s[C.ba.S],he=w.y,pe=w.O,we=w.f,Ne=w.N,je=w.ea,ve=w.W,Le=C.cc,Me=C.dc,Ze=C.Mc,De=C.Nc,Xe=w.ka,Ae=w.ka+w.T,nt=w.U,it=nt+1>>1;for(Xe==0?de(he,pe,null,null,we,Ne,je,ve,we,Ne,je,ve,te,oe,null,null,nt):(de(C.ec,C.fc,he,pe,Le,Me,Ze,De,we,Ne,je,ve,te,oe-q.A,te,oe,nt),++O);Xe+2<Ae;Xe+=2)Le=we,Me=Ne,Ze=je,De=ve,Ne+=w.Rc,ve+=w.Rc,oe+=2*q.A,de(he,(pe+=2*w.fa)-w.fa,he,pe,Le,Me,Ze,De,we,Ne,je,ve,te,oe-q.A,te,oe,nt);return pe+=w.fa,w.j+Ae<w.o?(r(C.ec,C.fc,he,pe,nt),r(C.cc,C.dc,we,Ne,it),r(C.Mc,C.Nc,je,ve,it),O--):1&Ae||de(he,pe,null,null,we,Ne,je,ve,we,Ne,je,ve,te,oe+q.A,null,null,nt),O}function ps(w,C,O){var q=w.F,te=[w.J];if(q!=null){var oe=w.U,de=C.ba.S,he=de==ql||de==Vl;C=C.ba.f.RGBA;var pe=[0],we=w.ka;pe[0]=w.T,w.Kb&&(we==0?--pe[0]:(--we,te[0]-=w.width),w.j+w.ka+w.T==w.o&&(pe[0]=w.o-w.j-we));var Ne=C.eb;we=C.fb+we*C.A,w=wl(q,te[0],w.width,oe,pe,Ne,we+(he?0:3),C.A),e(O==pe),w&&dn(de)&&Wo(Ne,we,he,oe,pe,C.A)}return 0}function gs(w){var C=w.ma,O=C.ba.S,q=11>O,te=O==Vo||O==xl||O==ql||O==mr||O==12||dn(O);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!tl(C.Oa,w,te?11:12))return 0;if(te&&dn(O)&&Vu(),w.da)alert("todo:use_scaling");else{if(q){if(C.Ib=jo,w.Kb){if(O=w.U+1>>1,C.memory=s(w.U+2*O),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+w.U,C.Mc=C.cc,C.Nc=C.dc+O,C.Ib=vi,Vu()}}else alert("todo:EmitYUV");te&&(C.Jb=ps,q&&xo())}if(q&&!Ti){for(w=0;256>w;++w)as[w]=89858*(w-128)+Lo>>ha,ls[w]=-22014*(w-128)+Lo,Cl[w]=-45773*(w-128),sl[w]=113618*(w-128)+Lo>>ha;for(w=ar;w<fr;++w)C=76283*(w-16)+Lo>>ha,Jl[w-ar]=zr(C,255),Bc[w-ar]=zr(C+8>>4,15);Ti=1}return 1}function Jt(w){var C=w.ma,O=w.U,q=w.T;return e(!(1&w.ka)),0>=O||0>=q?0:(O=C.Ib(w,C),C.Jb!=null&&C.Jb(w,C,O),C.Dc+=O,1)}function ts(w){w.ma.memory=null}function ks(w,C,O,q){return $(w,8)!=47?0:(C[0]=$(w,14)+1,O[0]=$(w,14)+1,q[0]=$(w,1),$(w,3)!=0?0:!w.h)}function rt(w,C){if(4>w)return w+1;var O=w-2>>1;return(2+(1&w)<<O)+$(C,O)+1}function $e(w,C){return 120<C?C-120:1<=(O=((O=ud[C-1])>>4)*w+(8-(15&O)))?O:1;var O}function st(w,C,O){var q=X(O),te=w[C+=255&q].g-8;return 0<te&&(ae(O,O.u+8),q=X(O),C+=w[C].value,C+=q&(1<<te)-1),ae(O,O.u+w[C].g),w[C].value}function at(w,C,O){return O.g+=w.g,O.value+=w.value<<C>>>0,e(8>=O.g),w.g}function gt(w,C,O){var q=w.xc;return e((C=q==0?0:w.vc[w.md*(O>>q)+(C>>q)])<w.Wb),w.Ya[C]}function yt(w,C,O,q){var te=w.ab,oe=w.c*C,de=w.C;C=de+C;var he=O,pe=q;for(q=w.Ta,O=w.Ua;0<te--;){var we=w.gc[te],Ne=de,je=C,ve=he,Le=pe,Me=(pe=q,he=O,we.Ea);switch(e(Ne<je),e(je<=we.nc),we.hc){case 2:Zr(ve,Le,(je-Ne)*Me,pe,he);break;case 0:var Ze=Ne,De=je,Xe=pe,Ae=he,nt=(Ft=we).Ea;Ze==0&&(aa(ve,Le,null,null,1,Xe,Ae),Sn(ve,Le+1,0,0,nt-1,Xe,Ae+1),Le+=nt,Ae+=nt,++Ze);for(var it=1<<Ft.b,Ht=it-1,Ot=Qe(nt,Ft.b),pn=Ft.K,Ft=Ft.w+(Ze>>Ft.b)*Ot;Ze<De;){var Ln=pn,Gr=Ft,mn=1;for(Zs(ve,Le,Xe,Ae-nt,1,Xe,Ae);mn<nt;){var Tt=(mn&~Ht)+it;Tt>nt&&(Tt=nt),(0,is[Ln[Gr++]>>8&15])(ve,Le+ +mn,Xe,Ae+mn-nt,Tt-mn,Xe,Ae+mn),mn=Tt}Le+=nt,Ae+=nt,++Ze&Ht||(Ft+=Ot)}je!=we.nc&&r(pe,he-Me,pe,he+(je-Ne-1)*Me,Me);break;case 1:for(Me=ve,De=Le,nt=(ve=we.Ea)-(Ae=ve&~(Xe=(Le=1<<we.b)-1)),Ze=Qe(ve,we.b),it=we.K,we=we.w+(Ne>>we.b)*Ze;Ne<je;){for(Ht=it,Ot=we,pn=new ht,Ft=De+Ae,Ln=De+ve;De<Ft;)Lt(Ht[Ot++],pn),nl(pn,Me,De,Le,pe,he),De+=Le,he+=Le;De<Ln&&(Lt(Ht[Ot++],pn),nl(pn,Me,De,nt,pe,he),De+=nt,he+=nt),++Ne&Xe||(we+=Ze)}break;case 3:if(ve==pe&&Le==he&&0<we.b){for(De=pe,ve=Me=he+(je-Ne)*Me-(Ae=(je-Ne)*Qe(we.Ea,we.b)),Le=pe,Xe=he,Ze=[],Ae=(nt=Ae)-1;0<=Ae;--Ae)Ze[Ae]=Le[Xe+Ae];for(Ae=nt-1;0<=Ae;--Ae)De[ve+Ae]=Ze[Ae];Go(we,Ne,je,pe,Me,pe,he)}else Go(we,Ne,je,ve,Le,pe,he)}he=q,pe=O}pe!=O&&r(q,O,he,pe,oe)}function Ct(w,C){var O=w.V,q=w.Ba+w.c*w.C,te=C-w.C;if(e(C<=w.l.o),e(16>=te),0<te){var oe=w.l,de=w.Ta,he=w.Ua,pe=oe.width;if(yt(w,te,O,q),te=he=[he],e((O=w.C)<(q=C)),e(oe.v<oe.va),q>oe.o&&(q=oe.o),O<oe.j){var we=oe.j-O;O=oe.j,te[0]+=we*pe}if(O>=q?O=0:(te[0]+=4*oe.v,oe.ka=O-oe.j,oe.U=oe.va-oe.v,oe.T=q-O,O=1),O){if(he=he[0],11>(O=w.ca).S){var Ne=O.f.RGBA,je=(q=O.S,te=oe.U,oe=oe.T,we=Ne.eb,Ne.A),ve=oe;for(Ne=Ne.fb+w.Ma*Ne.A;0<ve--;){var Le=de,Me=he,Ze=te,De=we,Xe=Ne;switch(q){case _l:Ho(Le,Me,Ze,De,Xe);break;case Vo:la(Le,Me,Ze,De,Xe);break;case Sl:la(Le,Me,Ze,De,Xe),Wo(De,Xe,0,Ze,1,0);break;case Oc:ca(Le,Me,Ze,De,Xe);break;case xl:Yt(Le,Me,Ze,De,Xe,1);break;case Da:Yt(Le,Me,Ze,De,Xe,1),Wo(De,Xe,0,Ze,1,0);break;case ql:Yt(Le,Me,Ze,De,Xe,0);break;case Vl:Yt(Le,Me,Ze,De,Xe,0),Wo(De,Xe,1,Ze,1,0);break;case mr:ua(Le,Me,Ze,De,Xe);break;case $l:ua(Le,Me,Ze,De,Xe),bu(De,Xe,Ze,1,0);break;case _u:or(Le,Me,Ze,De,Xe);break;default:e(0)}he+=pe,Ne+=je}w.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=O.height)}}w.C=C,e(w.C<=w.i)}function dt(w){var C;if(0<w.ua)return 0;for(C=0;C<w.Wb;++C){var O=w.Ya[C].G,q=w.Ya[C].H;if(0<O[1][q[1]+0].g||0<O[2][q[2]+0].g||0<O[3][q[3]+0].g)return 0}return 1}function Gt(w,C,O,q,te,oe){if(w.Z!=0){var de=w.qd,he=w.rd;for(e($i[w.Z]!=null);C<O;++C)$i[w.Z](de,he,q,te,q,te,oe),de=q,he=te,te+=oe;w.qd=de,w.rd=he}}function It(w,C){var O=w.l.ma,q=O.Z==0||O.Z==1?w.l.j:w.C;if(q=w.C<q?q:w.C,e(C<=w.l.o),C>q){var te=w.l.width,oe=O.ca,de=O.tb+te*q,he=w.V,pe=w.Ba+w.c*q,we=w.gc;e(w.ab==1),e(we[0].hc==3),bs(we[0],q,C,he,pe,oe,de),Gt(O,q,C,oe,de,te)}w.C=w.Ma=C}function bn(w,C,O,q,te,oe,de){var he=w.$/q,pe=w.$%q,we=w.m,Ne=w.s,je=O+w.$,ve=je;te=O+q*te;var Le=O+q*oe,Me=280+Ne.ua,Ze=w.Pb?he:16777216,De=0<Ne.ua?Ne.Wa:null,Xe=Ne.wc,Ae=je<Le?gt(Ne,pe,he):null;e(w.C<oe),e(Le<=te);var nt=!1;e:for(;;){for(;nt||je<Le;){var it=0;if(he>=Ze){var Ht=je-O;e((Ze=w).Pb),Ze.wd=Ze.m,Ze.xd=Ht,0<Ze.s.ua&&Fe(Ze.s.Wa,Ze.s.vb),Ze=he+xu}if(pe&Xe||(Ae=gt(Ne,pe,he)),e(Ae!=null),Ae.Qb&&(C[je]=Ae.qb,nt=!0),!nt)if(J(we),Ae.jc){it=we,Ht=C;var Ot=je,pn=Ae.pd[X(it)&ki-1];e(Ae.jc),256>pn.g?(ae(it,it.u+pn.g),Ht[Ot]=pn.value,it=0):(ae(it,it.u+pn.g-256),e(256<=pn.value),it=pn.value),it==0&&(nt=!0)}else it=st(Ae.G[0],Ae.H[0],we);if(we.h)break;if(nt||256>it){if(!nt)if(Ae.nd)C[je]=(Ae.qb|it<<8)>>>0;else{if(J(we),nt=st(Ae.G[1],Ae.H[1],we),J(we),Ht=st(Ae.G[2],Ae.H[2],we),Ot=st(Ae.G[3],Ae.H[3],we),we.h)break;C[je]=(Ot<<24|nt<<16|it<<8|Ht)>>>0}if(nt=!1,++je,++pe>=q&&(pe=0,++he,de!=null&&he<=oe&&!(he%16)&&de(w,he),De!=null))for(;ve<je;)it=C[ve++],De.X[(506832829*it&4294967295)>>>De.Mb]=it}else if(280>it){if(it=rt(it-256,we),Ht=st(Ae.G[4],Ae.H[4],we),J(we),Ht=$e(q,Ht=rt(Ht,we)),we.h)break;if(je-O<Ht||te-je<it)break e;for(Ot=0;Ot<it;++Ot)C[je+Ot]=C[je+Ot-Ht];for(je+=it,pe+=it;pe>=q;)pe-=q,++he,de!=null&&he<=oe&&!(he%16)&&de(w,he);if(e(je<=te),pe&Xe&&(Ae=gt(Ne,pe,he)),De!=null)for(;ve<je;)it=C[ve++],De.X[(506832829*it&4294967295)>>>De.Mb]=it}else{if(!(it<Me))break e;for(nt=it-280,e(De!=null);ve<je;)it=C[ve++],De.X[(506832829*it&4294967295)>>>De.Mb]=it;it=je,e(!(nt>>>(Ht=De).Xa)),C[it]=Ht.X[nt],nt=!0}nt||e(we.h==ce(we))}if(w.Pb&&we.h&&je<te)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Fe(w.s.vb,w.s.Wa);else{if(we.h)break e;de!=null&&de(w,he>oe?oe:he),w.a=0,w.$=je-O}return 1}return w.a=3,0}function nn(w){e(w!=null),w.vc=null,w.yc=null,w.Ya=null;var C=w.Wa;C!=null&&(C.X=null),w.vb=null,e(w!=null)}function an(){var w=new Pt;return w==null?null:(w.a=0,w.xb=Kl,An("Predictor","VP8LPredictors"),An("Predictor","VP8LPredictors_C"),An("PredictorAdd","VP8LPredictorsAdd"),An("PredictorAdd","VP8LPredictorsAdd_C"),Zr=Vt,nl=St,Ho=wn,la=In,ua=Dt,or=rn,ca=Wn,M.VP8LMapColor32b=ii,M.VP8LMapColor8b=Eo,w)}function Xt(w,C,O,q,te){var oe=1,de=[w],he=[C],pe=q.m,we=q.s,Ne=null,je=0;e:for(;;){if(O)for(;oe&&$(pe,1);){var ve=de,Le=he,Me=q,Ze=1,De=Me.m,Xe=Me.gc[Me.ab],Ae=$(De,2);if(Me.Oc&1<<Ae)oe=0;else{switch(Me.Oc|=1<<Ae,Xe.hc=Ae,Xe.Ea=ve[0],Xe.nc=Le[0],Xe.K=[null],++Me.ab,e(4>=Me.ab),Ae){case 0:case 1:Xe.b=$(De,3)+2,Ze=Xt(Qe(Xe.Ea,Xe.b),Qe(Xe.nc,Xe.b),0,Me,Xe.K),Xe.K=Xe.K[0];break;case 3:var nt,it=$(De,8)+1,Ht=16<it?0:4<it?1:2<it?2:3;if(ve[0]=Qe(Xe.Ea,Ht),Xe.b=Ht,nt=Ze=Xt(it,1,0,Me,Xe.K)){var Ot,pn=it,Ft=Xe,Ln=1<<(8>>Ft.b),Gr=s(Ln);if(Gr==null)nt=0;else{var mn=Ft.K[0],Tt=Ft.w;for(Gr[0]=Ft.K[0][0],Ot=1;Ot<1*pn;++Ot)Gr[Ot]=ut(mn[Tt+Ot],Gr[Ot-1]);for(;Ot<4*Ln;++Ot)Gr[Ot]=0;Ft.K[0]=null,Ft.K[0]=Gr,nt=1}}Ze=nt;break;case 2:break;default:e(0)}oe=Ze}}if(de=de[0],he=he[0],oe&&$(pe,1)&&!(oe=1<=(je=$(pe,4))&&11>=je)){q.a=3;break e}var bt;if(bt=oe)t:{var Hr,jt,gn,zn=q,hi=de,si=he,Kn=je,pi=O,br=zn.m,Mr=zn.s,Fn=[null],Qn=1,Pr=0,Zn=Fc[Kn];n:for(;;){if(pi&&$(br,1)){var Ir=$(br,3)+2,Rr=Qe(hi,Ir),lr=Qe(si,Ir),Ai=Rr*lr;if(!Xt(Rr,lr,0,zn,Fn))break n;for(Fn=Fn[0],Mr.xc=Ir,Hr=0;Hr<Ai;++Hr){var rr=Fn[Hr]>>8&65535;Fn[Hr]=rr,rr>=Qn&&(Qn=rr+1)}}if(br.h)break n;for(jt=0;5>jt;++jt){var ir=il[jt];!jt&&0<Kn&&(ir+=1<<Kn),Pr<ir&&(Pr=ir)}var ei=l(Qn*Zn,Z),Li=Qn,us=l(Li,le);if(us==null)var ti=null;else e(65536>=Li),ti=us;var Wr=s(Pr);if(ti==null||Wr==null||ei==null){zn.a=1;break n}var cs=ei;for(Hr=gn=0;Hr<Qn;++Hr){var ur=ti[Hr],Di=ur.G,er=ur.H,ln=0,Gn=1,Nn=0;for(jt=0;5>jt;++jt){ir=il[jt],Di[jt]=cs,er[jt]=gn,!jt&&0<Kn&&(ir+=1<<Kn);i:{var Br,oi=ir,$o=zn,yr=Wr,Ql=cs,Ma=gn,vr=0,no=$o.m,El=$(no,1);if(i(yr,0,0,oi),El){var ds=$(no,1)+1,Zl=$(no,1),eu=$(no,Zl==0?1:8);yr[eu]=1,ds==2&&(yr[eu=$(no,8)]=1);var Oi=1}else{var hr=s(19),qr=$(no,4)+4;if(19<qr){$o.a=3;var Vr=0;break i}for(Br=0;Br<qr;++Br)hr[of[Br]]=$(no,3);var ro=void 0,Po=void 0,io=$o,rc=hr,$r=oi,tu=yr,ol=0,so=io.m,Cr=8,gi=l(128,Z);r:for(;H(gi,0,7,rc,19);){if($(so,1)){var fs=2+2*$(so,3);if((ro=2+$(so,fs))>$r)break r}else ro=$r;for(Po=0;Po<$r&&ro--;){J(so);var Yi=gi[0+(127&X(so))];ae(so,so.u+Yi.g);var Ba=Yi.value;if(16>Ba)tu[Po++]=Ba,Ba!=0&&(Cr=Ba);else{var ic=Ba==16,Nu=Ba-16,gd=Zu[Nu],ya=$(so,Yl[Nu])+gd;if(Po+ya>$r)break r;for(var jc=ic?Cr:0;0<ya--;)tu[Po++]=jc}}ol=1;break r}ol||(io.a=3),Oi=ol}(Oi=Oi&&!no.h)&&(vr=H(Ql,Ma,8,yr,oi)),Oi&&vr!=0?Vr=vr:($o.a=3,Vr=0)}if(Vr==0)break n;if(Gn&&ld[jt]==1&&(Gn=cs[gn].g==0),ln+=cs[gn].g,gn+=Vr,3>=jt){var Al,nu=Wr[0];for(Al=1;Al<ir;++Al)Wr[Al]>nu&&(nu=Wr[Al]);Nn+=nu}}if(ur.nd=Gn,ur.Qb=0,Gn&&(ur.qb=(Di[3][er[3]+0].value<<24|Di[1][er[1]+0].value<<16|Di[2][er[2]+0].value)>>>0,ln==0&&256>Di[0][er[0]+0].value&&(ur.Qb=1,ur.qb+=Di[0][er[0]+0].value<<8)),ur.jc=!ur.Qb&&6>Nn,ur.jc){var Yo,Ms=ur;for(Yo=0;Yo<ki;++Yo){var va=Yo,oo=Ms.pd[va],wa=Ms.G[0][Ms.H[0]+va];256<=wa.value?(oo.g=wa.g+256,oo.value=wa.value):(oo.g=0,oo.value=0,va>>=at(wa,8,oo),va>>=at(Ms.G[1][Ms.H[1]+va],16,oo),va>>=at(Ms.G[2][Ms.H[2]+va],0,oo),at(Ms.G[3][Ms.H[3]+va],24,oo))}}}Mr.vc=Fn,Mr.Wb=Qn,Mr.Ya=ti,Mr.yc=ei,bt=1;break t}bt=0}if(!(oe=bt)){q.a=3;break e}if(0<je){if(we.ua=1<<je,!ye(we.Wa,je)){q.a=1,oe=0;break e}}else we.ua=0;var sc=q,oc=de,Uc=he,Eu=sc.s,ba=Eu.xc;if(sc.c=oc,sc.i=Uc,Eu.md=Qe(oc,ba),Eu.wc=ba==0?-1:(1<<ba)-1,O){q.xb=Ao;break e}if((Ne=s(de*he))==null){q.a=1,oe=0;break e}oe=(oe=bn(q,Ne,0,de,he,he,null))&&!pe.h;break e}return oe?(te!=null?te[0]=Ne:(e(Ne==null),e(O)),q.$=0,O||nn(we)):nn(we),oe}function Rn(w,C){var O=w.c*w.i,q=O+C+16*C;return e(w.c<=C),w.V=s(q),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+O+C,1)}function sr(w,C){var O=w.C,q=C-O,te=w.V,oe=w.Ba+w.c*O;for(e(C<=w.l.o);0<q;){var de=16<q?16:q,he=w.l.ma,pe=w.l.width,we=pe*de,Ne=he.ca,je=he.tb+pe*O,ve=w.Ta,Le=w.Ua;yt(w,de,te,oe),$u(ve,Le,Ne,je,we),Gt(he,O,O+de,Ne,je,pe),q-=de,te+=de*w.c,O+=de}e(O==C),w.C=w.Ma=C}function Mn(){this.ub=this.yd=this.td=this.Rb=0}function Bn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function wi(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function On(){this.Yb=(function(){var w=[];return(function C(O,q,te){for(var oe=te[q],de=0;de<oe&&(O.push(te.length>q+1?[]:0),!(te.length<q+1));de++)C(O[de],q+1,te)})(w,0,[3,11]),w})()}function go(){this.jb=s(3),this.Wc=u([4,8],On),this.Xc=u([4,17],On)}function Cs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function bi(){this.ld=this.La=this.dd=this.tc=0}function Ns(){this.Na=this.la=0}function Va(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Uo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function mo(){this.uc=this.M=this.Nb=0,this.wa=Array(new bi),this.Y=0,this.ya=Array(new Uo),this.aa=0,this.l=new kn}function ui(){this.y=s(16),this.f=s(8),this.ea=s(8)}function gr(){this.cb=this.a=0,this.sc="",this.m=new j,this.Od=new Mn,this.Kc=new Bn,this.ed=new Cs,this.Qa=new wi,this.Ic=this.$c=this.Aa=0,this.D=new mo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,j),this.ia=0,this.pb=l(4,Va),this.Pa=new go,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ui),this.Hd=0,this.rb=Array(new Ns),this.sb=0,this.wa=Array(new bi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Uo),this.L=this.aa=0,this.gd=u([4,2],bi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function kn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ea(){var w=new gr;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,kl||(kl=zi)),w}function jn(w,C,O){return w.a==0&&(w.a=C,w.sc=O,w.cb=0),0}function Ui(w,C,O){return 3<=O&&w[C+0]==157&&w[C+1]==1&&w[C+2]==42}function $s(w,C){if(w==null)return 0;if(w.a=0,w.sc="OK",C==null)return jn(w,2,"null VP8Io passed to VP8GetHeaders()");var O=C.data,q=C.w,te=C.ha;if(4>te)return jn(w,7,"Truncated header.");var oe=O[q+0]|O[q+1]<<8|O[q+2]<<16,de=w.Od;if(de.Rb=!(1&oe),de.td=oe>>1&7,de.yd=oe>>4&1,de.ub=oe>>5,3<de.td)return jn(w,3,"Incorrect keyframe parameters.");if(!de.yd)return jn(w,4,"Frame not displayable.");q+=3,te-=3;var he=w.Kc;if(de.Rb){if(7>te)return jn(w,7,"cannot parse picture header");if(!Ui(O,q,te))return jn(w,3,"Bad code word");he.c=16383&(O[q+4]<<8|O[q+3]),he.Td=O[q+4]>>6,he.i=16383&(O[q+6]<<8|O[q+5]),he.Ud=O[q+6]>>6,q+=7,te-=7,w.za=he.c+15>>4,w.Ub=he.i+15>>4,C.width=he.c,C.height=he.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,i((oe=w.Pa).jb,0,255,oe.jb.length),e((oe=w.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,i(oe.Zb,0,0,oe.Zb.length),i(oe.Lb,0,0,oe.Lb)}if(de.ub>te)return jn(w,7,"bad partition length");xe(oe=w.m,O,q,de.ub),q+=de.ub,te-=de.ub,de.Rb&&(he.Ld=_e(oe),he.Kd=_e(oe)),he=w.Qa;var pe,we=w.Pa;if(e(oe!=null),e(he!=null),he.Cb=_e(oe),he.Cb){if(he.Bb=_e(oe),_e(oe)){for(he.Fb=_e(oe),pe=0;4>pe;++pe)he.Zb[pe]=_e(oe)?G(oe,7):0;for(pe=0;4>pe;++pe)he.Lb[pe]=_e(oe)?G(oe,6):0}if(he.Bb)for(pe=0;3>pe;++pe)we.jb[pe]=_e(oe)?B(oe,8):255}else he.Bb=0;if(oe.Ka)return jn(w,3,"cannot parse segment header");if((he=w.ed).zd=_e(oe),he.Tb=B(oe,6),he.wb=B(oe,3),he.Pc=_e(oe),he.Pc&&_e(oe)){for(we=0;4>we;++we)_e(oe)&&(he.vd[we]=G(oe,6));for(we=0;4>we;++we)_e(oe)&&(he.od[we]=G(oe,6))}if(w.L=he.Tb==0?0:he.zd?1:2,oe.Ka)return jn(w,3,"cannot parse filter header");var Ne=te;if(te=pe=q,q=pe+Ne,he=Ne,w.Xb=(1<<B(w.m,2))-1,Ne<3*(we=w.Xb))O=7;else{for(pe+=3*we,he-=3*we,Ne=0;Ne<we;++Ne){var je=O[te+0]|O[te+1]<<8|O[te+2]<<16;je>he&&(je=he),xe(w.Jc[+Ne],O,pe,je),pe+=je,he-=je,te+=3}xe(w.Jc[+we],O,pe,he),O=pe<q?0:5}if(O!=0)return jn(w,O,"cannot parse partitions");for(O=B(pe=w.m,7),te=_e(pe)?G(pe,4):0,q=_e(pe)?G(pe,4):0,he=_e(pe)?G(pe,4):0,we=_e(pe)?G(pe,4):0,pe=_e(pe)?G(pe,4):0,Ne=w.Qa,je=0;4>je;++je){if(Ne.Cb){var ve=Ne.Zb[je];Ne.Fb||(ve+=O)}else{if(0<je){w.pb[je]=w.pb[0];continue}ve=O}var Le=w.pb[je];Le.Sc[0]=Oa[zr(ve+te,127)],Le.Sc[1]=Su[zr(ve+0,127)],Le.Eb[0]=2*Oa[zr(ve+q,127)],Le.Eb[1]=101581*Su[zr(ve+he,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=Oa[zr(ve+we,117)],Le.Qc[1]=Su[zr(ve+pe,127)],Le.lc=ve+pe}if(!de.Rb)return jn(w,4,"Not a key frame.");for(_e(oe),de=w.Pa,O=0;4>O;++O){for(te=0;8>te;++te)for(q=0;3>q;++q)for(he=0;11>he;++he)we=Se(oe,dd[O][te][q][he])?B(oe,8):ku[O][te][q][he],de.Wc[O][te].Yb[q][he]=we;for(te=0;17>te;++te)de.Xc[O][te]=de.Wc[O][tc[te]]}return w.kc=_e(oe),w.kc&&(w.Bd=B(oe,8)),w.cb=1}function zi(w,C,O,q,te,oe,de){var he=C[te].Yb[O];for(O=0;16>te;++te){if(!Se(w,he[O+0]))return te;for(;!Se(w,he[O+1]);)if(he=C[++te].Yb[0],O=0,te==16)return 16;var pe=C[te+1].Yb;if(Se(w,he[O+2])){var we=w,Ne=0;if(Se(we,(ve=he)[(je=O)+3]))if(Se(we,ve[je+6])){for(he=0,je=2*(Ne=Se(we,ve[je+8]))+(ve=Se(we,ve[je+9+Ne])),Ne=0,ve=Mc[je];ve[he];++he)Ne+=Ne+Se(we,ve[he]);Ne+=3+(8<<je)}else Se(we,ve[je+7])?(Ne=7+2*Se(we,165),Ne+=Se(we,145)):Ne=5+Se(we,159);else Ne=Se(we,ve[je+4])?3+Se(we,ve[je+5]):2;he=pe[2]}else Ne=1,he=pe[1];pe=de+to[te],0>(we=w).b&&ge(we);var je,ve=we.b,Le=(je=we.Ca>>1)-(we.I>>ve)>>31;--we.b,we.Ca+=Le,we.Ca|=1,we.I-=(je+1&Le)<<ve,oe[pe]=((Ne^Le)-Le)*q[(0<te)+0]}return 16}function Or(w){var C=w.rb[w.sb-1];C.la=0,C.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function Gi(w,C,O,q,te){te=w[C+O+32*q]+(te>>3),w[C+O+32*q]=-256&te?0>te?0:255:te}function $a(w,C,O,q,te,oe){Gi(w,C,0,O,q+te),Gi(w,C,1,O,q+oe),Gi(w,C,2,O,q-oe),Gi(w,C,3,O,q-te)}function Jr(w){return(20091*w>>16)+w}function ta(w,C,O,q){var te,oe=0,de=s(16);for(te=0;4>te;++te){var he=w[C+0]+w[C+8],pe=w[C+0]-w[C+8],we=(35468*w[C+4]>>16)-Jr(w[C+12]),Ne=Jr(w[C+4])+(35468*w[C+12]>>16);de[oe+0]=he+Ne,de[oe+1]=pe+we,de[oe+2]=pe-we,de[oe+3]=he-Ne,oe+=4,C++}for(te=oe=0;4>te;++te)he=(w=de[oe+0]+4)+de[oe+8],pe=w-de[oe+8],we=(35468*de[oe+4]>>16)-Jr(de[oe+12]),Gi(O,q,0,0,he+(Ne=Jr(de[oe+4])+(35468*de[oe+12]>>16))),Gi(O,q,1,0,pe+we),Gi(O,q,2,0,pe-we),Gi(O,q,3,0,he-Ne),oe++,q+=32}function yu(w,C,O,q){var te=w[C+0]+4,oe=35468*w[C+4]>>16,de=Jr(w[C+4]),he=35468*w[C+1]>>16;$a(O,q,0,te+de,w=Jr(w[C+1]),he),$a(O,q,1,te+oe,w,he),$a(O,q,2,te-oe,w,he),$a(O,q,3,te-de,w,he)}function ms(w,C,O,q,te){ta(w,C,O,q),te&&ta(w,C+16,O,q+4)}function pl(w,C,O,q){Ia(w,C+0,O,q,1),Ia(w,C+32,O,q+128,1)}function na(w,C,O,q){var te;for(w=w[C+0]+4,te=0;4>te;++te)for(C=0;4>C;++C)Gi(O,q,C,te,w)}function Ul(w,C,O,q){w[C+0]&&Tn(w,C+0,O,q),w[C+16]&&Tn(w,C+16,O,q+4),w[C+32]&&Tn(w,C+32,O,q+128),w[C+48]&&Tn(w,C+48,O,q+128+4)}function Un(w,C,O,q){var te,oe=s(16);for(te=0;4>te;++te){var de=w[C+0+te]+w[C+12+te],he=w[C+4+te]+w[C+8+te],pe=w[C+4+te]-w[C+8+te],we=w[C+0+te]-w[C+12+te];oe[0+te]=de+he,oe[8+te]=de-he,oe[4+te]=we+pe,oe[12+te]=we-pe}for(te=0;4>te;++te)de=(w=oe[0+4*te]+3)+oe[3+4*te],he=oe[1+4*te]+oe[2+4*te],pe=oe[1+4*te]-oe[2+4*te],we=w-oe[3+4*te],O[q+0]=de+he>>3,O[q+16]=we+pe>>3,O[q+32]=de-he>>3,O[q+48]=we-pe>>3,q+=64}function yo(w,C,O){var q,te=C-32,oe=Ni,de=255-w[te-1];for(q=0;q<O;++q){var he,pe=oe,we=de+w[C-1];for(he=0;he<O;++he)w[C+he]=pe[we+w[te+he]];C+=32}}function ra(w,C){yo(w,C,4)}function Ya(w,C){yo(w,C,8)}function Gu(w,C){yo(w,C,16)}function Hu(w,C){var O;for(O=0;16>O;++O)r(w,C+32*O,w,C-32,16)}function Ka(w,C){var O;for(O=16;0<O;--O)i(w,C,w[C-1],16),C+=32}function ia(w,C,O){var q;for(q=0;16>q;++q)i(C,O+32*q,w,16)}function Ys(w,C){var O,q=16;for(O=0;16>O;++O)q+=w[C-1+32*O]+w[C+O-32];ia(q>>5,w,C)}function Es(w,C){var O,q=8;for(O=0;16>O;++O)q+=w[C-1+32*O];ia(q>>4,w,C)}function As(w,C){var O,q=8;for(O=0;16>O;++O)q+=w[C+O-32];ia(q>>4,w,C)}function Ls(w,C){ia(128,w,C)}function _t(w,C,O){return w+2*C+O+2>>2}function Xa(w,C){var O,q=C-32;for(q=new Uint8Array([_t(w[q-1],w[q+0],w[q+1]),_t(w[q+0],w[q+1],w[q+2]),_t(w[q+1],w[q+2],w[q+3]),_t(w[q+2],w[q+3],w[q+4])]),O=0;4>O;++O)r(w,C+32*O,q,0,q.length)}function vo(w,C){var O=w[C-1],q=w[C-1+32],te=w[C-1+64],oe=w[C-1+96];Re(w,C+0,16843009*_t(w[C-1-32],O,q)),Re(w,C+32,16843009*_t(O,q,te)),Re(w,C+64,16843009*_t(q,te,oe)),Re(w,C+96,16843009*_t(te,oe,oe))}function Wu(w,C){var O,q=4;for(O=0;4>O;++O)q+=w[C+O-32]+w[C-1+32*O];for(q>>=3,O=0;4>O;++O)i(w,C+32*O,q,4)}function qu(w,C){var O=w[C-1+0],q=w[C-1+32],te=w[C-1+64],oe=w[C-1-32],de=w[C+0-32],he=w[C+1-32],pe=w[C+2-32],we=w[C+3-32];w[C+0+96]=_t(q,te,w[C-1+96]),w[C+1+96]=w[C+0+64]=_t(O,q,te),w[C+2+96]=w[C+1+64]=w[C+0+32]=_t(oe,O,q),w[C+3+96]=w[C+2+64]=w[C+1+32]=w[C+0+0]=_t(de,oe,O),w[C+3+64]=w[C+2+32]=w[C+1+0]=_t(he,de,oe),w[C+3+32]=w[C+2+0]=_t(pe,he,de),w[C+3+0]=_t(we,pe,he)}function Ks(w,C){var O=w[C+1-32],q=w[C+2-32],te=w[C+3-32],oe=w[C+4-32],de=w[C+5-32],he=w[C+6-32],pe=w[C+7-32];w[C+0+0]=_t(w[C+0-32],O,q),w[C+1+0]=w[C+0+32]=_t(O,q,te),w[C+2+0]=w[C+1+32]=w[C+0+64]=_t(q,te,oe),w[C+3+0]=w[C+2+32]=w[C+1+64]=w[C+0+96]=_t(te,oe,de),w[C+3+32]=w[C+2+64]=w[C+1+96]=_t(oe,de,he),w[C+3+64]=w[C+2+96]=_t(de,he,pe),w[C+3+96]=_t(he,pe,pe)}function Sr(w,C){var O=w[C-1+0],q=w[C-1+32],te=w[C-1+64],oe=w[C-1-32],de=w[C+0-32],he=w[C+1-32],pe=w[C+2-32],we=w[C+3-32];w[C+0+0]=w[C+1+64]=oe+de+1>>1,w[C+1+0]=w[C+2+64]=de+he+1>>1,w[C+2+0]=w[C+3+64]=he+pe+1>>1,w[C+3+0]=pe+we+1>>1,w[C+0+96]=_t(te,q,O),w[C+0+64]=_t(q,O,oe),w[C+0+32]=w[C+1+96]=_t(O,oe,de),w[C+1+32]=w[C+2+96]=_t(oe,de,he),w[C+2+32]=w[C+3+96]=_t(de,he,pe),w[C+3+32]=_t(he,pe,we)}function zl(w,C){var O=w[C+0-32],q=w[C+1-32],te=w[C+2-32],oe=w[C+3-32],de=w[C+4-32],he=w[C+5-32],pe=w[C+6-32],we=w[C+7-32];w[C+0+0]=O+q+1>>1,w[C+1+0]=w[C+0+64]=q+te+1>>1,w[C+2+0]=w[C+1+64]=te+oe+1>>1,w[C+3+0]=w[C+2+64]=oe+de+1>>1,w[C+0+32]=_t(O,q,te),w[C+1+32]=w[C+0+96]=_t(q,te,oe),w[C+2+32]=w[C+1+96]=_t(te,oe,de),w[C+3+32]=w[C+2+96]=_t(oe,de,he),w[C+3+64]=_t(de,he,pe),w[C+3+96]=_t(he,pe,we)}function Gl(w,C){var O=w[C-1+0],q=w[C-1+32],te=w[C-1+64],oe=w[C-1+96];w[C+0+0]=O+q+1>>1,w[C+2+0]=w[C+0+32]=q+te+1>>1,w[C+2+32]=w[C+0+64]=te+oe+1>>1,w[C+1+0]=_t(O,q,te),w[C+3+0]=w[C+1+32]=_t(q,te,oe),w[C+3+32]=w[C+1+64]=_t(te,oe,oe),w[C+3+64]=w[C+2+64]=w[C+0+96]=w[C+1+96]=w[C+2+96]=w[C+3+96]=oe}function Aa(w,C){var O=w[C-1+0],q=w[C-1+32],te=w[C-1+64],oe=w[C-1+96],de=w[C-1-32],he=w[C+0-32],pe=w[C+1-32],we=w[C+2-32];w[C+0+0]=w[C+2+32]=O+de+1>>1,w[C+0+32]=w[C+2+64]=q+O+1>>1,w[C+0+64]=w[C+2+96]=te+q+1>>1,w[C+0+96]=oe+te+1>>1,w[C+3+0]=_t(he,pe,we),w[C+2+0]=_t(de,he,pe),w[C+1+0]=w[C+3+32]=_t(O,de,he),w[C+1+32]=w[C+3+64]=_t(q,O,de),w[C+1+64]=w[C+3+96]=_t(te,q,O),w[C+1+96]=_t(oe,te,q)}function vu(w,C){var O;for(O=0;8>O;++O)r(w,C+32*O,w,C-32,8)}function Ps(w,C){var O;for(O=0;8>O;++O)i(w,C,w[C-1],8),C+=32}function _i(w,C,O){var q;for(q=0;8>q;++q)i(C,O+32*q,w,8)}function zo(w,C){var O,q=8;for(O=0;8>O;++O)q+=w[C+O-32]+w[C-1+32*O];_i(q>>4,w,C)}function Hl(w,C){var O,q=4;for(O=0;8>O;++O)q+=w[C+O-32];_i(q>>3,w,C)}function ys(w,C){var O,q=4;for(O=0;8>O;++O)q+=w[C-1+32*O];_i(q>>3,w,C)}function Xs(w,C){_i(128,w,C)}function wo(w,C,O){var q=w[C-O],te=w[C+0],oe=3*(te-q)+qo[1020+w[C-2*O]-w[C+O]],de=bl[112+(oe+4>>3)];w[C-O]=Ni[255+q+bl[112+(oe+3>>3)]],w[C+0]=Ni[255+te-de]}function bo(w,C,O,q){var te=w[C+0],oe=w[C+O];return eo[255+w[C-2*O]-w[C-O]]>q||eo[255+oe-te]>q}function Ja(w,C,O,q){return 4*eo[255+w[C-O]-w[C+0]]+eo[255+w[C-2*O]-w[C+O]]<=q}function gl(w,C,O,q,te){var oe=w[C-3*O],de=w[C-2*O],he=w[C-O],pe=w[C+0],we=w[C+O],Ne=w[C+2*O],je=w[C+3*O];return 4*eo[255+he-pe]+eo[255+de-we]>q?0:eo[255+w[C-4*O]-oe]<=te&&eo[255+oe-de]<=te&&eo[255+de-he]<=te&&eo[255+je-Ne]<=te&&eo[255+Ne-we]<=te&&eo[255+we-pe]<=te}function ni(w,C,O,q){var te=2*q+1;for(q=0;16>q;++q)Ja(w,C+q,O,te)&&wo(w,C+q,O)}function Is(w,C,O,q){var te=2*q+1;for(q=0;16>q;++q)Ja(w,C+q*O,1,te)&&wo(w,C+q*O,1)}function _o(w,C,O,q){var te;for(te=3;0<te;--te)ni(w,C+=4*O,O,q)}function Qa(w,C,O,q){var te;for(te=3;0<te;--te)Is(w,C+=4,O,q)}function vs(w,C,O,q,te,oe,de,he){for(oe=2*oe+1;0<te--;){if(gl(w,C,O,oe,de))if(bo(w,C,O,he))wo(w,C,O);else{var pe=w,we=C,Ne=O,je=pe[we-2*Ne],ve=pe[we-Ne],Le=pe[we+0],Me=pe[we+Ne],Ze=pe[we+2*Ne],De=27*(Ae=qo[1020+3*(Le-ve)+qo[1020+je-Me]])+63>>7,Xe=18*Ae+63>>7,Ae=9*Ae+63>>7;pe[we-3*Ne]=Ni[255+pe[we-3*Ne]+Ae],pe[we-2*Ne]=Ni[255+je+Xe],pe[we-Ne]=Ni[255+ve+De],pe[we+0]=Ni[255+Le-De],pe[we+Ne]=Ni[255+Me-Xe],pe[we+2*Ne]=Ni[255+Ze-Ae]}C+=q}}function Ur(w,C,O,q,te,oe,de,he){for(oe=2*oe+1;0<te--;){if(gl(w,C,O,oe,de))if(bo(w,C,O,he))wo(w,C,O);else{var pe=w,we=C,Ne=O,je=pe[we-Ne],ve=pe[we+0],Le=pe[we+Ne],Me=bl[112+(4+(Ze=3*(ve-je))>>3)],Ze=bl[112+(Ze+3>>3)],De=Me+1>>1;pe[we-2*Ne]=Ni[255+pe[we-2*Ne]+De],pe[we-Ne]=Ni[255+je+Ze],pe[we+0]=Ni[255+ve-Me],pe[we+Ne]=Ni[255+Le-De]}C+=q}}function ns(w,C,O,q,te,oe){vs(w,C,O,1,16,q,te,oe)}function Qr(w,C,O,q,te,oe){vs(w,C,1,O,16,q,te,oe)}function ci(w,C,O,q,te,oe){var de;for(de=3;0<de;--de)Ur(w,C+=4*O,O,1,16,q,te,oe)}function Rs(w,C,O,q,te,oe){var de;for(de=3;0<de;--de)Ur(w,C+=4,1,O,16,q,te,oe)}function I(w,C,O,q,te,oe,de,he){vs(w,C,te,1,8,oe,de,he),vs(O,q,te,1,8,oe,de,he)}function ie(w,C,O,q,te,oe,de,he){vs(w,C,1,te,8,oe,de,he),vs(O,q,1,te,8,oe,de,he)}function be(w,C,O,q,te,oe,de,he){Ur(w,C+4*te,te,1,8,oe,de,he),Ur(O,q+4*te,te,1,8,oe,de,he)}function Ce(w,C,O,q,te,oe,de,he){Ur(w,C+4,1,te,8,oe,de,he),Ur(O,q+4,1,te,8,oe,de,he)}function Pe(){this.ba=new qn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function tt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Rt(){this.ua=0,this.Wa=new Ge,this.vb=new Ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new le,this.yc=new Z}function Pt(){this.xb=this.a=0,this.l=new kn,this.ca=new qn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Rt,this.ab=0,this.gc=l(4,tt),this.Oc=0}function fn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new kn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hn(w,C,O,q,te,oe,de){for(w=w==null?0:w[C+0],C=0;C<de;++C)te[oe+C]=w+O[q+C]&255,w=te[oe+C]}function Yn(w,C,O,q,te,oe,de){var he;if(w==null)hn(null,null,O,q,te,oe,de);else for(he=0;he<de;++he)te[oe+he]=w[C+he]+O[q+he]&255}function Ar(w,C,O,q,te,oe,de){if(w==null)hn(null,null,O,q,te,oe,de);else{var he,pe=w[C+0],we=pe,Ne=pe;for(he=0;he<de;++he)we=Ne+(pe=w[C+he])-we,Ne=O[q+he]+(-256&we?0>we?0:255:we)&255,we=pe,te[oe+he]=Ne}}function ri(w,C,O,q){var te=C.width,oe=C.o;if(e(w!=null&&C!=null),0>O||0>=q||O+q>oe)return null;if(!w.Cc){if(w.ga==null){var de;if(w.ga=new fn,(de=w.ga==null)||(de=C.width*C.o,e(w.Gb.length==0),w.Gb=s(de),w.Uc=0,w.Gb==null?de=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,de=1),de=!de),!de){de=w.ga;var he=w.Fa,pe=w.P,we=w.qc,Ne=w.mb,je=w.nb,ve=pe+1,Le=we-1,Me=de.l;if(e(he!=null&&Ne!=null&&C!=null),$i[0]=null,$i[1]=hn,$i[2]=Yn,$i[3]=Ar,de.ca=Ne,de.tb=je,de.c=C.width,de.i=C.height,e(0<de.c&&0<de.i),1>=we)C=0;else if(de.$a=3&he[pe+0],de.Z=he[pe+0]>>2&3,de.Lc=he[pe+0]>>4&3,pe=he[pe+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||pe)C=0;else if(Me.put=Jt,Me.ac=gs,Me.bc=ts,Me.ma=de,Me.width=C.width,Me.height=C.height,Me.Da=C.Da,Me.v=C.v,Me.va=C.va,Me.j=C.j,Me.o=C.o,de.$a)e:{e(de.$a==1),C=an();t:for(;;){if(C==null){C=0;break e}if(e(de!=null),de.mc=C,C.c=de.c,C.i=de.i,C.l=de.l,C.l.ma=de,C.l.width=de.c,C.l.height=de.i,C.a=0,Q(C.m,he,ve,Le),!Xt(de.c,de.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&dt(C.s)?(de.ic=1,he=C.c*C.i,C.Ta=null,C.Ua=0,C.V=s(he),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(de.ic=0,C=Rn(C,de.c)),!C))break t;C=1;break e}de.mc=null,C=0}else C=Le>=de.c*de.i;de=!C}if(de)return null;w.ga.Lc!=1?w.Ga=0:q=oe-O}e(w.ga!=null),e(O+q<=oe);e:{if(C=(he=w.ga).c,oe=he.l.o,he.$a==0){if(ve=w.rc,Le=w.Vc,Me=w.Fa,pe=w.P+1+O*C,we=w.mb,Ne=w.nb+O*C,e(pe<=w.P+w.qc),he.Z!=0)for(e($i[he.Z]!=null),de=0;de<q;++de)$i[he.Z](ve,Le,Me,pe,we,Ne,C),ve=we,Le=Ne,Ne+=C,pe+=C;else for(de=0;de<q;++de)r(we,Ne,Me,pe,C),ve=we,Le=Ne,Ne+=C,pe+=C;w.rc=ve,w.Vc=Le}else{if(e(he.mc!=null),C=O+q,e((de=he.mc)!=null),e(C<=de.i),de.C>=C)C=1;else if(he.ic||xo(),he.ic){he=de.V,ve=de.Ba,Le=de.c;var Ze=de.i,De=(Me=1,pe=de.$/Le,we=de.$%Le,Ne=de.m,je=de.s,de.$),Xe=Le*Ze,Ae=Le*C,nt=je.wc,it=De<Ae?gt(je,we,pe):null;e(De<=Xe),e(C<=Ze),e(dt(je));t:for(;;){for(;!Ne.h&&De<Ae;){if(we&nt||(it=gt(je,we,pe)),e(it!=null),J(Ne),256>(Ze=st(it.G[0],it.H[0],Ne)))he[ve+De]=Ze,++De,++we>=Le&&(we=0,++pe<=C&&!(pe%16)&&It(de,pe));else{if(!(280>Ze)){Me=0;break t}Ze=rt(Ze-256,Ne);var Ht,Ot=st(it.G[4],it.H[4],Ne);if(J(Ne),!(De>=(Ot=$e(Le,Ot=rt(Ot,Ne)))&&Xe-De>=Ze)){Me=0;break t}for(Ht=0;Ht<Ze;++Ht)he[ve+De+Ht]=he[ve+De+Ht-Ot];for(De+=Ze,we+=Ze;we>=Le;)we-=Le,++pe<=C&&!(pe%16)&&It(de,pe);De<Ae&&we&nt&&(it=gt(je,we,pe))}e(Ne.h==ce(Ne))}It(de,pe>C?C:pe);break t}!Me||Ne.h&&De<Xe?(Me=0,de.a=Ne.h?5:3):de.$=De,C=Me}else C=bn(de,de.V,de.Ba,de.c,de.i,C,sr);if(!C){q=0;break e}}O+q>=oe&&(w.Cc=1),q=1}if(!q)return null;if(w.Cc&&((q=w.ga)!=null&&(q.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+O*te}function dr(w,C,O,q,te,oe){for(;0<te--;){var de,he=w,pe=C+(O?1:0),we=w,Ne=C+(O?0:3);for(de=0;de<q;++de){var je=we[Ne+4*de];je!=255&&(je*=32897,he[pe+4*de+0]=he[pe+4*de+0]*je>>23,he[pe+4*de+1]=he[pe+4*de+1]*je>>23,he[pe+4*de+2]=he[pe+4*de+2]*je>>23)}C+=oe}}function di(w,C,O,q,te){for(;0<q--;){var oe;for(oe=0;oe<O;++oe){var de=w[C+2*oe+0],he=15&(we=w[C+2*oe+1]),pe=4369*he,we=(240&we|we>>4)*pe>>16;w[C+2*oe+0]=(240&de|de>>4)*pe>>16&240|(15&de|de<<4)*pe>>16>>4&15,w[C+2*oe+1]=240&we|he}C+=te}}function kr(w,C,O,q,te,oe,de,he){var pe,we,Ne=255;for(we=0;we<te;++we){for(pe=0;pe<q;++pe){var je=w[C+pe];oe[de+4*pe]=je,Ne&=je}C+=O,de+=he}return Ne!=255}function xi(w,C,O,q,te){var oe;for(oe=0;oe<te;++oe)O[q+oe]=w[C+oe]>>8}function xo(){Wo=dr,bu=di,wl=kr,$u=xi}function Hi(w,C,O){M[w]=function(q,te,oe,de,he,pe,we,Ne,je,ve,Le,Me,Ze,De,Xe,Ae,nt){var it,Ht=nt-1>>1,Ot=he[pe+0]|we[Ne+0]<<16,pn=je[ve+0]|Le[Me+0]<<16;e(q!=null);var Ft=3*Ot+pn+131074>>2;for(C(q[te+0],255&Ft,Ft>>16,Ze,De),oe!=null&&(Ft=3*pn+Ot+131074>>2,C(oe[de+0],255&Ft,Ft>>16,Xe,Ae)),it=1;it<=Ht;++it){var Ln=he[pe+it]|we[Ne+it]<<16,Gr=je[ve+it]|Le[Me+it]<<16,mn=Ot+Ln+pn+Gr+524296,Tt=mn+2*(Ln+pn)>>3;Ft=Tt+Ot>>1,Ot=(mn=mn+2*(Ot+Gr)>>3)+Ln>>1,C(q[te+2*it-1],255&Ft,Ft>>16,Ze,De+(2*it-1)*O),C(q[te+2*it-0],255&Ot,Ot>>16,Ze,De+(2*it-0)*O),oe!=null&&(Ft=mn+pn>>1,Ot=Tt+Gr>>1,C(oe[de+2*it-1],255&Ft,Ft>>16,Xe,Ae+(2*it-1)*O),C(oe[de+2*it+0],255&Ot,Ot>>16,Xe,Ae+(2*it+0)*O)),Ot=Ln,pn=Gr}1&nt||(Ft=3*Ot+pn+131074>>2,C(q[te+nt-1],255&Ft,Ft>>16,Ze,De+(nt-1)*O),oe!=null&&(Ft=3*pn+Ot+131074>>2,C(oe[de+nt-1],255&Ft,Ft>>16,Xe,Ae+(nt-1)*O)))}}function Vu(){_s[_l]=fd,_s[Vo]=Fa,_s[Oc]=hd,_s[xl]=Xl,_s[ql]=fi,_s[mr]=Ei,_s[_u]=nc,_s[Sl]=Fa,_s[Da]=Xl,_s[Vl]=fi,_s[$l]=Ei}function So(w){return w&-16384?0>w?0:255:w>>pa}function sa(w,C){return So((19077*w>>8)+(26149*C>>8)-14234)}function La(w,C,O){return So((19077*w>>8)-(6419*C>>8)-(13320*O>>8)+8708)}function Za(w,C){return So((19077*w>>8)+(33050*C>>8)-17685)}function Js(w,C,O,q,te){q[te+0]=sa(w,O),q[te+1]=La(w,C,O),q[te+2]=Za(w,C)}function el(w,C,O,q,te){q[te+0]=Za(w,C),q[te+1]=La(w,C,O),q[te+2]=sa(w,O)}function Si(w,C,O,q,te){var oe=La(w,C,O);C=oe<<3&224|Za(w,C)>>3,q[te+0]=248&sa(w,O)|oe>>5,q[te+1]=C}function oa(w,C,O,q,te){var oe=240&Za(w,C)|15;q[te+0]=240&sa(w,O)|La(w,C,O)>>4,q[te+1]=oe}function ko(w,C,O,q,te){q[te+0]=255,Js(w,C,O,q,te+1)}function ml(w,C,O,q,te){el(w,C,O,q,te),q[te+3]=255}function yl(w,C,O,q,te){Js(w,C,O,q,te),q[te+3]=255}function zr(w,C){return 0>w?0:w>C?C:w}function Qs(w,C,O){M[w]=function(q,te,oe,de,he,pe,we,Ne,je){for(var ve=Ne+(-2&je)*O;Ne!=ve;)C(q[te+0],oe[de+0],he[pe+0],we,Ne),C(q[te+1],oe[de+0],he[pe+0],we,Ne+O),te+=2,++de,++pe,Ne+=2*O;1&je&&C(q[te+0],oe[de+0],he[pe+0],we,Ne)}}function Co(w,C,O){return O==0?w==0?C==0?6:5:C==0?4:0:O}function Pa(w,C,O,q,te){switch(w>>>30){case 3:Ia(C,O,q,te,0);break;case 2:Lr(C,O,q,te);break;case 1:Tn(C,O,q,te)}}function Fr(w,C){var O,q,te=C.M,oe=C.Nb,de=w.oc,he=w.pc+40,pe=w.oc,we=w.pc+584,Ne=w.oc,je=w.pc+600;for(O=0;16>O;++O)de[he+32*O-1]=129;for(O=0;8>O;++O)pe[we+32*O-1]=129,Ne[je+32*O-1]=129;for(0<te?de[he-1-32]=pe[we-1-32]=Ne[je-1-32]=129:(i(de,he-32-1,127,21),i(pe,we-32-1,127,9),i(Ne,je-32-1,127,9)),q=0;q<w.za;++q){var ve=C.ya[C.aa+q];if(0<q){for(O=-1;16>O;++O)r(de,he+32*O-4,de,he+32*O+12,4);for(O=-1;8>O;++O)r(pe,we+32*O-4,pe,we+32*O+4,4),r(Ne,je+32*O-4,Ne,je+32*O+4,4)}var Le=w.Gd,Me=w.Hd+q,Ze=ve.ad,De=ve.Hc;if(0<te&&(r(de,he-32,Le[Me].y,0,16),r(pe,we-32,Le[Me].f,0,8),r(Ne,je-32,Le[Me].ea,0,8)),ve.Za){var Xe=de,Ae=he-32+16;for(0<te&&(q>=w.za-1?i(Xe,Ae,Le[Me].y[15],4):r(Xe,Ae,Le[Me+1].y,0,4)),O=0;4>O;O++)Xe[Ae+128+O]=Xe[Ae+256+O]=Xe[Ae+384+O]=Xe[Ae+0+O];for(O=0;16>O;++O,De<<=2)Xe=de,Ae=he+Cu[O],Vi[ve.Ob[O]](Xe,Ae),Pa(De,Ze,16*+O,Xe,Ae)}else if(Xe=Co(q,te,ve.Ob[0]),qi[Xe](de,he),De!=0)for(O=0;16>O;++O,De<<=2)Pa(De,Ze,16*+O,de,he+Cu[O]);for(O=ve.Gc,Xe=Co(q,te,ve.Dd),os[Xe](pe,we),os[Xe](Ne,je),De=Ze,Xe=pe,Ae=we,255&(ve=0|O)&&(170&ve?ss(De,256,Xe,Ae):sn(De,256,Xe,Ae)),ve=Ne,De=je,255&(O>>=8)&&(170&O?ss(Ze,320,ve,De):sn(Ze,320,ve,De)),te<w.Ub-1&&(r(Le[Me].y,0,de,he+480,16),r(Le[Me].f,0,pe,we+224,8),r(Le[Me].ea,0,Ne,je+224,8)),O=8*oe*w.B,Le=w.sa,Me=w.ta+16*q+16*oe*w.R,Ze=w.qa,ve=w.ra+8*q+O,De=w.Ha,Xe=w.Ia+8*q+O,O=0;16>O;++O)r(Le,Me+O*w.R,de,he+32*O,16);for(O=0;8>O;++O)r(Ze,ve+O*w.B,pe,we+32*O,8),r(De,Xe+O*w.B,Ne,je+32*O,8)}}function Ts(w,C,O,q,te,oe,de,he,pe){var we=[0],Ne=[0],je=0,ve=pe!=null?pe.kd:0,Le=pe??new Ke;if(w==null||12>O)return 7;Le.data=w,Le.w=C,Le.ha=O,C=[C],O=[O],Le.gb=[Le.gb];e:{var Me=C,Ze=O,De=Le.gb;if(e(w!=null),e(Ze!=null),e(De!=null),De[0]=0,12<=Ze[0]&&!n(w,Me[0],"RIFF")){if(n(w,Me[0]+8,"WEBP")){De=3;break e}var Xe=Be(w,Me[0]+4);if(12>Xe||4294967286<Xe){De=3;break e}if(ve&&Xe>Ze[0]-8){De=7;break e}De[0]=Xe,Me[0]+=12,Ze[0]-=12}De=0}if(De!=0)return De;for(Xe=0<Le.gb[0],O=O[0];;){e:{var Ae=w;Ze=C,De=O;var nt=we,it=Ne,Ht=Me=[0];if((Ft=je=[je])[0]=0,8>De[0])De=7;else{if(!n(Ae,Ze[0],"VP8X")){if(Be(Ae,Ze[0]+4)!=10){De=3;break e}if(18>De[0]){De=7;break e}var Ot=Be(Ae,Ze[0]+8),pn=1+Ve(Ae,Ze[0]+12);if(2147483648<=pn*(Ae=1+Ve(Ae,Ze[0]+15))){De=3;break e}Ht!=null&&(Ht[0]=Ot),nt!=null&&(nt[0]=pn),it!=null&&(it[0]=Ae),Ze[0]+=18,De[0]-=18,Ft[0]=1}De=0}}if(je=je[0],Me=Me[0],De!=0)return De;if(Ze=!!(2&Me),!Xe&&je)return 3;if(oe!=null&&(oe[0]=!!(16&Me)),de!=null&&(de[0]=Ze),he!=null&&(he[0]=0),de=we[0],Me=Ne[0],je&&Ze&&pe==null){De=0;break}if(4>O){De=7;break}if(Xe&&je||!Xe&&!je&&!n(w,C[0],"ALPH")){O=[O],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{Ot=w,De=C,Xe=O;var Ft=Le.gb;nt=Le.na,it=Le.P,Ht=Le.Sa,pn=22,e(Ot!=null),e(Xe!=null),Ae=De[0];var Ln=Xe[0];for(e(nt!=null),e(Ht!=null),nt[0]=null,it[0]=null,Ht[0]=0;;){if(De[0]=Ae,Xe[0]=Ln,8>Ln){De=7;break e}var Gr=Be(Ot,Ae+4);if(4294967286<Gr){De=3;break e}var mn=8+Gr+1&-2;if(pn+=mn,0<Ft&&pn>Ft){De=3;break e}if(!n(Ot,Ae,"VP8 ")||!n(Ot,Ae,"VP8L")){De=0;break e}if(Ln[0]<mn){De=7;break e}n(Ot,Ae,"ALPH")||(nt[0]=Ot,it[0]=Ae+8,Ht[0]=Gr),Ae+=mn,Ln-=mn}}if(O=O[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],De!=0)break}O=[O],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(Ft=w,De=C,Xe=O,nt=Le.gb[0],it=Le.Ja,Ht=Le.xa,Ot=De[0],Ae=!n(Ft,Ot,"VP8 "),pn=!n(Ft,Ot,"VP8L"),e(Ft!=null),e(Xe!=null),e(it!=null),e(Ht!=null),8>Xe[0])De=7;else{if(Ae||pn){if(Ft=Be(Ft,Ot+4),12<=nt&&Ft>nt-12){De=3;break e}if(ve&&Ft>Xe[0]-8){De=7;break e}it[0]=Ft,De[0]+=8,Xe[0]-=8,Ht[0]=pn}else Ht[0]=5<=Xe[0]&&Ft[Ot+0]==47&&!(Ft[Ot+4]>>5),it[0]=Xe[0];De=0}if(O=O[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],C=C[0],De!=0)break;if(4294967286<Le.Ja)return 3;if(he==null||Ze||(he[0]=Le.xa?2:1),de=[de],Me=[Me],Le.xa){if(5>O){De=7;break}he=de,ve=Me,Ze=oe,w==null||5>O?w=0:5<=O&&w[C+0]==47&&!(w[C+4]>>5)?(Xe=[0],Ft=[0],nt=[0],Q(it=new K,w,C,O),ks(it,Xe,Ft,nt)?(he!=null&&(he[0]=Xe[0]),ve!=null&&(ve[0]=Ft[0]),Ze!=null&&(Ze[0]=nt[0]),w=1):w=0):w=0}else{if(10>O){De=7;break}he=Me,w==null||10>O||!Ui(w,C+3,O-3)?w=0:(ve=w[C+0]|w[C+1]<<8|w[C+2]<<16,Ze=16383&(w[C+7]<<8|w[C+6]),w=16383&(w[C+9]<<8|w[C+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=Le.Ja||!Ze||!w?w=0:(de&&(de[0]=Ze),he&&(he[0]=w),w=1))}if(!w||(de=de[0],Me=Me[0],je&&(we[0]!=de||Ne[0]!=Me)))return 3;pe!=null&&(pe[0]=Le,pe.offset=C-pe.w,e(4294967286>C-pe.w),e(pe.offset==pe.ha-O));break}return De==0||De==7&&je&&pe==null?(oe!=null&&(oe[0]|=Le.na!=null&&0<Le.na.length),q!=null&&(q[0]=de),te!=null&&(te[0]=Me),0):De}function tl(w,C,O){var q=C.width,te=C.height,oe=0,de=0,he=q,pe=te;if(C.Da=w!=null&&0<w.Da,C.Da&&(he=w.cd,pe=w.bd,oe=w.v,de=w.j,11>O||(oe&=-2,de&=-2),0>oe||0>de||0>=he||0>=pe||oe+he>q||de+pe>te))return 0;if(C.v=oe,C.j=de,C.va=oe+he,C.o=de+pe,C.U=he,C.T=pe,C.da=w!=null&&0<w.da,C.da){if(!Je(he,pe,O=[w.ib],oe=[w.hb]))return 0;C.ib=O[0],C.hb=oe[0]}return C.ob=w!=null&&w.ob,C.Kb=w==null||!w.Sd,C.da&&(C.ob=C.ib<3*q/4&&C.hb<3*te/4,C.Kb=0),1}function vl(w){if(w==null)return 2;if(11>w.S){var C=w.f.RGBA;C.fb+=(w.height-1)*C.A,C.A=-C.A}else C=w.f.kb,w=w.height,C.O+=(w-1)*C.fa,C.fa=-C.fa,C.N+=(w-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(w-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(w-1)*C.lb,C.lb=-C.lb);return 0}function Ii(w,C,O,q){if(q==null||0>=w||0>=C)return 2;if(O!=null){if(O.Da){var te=O.cd,oe=O.bd,de=-2&O.v,he=-2&O.j;if(0>de||0>he||0>=te||0>=oe||de+te>w||he+oe>C)return 2;w=te,C=oe}if(O.da){if(!Je(w,C,te=[O.ib],oe=[O.hb]))return 2;w=te[0],C=oe[0]}}q.width=w,q.height=C;e:{var pe=q.width,we=q.height;if(w=q.S,0>=pe||0>=we||!(w>=_l&&13>w))w=2;else{if(0>=q.Rd&&q.sd==null){de=oe=te=C=0;var Ne=(he=pe*Nl[w])*we;if(11>w||(oe=(we+1)/2*(C=(pe+1)/2),w==12&&(de=(te=pe)*we)),(we=s(Ne+2*oe+de))==null){w=1;break e}q.sd=we,11>w?((pe=q.f.RGBA).eb=we,pe.fb=0,pe.A=he,pe.size=Ne):((pe=q.f.kb).y=we,pe.O=0,pe.fa=he,pe.Fd=Ne,pe.f=we,pe.N=0+Ne,pe.Ab=C,pe.Cd=oe,pe.ea=we,pe.W=0+Ne+oe,pe.Db=C,pe.Ed=oe,w==12&&(pe.F=we,pe.J=0+Ne+2*oe),pe.Tc=de,pe.lb=te)}if(C=1,te=q.S,oe=q.width,de=q.height,te>=_l&&13>te)if(11>te)w=q.f.RGBA,C&=(he=Math.abs(w.A))*(de-1)+oe<=w.size,C&=he>=oe*Nl[te],C&=w.eb!=null;else{w=q.f.kb,he=(oe+1)/2,Ne=(de+1)/2,pe=Math.abs(w.fa),we=Math.abs(w.Ab);var je=Math.abs(w.Db),ve=Math.abs(w.lb),Le=ve*(de-1)+oe;C&=pe*(de-1)+oe<=w.Fd,C&=we*(Ne-1)+he<=w.Cd,C=(C&=je*(Ne-1)+he<=w.Ed)&pe>=oe&we>=he&je>=he,C&=w.y!=null,C&=w.f!=null,C&=w.ea!=null,te==12&&(C&=ve>=oe,C&=Le<=w.Tc,C&=w.F!=null)}else C=0;w=C?0:2}}return w!=0||O!=null&&O.fd&&(w=vl(q)),w}var ki=64,ws=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ds=24,rs=32,Wi=8,No=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ot("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(w){return w},M.Predictor2=function(w,C,O){return C[O+0]},M.Predictor3=function(w,C,O){return C[O+1]},M.Predictor4=function(w,C,O){return C[O-1]},M.Predictor5=function(w,C,O){return ct(ct(w,C[O+1]),C[O+0])},M.Predictor6=function(w,C,O){return ct(w,C[O-1])},M.Predictor7=function(w,C,O){return ct(w,C[O+0])},M.Predictor8=function(w,C,O){return ct(C[O-1],C[O+0])},M.Predictor9=function(w,C,O){return ct(C[O+0],C[O+1])},M.Predictor10=function(w,C,O){return ct(ct(w,C[O-1]),ct(C[O+0],C[O+1]))},M.Predictor11=function(w,C,O){var q=C[O+0];return 0>=Et(q>>24&255,w>>24&255,(C=C[O-1])>>24&255)+Et(q>>16&255,w>>16&255,C>>16&255)+Et(q>>8&255,w>>8&255,C>>8&255)+Et(255&q,255&w,255&C)?q:w},M.Predictor12=function(w,C,O){var q=C[O+0];return(Bt((w>>24&255)+(q>>24&255)-((C=C[O-1])>>24&255))<<24|Bt((w>>16&255)+(q>>16&255)-(C>>16&255))<<16|Bt((w>>8&255)+(q>>8&255)-(C>>8&255))<<8|Bt((255&w)+(255&q)-(255&C)))>>>0},M.Predictor13=function(w,C,O){var q=C[O-1];return(kt((w=ct(w,C[O+0]))>>24&255,q>>24&255)<<24|kt(w>>16&255,q>>16&255)<<16|kt(w>>8&255,q>>8&255)<<8|kt(255&w,255&q))>>>0};var aa=M.PredictorAdd0;M.PredictorAdd1=Sn,ot("Predictor2","PredictorAdd2"),ot("Predictor3","PredictorAdd3"),ot("Predictor4","PredictorAdd4"),ot("Predictor5","PredictorAdd5"),ot("Predictor6","PredictorAdd6"),ot("Predictor7","PredictorAdd7"),ot("Predictor8","PredictorAdd8"),ot("Predictor9","PredictorAdd9"),ot("Predictor10","PredictorAdd10"),ot("Predictor11","PredictorAdd11"),ot("Predictor12","PredictorAdd12"),ot("Predictor13","PredictorAdd13");var Zs=M.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var Zr,Go=M.ColorIndexInverseTransform,ii=M.MapARGB,bs=M.VP8LColorIndexInverseTransformAlpha,Eo=M.MapAlpha,is=M.VP8LPredictorsAdd=[];is.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var nl,Ho,la,ua,or,ca,da,Ia,Lr,ss,Tn,sn,Cn,Dn,Os,Ra,fa,Ta,Ci,rl,Wl,wu,Fs,Ri,Wo,bu,wl,$u,Yu=s(511),Ku=s(2041),Xu=s(225),Ju=s(767),Qu=0,qo=Ku,bl=Xu,Ni=Ju,eo=Yu,_l=0,Vo=1,Oc=2,xl=3,ql=4,mr=5,_u=6,Sl=7,Da=8,Vl=9,$l=10,Yl=[2,3,7],Zu=[3,3,11],il=[280,256,256,256,40],ld=[0,1,1,1,0],of=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ud=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Fc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xu=8,Oa=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Su=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kl=null,Mc=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],to=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ec=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ku=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],cd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],dd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],tc=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qi=[],Vi=[],os=[],Ao=1,Kl=2,$i=[],_s=[];Hi("UpsampleRgbLinePair",Js,3),Hi("UpsampleBgrLinePair",el,3),Hi("UpsampleRgbaLinePair",yl,4),Hi("UpsampleBgraLinePair",ml,4),Hi("UpsampleArgbLinePair",ko,4),Hi("UpsampleRgba4444LinePair",oa,2),Hi("UpsampleRgb565LinePair",Si,2);var fd=M.UpsampleRgbLinePair,hd=M.UpsampleBgrLinePair,Fa=M.UpsampleRgbaLinePair,Xl=M.UpsampleBgraLinePair,fi=M.UpsampleArgbLinePair,Ei=M.UpsampleRgba4444LinePair,nc=M.UpsampleRgb565LinePair,ha=16,Lo=1<<ha-1,ar=-227,fr=482,pa=6,Ti=0,as=s(256),sl=s(256),Cl=s(256),ls=s(256),Jl=s(fr-ar),Bc=s(fr-ar);Qs("YuvToRgbRow",Js,3),Qs("YuvToBgrRow",el,3),Qs("YuvToRgbaRow",yl,4),Qs("YuvToBgraRow",ml,4),Qs("YuvToArgbRow",ko,4),Qs("YuvToRgba4444Row",oa,2),Qs("YuvToRgb565Row",Si,2);var Cu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ga=[0,2,8],pd=[8,7,6,4,4,2,2,2,1,1,1,1],ma=1;this.WebPDecodeRGBA=function(w,C,O,q,te){var oe=Vo,de=new Pe,he=new qn;de.ba=he,he.S=oe,he.width=[he.width],he.height=[he.height];var pe=he.width,we=he.height,Ne=new on;if(Ne==null||w==null)var je=2;else e(Ne!=null),je=Ts(w,C,O,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(je!=0?pe=0:(pe!=null&&(pe[0]=Ne.width[0]),we!=null&&(we[0]=Ne.height[0]),pe=1),pe){he.width=he.width[0],he.height=he.height[0],q!=null&&(q[0]=he.width),te!=null&&(te[0]=he.height);e:{if(q=new kn,(te=new Ke).data=w,te.w=C,te.ha=O,te.kd=1,C=[0],e(te!=null),((w=Ts(te.data,te.w,te.ha,null,null,null,C,null,te))==0||w==7)&&C[0]&&(w=4),(C=w)==0){if(e(de!=null),q.data=te.data,q.w=te.w+te.offset,q.ha=te.ha-te.offset,q.put=Jt,q.ac=gs,q.bc=ts,q.ma=de,te.xa){if((w=an())==null){de=1;break e}if((function(ve,Le){var Me=[0],Ze=[0],De=[0];t:for(;;){if(ve==null)return 0;if(Le==null)return ve.a=2,0;if(ve.l=Le,ve.a=0,Q(ve.m,Le.data,Le.w,Le.ha),!ks(ve.m,Me,Ze,De)){ve.a=3;break t}if(ve.xb=Kl,Le.width=Me[0],Le.height=Ze[0],!Xt(Me[0],Ze[0],1,ve,null))break t;return 1}return e(ve.a!=0),0})(w,q)){if(q=(C=Ii(q.width,q.height,de.Oa,de.ba))==0){t:{q=w;n:for(;;){if(q==null){q=0;break t}if(e(q.s.yc!=null),e(q.s.Ya!=null),e(0<q.s.Wb),e((O=q.l)!=null),e((te=O.ma)!=null),q.xb!=0){if(q.ca=te.ba,q.tb=te.tb,e(q.ca!=null),!tl(te.Oa,O,xl)){q.a=2;break n}if(!Rn(q,O.width)||O.da)break n;if((O.da||dn(q.ca.S))&&xo(),11>q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),q.ca.f.kb.F!=null&&xo()),q.Pb&&0<q.s.ua&&q.s.vb.X==null&&!ye(q.s.vb,q.s.Wa.Xa)){q.a=1;break n}q.xb=0}if(!bn(q,q.V,q.Ba,q.c,q.i,O.o,Ct))break n;te.Dc=q.Ma,q=1;break t}e(q.a!=0),q=0}q=!q}q&&(C=w.a)}else C=w.a}else{if((w=new ea)==null){de=1;break e}if(w.Fa=te.na,w.P=te.P,w.qc=te.Sa,$s(w,q)){if((C=Ii(q.width,q.height,de.Oa,de.ba))==0){if(w.Aa=0,O=de.Oa,e((te=w)!=null),O!=null){if(0<(pe=0>(pe=O.Md)?0:100<pe?255:255*pe/100)){for(we=Ne=0;4>we;++we)12>(je=te.pb[we]).lc&&(je.ia=pe*pd[0>je.lc?0:je.lc]>>3),Ne|=je.ia;Ne&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=O.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}(function(ve,Le){if(ve==null)return 0;if(Le==null)return jn(ve,2,"NULL VP8Io parameter in VP8Decode().");if(!ve.cb&&!$s(ve,Le))return 0;if(e(ve.cb),Le.ac==null||Le.ac(Le)){Le.ob&&(ve.L=0);var Me=ga[ve.L];if(ve.L==2?(ve.yb=0,ve.zb=0):(ve.yb=Le.v-Me>>4,ve.zb=Le.j-Me>>4,0>ve.yb&&(ve.yb=0),0>ve.zb&&(ve.zb=0)),ve.Va=Le.o+15+Me>>4,ve.Hb=Le.va+15+Me>>4,ve.Hb>ve.za&&(ve.Hb=ve.za),ve.Va>ve.Ub&&(ve.Va=ve.Ub),0<ve.L){var Ze=ve.ed;for(Me=0;4>Me;++Me){var De;if(ve.Qa.Cb){var Xe=ve.Qa.Lb[Me];ve.Qa.Fb||(Xe+=Ze.Tb)}else Xe=Ze.Tb;for(De=0;1>=De;++De){var Ae=ve.gd[Me][De],nt=Xe;if(Ze.Pc&&(nt+=Ze.vd[0],De&&(nt+=Ze.od[0])),0<(nt=0>nt?0:63<nt?63:nt)){var it=nt;0<Ze.wb&&(it=4<Ze.wb?it>>2:it>>1)>9-Ze.wb&&(it=9-Ze.wb),1>it&&(it=1),Ae.dd=it,Ae.tc=2*nt+it,Ae.ld=40<=nt?2:15<=nt?1:0}else Ae.tc=0;Ae.La=De}}}Me=0}else jn(ve,6,"Frame setup failed"),Me=ve.a;if(Me=Me==0){if(Me){ve.$c=0,0<ve.Aa||(ve.Ic=ma);t:{Me=ve.Ic,Ze=4*(it=ve.za);var Ht=32*it,Ot=it+1,pn=0<ve.L?it*(0<ve.Aa?2:1):0,Ft=(ve.Aa==2?2:1)*it;if((Ae=Ze+832+(De=3*(16*Me+ga[ve.L])/2*Ht)+(Xe=ve.Fa!=null&&0<ve.Fa.length?ve.Kc.c*ve.Kc.i:0))!=Ae)Me=0;else{if(Ae>ve.Vb){if(ve.Vb=0,ve.Ec=s(Ae),ve.Fc=0,ve.Ec==null){Me=jn(ve,1,"no memory during frame initialization.");break t}ve.Vb=Ae}Ae=ve.Ec,nt=ve.Fc,ve.Ac=Ae,ve.Bc=nt,nt+=Ze,ve.Gd=l(Ht,ui),ve.Hd=0,ve.rb=l(Ot+1,Ns),ve.sb=1,ve.wa=pn?l(pn,bi):null,ve.Y=0,ve.D.Nb=0,ve.D.wa=ve.wa,ve.D.Y=ve.Y,0<ve.Aa&&(ve.D.Y+=it),e(!0),ve.oc=Ae,ve.pc=nt,nt+=832,ve.ya=l(Ft,Uo),ve.aa=0,ve.D.ya=ve.ya,ve.D.aa=ve.aa,ve.Aa==2&&(ve.D.aa+=it),ve.R=16*it,ve.B=8*it,it=(Ht=ga[ve.L])*ve.R,Ht=Ht/2*ve.B,ve.sa=Ae,ve.ta=nt+it,ve.qa=ve.sa,ve.ra=ve.ta+16*Me*ve.R+Ht,ve.Ha=ve.qa,ve.Ia=ve.ra+8*Me*ve.B+Ht,ve.$c=0,nt+=De,ve.mb=Xe?Ae:null,ve.nb=Xe?nt:null,e(nt+Xe<=ve.Fc+ve.Vb),Or(ve),i(ve.Ac,ve.Bc,0,Ze),Me=1}}if(Me){if(Le.ka=0,Le.y=ve.sa,Le.O=ve.ta,Le.f=ve.qa,Le.N=ve.ra,Le.ea=ve.Ha,Le.Vd=ve.Ia,Le.fa=ve.R,Le.Rc=ve.B,Le.F=null,Le.J=0,!Qu){for(Me=-255;255>=Me;++Me)Yu[255+Me]=0>Me?-Me:Me;for(Me=-1020;1020>=Me;++Me)Ku[1020+Me]=-128>Me?-128:127<Me?127:Me;for(Me=-112;112>=Me;++Me)Xu[112+Me]=-16>Me?-16:15<Me?15:Me;for(Me=-255;510>=Me;++Me)Ju[255+Me]=0>Me?0:255<Me?255:Me;Qu=1}da=Un,Ia=ms,ss=pl,Tn=na,sn=Ul,Lr=yu,Cn=ns,Dn=Qr,Os=I,Ra=ie,fa=ci,Ta=Rs,Ci=be,rl=Ce,Wl=ni,wu=Is,Fs=_o,Ri=Qa,Vi[0]=Wu,Vi[1]=ra,Vi[2]=Xa,Vi[3]=vo,Vi[4]=qu,Vi[5]=Sr,Vi[6]=Ks,Vi[7]=zl,Vi[8]=Aa,Vi[9]=Gl,qi[0]=Ys,qi[1]=Gu,qi[2]=Hu,qi[3]=Ka,qi[4]=Es,qi[5]=As,qi[6]=Ls,os[0]=zo,os[1]=Ya,os[2]=vu,os[3]=Ps,os[4]=ys,os[5]=Hl,os[6]=Xs,Me=1}else Me=0}Me&&(Me=(function(Ln,Gr){for(Ln.M=0;Ln.M<Ln.Va;++Ln.M){var mn,Tt=Ln.Jc[Ln.M&Ln.Xb],bt=Ln.m,Hr=Ln;for(mn=0;mn<Hr.za;++mn){var jt=bt,gn=Hr,zn=gn.Ac,hi=gn.Bc+4*mn,si=gn.zc,Kn=gn.ya[gn.aa+mn];if(gn.Qa.Bb?Kn.$b=Se(jt,gn.Pa.jb[0])?2+Se(jt,gn.Pa.jb[2]):Se(jt,gn.Pa.jb[1]):Kn.$b=0,gn.kc&&(Kn.Ad=Se(jt,gn.Bd)),Kn.Za=!Se(jt,145)+0,Kn.Za){var pi=Kn.Ob,br=0;for(gn=0;4>gn;++gn){var Mr,Fn=si[0+gn];for(Mr=0;4>Mr;++Mr){Fn=cd[zn[hi+Mr]][Fn];for(var Qn=ec[Se(jt,Fn[0])];0<Qn;)Qn=ec[2*Qn+Se(jt,Fn[Qn])];Fn=-Qn,zn[hi+Mr]=Fn}r(pi,br,zn,hi,4),br+=4,si[0+gn]=Fn}}else Fn=Se(jt,156)?Se(jt,128)?1:3:Se(jt,163)?2:0,Kn.Ob[0]=Fn,i(zn,hi,Fn,4),i(si,0,Fn,4);Kn.Dd=Se(jt,142)?Se(jt,114)?Se(jt,183)?1:3:2:0}if(Hr.m.Ka)return jn(Ln,7,"Premature end-of-partition0 encountered.");for(;Ln.ja<Ln.za;++Ln.ja){if(Hr=Tt,jt=(bt=Ln).rb[bt.sb-1],zn=bt.rb[bt.sb+bt.ja],mn=bt.ya[bt.aa+bt.ja],hi=bt.kc?mn.Ad:0)jt.la=zn.la=0,mn.Za||(jt.Na=zn.Na=0),mn.Hc=0,mn.Gc=0,mn.ia=0;else{var Pr,Zn;if(jt=zn,zn=Hr,hi=bt.Pa.Xc,si=bt.ya[bt.aa+bt.ja],Kn=bt.pb[si.$b],gn=si.ad,pi=0,br=bt.rb[bt.sb-1],Fn=Mr=0,i(gn,pi,0,384),si.Za)var Ir=0,Rr=hi[3];else{Qn=s(16);var lr=jt.Na+br.Na;if(lr=kl(zn,hi[1],lr,Kn.Eb,0,Qn,0),jt.Na=br.Na=(0<lr)+0,1<lr)da(Qn,0,gn,pi);else{var Ai=Qn[0]+3>>3;for(Qn=0;256>Qn;Qn+=16)gn[pi+Qn]=Ai}Ir=1,Rr=hi[0]}var rr=15&jt.la,ir=15&br.la;for(Qn=0;4>Qn;++Qn){var ei=1&ir;for(Ai=Zn=0;4>Ai;++Ai)rr=rr>>1|(ei=(lr=kl(zn,Rr,lr=ei+(1&rr),Kn.Sc,Ir,gn,pi))>Ir)<<7,Zn=Zn<<2|(3<lr?3:1<lr?2:gn[pi+0]!=0),pi+=16;rr>>=4,ir=ir>>1|ei<<7,Mr=(Mr<<8|Zn)>>>0}for(Rr=rr,Ir=ir>>4,Pr=0;4>Pr;Pr+=2){for(Zn=0,rr=jt.la>>4+Pr,ir=br.la>>4+Pr,Qn=0;2>Qn;++Qn){for(ei=1&ir,Ai=0;2>Ai;++Ai)lr=ei+(1&rr),rr=rr>>1|(ei=0<(lr=kl(zn,hi[2],lr,Kn.Qc,0,gn,pi)))<<3,Zn=Zn<<2|(3<lr?3:1<lr?2:gn[pi+0]!=0),pi+=16;rr>>=2,ir=ir>>1|ei<<5}Fn|=Zn<<4*Pr,Rr|=rr<<4<<Pr,Ir|=(240&ir)<<Pr}jt.la=Rr,br.la=Ir,si.Hc=Mr,si.Gc=Fn,si.ia=43690&Fn?0:Kn.ia,hi=!(Mr|Fn)}if(0<bt.L&&(bt.wa[bt.Y+bt.ja]=bt.gd[mn.$b][mn.Za],bt.wa[bt.Y+bt.ja].La|=!hi),Hr.Ka)return jn(Ln,7,"Premature end-of-file encountered.")}if(Or(Ln),bt=Gr,Hr=1,mn=(Tt=Ln).D,jt=0<Tt.L&&Tt.M>=Tt.zb&&Tt.M<=Tt.Va,Tt.Aa==0)t:{if(mn.M=Tt.M,mn.uc=jt,Fr(Tt,mn),Hr=1,mn=(Zn=Tt.D).Nb,jt=(Fn=ga[Tt.L])*Tt.R,zn=Fn/2*Tt.B,Qn=16*mn*Tt.R,Ai=8*mn*Tt.B,hi=Tt.sa,si=Tt.ta-jt+Qn,Kn=Tt.qa,gn=Tt.ra-zn+Ai,pi=Tt.Ha,br=Tt.Ia-zn+Ai,ir=(rr=Zn.M)==0,Mr=rr>=Tt.Va-1,Tt.Aa==2&&Fr(Tt,Zn),Zn.uc)for(ei=(lr=Tt).D.M,e(lr.D.uc),Zn=lr.yb;Zn<lr.Hb;++Zn){Ir=Zn,Rr=ei;var Li=(us=(Nn=lr).D).Nb;Pr=Nn.R;var us=us.wa[us.Y+Ir],ti=Nn.sa,Wr=Nn.ta+16*Li*Pr+16*Ir,cs=us.dd,ur=us.tc;if(ur!=0)if(e(3<=ur),Nn.L==1)0<Ir&&wu(ti,Wr,Pr,ur+4),us.La&&Ri(ti,Wr,Pr,ur),0<Rr&&Wl(ti,Wr,Pr,ur+4),us.La&&Fs(ti,Wr,Pr,ur);else{var Di=Nn.B,er=Nn.qa,ln=Nn.ra+8*Li*Di+8*Ir,Gn=Nn.Ha,Nn=Nn.Ia+8*Li*Di+8*Ir;Li=us.ld,0<Ir&&(Dn(ti,Wr,Pr,ur+4,cs,Li),Ra(er,ln,Gn,Nn,Di,ur+4,cs,Li)),us.La&&(Ta(ti,Wr,Pr,ur,cs,Li),rl(er,ln,Gn,Nn,Di,ur,cs,Li)),0<Rr&&(Cn(ti,Wr,Pr,ur+4,cs,Li),Os(er,ln,Gn,Nn,Di,ur+4,cs,Li)),us.La&&(fa(ti,Wr,Pr,ur,cs,Li),Ci(er,ln,Gn,Nn,Di,ur,cs,Li))}}if(Tt.ia&&alert("todo:DitherRow"),bt.put!=null){if(Zn=16*rr,rr=16*(rr+1),ir?(bt.y=Tt.sa,bt.O=Tt.ta+Qn,bt.f=Tt.qa,bt.N=Tt.ra+Ai,bt.ea=Tt.Ha,bt.W=Tt.Ia+Ai):(Zn-=Fn,bt.y=hi,bt.O=si,bt.f=Kn,bt.N=gn,bt.ea=pi,bt.W=br),Mr||(rr-=Fn),rr>bt.o&&(rr=bt.o),bt.F=null,bt.J=null,Tt.Fa!=null&&0<Tt.Fa.length&&Zn<rr&&(bt.J=ri(Tt,bt,Zn,rr-Zn),bt.F=Tt.mb,bt.F==null&&bt.F.length==0)){Hr=jn(Tt,3,"Could not decode alpha data.");break t}Zn<bt.j&&(Fn=bt.j-Zn,Zn=bt.j,e(!(1&Fn)),bt.O+=Tt.R*Fn,bt.N+=Tt.B*(Fn>>1),bt.W+=Tt.B*(Fn>>1),bt.F!=null&&(bt.J+=bt.width*Fn)),Zn<rr&&(bt.O+=bt.v,bt.N+=bt.v>>1,bt.W+=bt.v>>1,bt.F!=null&&(bt.J+=bt.v),bt.ka=Zn-bt.j,bt.U=bt.va-bt.v,bt.T=rr-Zn,Hr=bt.put(bt))}mn+1!=Tt.Ic||Mr||(r(Tt.sa,Tt.ta-jt,hi,si+16*Tt.R,jt),r(Tt.qa,Tt.ra-zn,Kn,gn+8*Tt.B,zn),r(Tt.Ha,Tt.Ia-zn,pi,br+8*Tt.B,zn))}if(!Hr)return jn(Ln,6,"Output aborted.")}return 1})(ve,Le)),Le.bc!=null&&Le.bc(Le),Me&=1}return Me?(ve.cb=0,Me):0})(w,q)||(C=w.a)}}else C=w.a}C==0&&de.Oa!=null&&de.Oa.fd&&(C=vl(de.ba))}de=C}oe=de!=0?null:11>oe?he.f.RGBA.eb:he.f.kb.y}else oe=null;return oe};var Nl=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(M,V){for(var F="",H=0;H<4;H++)F+=String.fromCharCode(M[V++]);return F}function p(M,V){return M[V+0]|M[V+1]<<8}function y(M,V){return(M[V+0]|M[V+1]<<8|M[V+2]<<16)>>>0}function v(M,V){return(M[V+0]|M[V+1]<<8|M[V+2]<<16|M[V+3]<<24)>>>0}new c;var g=[0],_=[0],S=[],E=new c,A=t,N=(function(M,V){var F={},H=0,Z=!1,ne=0,le=0;if(F.frames=[],!(function(j,K){for(var X=0;X<4;X++)if(j[K+X]!="RIFF".charCodeAt(X))return!0;return!1})(M,V)){for(v(M,V+=4),V+=8;V<M.length;){var xe=h(M,V),B=v(M,V+=4);V+=4;var G=B+(1&B);switch(xe){case"VP8 ":case"VP8L":F.frames[H]===void 0&&(F.frames[H]={}),($=F.frames[H]).src_off=Z?le:V-8,$.src_size=ne+B+8,H++,Z&&(Z=!1,ne=0,le=0);break;case"VP8X":($=F.header={}).feature_flags=M[V];var Q=V+4;$.canvas_width=1+y(M,Q),Q+=3,$.canvas_height=1+y(M,Q),Q+=3;break;case"ALPH":Z=!0,ne=G+8,le=V-8;break;case"ANIM":($=F.header).bgcolor=v(M,V),Q=V+4,$.loop_count=p(M,Q),Q+=2;break;case"ANMF":var ee,$;($=F.frames[H]={}).offset_x=2*y(M,V),V+=3,$.offset_y=2*y(M,V),V+=3,$.width=1+y(M,V),V+=3,$.height=1+y(M,V),V+=3,$.duration=y(M,V),V+=3,ee=M[V++],$.dispose=1&ee,$.blend=ee>>1&1}xe!="ANMF"&&(V+=G)}return F}})(A,0);N.response=A,N.rgbaoutput=!0,N.dataurl=!1;var x=N.header?N.header:null,L=N.frames?N.frames:null;if(x){x.loop_counter=x.loop_count,g=[x.canvas_height],_=[x.canvas_width];for(var D=0;D<L.length&&L[D].blend!=0;D++);}var W=L[0],re=E.WebPDecodeRGBA(A,W.src_off,W.src_size,_,g);W.rgba=re,W.imgwidth=_[0],W.imgheight=g[0];for(var U=0;U<_[0]*g[0]*4;U++)S[U]=re[U];return this.width=_,this.height=g,this.data=S,this}(function(t){var e,n,r,i,s,l,u,c,h,p=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new c,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new l,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new l,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,h=new p}]);var y=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=j;Object.defineProperty(this,"pdf",{get:function(){return K}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Be){X=!!Be}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(Be){ce=!!Be}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(Be){isNaN(Be)||(ae=Be)}});var J=0;Object.defineProperty(this,"posY",{get:function(){return J},set:function(Be){isNaN(Be)||(J=Be)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Be){var ye;typeof Be=="number"?ye=[Be,Be,Be,Be]:((ye=new Array(4))[0]=Be[0],ye[1]=Be.length>=2?Be[1]:ye[0],ye[2]=Be.length>=3?Be[2]:ye[0],ye[3]=Be.length>=4?Be[3]:ye[1]),h.margin=ye}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(Be){ge=Be}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(Be){_e=Be}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(Be){Se=Be}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Be){Be instanceof p&&(h=Be)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Be){h.path=Be}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(Be){Re=Be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Be){var ye;ye=v(Be),this.ctx.fillStyle=ye.style,this.ctx.isFillTransparent=ye.a===0,this.ctx.fillOpacity=ye.a,this.pdf.setFillColor(ye.r,ye.g,ye.b,{a:ye.a}),this.pdf.setTextColor(ye.r,ye.g,ye.b,{a:ye.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Be){var ye=v(Be);this.ctx.strokeStyle=ye.style,this.ctx.isStrokeTransparent=ye.a===0,this.ctx.strokeOpacity=ye.a,ye.a===0?this.pdf.setDrawColor(255,255,255):(ye.a,this.pdf.setDrawColor(ye.r,ye.g,ye.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Be){["butt","round","square"].indexOf(Be)!==-1&&(this.ctx.lineCap=Be,this.pdf.setLineCap(Be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Be){isNaN(Be)||(this.ctx.lineWidth=Be,this.pdf.setLineWidth(Be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Be){["bevel","round","miter"].indexOf(Be)!==-1&&(this.ctx.lineJoin=Be,this.pdf.setLineJoin(Be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Be){isNaN(Be)||(this.ctx.miterLimit=Be,this.pdf.setMiterLimit(Be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Be){this.ctx.textBaseline=Be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Be){["right","end","center","left","start"].indexOf(Be)!==-1&&(this.ctx.textAlign=Be)}});var Ue=null,Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(Be){Ue=null,Ve=Be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Be){var ye;if(this.ctx.font=Be,(ye=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Be))!==null){var Fe=ye[1];ye[2];var Ge=ye[3],Je=ye[4];ye[5];var Qe=ye[6],ut=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(ut==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:ut==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var ot=(function(St){var wt,wn,In=[],Dt=St.trim();if(Dt==="")return Bg;if(Dt in u4)return[u4[Dt]];for(;Dt!=="";){switch(wn=null,wt=(Dt=d4(Dt)).charAt(0)){case'"':case"'":wn=TT(Dt.substring(1),wt);break;default:wn=DT(Dt)}if(wn===null||(In.push(wn[0]),(Dt=d4(wn[1]))!==""&&Dt.charAt(0)!==","))return Bg;Dt=Dt.replace(/^,/,"")}return In})(Qe);if(this.fontFaces){var ht=(function(St,wt){if(Ue===null){var wn=(function(In){var Dt=[];return Object.keys(In).forEach(function(rn){In[rn].forEach(function(Wn){var Yt=null;switch(Wn){case"bold":Yt={family:rn,weight:"bold"};break;case"italic":Yt={family:rn,style:"italic"};break;case"bolditalic":Yt={family:rn,weight:"bold",style:"italic"};break;case"":case"normal":Yt={family:rn}}Yt!==null&&(Yt.ref={name:rn,style:Wn},Dt.push(Yt))})}),Dt})(St.getFontList());Ue=(function(In){for(var Dt={},rn=0;rn<In.length;++rn){var Wn=Mg(In[rn]),Yt=Wn.family,An=Wn.stretch,dn=Wn.style,Er=Wn.weight;Dt[Yt]=Dt[Yt]||{},Dt[Yt][An]=Dt[Yt][An]||{},Dt[Yt][An][dn]=Dt[Yt][An][dn]||{},Dt[Yt][An][dn][Er]=Wn}return Dt})(wn.concat(wt))}return Ue})(this.pdf,this.fontFaces),ct=ot.map(function(St){return{family:St,stretch:"normal",weight:Ge,style:Fe}}),Bt=(function(St,wt,wn){for(var In=(wn=wn||{}).defaultFontFamily||"times",Dt=Object.assign({},RT,wn.genericFontFamilies||{}),rn=null,Wn=null,Yt=0;Yt<wt.length;++Yt)if(Dt[(rn=Mg(wt[Yt])).family]&&(rn.family=Dt[rn.family]),St.hasOwnProperty(rn.family)){Wn=St[rn.family];break}if(!(Wn=Wn||St[In]))throw new Error("Could not find a font-family for the rule '"+c4(rn)+"' and default family '"+In+"'.");if(Wn=(function(An,dn){if(dn[An])return dn[An];var Er=L2[An],xr=Er<=L2.normal?-1:1,qn=l4(dn,mb,Er,xr);if(!qn)throw new Error("Could not find a matching font-stretch value for "+An);return qn})(rn.stretch,Wn),Wn=(function(An,dn){if(dn[An])return dn[An];for(var Er=gb[An],xr=0;xr<Er.length;++xr)if(dn[Er[xr]])return dn[Er[xr]];throw new Error("Could not find a matching font-style for "+An)})(rn.style,Wn),!(Wn=(function(An,dn){if(dn[An])return dn[An];if(An===400&&dn[500])return dn[500];if(An===500&&dn[400])return dn[400];var Er=IT[An],xr=l4(dn,yb,Er,An<400?-1:1);if(!xr)throw new Error("Could not find a matching font-weight for value "+An);return xr})(rn.weight,Wn)))throw new Error("Failed to resolve a font for the rule '"+c4(rn)+"'.");return Wn})(ht,ct);this.pdf.setFont(Bt.ref.name,Bt.ref.style)}else{var kt="";(Ge==="bold"||parseInt(Ge,10)>=700||Fe==="bold")&&(kt="bold"),Fe==="italic"&&(kt+="italic"),kt.length===0&&(kt="normal");for(var Et="",Sn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Vt=0;Vt<ot.length;Vt++){if(this.pdf.internal.getFont(ot[Vt],kt,{noFallback:!0,disableWarning:!0})!==void 0){Et=ot[Vt];break}if(kt==="bolditalic"&&this.pdf.internal.getFont(ot[Vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Et=ot[Vt],kt="bold";else if(this.pdf.internal.getFont(ot[Vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Et=ot[Vt],kt="normal";break}}if(Et===""){for(var Lt=0;Lt<ot.length;Lt++)if(Sn[ot[Lt]]){Et=Sn[ot[Lt]];break}}Et=Et===""?"Times":Et,this.pdf.setFont(Et,kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Be){this.ctx.globalCompositeOperation=Be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Be){this.ctx.globalAlpha=Be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Be){this.ctx.lineDashOffset=Be,$.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Be){this.ctx.lineDash=Be,$.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Be){this.ctx.ignoreClearRect=!!Be}})};y.prototype.setLineDash=function(j){this.lineDash=j},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){L.call(this,"fill",!1)},y.prototype.stroke=function(){L.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(j,K){if(isNaN(j)||isNaN(K))throw Kr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new l(j,K));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new l(j,K)},y.prototype.closePath=function(){var j=new l(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Dr(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){j=new l(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(j.x,j.y)},y.prototype.lineTo=function(j,K){if(isNaN(j)||isNaN(K))throw Kr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new l(j,K));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new l(X.x,X.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},y.prototype.quadraticCurveTo=function(j,K,X,ce){if(isNaN(X)||isNaN(ce)||isNaN(j)||isNaN(K))throw Kr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new l(X,ce)),J=this.ctx.transform.applyToPoint(new l(j,K));this.path.push({type:"qct",x1:J.x,y1:J.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new l(ae.x,ae.y)},y.prototype.bezierCurveTo=function(j,K,X,ce,ae,J){if(isNaN(ae)||isNaN(J)||isNaN(j)||isNaN(K)||isNaN(X)||isNaN(ce))throw Kr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new l(ae,J)),_e=this.ctx.transform.applyToPoint(new l(j,K)),Se=this.ctx.transform.applyToPoint(new l(X,ce));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:Se.x,y2:Se.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new l(ge.x,ge.y)},y.prototype.arc=function(j,K,X,ce,ae,J){if(isNaN(j)||isNaN(K)||isNaN(X)||isNaN(ce)||isNaN(ae))throw Kr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(J=!!J,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new l(j,K));j=ge.x,K=ge.y;var _e=this.ctx.transform.applyToPoint(new l(0,X)),Se=this.ctx.transform.applyToPoint(new l(0,0));X=Math.sqrt(Math.pow(_e.x-Se.x,2)+Math.pow(_e.y-Se.y,2))}Math.abs(ae-ce)>=2*Math.PI&&(ce=0,ae=2*Math.PI),this.path.push({type:"arc",x:j,y:K,radius:X,startAngle:ce,endAngle:ae,counterclockwise:J})},y.prototype.arcTo=function(j,K,X,ce,ae){throw new Error("arcTo not implemented.")},y.prototype.rect=function(j,K,X,ce){if(isNaN(j)||isNaN(K)||isNaN(X)||isNaN(ce))throw Kr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,K),this.lineTo(j+X,K),this.lineTo(j+X,K+ce),this.lineTo(j,K+ce),this.lineTo(j,K),this.lineTo(j+X,K),this.lineTo(j,K)},y.prototype.fillRect=function(j,K,X,ce){if(isNaN(j)||isNaN(K)||isNaN(X)||isNaN(ce))throw Kr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,K,X,ce),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},y.prototype.strokeRect=function(j,K,X,ce){if(isNaN(j)||isNaN(K)||isNaN(X)||isNaN(ce))throw Kr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(j,K,X,ce),this.stroke())},y.prototype.clearRect=function(j,K,X,ce){if(isNaN(j)||isNaN(K)||isNaN(X)||isNaN(ce))throw Kr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,K,X,ce))},y.prototype.save=function(j){j=typeof j!="boolean"||j;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},y.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(K),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(j){var K,X,ce,ae;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))K=0,X=0,ce=0,ae=0;else{var J=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(J!==null)K=parseInt(J[1]),X=parseInt(J[2]),ce=parseInt(J[3]),ae=1;else if((J=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)K=parseInt(J[1]),X=parseInt(J[2]),ce=parseInt(J[3]),ae=parseFloat(J[4]);else{if(ae=1,typeof j=="string"&&j.charAt(0)!=="#"){var ge=new lb(j);j=ge.ok?ge.toHex():"#000000"}j.length===4?(K=j.substring(1,2),K+=K,X=j.substring(2,3),X+=X,ce=j.substring(3,4),ce+=ce):(K=j.substring(1,3),X=j.substring(3,5),ce=j.substring(5,7)),K=parseInt(K,16),X=parseInt(X,16),ce=parseInt(ce,16)}}return{r:K,g:X,b:ce,a:ae,style:j}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(j,K,X,ce){if(isNaN(K)||isNaN(X)||typeof j!="string")throw Kr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!g.call(this)){var ae=G(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;H.call(this,{text:j,x:K,y:X,scale:J,angle:ae,align:this.textAlign,maxWidth:ce})}},y.prototype.strokeText=function(j,K,X,ce){if(isNaN(K)||isNaN(X)||typeof j!="string")throw Kr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){ce=isNaN(ce)?void 0:ce;var ae=G(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;H.call(this,{text:j,x:K,y:X,scale:J,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:ce})}},y.prototype.measureText=function(j){if(typeof j!="string")throw Kr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,X=this.pdf.internal.scaleFactor,ce=K.internal.getFontSize(),ae=K.getStringUnitWidth(j)*ce/K.internal.scaleFactor;return new function(J){var ge=(J=J||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this}({width:ae*=Math.round(96*X/72*1e4)/1e4})},y.prototype.scale=function(j,K){if(isNaN(j)||isNaN(K))throw Kr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new c(j,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},y.prototype.rotate=function(j){if(isNaN(j))throw Kr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new c(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},y.prototype.translate=function(j,K){if(isNaN(j)||isNaN(K))throw Kr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new c(1,0,0,1,j,K);this.ctx.transform=this.ctx.transform.multiply(X)},y.prototype.transform=function(j,K,X,ce,ae,J){if(isNaN(j)||isNaN(K)||isNaN(X)||isNaN(ce)||isNaN(ae)||isNaN(J))throw Kr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new c(j,K,X,ce,ae,J);this.ctx.transform=this.ctx.transform.multiply(ge)},y.prototype.setTransform=function(j,K,X,ce,ae,J){j=isNaN(j)?1:j,K=isNaN(K)?0:K,X=isNaN(X)?0:X,ce=isNaN(ce)?1:ce,ae=isNaN(ae)?0:ae,J=isNaN(J)?0:J,this.ctx.transform=new c(j,K,X,ce,ae,J)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(j,K,X,ce,ae,J,ge,_e,Se){var Re=this.pdf.getImageProperties(j),Ue=1,Ve=1,Be=1,ye=1;ce!==void 0&&_e!==void 0&&(Be=_e/ce,ye=Se/ae,Ue=Re.width/ce*_e/ce,Ve=Re.height/ae*Se/ae),J===void 0&&(J=K,ge=X,K=0,X=0),ce!==void 0&&_e===void 0&&(_e=ce,Se=ae),ce===void 0&&_e===void 0&&(_e=Re.width,Se=Re.height);for(var Fe,Ge=this.ctx.transform.decompose(),Je=G(Ge.rotate.shx),Qe=new c,ut=(Qe=(Qe=(Qe=Qe.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale)).applyToRectangle(new u(J-K*Be,ge-X*ye,ce*Ue,ae*Ve)),ot=E.call(this,ut),ht=[],ct=0;ct<ot.length;ct+=1)ht.indexOf(ot[ct])===-1&&ht.push(ot[ct]);if(x(ht),this.autoPaging)for(var Bt=ht[0],kt=ht[ht.length-1],Et=Bt;Et<kt+1;Et++){this.pdf.setPage(Et);var Sn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vt=Et===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=Et===1?0:Lt+(Et-2)*St;if(this.ctx.clip_path.length!==0){var wn=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Fe,this.posX+this.margin[3],-wt+Vt+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=wn}var In=JSON.parse(JSON.stringify(ut));In=N([In],this.posX+this.margin[3],-wt+Vt+this.ctx.prevPageLastElemOffset)[0];var Dt=(Et>Bt||Et<kt)&&S.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Sn,St,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",In.x,In.y,In.w,In.h,null,null,Je),Dt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",ut.x,ut.y,ut.w,ut.h,null,null,Je)};var E=function(j,K,X){var ce=[];K=K||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":ce.push(Math.floor((j.y+ae)/X)+1);break;case"arc":ce.push(Math.floor((j.y+ae-j.radius)/X)+1),ce.push(Math.floor((j.y+ae+j.radius)/X)+1);break;case"qct":var J=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);ce.push(Math.floor((J.y+ae)/X)+1),ce.push(Math.floor((J.y+J.h+ae)/X)+1);break;case"bct":var ge=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);ce.push(Math.floor((ge.y+ae)/X)+1),ce.push(Math.floor((ge.y+ge.h+ae)/X)+1);break;case"rect":ce.push(Math.floor((j.y+ae)/X)+1),ce.push(Math.floor((j.y+j.h+ae)/X)+1)}for(var _e=0;_e<ce.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<ce[_e];)A.call(this);return ce},A=function(){var j=this.fillStyle,K=this.strokeStyle,X=this.font,ce=this.lineCap,ae=this.lineWidth,J=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=K,this.font=X,this.lineCap=ce,this.lineWidth=ae,this.lineJoin=J},N=function(j,K,X){for(var ce=0;ce<j.length;ce++)switch(j[ce].type){case"bct":j[ce].x2+=K,j[ce].y2+=X;case"qct":j[ce].x1+=K,j[ce].y1+=X;default:j[ce].x+=K,j[ce].y+=X}return j},x=function(j){return j.sort(function(K,X){return K-X})},L=function(j,K){for(var X,ce,ae=this.fillStyle,J=this.strokeStyle,ge=this.lineCap,_e=this.lineWidth,Se=Math.abs(_e*this.ctx.transform.scaleX),Re=this.lineJoin,Ue=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),Be=[],ye=0;ye<Ve.length;ye++)if(Ve[ye].x!==void 0)for(var Fe=E.call(this,Ve[ye]),Ge=0;Ge<Fe.length;Ge+=1)Be.indexOf(Fe[Ge])===-1&&Be.push(Fe[Ge]);for(var Je=0;Je<Be.length;Je++)for(;this.pdf.internal.getNumberOfPages()<Be[Je];)A.call(this);if(x(Be),this.autoPaging)for(var Qe=Be[0],ut=Be[Be.length-1],ot=Qe;ot<ut+1;ot++){this.pdf.setPage(ot),this.fillStyle=ae,this.strokeStyle=J,this.lineCap=ge,this.lineWidth=Se,this.lineJoin=Re;var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=ot===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Et=ot===1?0:Bt+(ot-2)*kt;if(this.ctx.clip_path.length!==0){var Sn=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(X,this.posX+this.margin[3],-Et+ct+this.ctx.prevPageLastElemOffset),D.call(this,j,!0),this.path=Sn}if(ce=JSON.parse(JSON.stringify(Ue)),this.path=N(ce,this.posX+this.margin[3],-Et+ct+this.ctx.prevPageLastElemOffset),K===!1||ot===0){var Vt=(ot>Qe||ot<ut)&&S.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,kt,null).clip().discardPath()),D.call(this,j,K),Vt&&this.pdf.restoreGraphicsState()}this.lineWidth=_e}else this.lineWidth=Se,D.call(this,j,K),this.lineWidth=_e;this.path=Ue},D=function(j,K){if((j!=="stroke"||K||!_.call(this))&&(j==="stroke"||K||!g.call(this))){for(var X,ce,ae=[],J=this.path,ge=0;ge<J.length;ge++){var _e=J[ge];switch(_e.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:_e,deltas:[],abs:[]});break;case"lt":var Se=ae.length;if(J[ge-1]&&!isNaN(J[ge-1].x)&&(X=[_e.x-J[ge-1].x,_e.y-J[ge-1].y],Se>0)){for(;Se>=0;Se--)if(ae[Se-1].close!==!0&&ae[Se-1].begin!==!0){ae[Se-1].deltas.push(X),ae[Se-1].abs.push(_e);break}}break;case"bct":X=[_e.x1-J[ge-1].x,_e.y1-J[ge-1].y,_e.x2-J[ge-1].x,_e.y2-J[ge-1].y,_e.x-J[ge-1].x,_e.y-J[ge-1].y],ae[ae.length-1].deltas.push(X);break;case"qct":var Re=J[ge-1].x+2/3*(_e.x1-J[ge-1].x),Ue=J[ge-1].y+2/3*(_e.y1-J[ge-1].y),Ve=_e.x+2/3*(_e.x1-_e.x),Be=_e.y+2/3*(_e.y1-_e.y),ye=_e.x,Fe=_e.y;X=[Re-J[ge-1].x,Ue-J[ge-1].y,Ve-J[ge-1].x,Be-J[ge-1].y,ye-J[ge-1].x,Fe-J[ge-1].y],ae[ae.length-1].deltas.push(X);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(_e)}}ce=K?null:j==="stroke"?"stroke":"fill";for(var Ge=!1,Je=0;Je<ae.length;Je++)if(ae[Je].arc)for(var Qe=ae[Je].abs,ut=0;ut<Qe.length;ut++){var ot=Qe[ut];ot.type==="arc"?U.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,K,!Ge):Z.call(this,ot.x,ot.y),Ge=!0}else if(ae[Je].close===!0)this.pdf.internal.out("h"),Ge=!1;else if(ae[Je].begin!==!0){var ht=ae[Je].start.x,ct=ae[Je].start.y;ne.call(this,ae[Je].deltas,ht,ct),Ge=!0}ce&&M.call(this,ce),K&&V.call(this)}},W=function(j){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-X;case"top":return j+K-X;case"hanging":return j+K-2*X;case"middle":return j+K/2-X;default:return j}},re=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(K,X){this.colorStops.push([K,X])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(j,K,X,ce,ae,J,ge,_e,Se){for(var Re=xe.call(this,X,ce,ae,J),Ue=0;Ue<Re.length;Ue++){var Ve=Re[Ue];Ue===0&&(Se?F.call(this,Ve.x1+j,Ve.y1+K):Z.call(this,Ve.x1+j,Ve.y1+K)),le.call(this,j,K,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}_e?V.call(this):M.call(this,ge)},M=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(j,K){this.pdf.internal.out(n(j)+" "+r(K)+" m")},H=function(j){var K;switch(j.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var X=this.pdf.getTextDimensions(j.text),ce=W.call(this,j.y),ae=re.call(this,ce)-X.h,J=this.ctx.transform.applyToPoint(new l(j.x,ce)),ge=this.ctx.transform.decompose(),_e=new c;_e=(_e=(_e=_e.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var Se,Re,Ue,Ve=this.ctx.transform.applyToRectangle(new u(j.x,ce,X.w,X.h)),Be=_e.applyToRectangle(new u(j.x,ae,X.w,X.h)),ye=E.call(this,Be),Fe=[],Ge=0;Ge<ye.length;Ge+=1)Fe.indexOf(ye[Ge])===-1&&Fe.push(ye[Ge]);if(x(Fe),this.autoPaging)for(var Je=Fe[0],Qe=Fe[Fe.length-1],ut=Je;ut<Qe+1;ut++){this.pdf.setPage(ut);var ot=ut===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[2],Bt=ct-this.margin[0],kt=this.pdf.internal.pageSize.width-this.margin[1],Et=kt-this.margin[3],Sn=ut===1?0:ht+(ut-2)*Bt;if(this.ctx.clip_path.length!==0){var Vt=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Se,this.posX+this.margin[3],-1*Sn+ot),D.call(this,"fill",!0),this.path=Vt}var Lt=N([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-Sn+ot+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*j.scale),Ue=this.lineWidth,this.lineWidth=Ue*j.scale);var St=this.autoPaging!=="text";if(St||Lt.y+Lt.h<=ct){if(St||Lt.y>=ot&&Lt.x<=kt){var wt=St?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||kt-Lt.x)[0],wn=N([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-Sn+ot+this.ctx.prevPageLastElemOffset)[0],In=St&&(ut>Je||ut<Qe)&&S.call(this);In&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,Bt,null).clip().discardPath()),this.pdf.text(wt,wn.x,wn.y,{angle:j.angle,align:K,renderingMode:j.renderingMode}),In&&this.pdf.restoreGraphicsState()}}else Lt.y<ct&&(this.ctx.prevPageLastElemOffset+=ct-Lt.y);j.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=Ue)}else j.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*j.scale),Ue=this.lineWidth,this.lineWidth=Ue*j.scale),this.pdf.text(j.text,J.x+this.posX,J.y+this.posY,{angle:j.angle,align:K,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=Ue)},Z=function(j,K,X,ce){X=X||0,ce=ce||0,this.pdf.internal.out(n(j+X)+" "+r(K+ce)+" l")},ne=function(j,K,X){return this.pdf.lines(j,K,X,null,null)},le=function(j,K,X,ce,ae,J,ge,_e){this.pdf.internal.out([e(i(X+j)),e(s(ce+K)),e(i(ae+j)),e(s(J+K)),e(i(ge+j)),e(s(_e+K)),"c"].join(" "))},xe=function(j,K,X,ce){for(var ae=2*Math.PI,J=Math.PI/2;K>X;)K-=ae;var ge=Math.abs(X-K);ge<ae&&ce&&(ge=ae-ge);for(var _e=[],Se=ce?-1:1,Re=K;ge>1e-5;){var Ue=Re+Se*Math.min(ge,J);_e.push(B.call(this,j,Re,Ue)),ge-=Math.abs(Ue-Re),Re=Ue}return _e},B=function(j,K,X){var ce=(X-K)/2,ae=j*Math.cos(ce),J=j*Math.sin(ce),ge=ae,_e=-J,Se=ge*ge+_e*_e,Re=Se+ge*ae+_e*J,Ue=4/3*(Math.sqrt(2*Se*Re)-Re)/(ge*J-_e*ae),Ve=ge-Ue*_e,Be=_e+Ue*ge,ye=Ve,Fe=-Be,Ge=ce+K,Je=Math.cos(Ge),Qe=Math.sin(Ge);return{x1:j*Math.cos(K),y1:j*Math.sin(K),x2:Ve*Je-Be*Qe,y2:Ve*Qe+Be*Je,x3:ye*Je-Fe*Qe,y3:ye*Qe+Fe*Je,x4:j*Math.cos(X),y4:j*Math.sin(X)}},G=function(j){return 180*j/Math.PI},Q=function(j,K,X,ce,ae,J){var ge=j+.5*(X-j),_e=K+.5*(ce-K),Se=ae+.5*(X-ae),Re=J+.5*(ce-J),Ue=Math.min(j,ae,ge,Se),Ve=Math.max(j,ae,ge,Se),Be=Math.min(K,J,_e,Re),ye=Math.max(K,J,_e,Re);return new u(Ue,Be,Ve-Ue,ye-Be)},ee=function(j,K,X,ce,ae,J,ge,_e){var Se,Re,Ue,Ve,Be,ye,Fe,Ge,Je,Qe,ut,ot,ht,ct,Bt=X-j,kt=ce-K,Et=ae-X,Sn=J-ce,Vt=ge-ae,Lt=_e-J;for(Re=0;Re<41;Re++)Je=(Fe=(Ue=j+(Se=Re/40)*Bt)+Se*((Be=X+Se*Et)-Ue))+Se*(Be+Se*(ae+Se*Vt-Be)-Fe),Qe=(Ge=(Ve=K+Se*kt)+Se*((ye=ce+Se*Sn)-Ve))+Se*(ye+Se*(J+Se*Lt-ye)-Ge),Re==0?(ut=Je,ot=Qe,ht=Je,ct=Qe):(ut=Math.min(ut,Je),ot=Math.min(ot,Qe),ht=Math.max(ht,Je),ct=Math.max(ct,Qe));return new u(Math.round(ut),Math.round(ot),Math.round(ht-ut),Math.round(ct-ot))},$=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,K,X=(j=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:K}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Qt.API),(function(t){var e=function(l){var u,c,h,p,y,v,g,_,S,E;for(c=[],h=0,p=(l+=u="\0\0\0\0".slice(l.length%4||4)).length;p>h;h+=4)(y=(l.charCodeAt(h)<<24)+(l.charCodeAt(h+1)<<16)+(l.charCodeAt(h+2)<<8)+l.charCodeAt(h+3))!==0?(v=(y=((y=((y=((y=(y-(E=y%85))/85)-(S=y%85))/85)-(_=y%85))/85)-(g=y%85))/85)%85,c.push(v+33,g+33,_+33,S+33,E+33)):c.push(122);return(function(A,N){for(var x=N;x>0;x--)A.pop()})(c,u.length),String.fromCharCode.apply(String,c)+"~>"},n=function(l){var u,c,h,p,y,v=String,g="length",_=255,S="charCodeAt",E="slice",A="replace";for(l[E](-2),l=l[E](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),h=[],p=0,y=(l+=u="uuuuu"[E](l[g]%5||5))[g];y>p;p+=5)c=52200625*(l[S](p)-33)+614125*(l[S](p+1)-33)+7225*(l[S](p+2)-33)+85*(l[S](p+3)-33)+(l[S](p+4)-33),h.push(_&c>>24,_&c>>16,_&c>>8,_&c);return(function(N,x){for(var L=x;L>0;L--)N.pop()})(h,u[g]),v.fromCharCode.apply(v,h)},r=function(l){return l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(l){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),u.test(l)===!1)return"";for(var c="",h=0;h<l.length;h+=2)c+=String.fromCharCode("0x"+(l[h]+l[h+1]));return c},s=function(l){for(var u=new Uint8Array(l.length),c=l.length;c--;)u[c]=l.charCodeAt(c);return(u=x2(u)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};t.processDataByFilters=function(l,u){var c=0,h=l||"",p=[];for(typeof(u=u||[])=="string"&&(u=[u]),c=0;c<u.length;c+=1)switch(u[c]){case"ASCII85Decode":case"/ASCII85Decode":h=n(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=r(h),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[c]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}})(Qt.API),(function(t){t.loadFile=function(e,n,r){return(function(i,s,l){s=s!==!1,l=typeof l=="function"?l:function(){};var u=void 0;try{u=(function(c,h,p){var y=new XMLHttpRequest,v=0,g=function(_){var S=_.length,E=[],A=String.fromCharCode;for(v=0;v<S;v+=1)E.push(A(255&_.charCodeAt(v)));return E.join("")};if(y.open("GET",c,!h),y.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(y.onload=function(){y.status===200?p(g(this.responseText)):p(void 0)}),y.send(null),h&&y.status===200)return g(y.responseText)})(i,s,l)}catch{}return u})(e,n,r)},t.loadImageFile=t.loadFile})(Qt.API),(function(t){function e(){return(vn.html2canvas?Promise.resolve(vn.html2canvas):wg(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function n(){return(vn.DOMPurify?Promise.resolve(vn.DOMPurify):wg(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var c=Dr(u);return c==="undefined"?"undefined":c==="string"||u instanceof String?"string":c==="number"||u instanceof Number?"number":c==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(u,c){var h=document.createElement(u);for(var p in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[p]=c.style[p];return h},s=function u(c,h){for(var p=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),y=c.firstChild;y;y=y.nextSibling)h!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||p.appendChild(u(y,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(p.width=c.width,p.height=c.height,p.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(p.value=c.value),p.addEventListener("load",function(){p.scrollTop=c.scrollTop,p.scrollLeft=c.scrollLeft},!0)),p},l=function u(c){var h=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),p=u.convert(Promise.resolve(),h);return(p=p.setProgress(1,u,1,[u])).set(c)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(u,c){return u.__proto__=c||l.prototype,u},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(u,c){return this.then(function(){switch(c=c||(function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),c){case"string":return this.then(n).then(function(h){return this.set({src:i("div",{innerHTML:u,dompurify:h})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},l.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(c){var h=this.opt.jsPDF,p=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var g=0;g<p.length;++g){var _=p[g],S=_.src.find(function(E){return E.format==="truetype"});S&&h.addFont(S.url,_.ref.name,_.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,h.context2d.save(!0),c(this.prop.container,v)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(u,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(u,c):this.outputPdf(u,c)},l.prototype.outputPdf=function(u,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,c)})},l.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},l.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(u){if(r(u)!=="object")return this;var c=Object.keys(u||{}).map(function(h){if(h in l.template.prop)return function(){this.prop[h]=u[h]};switch(h){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[h]=u[h]}}},this);return this.then(function(){return this.thenList(c)})},l.prototype.get=function(u,c){return this.then(function(){var h=u in l.template.prop?this.prop[u]:this.opt[u];return c?c(h):h})},l.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},l.prototype.setPageSize=function(u){function c(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(u=u||Qt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:c(u.inner.width,u.k),height:c(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},l.prototype.setProgress=function(u,c,h,p){return u!=null&&(this.progress.val=u),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(u,c,h,p){return this.setProgress(u?this.progress.val+u:null,c||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},l.prototype.then=function(u,c){var h=this;return this.thenCore(u,c,function(p,y){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(v){return h.updateProgress(null,p),v}).then(p,y).then(function(v){return h.updateProgress(1),v})})},l.prototype.thenCore=function(u,c,h){h=h||Promise.prototype.then;var p=this;u&&(u=u.bind(p)),c&&(c=c.bind(p));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:l.convert(Object.assign({},p),Promise.prototype),v=h.call(y,u,c);return l.convert(v,p.__proto__)},l.prototype.thenExternal=function(u,c){return Promise.prototype.then.call(this,u,c)},l.prototype.thenList=function(u){var c=this;return u.forEach(function(h){c=c.thenCore(h)}),c},l.prototype.catch=function(u){u&&(u=u.bind(this));var c=Promise.prototype.catch.call(this,u);return l.convert(c,this)},l.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},l.prototype.error=function(u){return this.then(function(){throw new Error(u)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Qt.getPageSize=function(u,c,h){if(Dr(u)==="object"){var p=u;u=p.orientation,c=p.unit||c,h=p.format||h}c=c||"mm",h=h||"a4",u=(""+(u||"P")).toLowerCase();var y,v=(""+h).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+c}var _,S=0,E=0;if(g.hasOwnProperty(v))S=g[v][1]/y,E=g[v][0]/y;else try{S=h[1],E=h[0]}catch{throw new Error("Invalid format: "+h)}if(u==="p"||u==="portrait")u="p",E>S&&(_=E,E=S,S=_);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",S>E&&(_=E,E=S,S=_)}return{width:E,height:S,unit:c,k:y,orientation:u}},t.html=function(u,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Mg):null;var h=new l(c);return c.worker?h:h.from(u).doCallback()}})(Qt.API),Qt.API.addJS=function(t){return h4=t,this.internal.events.subscribe("postPutResources",function(){zp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(zp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),f4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+h4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){zp!==void 0&&f4!==void 0&&this.internal.out("/Names <</JavaScript "+zp+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var l=i[s],u=r.exec(l);if(u!=null){var c=u[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(s=0;s<h;s++){var y=n.internal.newObject();p.push(y);var v=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<p.length;s++)n.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var l={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var l=r.children[s];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var u=this.count=this.count_r({count:0},l);if(u>0&&this.line("/Count "+u),l.options&&l.options.pageNumber){var c=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(Qt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,l,u){var c,h=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=(function(y){for(var v,g=256*y.charCodeAt(4)+y.charCodeAt(5),_=y.length,S={width:0,height:0,numcomponents:1},E=4;E<_;E+=2){if(E+=g,e.indexOf(y.charCodeAt(E+1))!==-1){v=256*y.charCodeAt(E+5)+y.charCodeAt(E+6),S={width:256*y.charCodeAt(E+7)+y.charCodeAt(E+8),height:v,numcomponents:y.charCodeAt(E+9)};break}g=256*y.charCodeAt(E+2)+y.charCodeAt(E+3)}return S})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:n,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:h,index:r,alias:i}}return p}})(Qt.API),Qt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=yT(t,{checkCrc:!0}),l=s.width,u=s.height,c=s.channels,h=s.palette,p=s.depth;i=h&&c===1?(function(U){for(var M=U.width,V=U.height,F=U.data,H=U.palette,Z=U.depth,ne=!1,le=[],xe=[],B=void 0,G=!1,Q=0,ee=0;ee<H.length;ee++){var $=y3(H[ee],4),j=$[0],K=$[1],X=$[2],ce=$[3];le.push(j,K,X),ce!=null&&(ce===0?(Q++,xe.length<1&&xe.push(ee)):ce<255&&(G=!0))}if(G||Q>1){ne=!0,xe=void 0;var ae=M*V;B=new Uint8Array(ae);for(var J=new DataView(F.buffer),ge=0;ge<ae;ge++){var _e=jg(J,ge,Z),Se=y3(H[_e],4)[3];B[ge]=Se}}else Q===0&&(xe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ne?8:void 0,colorBytes:F,alphaBytes:B,needSMask:ne,palette:le,mask:xe}})(s):c===2||c===4?(function(U){for(var M=U.data,V=U.width,F=U.height,H=U.channels,Z=U.depth,ne=H===2?"DeviceGray":"DeviceRGB",le=H-1,xe=V*F,B=le,G=xe*B,Q=1*xe,ee=Math.ceil(G*Z/8),$=Math.ceil(Q*Z/8),j=new Uint8Array(ee),K=new Uint8Array($),X=new DataView(M.buffer),ce=new DataView(j.buffer),ae=new DataView(K.buffer),J=!1,ge=0;ge<xe;ge++){for(var _e=ge*H,Se=0;Se<B;Se++)x4(ce,jg(X,_e+Se,Z),ge*B+Se,Z);var Re=jg(X,_e+B,Z);Re<(1<<Z)-1&&(J=!0),x4(ae,Re,1*ge,Z)}return{colorSpace:ne,colorsPerPixel:le,sMaskBitsPerComponent:J?Z:void 0,colorBytes:j,alphaBytes:K,needSMask:J}})(s):(function(U){var M=U.data,V=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:V,colorsPerPixel:V==="DeviceGray"?1:3,colorBytes:M instanceof Uint16Array?(function(F){for(var H=F.length,Z=new Uint8Array(2*H),ne=new DataView(Z.buffer,Z.byteOffset,Z.byteLength),le=0;le<H;le++)ne.setUint16(2*le,F[le],!1);return Z})(M):M,needSMask:!1}})(s);var y,v,g,_=i,S=_.colorSpace,E=_.colorsPerPixel,A=_.sMaskBitsPerComponent,N=_.colorBytes,x=_.alphaBytes,L=_.needSMask,D=_.palette,W=_.mask,re=null;return r!==Qt.API.image_compression.NONE&&typeof x2=="function"?(re=(function(U){var M;switch(U){case Qt.API.image_compression.FAST:M=11;break;case Qt.API.image_compression.MEDIUM:M=13;break;case Qt.API.image_compression.SLOW:M=14;break;default:M=12}return M})(r),y=this.decode.FLATE_DECODE,v="/Predictor ".concat(re," /Colors ").concat(E," /BitsPerComponent ").concat(p," /Columns ").concat(l),t=y4(N,Math.ceil(l*E*p/8),E,p,r),L&&(g=y4(x,Math.ceil(l*A/8),1,A,r))):(y=void 0,v=void 0,t=N,L&&(g=x)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:n,data:t,index:e,filter:y,decodeParameters:v,transparency:W,palette:D,sMask:g,predictor:re,width:l,height:u,bitsPerComponent:p,sMaskBitsPerComponent:A,colorSpace:S}}},(function(t){t.processGIF89A=function(e,n,r,i){var s=new BT(e),l=s.width,u=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:l,height:u},p=new Ug(100).encode(h,100);return t.processJPEG.call(this,p,n,r,i)},t.processGIF87A=t.processGIF89A})(Qt.API),Tl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Tl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Kr.log("bit decode error:"+n)}},Tl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var c=this.palette[s>>7-u&1];this.data[l+4*u]=c.blue,this.data[l+4*u+1]=c.green,this.data[l+4*u+2]=c.red,this.data[l+4*u+3]=255}n!==0&&(this.pos+=4-n)}},Tl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*i*4,u=s>>4,c=15&s,h=this.palette[u];if(this.data[l]=h.blue,this.data[l+1]=h.green,this.data[l+2]=h.red,this.data[l+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[l+4]=h.blue,this.data[l+4+1]=h.green,this.data[l+4+2]=h.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Tl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var l=this.palette[i];this.data[s]=l.red,this.data[s+1]=l.green,this.data[s+2]=l.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Tl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,u=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,h=s>>15?255:0,p=r*this.width*4+4*i;this.data[p]=c,this.data[p+1]=u,this.data[p+2]=l,this.data[p+3]=h}this.pos+=t}},Tl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&e)/e*255|0,c=(l>>5&n)/n*255|0,h=(l>>11)/e*255|0,p=i*this.width*4+4*s;this.data[p]=h,this.data[p+1]=c,this.data[p+2]=u,this.data[p+3]=255}this.pos+=t}},Tl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Tl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*n;this.data[u]=s,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=l}},Tl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var s=new Tl(e,!1),l=s.width,u=s.height,c={data:s.getData(),width:l,height:u},h=new Ug(100).encode(c,100);return t.processJPEG.call(this,h,n,r,i)}})(Qt.API),k4.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var s=new k4(e),l=s.width,u=s.height,c={data:s.getData(),width:l,height:u},h=new Ug(100).encode(c,100);return t.processJPEG.call(this,h,n,r,i)}})(Qt.API),Qt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),l=new Uint8Array(i/4),u=0,c=0,h=0;h<i;h+=4){var p=r[h],y=r[h+1],v=r[h+2],g=r[h+3];s[u++]=p,s[u++]=y,s[u++]=v,l[c++]=g}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:_,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Qt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ed=Qt.API,Gp=Ed.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:i.metadata.Unicode.widths,c=u.fof?u.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=h.fof?h.fof:1,y=e.doKerning!==!1,v=0,g=t.length,_=0,S=u[0]||c,E=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?E.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+l*(1e3/s)||0)/1e3):(v=y&&Dr(h[r])==="object"&&!isNaN(parseInt(h[r][_],10))?h[r][_]/p:0,E.push((u[r]||S)/c+v)),_=r;return E},p4=Ed.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ed.processArabic&&(t=Ed.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Gp.apply(this,arguments).reduce(function(s,l){return s+l},0)},g4=function(t,e,n,r){for(var i=[],s=0,l=t.length,u=0;s!==l&&u+e[s]<n;)u+=e[s],s++;i.push(t.slice(0,s));var c=s;for(u=0;s!==l;)u+e[s]>r&&(i.push(t.slice(c,s)),u=0,c=s),u+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},m4=function(t,e,n){n||(n={});var r,i,s,l,u,c,h,p=[],y=[p],v=n.textIndent||0,g=0,_=0,S=t.split(" "),E=Gp.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var A=Array(c).join(" "),N=[];S.map(function(L){(L=L.split(/\s*\n/)).length>1?N=N.concat(L.map(function(D,W){return(W&&D.length?`
`:"")+D})):N.push(L[0])}),S=N,c=p4.apply(this,[A,n])}for(s=0,l=S.length;s<l;s++){var x=0;if(r=S[s],c&&r[0]==`
`&&(r=r.substr(1),x=1),v+g+(_=(i=Gp.apply(this,[r,n])).reduce(function(L,D){return L+D},0))>e||x){if(_>e){for(u=g4.apply(this,[r,i,e-(v+g),e]),p.push(u.shift()),p=[u.pop()];u.length;)y.push([u.shift()]);_=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(L,D){return L+D},0)}else p=[r];y.push(p),v=_+c,g=E}else p.push(r),v+=g+_,g=E}return h=c?function(L,D){return(D?A:"")+L.join(" ")}:function(L){return L.join(" ")},y.map(h)},Ed.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var y=this.internal.getFont(p.fontName,p.fontStyle),v="Unicode";return y.metadata[v]?{widths:y.metadata[v].widths||{0:1},kerning:y.metadata[v].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var u,c,h=[];for(u=0,c=r.length;u<c;u++)h=h.concat(m4.apply(this,[r[u],l,s]));return h},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var l=function(v){return"0x"+parseInt(v,10).toString(16)},u=t.__fontmetrics__.compress=function(v){var g,_,S,E,A=["{"];for(var N in v){if(g=v[N],isNaN(parseInt(N,10))?_="'"+N+"'":(N=parseInt(N,10),_=(_=l(N).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof g=="number")g<0?(S=l(g).slice(3),E="-"):(S=l(g).slice(2),E=""),S=E+S.slice(0,-1)+i[S.slice(-1)];else{if(Dr(g)!=="object")throw new Error("Don't know what to do with value type "+Dr(g)+".");S=u(g)}A.push(_+S)}return A.push("}"),A.join("")},c=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,_,S,E,A={},N=1,x=A,L=[],D="",W="",re=v.length-1,U=1;U<re;U+=1)(E=v[U])=="'"?g?(S=g.join(""),g=void 0):g=[]:g?g.push(E):E=="{"?(L.push([x,S]),x={},S=void 0):E=="}"?((_=L.pop())[0][_[1]]=x,S=void 0,x=_[0]):E=="-"?N=-1:S===void 0?r.hasOwnProperty(E)?(D+=r[E],S=parseInt(D,16)*N,N=1,D=""):D+=E:r.hasOwnProperty(E)?(W+=r[E],x[S]=parseInt(W,16)*N,N=1,S=void 0,W=""):W+=E;return A},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},y={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var g=v.font,_=y.Unicode[g.postScriptName];_&&(g.metadata.Unicode={},g.metadata.Unicode.widths=_.widths,g.metadata.Unicode.kerning=_.kerning);var S=p.Unicode[g.postScriptName];S&&(g.metadata.Unicode.encoding=S,g.encoding=S.codePages[0])}])})(Qt.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(n0(u)),l.metadata=t.API.TTFFont.open(u),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,r)}}])})(Qt),Qt.API.addSvgAsImage=function(t,e,n,r,i,s,l,u){if(isNaN(e)||isNaN(n))throw Kr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Kr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var h=c.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,c.width,c.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(vn.canvg?Promise.resolve(vn.canvg):wg(()=>import("./index.es-BLo8FVAS.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(h,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(p)}).then(function(){y.addImage(c.toDataURL("image/jpeg",1),e,n,r,i,l,u)})},Qt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Qt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),c=[],h=0,p=0,y=0;function v(_,S){var E,A=!1;for(E=0;E<_.length;E+=1)_[E]===S&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=u.length;for(y=0;y<g;y+=1)n[u[y]].value=n[u[y]].defaultValue,n[u[y]].explicitSet=!1}if(Dr(t)==="object"){for(i in t)if(s=t[i],v(u,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&v(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")c.push(String(s[h]-1));else if(s[h].length>1){for(p=0;p<s[h].length;p+=1)typeof s[h][p]!="number"&&(r=!1);r===!0&&c.push([s[h][0]-1,s[h][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,S=[];for(_ in n)n[_].explicitSet===!0&&(n[_].type==="name"?S.push("/"+_+" /"+n[_].value):S.push("/"+_+" "+n[_].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+l.length+u.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+l+u+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(Qt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(s,l){for(var u,c=l.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],y=0,v=s.length;y<v;++y){if(u=l.metadata.characterToGlyph(s.charCodeAt(y)),l.metadata.glyIdsUsed.push(u),l.metadata.toUnicode[u]=s.charCodeAt(y),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(l.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(h[4-u.length],u)}return p.join("")},r=function(s){var l,u,c,h,p,y,v;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],y=0,v=(u=Object.keys(s).sort(function(g,_){return g-_})).length;y<v;y++)l=u[y],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[l]!==void 0&&s[l]!==null&&typeof s[l].toString=="function"&&(h=("0000"+s[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),c.push("<"+l+"><"+h+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(l){var u=l.font,c=l.out,h=l.newObject,p=l.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="Identity-H"){for(var y=u.metadata.Unicode.widths,v=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),g="",_=0;_<v.length;_++)g+=String.fromCharCode(v[_]);var S=h();p({data:g,addLength1:!0,objectId:S}),c("endobj");var E=h();p({data:r(u.metadata.toUnicode),addLength1:!0,objectId:E}),c("endobj");var A=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Id(u.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var N=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+Id(u.fontName)),c("/FontDescriptor "+A+" 0 R"),c("/W "+t.API.PDFObject.convert(y)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+E+" 0 R"),c("/BaseFont /"+Id(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+N+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(l){var u=l.font,c=l.out,h=l.newObject,p=l.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var y=u.metadata.rawData,v="",g=0;g<y.length;g++)v+=String.fromCharCode(y[g]);var _=h();p({data:v,addLength1:!0,objectId:_}),c("endobj");var S=h();p({data:r(u.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var E=h();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+_+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+Id(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=h();for(var A=0;A<u.metadata.hmtx.widths.length;A++)u.metadata.hmtx.widths[A]=parseInt(u.metadata.hmtx.widths[A]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Id(u.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]);var i=function(s){var l,u=s.text||"",c=s.x,h=s.y,p=s.options||{},y=s.mutex||{},v=y.pdfEscape,g=y.activeFontKey,_=y.fonts,S=g,E="",A=0,N="",x=_[S].encoding;if(_[S].encoding!=="Identity-H")return{text:u,x:c,y:h,options:p,mutex:y};for(N=u,S=g,Array.isArray(u)&&(N=u[0]),A=0;A<N.length;A+=1)_[S].metadata.hasOwnProperty("cmap")&&(l=_[S].metadata.cmap.unicode.codeMap[N[A].charCodeAt(0)]),l||N[A].charCodeAt(0)<256&&_[S].metadata.hasOwnProperty("Unicode")?E+=N[A]:E+="";var L="";return parseInt(S.slice(1))<14||x==="WinAnsiEncoding"?L=v(E,S).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(L=n(E,_[S])),y.isHex=!0,{text:L,x:c,y:h,options:p,mutex:y}};e.events.push(["postProcessText",function(s){var l=s.text||"",u=[],c={text:l,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(l)){var h=0;for(h=0;h<l.length;h+=1)Array.isArray(l[h])&&l[h].length===3?u.push([i(Object.assign({},c,{text:l[h][0]})).text,l[h][1],l[h][2]]):u.push(i(Object.assign({},c,{text:l[h]})).text);s.text=u}else s.text=i(Object.assign({},c,{text:l})).text}])})(Qt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Qt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,l,u,c,h,p,y=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,x=0;this.__bidiEngine__={};var L=function(F){var H=F.charCodeAt(),Z=H>>8,ne=S[Z];return ne!==void 0?y[256*ne+(255&H)]:Z===252||Z===253?"AL":A.test(Z)?"L":Z===8?"R":"N"},D=function(F){for(var H,Z=0;Z<F.length;Z++){if((H=L(F.charAt(Z)))==="L")return!1;if(H==="R")return!0}return!1},W=function(F,H,Z,ne){var le,xe,B,G,Q=H[ne];switch(Q){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(Q="AN");break;case"AL":N=!0,Q="R";break;case"WS":case"BN":Q="N";break;case"CS":ne<1||ne+1>=H.length||(le=Z[ne-1])!=="EN"&&le!=="AN"||(xe=H[ne+1])!=="EN"&&xe!=="AN"?Q="N":N&&(xe="AN"),Q=xe===le?xe:"N";break;case"ES":Q=(le=ne>0?Z[ne-1]:"B")==="EN"&&ne+1<H.length&&H[ne+1]==="EN"?"EN":"N";break;case"ET":if(ne>0&&Z[ne-1]==="EN"){Q="EN";break}if(N){Q="N";break}for(B=ne+1,G=H.length;B<G&&H[B]==="ET";)B++;Q=B<G&&H[B]==="EN"?"EN":"N";break;case"NSM":if(l&&!u){for(G=H.length,B=ne+1;B<G&&H[B]==="NSM";)B++;if(B<G){var ee=F[ne],$=ee>=1425&&ee<=2303||ee===64286;if(le=H[B],$&&(le==="R"||le==="AL")){Q="R";break}}}Q=ne<1||(le=H[ne-1])==="B"?"N":Z[ne-1];break;case"B":N=!1,i=!0,Q=x;break;case"S":s=!0,Q="N"}return Q},re=function(F,H,Z){var ne=F.split("");return Z&&U(ne,Z,{hiLevel:x}),ne.reverse(),H&&H.reverse(),ne.join("")},U=function(F,H,Z){var ne,le,xe,B,G,Q=-1,ee=F.length,$=0,j=[],K=x?g:v,X=[];for(N=!1,i=!1,s=!1,le=0;le<ee;le++)X[le]=L(F[le]);for(xe=0;xe<ee;xe++){if(G=$,j[xe]=W(F,X,j,xe),ne=240&($=K[G][_[j[xe]]]),$&=15,H[xe]=B=K[$][5],ne>0)if(ne===16){for(le=Q;le<xe;le++)H[le]=1;Q=-1}else Q=-1;if(K[$][6])Q===-1&&(Q=xe);else if(Q>-1){for(le=Q;le<xe;le++)H[le]=B;Q=-1}X[xe]==="B"&&(H[xe]=0),Z.hiLevel|=B}s&&(function(ce,ae,J){for(var ge=0;ge<J;ge++)if(ce[ge]==="S"){ae[ge]=x;for(var _e=ge-1;_e>=0&&ce[_e]==="WS";_e--)ae[_e]=x}})(X,H,ee)},M=function(F,H,Z,ne,le){if(!(le.hiLevel<F)){if(F===1&&x===1&&!i)return H.reverse(),void(Z&&Z.reverse());for(var xe,B,G,Q,ee=H.length,$=0;$<ee;){if(ne[$]>=F){for(G=$+1;G<ee&&ne[G]>=F;)G++;for(Q=$,B=G-1;Q<B;Q++,B--)xe=H[Q],H[Q]=H[B],H[B]=xe,Z&&(xe=Z[Q],Z[Q]=Z[B],Z[B]=xe);$=G}$++}}},V=function(F,H,Z){var ne=F.split(""),le={hiLevel:x};return Z||(Z=[]),U(ne,Z,le),(function(xe,B,G){if(G.hiLevel!==0&&p)for(var Q,ee=0;ee<xe.length;ee++)B[ee]===1&&(Q=E.indexOf(xe[ee]))>=0&&(xe[ee]=E[Q+1])})(ne,Z,le),M(2,ne,H,Z,le),M(1,ne,H,Z,le),ne.join("")};return this.__bidiEngine__.doBidiReorder=function(F,H,Z){if((function(le,xe){if(xe)for(var B=0;B<le.length;B++)xe[B]=B;u===void 0&&(u=D(le)),h===void 0&&(h=D(le))})(F,H),l||!c||h)if(l&&c&&u^h)x=u?1:0,F=re(F,H,Z);else if(!l&&c&&h)x=u?1:0,F=V(F,H,Z),F=re(F,H);else if(!l||u||c||h){if(l&&!c&&u^h)F=re(F,H),u?(x=0,F=V(F,H,Z)):(x=1,F=V(F,H,Z),F=re(F,H));else if(l&&u&&!c&&h)x=1,F=V(F,H,Z),F=re(F,H);else if(!l&&!c&&u^h){var ne=p;u?(x=1,F=V(F,H,Z),x=0,p=!1,F=V(F,H,Z),p=ne):(x=0,F=V(F,H,Z),F=re(F,H),x=1,p=!1,F=V(F,H,Z),p=ne,F=re(F,H))}}else x=0,F=V(F,H,Z);else x=u?1:0,F=V(F,H,Z);return F},this.__bidiEngine__.setOptions=function(F){F&&(l=F.isInputVisual,c=F.isOutputVisual,u=F.isInputRtl,h=F.isOutputRtl,p=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var l=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(l=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?l.push([n.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):l.push([n.doBidiReorder(i[u])]);r.text=l}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(Qt),Qt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Ic(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new ZT(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new jT(this.contents),this.head=new zT(this),this.name=new VT(this),this.cmap=new wb(this),this.toUnicode={},this.hhea=new GT(this),this.maxp=new $T(this),this.hmtx=new YT(this),this.post=new WT(this),this.os2=new HT(this),this.loca=new QT(this),this.glyf=new KT(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,u,c,h;for(h=[],l=0,u=(c=this.bbox).length;l<u;l++)e=c[l],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,l,u;for(l=0,s=0,u=(e=""+e).length;0<=u?s<u:s>u;s=0<=u?++s:--s)i=e.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return l*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var jl,Ic=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,l,u,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^l)+256*(255^u)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*l+256*u+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t})(),jT=(function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,l,u,c,h,p,y,v,g,_,S;for(S in g=Object.keys(n).length,c=Math.log(2),y=16*Math.floor(Math.log(g)/c),l=Math.floor(y/c),p=16*g-y,(i=new Ic).writeInt(this.scalarType),i.writeShort(g),i.writeShort(y),i.writeShort(l),i.writeShort(p),s=16*g,h=i.pos+s,u=null,_=[],n)for(v=n[S],i.writeString(S),i.writeInt(t(v)),i.writeInt(h),i.writeInt(v.length),_=_.concat(v),S==="head"&&(u=h),h+=v.length;h%4;)_.push(0),h++;return i.write(_),r=2981146554-t(i.data),i.pos=u+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,l;for(n=bb.call(n);n.length%4;)n.push(0);for(s=new Ic(n),i=0,r=0,l=n.length;r<l;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),UT={}.hasOwnProperty,mu=function(t,e){for(var n in e)UT.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};jl=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var zT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mu(t,jl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Ic).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),C4=(function(){function t(e,n){var r,i,s,l,u,c,h,p,y,v,g,_,S,E,A,N,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(g=e.readUInt16(),v=g/2,e.pos+=6,s=(function(){var L,D;for(D=[],c=L=0;0<=v?L<v:L>v;c=0<=v?++L:--L)D.push(e.readUInt16());return D})(),e.pos+=2,S=(function(){var L,D;for(D=[],c=L=0;0<=v?L<v:L>v;c=0<=v?++L:--L)D.push(e.readUInt16());return D})(),h=(function(){var L,D;for(D=[],c=L=0;0<=v?L<v:L>v;c=0<=v?++L:--L)D.push(e.readUInt16());return D})(),p=(function(){var L,D;for(D=[],c=L=0;0<=v?L<v:L>v;c=0<=v?++L:--L)D.push(e.readUInt16());return D})(),i=(this.length-e.pos+this.offset)/2,u=(function(){var L,D;for(D=[],c=L=0;0<=i?L<i:L>i;c=0<=i?++L:--L)D.push(e.readUInt16());return D})(),c=A=0,x=s.length;A<x;c=++A)for(E=s[c],r=N=_=S[c];_<=E?N<=E:N>=E;r=_<=E?++N:--N)p[c]===0?l=r+h[c]:(l=u[p[c]/2+(r-_)-(v-c)]||0)!==0&&(l+=h[c]),this.codeMap[r]=65535&l}e.pos=y}return t.encode=function(e,n){var r,i,s,l,u,c,h,p,y,v,g,_,S,E,A,N,x,L,D,W,re,U,M,V,F,H,Z,ne,le,xe,B,G,Q,ee,$,j,K,X,ce,ae,J,ge,_e,Se,Re,Ue;switch(ne=new Ic,l=Object.keys(e).sort(function(Ve,Be){return Ve-Be}),n){case"macroman":for(S=0,E=(function(){var Ve=[];for(_=0;_<256;++_)Ve.push(0);return Ve})(),N={0:0},s={},le=0,Q=l.length;le<Q;le++)N[_e=e[i=l[le]]]==null&&(N[_e]=++S),s[i]={old:e[i],new:N[e[i]]},E[i]=N[e[i]];return ne.writeUInt16(1),ne.writeUInt16(0),ne.writeUInt32(12),ne.writeUInt16(0),ne.writeUInt16(262),ne.writeUInt16(0),ne.write(E),{charMap:s,subtable:ne.data,maxGlyphID:S+1};case"unicode":for(H=[],y=[],x=0,N={},r={},A=h=null,xe=0,ee=l.length;xe<ee;xe++)N[D=e[i=l[xe]]]==null&&(N[D]=++x),r[i]={old:D,new:N[D]},u=N[D]-i,A!=null&&u===h||(A&&y.push(A),H.push(i),h=u),A=i;for(A&&y.push(A),y.push(65535),H.push(65535),V=2*(M=H.length),U=2*Math.pow(Math.log(M)/Math.LN2,2),v=Math.log(U/2)/Math.LN2,re=2*M-U,c=[],W=[],g=[],_=B=0,$=H.length;B<$;_=++B){if(F=H[_],p=y[_],F===65535){c.push(0),W.push(0);break}if(F-(Z=r[F].new)>=32768)for(c.push(0),W.push(2*(g.length+M-_)),i=G=F;F<=p?G<=p:G>=p;i=F<=p?++G:--G)g.push(r[i].new);else c.push(Z-F),W.push(0)}for(ne.writeUInt16(3),ne.writeUInt16(1),ne.writeUInt32(12),ne.writeUInt16(4),ne.writeUInt16(16+8*M+2*g.length),ne.writeUInt16(0),ne.writeUInt16(V),ne.writeUInt16(U),ne.writeUInt16(v),ne.writeUInt16(re),J=0,j=y.length;J<j;J++)i=y[J],ne.writeUInt16(i);for(ne.writeUInt16(0),ge=0,K=H.length;ge<K;ge++)i=H[ge],ne.writeUInt16(i);for(Se=0,X=c.length;Se<X;Se++)u=c[Se],ne.writeUInt16(u);for(Re=0,ce=W.length;Re<ce;Re++)L=W[Re],ne.writeUInt16(L);for(Ue=0,ae=g.length;Ue<ae;Ue++)S=g[Ue],ne.writeUInt16(S);return{charMap:r,subtable:ne.data,maxGlyphID:x+1}}},t})(),wb=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mu(t,jl),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new C4(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=C4.encode(e,n),(i=new Ic).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),GT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mu(t,jl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),HT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mu(t,jl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),WT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mu(t,jl),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var l,u,c;for(c=[],s=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;s=0<=u?++l:--l)c.push(e.readUInt32());return c}).call(this)}},t})(),qT=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},VT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mu(t,jl),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,l,u,c,h,p,y,v;for(e.pos=this.offset,e.readShort(),n=e.readShort(),u=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(c={},s=p=0,y=r.length;p<y;s=++p)i=r[s],e.pos=i.offset,h=e.readString(i.length),l=new qT(h,i),c[v=i.nameID]==null&&(c[v]=[]),c[i.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),$T=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mu(t,jl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),YT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mu(t,jl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,l,u,c;for(e.pos=this.offset,this.metrics=[],n=0,u=this.file.hhea.numberOfMetrics;0<=u?n<u:n>u;n=0<=u?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,p;for(p=[],n=h=0;0<=i?h<i:h>i;n=0<=i?++h:--h)p.push(e.readInt16());return p})(),this.widths=(function(){var h,p,y,v;for(v=[],h=0,p=(y=this.metrics).length;h<p;h++)s=y[h],v.push(s.advance);return v}).call(this),r=this.widths[this.widths.length-1],c=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),bb=[].slice,KT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mu(t,jl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,l,u,c,h,p,y;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,l=(u=new Ic(n.read(i))).readShort(),h=u.readShort(),y=u.readShort(),c=u.readShort(),p=u.readShort(),this.cache[e]=l===-1?new JT(u,h,y,c,p):new XT(u,l,h,y,c,p),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,l,u,c;for(l=[],s=[],u=0,c=n.length;u<c;u++)i=e[n[u]],s.push(l.length),i&&(l=l.concat(i.encode(r)));return s.push(l.length),{table:l,offsets:s}},t})(),XT=(function(){function t(e,n,r,i,s,l){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),JT=(function(){function t(e,n,r,i,s){var l,u;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;u=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&u;)l.pos+=1&u?4:2,128&u?l.pos+=8:64&u?l.pos+=4:8&u&&(l.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Ic(bb.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),QT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mu(t,jl),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,l=0;l<r.length;++l)if(r[l]=i,s<n.length&&n[s]==l){++s,r[l]=i;var u=this.offsets[l],c=this.offsets[l+1]-u;c>0&&(i+=c)}for(var h=new Array(4*r.length),p=0;p<r.length;++p)h[4*p+3]=255&r[p],h[4*p+2]=(65280&r[p])>>8,h[4*p+1]=(16711680&r[p])>>16,h[4*p]=(4278190080&r[p])>>24;return h},t})(),ZT=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,l,u,c;for(i={},l=0,u=e.length;l<u;l++)i[s=e[l]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,l,u,c,h,p,y,v,g,_,S,E,A;for(i in r=wb.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),g={0:0},A=r.charMap)g[(c=A[i]).old]=c.new;for(_ in v=r.maxGlyphID,l)_ in g||(g[_]=v++);return p=(function(N){var x,L;for(x in L={},N)L[N[x]]=x;return L})(g),y=Object.keys(p).sort(function(N,x){return N-x}),S=(function(){var N,x,L;for(L=[],N=0,x=y.length;N<x;N++)u=y[N],L.push(p[u]);return L})(),s=this.font.glyf.encode(l,S,g),h=this.font.loca.encode(s.offsets,S),E={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},t})();Qt.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,l;if(Array.isArray(n))return"["+(function(){var u,c,h;for(h=[],u=0,c=n.length;u<c;u++)r=n[u],h.push(e.convert(r));return h})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)l=n[i],s.push("/"+i+" "+e.convert(l));return s.push(">>"),s.join(`
`)}return""+n},e})();const _b="https://daisy.wisoft.io/kimbanana/app/api";async function eD(t,e){const n=await fetch(`${_b}/invitations`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify(t)});if(!n.ok){if(n.status===401||n.status===403)throw new Error(" .  .");const r=await n.text();throw new Error(`   : ${r||n.statusText}`)}return n.json()}async function tD(t){const e=await fetch(`${_b}/invitations/${t}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(!e.ok)throw new Error(`   : ${e.statusText}`);return e.json()}const au="https://daisy.wisoft.io/kimbanana/app/api",zg="wss://daisy.wisoft.io/kimbanana/app/ws-api",nD=t=>{const e={};return t.forEach((n,r)=>{var l,u,c,h;const i=((u=(l=n.get("shapes"))==null?void 0:l.toJSON)==null?void 0:u.call(l))||[],s=((h=(c=n.get("texts"))==null?void 0:c.toJSON)==null?void 0:h.call(c))||[];e[r]={shapes:i,texts:s}}),e};function rD(t){var l;const[e,n]=t.split(","),r=((l=e.match(/:(.*?);/))==null?void 0:l[1])||"image/png",i=atob(n),s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return new Blob([s],{type:r})}const iD=()=>{var ts,ks;const{user:t,getAuthToken:e,isAuthenticated:n}=(du==null?void 0:du())??{user:null,getAuthToken:()=>Promise.resolve(null),isAuthenticated:!1},[r]=mx(),[i,s]=ue.useState(null),[l,u]=ue.useState(!1),c=ue.useCallback(async(rt,$e={})=>{const st=i||await e(),at={...$e.headers};return st&&(at.Authorization=`Bearer ${st}`),fetch(rt,{...$e,headers:at,credentials:"include"})},[e,i]),[h,p]=ue.useState("cursor"),[y,v]=ue.useState("#B0B0B0"),[g,_]=ue.useState([]),[S,E]=ue.useState(""),[A,N]=ue.useState({}),[x,L]=ue.useState(!1),[D,W]=ue.useState(20),[re,U]=ue.useState(15),[M,V]=ue.useState("size"),[F,H]=ue.useState(void 0),[Z,ne]=ue.useState([]),[le,xe]=ue.useState([]),[B,G]=ue.useState(null),[Q,ee]=ue.useState(null),[$,j]=ue.useState(null),K=ue.useRef(null),{isFullscreen:X,enter:ce,exit:ae}=lI(K),[J,ge]=ue.useState(!1),{id:_e}=R2(),Se=_e??"p1",Re=Se.startsWith("demo-"),Ue=ue.useRef(null),Ve=ue.useRef(null),Be=ue.useRef(null),ye=ue.useRef(new Map),Fe=ue.useRef(null),Ge=ue.useRef(null),Je=ue.useRef(null),Qe=ue.useRef(!1),ut=ue.useRef(null),ot=ue.useRef("");ue.useEffect(()=>ge(X),[X]),ue.useEffect(()=>{if(n){s(null),u(!1),sessionStorage.removeItem(`guestToken_${Se}`);return}const rt=r.get("invite"),$e=`guestToken_${Se}`;if(rt)tD(rt).then(st=>{if(st.valid&&st.guest_token){s(st.guest_token),u(!0),sessionStorage.setItem($e,st.guest_token);const at=new URLSearchParams(r);at.delete("invite");const gt=window.location.pathname+(at.toString()?`?${at.toString()}`:"");window.history.replaceState({},"",gt)}else alert(st.message||"    .")}).catch(st=>{console.error("   :",st),alert("   .")});else{const st=sessionStorage.getItem($e);st?(s(st),u(!0)):(s(null),u(!1))}},[r,Se,n]);const ht=ue.useCallback(async rt=>{const $e=rD(rt),st=new FormData;st.append("file",$e,`thumb_${Se}.png`),st.append("presentationId",Se);const at=`${au}/images/thumbnails/presentation`,gt=await c(at,{method:"POST",body:st});if(!gt.ok)throw new Error(`thumbnail upload failed: ${gt.status}`)},[Se,c]),{thumbnails:ct,renderThumbnail:Bt,scheduleThumbnail:kt,updateThumbnail:Et,renderHighResThumbnail:Sn}=uI({uploadFirstThumbnail:ht}),Vt=()=>{const rt=g.findIndex($e=>$e.id===S);rt<g.length-1&&E(g[rt+1].id)},Lt=()=>{const rt=g.findIndex($e=>$e.id===S);rt>0&&E(g[rt-1].id)},St=rt=>rt.map($e=>{const st={id:$e.id,type:$e.type,x:$e.x,y:$e.y,rotation:$e.rotation??0};return $e.type==="circle"?{...st,radiusX:$e.radiusX??50,radiusY:$e.radiusY??50,color:$e.color||"#000000"}:$e.type==="rectangle"?{...st,width:$e.width||0,height:$e.height||0,color:$e.color||"#000000"}:$e.type==="triangle"?{...st,points:$e.points||[],color:$e.color||"#000000"}:$e.type==="image"?{...st,width:$e.width||0,height:$e.height||0,imageSrc:$e.imageSrc||""}:$e.type==="star"?{...st,numPoints:$e.numPoints??5,innerRadius:$e.innerRadius??20,outerRadius:$e.outerRadius??40,color:$e.color||"#000000"}:$e.type==="arrow"?{...st,points:$e.points||[],pointerLength:$e.pointerLength??10,pointerWidth:$e.pointerWidth??10,color:$e.color||"#000000",strokeWidth:$e.strokeWidth||3}:$e.type==="line"?{...st,points:$e.points||[],color:$e.color||"#000000",strokeWidth:$e.strokeWidth||3}:$e}),wt=rt=>rt.map($e=>({id:$e.id,text:$e.text,x:$e.x,y:$e.y,color:$e.color||"#000000",fontSize:$e.fontSize||18})),wn=()=>!Ge.current||!S?null:Ge.current.get(S),In=async()=>{if(!g.length){alert("  .");return}const rt=1280,$e=720,st=rt/$e,at=297,gt=at/st,yt=new Qt("l","mm",[at,gt]),Ct=yt.internal.pageSize.getWidth(),dt=yt.internal.pageSize.getHeight();for(let Gt=0;Gt<g.length;Gt++){const It=g[Gt].id,bn=A[It];if(!bn)continue;const nn=await Sn(It,bn);Gt>0&&yt.addPage(),yt.addImage(nn,"PNG",0,0,Ct,dt)}yt.save(`${F||"Presentation"}.pdf`)},Dt=async()=>{try{const rt=await e();if(!rt){alert(" .");return}const $e=await eD({presentation_id:Se,expires_in_hours:24},rt);try{await navigator.clipboard.writeText($e.invitation_url),alert("   !")}catch(st){const at=` : ${$e.invitation_url}`;alert(at),console.error("  :",st)}}catch(rt){console.error("   :",rt),alert(rt instanceof Error?rt.message:"   .")}},rn=ue.useCallback(async()=>{var rt,$e,st,at;if(Re&&v2[Se]){const gt=v2[Se];H(gt.title);const yt=gt.slides.map(Ct=>({id:Ct.id,order:Ct.order})).sort((Ct,dt)=>Ct.order-dt.order);(rt=Fe.current)==null||rt.transact(()=>{const Ct=Ge.current,dt=Je.current;yt.forEach(({id:Gt})=>{var nn;const It=new uu;It.set("shapes",new co),It.set("texts",new co);const bn=(nn=gt.slides.find(an=>an.id===Gt))==null?void 0:nn.data;bn&&(It.get("shapes").insert(0,St(bn.shapes||[])),It.get("texts").insert(0,wt(bn.texts||[]))),Ct.set(Gt,It)}),dt.delete(0,dt.length),dt.push(yt.map(Gt=>Gt.id))},"demo-load"),_(yt),N(Object.fromEntries(yt.map(Ct=>[Ct.id,gt.slides.find(dt=>dt.id===Ct.id).data]))),E(Ct=>{var dt,Gt;return((dt=yt.find(It=>It.id===Ct))==null?void 0:dt.id)??((Gt=yt[0])==null?void 0:Gt.id)??""}),yt.forEach(({id:Ct},dt)=>{var It;const Gt=(It=gt.slides.find(bn=>bn.id===Ct))==null?void 0:It.data;Gt&&Bt(Ct,Gt,dt===0)});return}try{const gt=await c(`${au}/presentations/${Se}/slides`);if(!gt.ok){console.error("  ",gt.status);return}const yt=await gt.json(),Ct=(($e=yt==null?void 0:yt.presentation)==null?void 0:$e.presentation_title)??(yt==null?void 0:yt.presentation_title)??(yt==null?void 0:yt.title)??"";H(Ct);const dt=Array.isArray(yt.slides)?yt.slides:[];if(dt.length===0){const Xt=await(await c(`${au}/presentations/${Se}/slides`,{method:"POST"})).json(),Rn=Xt.slide_id,sr=Xt.order,Mn=[{id:Rn,order:sr}];(st=Fe.current)==null||st.transact(()=>{const Bn=Ge.current,wi=Je.current,On=new uu;On.set("shapes",new co),On.set("texts",new co),Bn.set(Rn,On),wi.delete(0,wi.length),wi.push([Rn])},"seed-default"),_(Mn),N({[Rn]:{shapes:[],texts:[]}}),E(Rn),Bt(Rn,{shapes:[],texts:[]},!0);return}const Gt=dt.map(an=>({id:an.slide_id,order:an.order})).sort((an,Xt)=>an.order-Xt.order),It=dt.map(async an=>{let Xt=an.data;if(Xt==null){const Mn=await c(`${au}/presentations/${Se}/slides/${an.slide_id}`);if(Mn.ok){const Bn=await Mn.json();Xt=(Bn==null?void 0:Bn.data)??{shapes:[],texts:[]}}else Xt={shapes:[],texts:[]}}if(typeof Xt=="string")try{Xt=JSON.parse(Xt)}catch{Xt={shapes:[],texts:[]}}const Rn=Array.isArray(Xt==null?void 0:Xt.shapes)?Xt.shapes:[],sr=Array.isArray(Xt==null?void 0:Xt.texts)?Xt.texts:[];return[an.slide_id,{shapes:Rn,texts:sr}]}),bn=await Promise.all(It),nn=Object.fromEntries(bn);(at=Fe.current)==null||at.transact(()=>{const an=Ge.current,Xt=Je.current;Gt.forEach(({id:Rn})=>{const sr=new uu,Mn=new co,Bn=new co,wi=nn[Rn]||{shapes:[],texts:[]};wi.shapes.length&&Mn.insert(0,St(wi.shapes)),wi.texts.length&&Bn.insert(0,wt(wi.texts)),sr.set("shapes",Mn),sr.set("texts",Bn),an.set(Rn,sr)}),Xt.delete(0,Xt.length),Xt.push(Gt.map(Rn=>Rn.id))},"initial-load"),_(Gt),N(nn),E(an=>{var Xt,Rn;return((Xt=Gt.find(sr=>sr.id===an))==null?void 0:Xt.id)??((Rn=Gt[0])==null?void 0:Rn.id)??""})}catch(gt){console.error(" fetch  :",gt)}},[au,c,Re,Se]);ue.useEffect(()=>{if(Re){rn();return}const rt=new Qd;Fe.current=rt,Ge.current=rt.getMap("slides_data"),Je.current=rt.getArray("slides_order");const $e=()=>{var Gt;const gt=Ge.current,yt=Je.current,Ct=nD(gt);N(Ct);const dt=yt.toArray();if(_(dt.map((It,bn)=>({id:It,order:bn+1}))),dt.forEach((It,bn)=>{Ct[It]&&kt(It,Ct[It],bn===0)}),(Gt=Ue.current)!=null&&Gt.connected){const It=new Set(ye.current.keys()),bn=new Set(dt);It.forEach(nn=>{var an;bn.has(nn)||((an=ye.current.get(nn))==null||an.unsubscribe(),ye.current.delete(nn))}),bn.forEach(nn=>{var an;if(!ye.current.has(nn)&&((an=Ue.current)!=null&&an.connected)){const Xt=Ue.current.subscribe(`/topic/presentation.${Se}.slide.${nn}`,Rn=>{var sr,Mn;try{const Bn=JSON.parse(Rn.body),wi=typeof Bn.data=="string"?JSON.parse(Bn.data):Bn.data;if(!wi)return;const On={shapes:St(wi.shapes||[]),texts:wt(wi.texts||[])};Qe.current=!0;try{(sr=Fe.current)==null||sr.transact(()=>{var Uo;const bi=(Uo=Ge.current)==null?void 0:Uo.get(nn);if(!bi)return;const Ns=bi.get("shapes"),Va=bi.get("texts");Ns.delete(0,Ns.length),Va.delete(0,Va.length),Ns.insert(0,On.shapes),Va.insert(0,On.texts)},"remote-slide-apply-all");const Cs=(((Mn=Je.current)==null?void 0:Mn.toArray())||[])[0]===nn;kt(nn,On,Cs,!0)}finally{Qe.current=!1}}catch(Bn){console.error(` ${nn}   :`,Bn)}});ye.current.set(nn,Xt)}})}};Ge.current.observeDeep($e),Je.current.observe($e);const st=(gt,yt)=>{var Rn,sr,Mn,Bn,wi,On;if(Qe.current||yt==="remote"||!((Rn=Ue.current)!=null&&Rn.connected))return;const Ct=wn();if(!Ct||!S)return;const dt=((Mn=(sr=Ct.get("shapes"))==null?void 0:sr.toJSON)==null?void 0:Mn.call(sr))||[],Gt=((wi=(Bn=Ct.get("texts"))==null?void 0:Bn.toJSON)==null?void 0:wi.call(Bn))||[],It=((On=g.find(go=>go.id===S))==null?void 0:On.order)??9999,bn=new Date().getTimezoneOffset()*6e4,nn=new Date(Date.now()-bn).toISOString().slice(0,-1),an={slide_id:S,order:It,last_revision_user_id:(t==null?void 0:t.id)||"anonymous",last_revision_date:nn,data:JSON.stringify({shapes:St(dt),texts:wt(Gt)})},Xt=JSON.stringify(an);ot.current!==Xt&&(ot.current=Xt,ut.current&&clearTimeout(ut.current),ut.current=setTimeout(()=>{var go;try{(go=Ue.current)==null||go.publish({destination:`/app/slide.edit.presentation.${Se}.slide.${S}`,body:Xt})}catch(Cs){console.error("WebSocket   :",Cs)}ut.current=null},250))};return rt.on("update",st),(i?Promise.resolve(i):e()).then(gt=>{console.log("STOMP  :",{brokerURL:zg,hasToken:!!gt,isGuest:!!i,hasCookies:document.cookie.length>0});const yt=new _7({brokerURL:zg,reconnectDelay:5e3,connectHeaders:gt?{Authorization:`Bearer ${gt}`}:{}});yt.onConnect=()=>{Ue.current=yt,Ve.current=yt.subscribe(`/topic/presentation.${Se}`,Ct=>{var dt,Gt;try{const It=JSON.parse(Ct.body),{type:bn,payload:nn}=It||{};if(bn==="SLIDE_ADD"){const{slide_id:an}=nn||{};(dt=Fe.current)==null||dt.transact(()=>{var Rn,sr;if(!((Rn=Ge.current)!=null&&Rn.has(an))){const Mn=new uu;Mn.set("shapes",new co),Mn.set("texts",new co),(sr=Ge.current)==null||sr.set(an,Mn)}Je.current.toArray().includes(an)||Je.current.push([an])},"remote-slide-add")}else if(bn==="SLIDE_DELETE"||bn==="STRUCTURE_UPDATED"){const an=(nn==null?void 0:nn.slides)||[];(Gt=Fe.current)==null||Gt.transact(()=>{const Xt=Ge.current,Rn=Je.current,sr=an.map(Mn=>Mn.slide_id);Xt.forEach((Mn,Bn)=>{sr.includes(Bn)||Xt.delete(Bn)}),an.forEach(Mn=>{if(!Xt.has(Mn.slide_id)){const Bn=new uu;Bn.set("shapes",new co),Bn.set("texts",new co),Xt.set(Mn.slide_id,Bn)}}),Rn.delete(0,Rn.length),Rn.push(an.sort((Mn,Bn)=>Mn.order-Bn.order).map(Mn=>Mn.slide_id))},"remote-structure-update")}else if(bn==="TITLE_UPDATED"||bn==="TITLE_UPDATE"){const an=nn==null?void 0:nn.new_title;(!(nn!=null&&nn.presentation_id)||nn.presentation_id===Se)&&(H(an??void 0),an&&(document.title=`${an} - Kimbanana`))}}catch(It){console.error("   :",It)}}),rn(),Wn(yt)},yt.onStompError=Ct=>{console.error("STOMP :",{command:Ct.command,headers:Ct.headers,body:Ct.body})},yt.onWebSocketError=Ct=>{console.error("WebSocket  :",Ct)},yt.activate(),Ue.current=yt}),()=>{var gt,yt,Ct,dt,Gt;(gt=Ge.current)==null||gt.unobserveDeep($e),(yt=Je.current)==null||yt.unobserve($e),rt.off("update",st),(Ct=Be.current)==null||Ct.unsubscribe(),(dt=Ve.current)==null||dt.unsubscribe(),ye.current.forEach(It=>It.unsubscribe()),ye.current.clear(),(Gt=Ue.current)==null||Gt.deactivate(),Ue.current=null}},[zg,Se,rn,e,i,S,g.length]);const Wn=rt=>{var st;const $e=rt??Ue.current;!$e||!S||((st=Be.current)==null||st.unsubscribe(),Be.current=$e.subscribe(`/topic/presentation.${Se}.slide.${S}`,at=>{var gt,yt;try{const Ct=JSON.parse(at.body),dt=typeof Ct.data=="string"?JSON.parse(Ct.data):Ct.data;if(!dt)return;const Gt=Ct.slide_id||S,It={shapes:St(dt.shapes||[]),texts:wt(dt.texts||[])};Qe.current=!0;try{(gt=Fe.current)==null||gt.transact(()=>{const nn=wn();if(!nn)return;const an=nn.get("shapes"),Xt=nn.get("texts");an.delete(0,an.length),Xt.delete(0,Xt.length),an.insert(0,It.shapes),Xt.insert(0,It.texts)},"remote-slide-apply");const bn=((yt=g[0])==null?void 0:yt.id)===Gt;kt(Gt,It,bn,!0)}finally{Qe.current=!1}}catch(Ct){console.error("   :",Ct)}}))};ue.useEffect(()=>{g.length&&g.forEach((rt,$e)=>{const st=A[rt.id];st&&kt(rt.id,st,$e===0)})},[g,A,kt]),ue.useEffect(()=>{!Ue.current||!S||Wn()},[S]);const Yt=(rt,$e)=>{ne(st=>[...st,rt]),xe([])},An=rt=>{var st;const $e=wn();$e&&((st=Fe.current)==null||st.transact(()=>{const at=$e.get("shapes"),gt=at.toArray(),yt=typeof rt=="function"?rt(gt):rt,Ct=St(yt),dt={shapes:gt,texts:$e.get("texts").toArray()};at.delete(0,at.length),at.insert(0,Ct);const Gt={shapes:Ct,texts:dt.texts};N(It=>({...It,[S]:Gt})),Yt(dt)},"canvas-edit"))},dn=rt=>{var st;const $e=wn();$e&&((st=Fe.current)==null||st.transact(()=>{const at=$e.get("texts"),gt=at.toArray(),yt=typeof rt=="function"?rt(gt):rt,Ct=wt(yt),dt={shapes:$e.get("shapes").toArray(),texts:gt};at.delete(0,at.length),at.insert(0,Ct);const Gt={shapes:dt.shapes,texts:Ct};N(It=>({...It,[S]:Gt})),Yt(dt)},"canvas-edit"))},Er=()=>{var st;if(!Z.length||!S)return;const rt=Z[Z.length-1];ne(at=>at.slice(0,-1)),xe(at=>[...at,A[S]??{shapes:[],texts:[]}]);const $e=wn();$e&&((st=Fe.current)==null||st.transact(()=>{const at=$e.get("shapes"),gt=$e.get("texts");at.delete(0,at.length),gt.delete(0,gt.length),at.insert(0,St(rt.shapes||[])),gt.insert(0,wt(rt.texts||[])),N(yt=>({...yt,[S]:rt}))},"undo"))},xr=()=>{var st;if(!le.length||!S)return;const rt=le[le.length-1];xe(at=>at.slice(0,-1)),ne(at=>[...at,A[S]??{shapes:[],texts:[]}]);const $e=wn();$e&&((st=Fe.current)==null||st.transact(()=>{const at=$e.get("shapes"),gt=$e.get("texts");at.delete(0,at.length),gt.delete(0,gt.length),at.insert(0,St(rt.shapes||[])),gt.insert(0,wt(rt.texts||[])),N(yt=>({...yt,[S]:rt}))},"redo"))},qn=async()=>{var rt;try{const $e=await c(`${au}/presentations/${Se}/slides`,{method:"POST",headers:{Accept:"application/json"}});if(!$e.ok)throw new Error(`HTTP error! status: ${$e.status}`);const at=(await $e.json()).slide_id;(rt=Fe.current)==null||rt.transact(()=>{var yt,Ct;const gt=new uu;gt.set("shapes",new co),gt.set("texts",new co),(yt=Ge.current)==null||yt.set(at,gt),(Ct=Je.current)==null||Ct.push([at])},"add-slide"),E(at)}catch($e){console.error("  :",$e)}},on=async rt=>{var st,at,gt;if(g.length===1)return;if((st=Fe.current)==null||st.transact(()=>{var dt;(dt=Ge.current)==null||dt.delete(rt);const yt=Je.current,Ct=yt.toArray().indexOf(rt);Ct!==-1&&yt.delete(Ct,1)},"delete-slide"),S===rt){const yt=((at=Je.current)==null?void 0:at.toArray())??[];E(yt[0]??"")}const $e=(((gt=Je.current)==null?void 0:gt.toArray())??[]).map((yt,Ct)=>({slide_id:yt,order:Ct+1}));await c(`${au}/presentations/${Se}/slides`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({presentation_id:Se,slides:$e})}),await rn()},Vn=async rt=>{var st;(st=Fe.current)==null||st.transact(()=>{const at=Je.current;at.delete(0,at.length),at.insert(0,rt)},"reorder-slides"),await c(`${au}/presentations/${Se}/slides`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({presentation_id:Se,slides:rt.map((at,gt)=>({slide_id:at,order:gt+1}))})});const $e=rt[0];$e&&A[$e]&&Bt($e,A[$e],!0)},jo=rt=>{const $e=wn();if(!$e)return;const st=new window.Image;st.onload=()=>{var yt;const at=Date.now(),gt={id:at,type:"image",x:200,y:150,width:st.width,height:st.height,imageSrc:rt};G(at),(yt=Fe.current)==null||yt.transact(()=>{$e.get("shapes").push([gt])},"add-image")},st.src=rt},vi=()=>{var $e;const rt=wn();rt&&(($e=Fe.current)==null||$e.transact(()=>{if(B!=null){const st=rt.get("shapes"),at=st.toArray().findIndex(gt=>String(gt.id)===String(B));at!==-1&&st.delete(at,1),G(null);return}if(Q!=null){const st=rt.get("texts"),at=st.toArray().findIndex(gt=>String(gt.id)===String(Q));at!==-1&&st.delete(at,1),ee(null)}},"delete-element"))},ps=ue.useCallback(rt=>{var Ct;const $e=document.activeElement;if(!!$e&&($e.tagName==="INPUT"||$e.tagName==="TEXTAREA"||$e.isContentEditable)||!S||!(rt.ctrlKey||rt.metaKey))return;const gt=A[S]||{shapes:[],texts:[]},yt=wn();if(yt){if(rt.key==="c"||rt.key==="C"){if(B!=null){rt.preventDefault();const dt=gt.shapes.find(Gt=>String(Gt.id)===String(B));dt&&j({shapes:[dt],texts:[]})}else if(Q!=null){rt.preventDefault();const dt=gt.texts.find(Gt=>String(Gt.id)===String(Q));dt&&j({shapes:[],texts:[dt]})}}if(rt.key==="v"||rt.key==="V"){if(!$||$.shapes.length===0&&$.texts.length===0)return;rt.preventDefault();const dt=$.shapes.map(It=>({...It,id:Date.now()+Math.random(),x:(It.x??0)+10,y:(It.y??0)+10})),Gt=$.texts.map(It=>({...It,id:Date.now()+Math.random(),x:(It.x??0)+10,y:(It.y??0)+10}));(Ct=Fe.current)==null||Ct.transact(()=>{const It=yt.get("shapes"),bn=yt.get("texts");dt.length&&It.push(dt),Gt.length&&bn.push(Gt),dt.length?G(String(dt[0].id)):Gt.length&&ee(String(Gt[0].id))},"paste"),j({shapes:dt,texts:Gt})}}},[S,A,B,Q,$]);ue.useEffect(()=>{const rt=$e=>{const st=document.activeElement;if(!(st&&(st.tagName==="INPUT"||st.tagName==="TEXTAREA"||st.isContentEditable)||(ps($e),$e.defaultPrevented)||!($e.key==="Backspace"||$e.key==="Delete")||x)){if(B!=null||Q!=null){$e.preventDefault(),vi();return}h==="cursor"&&g.length>1&&S&&($e.preventDefault(),on(S))}};return window.addEventListener("keydown",rt),()=>window.removeEventListener("keydown",rt)},[S,g.length,x,B,Q,h,ps]);const gs=async()=>{try{if(!g.length)return alert("  ."),!1;const rt=new Date().getTimezoneOffset()*6e4,$e=new Date(Date.now()-rt).toISOString().slice(0,-1),st={last_revision_user_id:(t==null?void 0:t.id)||"anonymous",slides:g.map(gt=>{const yt=A[gt.id]??{shapes:[],texts:[]},Ct=JSON.stringify({shapes:(yt.shapes??[]).map(dt=>({id:dt.id,type:dt.type,x:dt.x,y:dt.y,rotation:dt.rotation??0,...dt.type==="rectangle"&&{width:dt.width||0,height:dt.height||0,color:dt.color||"#000000"},...dt.type==="circle"&&{radiusX:dt.radiusX??dt.radius??50,radiusY:dt.radiusY??dt.radius??50,color:dt.color||"#000000"},...dt.type==="triangle"&&{points:dt.points||[],color:dt.color||"#000000"},...dt.type==="image"&&{width:dt.width||0,height:dt.height||0,imageSrc:dt.imageSrc||""}})),texts:(yt.texts??[]).map(dt=>({id:dt.id,text:dt.text,x:dt.x,y:dt.y,color:dt.color||"#000000",fontSize:dt.fontSize||18}))});return{slide_id:gt.id,order:gt.order,last_revision_user_id:(t==null?void 0:t.id)||"anonymous",last_revision_date:$e,data:Ct}})},at=await c(`${au}/presentations/${Se}/histories`,{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(st)});if(!at.ok){const gt=await at.text().catch(()=>"");return console.error("  :",at.status,gt),alert(`   (${at.status})`),!1}return!0}catch(rt){return console.error("   :",rt),alert("    "),!1}},Jt=async rt=>{try{await c(`${au}/presentations/${Se}/slides/title`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({presentation_id:Se,new_title:rt})}),H(rt)}catch($e){console.error("   :",$e)}};return fe.jsxs("div",{className:"main-layout",ref:K,children:[fe.jsx(mh,{variant:"main",presentationId:_e,isFullscreen:X,onEnterFullscreen:ce,onExitFullscreen:ae,title:F,onTitleChange:H,onTitleSave:Jt,onSaveHistory:gs,onDownloadPdf:In,onShare:Dt,isGuest:l}),fe.jsxs("div",{className:"content",children:[fe.jsx(d2,{variant:"main",slides:g.map(rt=>rt.id),currentSlide:S,setCurrentSlide:E,onAddSlide:qn,thumbnails:ct,onReorderSlides:Vn}),fe.jsxs("div",{className:"canvas-container",children:[S&&A[S]&&fe.jsx(k8,{activeTool:h,selectedColor:y,setSelectedColor:v,setActiveTool:p,shapes:((ts=A[S])==null?void 0:ts.shapes)||[],texts:((ks=A[S])==null?void 0:ks.texts)||[],setShapes:rt=>An(rt),setTexts:rt=>dn(rt),currentSlide:S,updateThumbnail:(rt,$e)=>{var at;const st=(at=g[0])==null?void 0:at.id;Et(rt,$e,st)},sendEdit:()=>{},setIsTyping:L,defaultFontSize:D,onSelectShape:G,onSelectText:ee,isFullscreen:X,onEnterFullscreen:ce,onExitFullscreen:ae,isPresentationMode:J,goToNextSlide:Vt,goToPrevSlide:Lt,slides:g,eraserSize:re,eraserMode:M}),fe.jsx(aI,{activeTool:h,setActiveTool:p,selectedColor:y,setSelectedColor:v,defaultFontSize:D,setDefaultFontSize:W,onImageUpload:jo,eraserSize:re,setEraserSize:U,eraserMode:M,setEraserMode:V,onUndo:Er,onRedo:xr,canUndo:Z.length>0,canRedo:le.length>0,getAuthToken:e})]})]})]})},sD=({histories:t,selectedHistoryId:e,onSelect:n})=>{const r=ue.useMemo(()=>{const u={};return t.forEach(c=>{u[c.displayDateOnly]||(u[c.displayDateOnly]=[]),u[c.displayDateOnly].some(p=>p.historyId.split("__")[0]===c.historyId.split("__")[0])||u[c.displayDateOnly].push(c)}),u},[t]),[i,s]=ue.useState({}),l=u=>s(c=>({...c,[u]:!c[u]}));return fe.jsxs("div",{className:"history-right",children:[fe.jsx("h3",{className:"history-title",children:"history"}),Object.entries(r).map(([u,c])=>fe.jsxs("div",{className:"history-group",children:[fe.jsxs("div",{className:"history-date",onClick:()=>l(u),children:[i[u]?"":""," ",u]}),i[u]&&fe.jsx("div",{className:"history-timestamps",children:c.map(h=>{const p=e===h.historyId;return fe.jsx("div",{className:`history-item ${p?"active":""}`,onClick:()=>n(h.historyId),children:fe.jsx("span",{children:h.displayDateTime})},h.historyId)})})]},u))]})},R0="https://daisy.wisoft.io/kimbanana/app/api";async function oD(t,e){const n=[`${R0}/presentations/${t}/histories`,`${R0}/presentation/${t}/histories`],r={Accept:"application/json"};e&&(r.Authorization=`Bearer ${e}`);let i=null;for(const u of n)if(i=await fetch(u,{mode:"cors",credentials:"include",headers:r}),i.ok)break;if(i&&i.status===403)throw new Error("  (403 Forbidden).   .");if(!i||!i.ok)throw new Error("Failed to load histories");const l=(await i.json()).map(u=>({historyId:u.historyId,lastRevisionISO:u.lastRevisionDate}));return l.sort((u,c)=>new Date(c.lastRevisionISO).getTime()-new Date(u.lastRevisionISO).getTime()),l}async function aD(t,e,n){const r=[`${R0}/presentations/${t}/histories/${e}`,`${R0}/presentation/${t}/histories/${e}`],i={Accept:"application/json"};n&&(i.Authorization=`Bearer ${n}`);let s=null;for(const c of r)if(s=await fetch(c,{mode:"cors",credentials:"include",headers:i}),s.ok)break;if(s&&s.status===403)throw new Error("  (403 Forbidden).      .");if(!s||!s.ok)throw new Error("Failed to load history detail");const l=await s.json(),u=Array.isArray(l)?l:l==null?void 0:l.slides;return Array.isArray(u)?u:[]}const Hp="https://daisy.wisoft.io/kimbanana/app/api",Gg=t=>t.split("__")[0],lD=t=>{const e=new Date(t),n=e.getFullYear(),r=e.getMonth()+1,i=e.getDate(),s=String(e.getHours()).padStart(2,"0"),l=String(e.getMinutes()).padStart(2,"0");return{dateOnly:`${n} ${r} ${i}`,dateTime:`${n} ${r} ${i} ${s}:${l}`}},N4=t=>{let e=t;if(typeof e=="string")try{e=JSON.parse(e)}catch{e={}}const r=e&&typeof e=="object"?e:{};return{shapes:Array.isArray(r.shapes)?r.shapes:[],texts:Array.isArray(r.texts)?r.texts:[]}},uD=t=>typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t)),cD=()=>{const t=Wh(),{presentationId:e}=R2(),{user:n,getAuthToken:r}=(du==null?void 0:du())??{user:null,getAuthToken:()=>Promise.resolve(null)},i=(n==null?void 0:n.name)||(n==null?void 0:n.id)||"anonymous",[s,l]=ue.useState([]),[u,c]=ue.useState({}),[h,p]=ue.useState({}),[y,v]=ue.useState(""),[g,_]=ue.useState([]),[S,E]=ue.useState(null),[A,N]=ue.useState([]),[x,L]=ue.useState(null),[D,W]=ue.useState([]),re=ue.useRef({}),U=B=>re.current[B]??B,M=ue.useMemo(()=>{var B;return((B=A.find(G=>G.historyId===x))==null?void 0:B.displayDateTime)??""},[A,x]),V=ue.useMemo(()=>S||y||"",[S,y]),F=V?u[V]:void 0,H=ue.useCallback(async(B,G={})=>{const Q=await r(),ee={...G.headers,Accept:"application/json",...Q&&{Authorization:`Bearer ${Q}`}};return fetch(B,{...G,mode:"cors",credentials:"include",headers:ee})},[r]);ue.useEffect(()=>{!e||!r||(async()=>{try{const B=await H(`${Hp}/presentations/${e}/slides`);if(!B.ok){console.error("   :",B.status);return}const G=await B.json(),Q=Array.isArray(G.slides)?G.slides:[];if(Q.length===0)return;const ee=Q.map(j=>({id:j.slide_id,order:j.order})).sort((j,K)=>j.order-K.order),$=await Promise.all(Q.map(async j=>{var X;let K=j.data;if(K===void 0){const ce=await H(`${Hp}/presentations/${e}/slides/${j.slide_id}`);K=ce.ok?(X=await ce.json())==null?void 0:X.data:void 0}return[j.slide_id,N4(K)]}));l(ee),c(j=>({...j,...Object.fromEntries($)})),v(j=>j||ee[0].id)}catch(B){console.error("   :",B)}})()},[e,r,H]),ue.useEffect(()=>{!e||!r||(async()=>{try{const B=await r(),G=await oD(e,B);N(G.map(Q=>{const ee=lD(Q.lastRevisionISO);return{historyId:`${Q.historyId}__${Q.lastRevisionISO}`,displayDateOnly:ee.dateOnly,displayDateTime:ee.dateTime}}))}catch(B){console.error("   :",B)}})()},[e,r]),ue.useEffect(()=>{if(!e||!x||!r){_([]),E(null),W([]),re.current={};return}(async()=>{var B;try{const G=await r(),Q=await aD(e,Gg(x),G);if(Q.length===0){_([]),E(null);return}re.current={};const ee=Q.map(j=>{const K=`restore-${x}-${j.slide_id}`;return re.current[K]=j.slide_id,{id:K,order:j.order}}).sort((j,K)=>j.order-K.order),$=await Promise.all(Q.map(async j=>[`restore-${x}-${j.slide_id}`,N4(j.data)]));_(ee),c(j=>({...j,...Object.fromEntries($)})),E(((B=ee[0])==null?void 0:B.id)??null)}catch(G){console.error("   :",G),_([]),E(null)}})()},[e,x,r]);const Z=ue.useCallback((B,G)=>{p(Q=>({...Q,[B]:G}))},[]),ne=ue.useCallback(()=>{if(!y||!S)return;const B=u[S];B&&c(Q=>({...Q,[y]:uD(B)}));const G=U(S);W(Q=>[...Q.filter(ee=>ee.target_slide!==y),{target_slide:y,history_slide:G}])},[y,S,u]),le=ue.useCallback(async()=>{if(!(!e||!x))try{const B=await H(`${Hp}/presentations/${e}/restorations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"partial",history_id:Gg(x),last_revision_user_id:i,mappings:D})});if(B.status>=200&&B.status<400)alert("  ."),t(`/editor/${e}`);else{const G=await B.text().catch(()=>"");alert(`   (${B.status})
${G||"  ."}`)}}catch(B){console.error(B),alert("    .")}},[e,x,D,i,t,H]),xe=ue.useCallback(async()=>{if(!(!e||!x)&&window.confirm("      ?"))try{const B=await H(`${Hp}/presentations/${e}/restorations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"all",history_id:Gg(x),last_revision_user_id:i})});if(B.status>=200&&B.status<400)alert(" ."),t(`/editor/${e}`);else{const G=await B.text().catch(()=>"");alert(`   (${B.status})
${G||"  ."}`)}}catch(B){console.error("   :",B),alert("    .")}},[e,x,i,t,H]);return fe.jsxs("div",{className:"history",children:[fe.jsx(mh,{variant:"history",title:M,onApplyRestore:le}),fe.jsxs("div",{className:"history-body",children:[fe.jsx(d2,{variant:"current",slides:s.map(B=>B.id),currentSlide:y,setCurrentSlide:v,thumbnails:h,selectedSlides:[y],setSelectedSlides:B=>{const G=typeof B=="function"?B([])[0]:B[0];return v(G||""),B}}),fe.jsx(d2,{variant:"restore",slides:g.map(B=>B.id),currentSlide:S||"",setCurrentSlide:B=>{const G=typeof B=="function"?B(S??""):B;E(G)},thumbnails:h,selectedSlides:S?[S]:[],setSelectedSlides:B=>{const G=typeof B=="function"?B([])[0]:B[0];return E(G||null),B},onRestoreSelected:ne,isRestoreEnabled:!!(y&&S),onRestoreAll:xe,isRestoreAllEnabled:!!x}),fe.jsxs("div",{className:"history-canvas",children:[fe.jsx(k8,{activeTool:"cursor",selectedColor:"#000000",setSelectedColor:()=>{},setActiveTool:()=>{},shapes:(F==null?void 0:F.shapes)||[],setShapes:()=>{},texts:(F==null?void 0:F.texts)||[],setTexts:()=>{},currentSlide:V,updateThumbnail:()=>{},sendEdit:()=>{},setIsTyping:()=>{},defaultFontSize:20,isHistoryPage:!0,onSelectShape:()=>{},onSelectText:()=>{}}),Object.entries(u).map(([B,G])=>fe.jsx(E0,{slideId:B,slideData:G,onRendered:Z},B))]}),fe.jsx(sD,{histories:A,selectedHistoryId:x,onSelect:B=>L(B)})]})]})},E4=({onClose:t,onSwitchToRegister:e})=>{const{login:n,isLoading:r,error:i,clearError:s,setOAuthSuccessCallback:l}=du(),[u,c]=ue.useState({email:"",password:""}),[h,p]=ue.useState(!1),[y,v]=ue.useState(!1);ue.useEffect(()=>(s(),l(()=>{t()}),()=>{l(void 0)}),[s,l,t]);const g=A=>{const{name:N,value:x}=A.target;c(L=>({...L,[N]:x}))},_=async A=>{A.preventDefault(),(await n(u)).success&&t()},S=A=>{v(!0),window.location.href=`/kimbanana/app/oauth2/authorization/${A}`},E=u.email&&u.password;return fe.jsx("div",{className:"modal-overlay",onClick:t,children:fe.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[fe.jsx("button",{className:"modal-close-btn",onClick:t,children:fe.jsx(yi,{icon:"material-symbols:close",width:"24"})}),fe.jsxs("div",{className:"login-header",children:[fe.jsx("h1",{className:"login-title",children:""}),fe.jsxs("p",{className:"login-subtitle",children:[" ?"," ",fe.jsx("span",{onClick:e,className:"register-link",children:""})]})]}),fe.jsxs("form",{className:"login-form",onSubmit:_,children:[fe.jsxs("div",{className:"form-group",children:[fe.jsx("label",{htmlFor:"email",className:"form-label",children:""}),fe.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:g,className:"form-input",placeholder:" ",autoComplete:"email",required:!0})]}),fe.jsxs("div",{className:"form-group",children:[fe.jsx("label",{htmlFor:"password",className:"form-label",children:""}),fe.jsxs("div",{className:"password-input-container",children:[fe.jsx("input",{type:h?"text":"password",id:"password",name:"password",value:u.password,onChange:g,className:"form-input",placeholder:" ",autoComplete:"current-password",required:!0}),fe.jsx("button",{type:"button",className:"password-toggle",onClick:()=>p(!h),children:fe.jsx(yi,{icon:h?"material-symbols:visibility-off":"material-symbols:visibility",width:"20"})})]})]}),i&&fe.jsx("div",{className:"error-message",children:i}),fe.jsx("button",{type:"submit",className:"login-button",disabled:!E||r||y,children:r?" ...":""})]}),fe.jsx("div",{className:"divider",children:fe.jsx("span",{className:"divider-text",children:""})}),fe.jsxs("div",{className:"social-login",children:[fe.jsxs("button",{className:"social-button google-button",onClick:()=>S("google"),disabled:r||y,children:[fe.jsx(yi,{icon:"logos:google-icon",width:"20"}),y?" ...":"Google "]}),fe.jsxs("button",{className:"social-button github-button",onClick:()=>S("github"),disabled:r||y,children:[fe.jsx(yi,{icon:"logos:github-icon",width:"20"}),y?" ...":"GitHub "]})]}),fe.jsx("div",{className:"login-footer",children:fe.jsx("a",{href:"/forgot-password",onClick:A=>{A.preventDefault(),alert("    ")},className:"forgot-password",children:" ?"})})]})})},A4=({onClose:t,onSwitchToLogin:e})=>{const{register:n,isLoading:r,error:i,clearError:s}=du(),[l,u]=ue.useState({name:"",email:"",password:"",confirmPassword:""}),[c,h]=ue.useState(!1),[p,y]=ue.useState(!1),[v,g]=ue.useState(0);ue.useEffect(()=>{s()},[]),ue.useEffect(()=>{const D=_(l.password);g(D)},[l.password]);const _=D=>{let W=0;return D.length>=8&&(W+=1),/[a-z]/.test(D)&&(W+=1),/[A-Z]/.test(D)&&(W+=1),/[0-9]/.test(D)&&(W+=1),/[^A-Za-z0-9]/.test(D)&&(W+=1),W},S=D=>{switch(D){case 0:case 1:return" ";case 2:return"";case 3:return"";case 4:return"";case 5:return" ";default:return""}},E=D=>{switch(D){case 0:case 1:return"#ff4444";case 2:return"#ff8800";case 3:return"#ffbb33";case 4:return"#00C851";case 5:return"#007E33";default:return"#e0e0e0"}},A=D=>{const{name:W,value:re}=D.target;u(U=>({...U,[W]:re}))},N=async D=>{if(D.preventDefault(),l.password!==l.confirmPassword){alert("  .");return}if(v<3){alert("  .    .");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)){alert("   .");return}if(l.name.length<3){alert("  3  .");return}if(!/^[a-zA-Z0-9-_-]+$/.test(l.name)){alert(" , , , (_), (-)     .");return}if(l.password.length<6){alert("  6  .");return}if(/[-]/.test(l.password)){alert("    .");return}if(!/[a-zA-Z]/.test(l.password)){alert("     .");return}if(!/[0-9]/.test(l.password)){alert("     .");return}const{confirmPassword:U,...M}=l;(await n(M)).success&&t()},x=D=>{window.location.href=`/kimbanana/app/oauth2/authorization/${D}`},L=l.name&&l.email&&l.password&&l.confirmPassword&&l.password===l.confirmPassword&&v>=3;return fe.jsx("div",{className:"modal-overlay",onClick:t,children:fe.jsxs("div",{className:"modal-content",onClick:D=>D.stopPropagation(),children:[fe.jsx("button",{className:"modal-close-btn",onClick:t,children:fe.jsx(yi,{icon:"material-symbols:close",width:"24"})}),fe.jsxs("div",{className:"register-header",children:[fe.jsx("h1",{className:"register-title",children:""}),fe.jsxs("p",{className:"register-subtitle",children:["  ?"," ",fe.jsx("span",{onClick:e,className:"login-link",children:""})]})]}),fe.jsxs("form",{className:"register-form",onSubmit:N,children:[fe.jsxs("div",{className:"form-group",children:[fe.jsx("label",{htmlFor:"name",className:"form-label",children:""}),fe.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:A,className:"form-input",placeholder:" ",required:!0})]}),fe.jsxs("div",{className:"form-group",children:[fe.jsx("label",{htmlFor:"email",className:"form-label",children:""}),fe.jsx("input",{type:"email",id:"email",name:"email",value:l.email,onChange:A,className:"form-input",placeholder:"  (: user@example.com)",required:!0})]}),fe.jsxs("div",{className:"form-group",children:[fe.jsx("label",{htmlFor:"password",className:"form-label",children:""}),fe.jsxs("div",{className:"password-input-container",children:[fe.jsx("input",{type:c?"text":"password",id:"password",name:"password",value:l.password,onChange:A,className:"form-input",placeholder:"  (6 , / )",required:!0}),fe.jsx("button",{type:"button",className:"password-toggle",onClick:()=>h(!c),children:fe.jsx(yi,{icon:c?"material-symbols:visibility-off":"material-symbols:visibility",width:"20"})})]}),l.password&&fe.jsxs("div",{className:"password-strength",children:[fe.jsx("div",{className:"strength-bar",children:fe.jsx("div",{className:"strength-fill",style:{width:`${v/5*100}%`,backgroundColor:E(v)}})}),fe.jsx("span",{className:"strength-text",style:{color:E(v)},children:S(v)})]})]}),fe.jsxs("div",{className:"form-group",children:[fe.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:" "}),fe.jsxs("div",{className:"password-input-container",children:[fe.jsx("input",{type:p?"text":"password",id:"confirmPassword",name:"confirmPassword",value:l.confirmPassword,onChange:A,className:`form-input ${l.confirmPassword&&l.password!==l.confirmPassword?"error":""}`,placeholder:"  ",required:!0}),fe.jsx("button",{type:"button",className:"password-toggle",onClick:()=>y(!p),children:fe.jsx(yi,{icon:p?"material-symbols:visibility-off":"material-symbols:visibility",width:"20"})})]}),l.confirmPassword&&l.password!==l.confirmPassword&&fe.jsx("div",{className:"error-message small",children:"  ."})]}),i&&fe.jsx("div",{className:"error-message",children:i}),fe.jsx("button",{type:"submit",className:"register-button",disabled:!L||r,children:r?" ...":""})]}),fe.jsx("div",{className:"divider",children:fe.jsx("span",{className:"divider-text",children:""})}),fe.jsxs("div",{className:"social-register",children:[fe.jsxs("button",{className:"social-button google-button",onClick:()=>x("google"),disabled:r,children:[fe.jsx(yi,{icon:"logos:google-icon",width:"20"}),"Google "]}),fe.jsxs("button",{className:"social-button github-button",onClick:()=>x("github"),disabled:r,children:[fe.jsx(yi,{icon:"logos:github-icon",width:"20"}),"GitHub "]})]}),fe.jsx("div",{className:"register-footer",children:fe.jsxs("p",{className:"terms-text",children:[" "," ",fe.jsx("a",{href:"/terms",className:"terms-link",children:""}),""," ",fe.jsx("a",{href:"/privacy",className:"terms-link",children:""}),"   ."]})})]})})},dD="https://daisy.wisoft.io/kimbanana/app",fD=t=>t?/^https?:\/\//i.test(t)?(t.includes("daisy.wisoft.io/kimbanana/app")&&t.replace(/^https?:\/\/daisy\.wisoft\.io\/kimbanana\/app/,""),t):`${dD}${t.startsWith("/")?t:`/${t}`}`:"",hD=()=>{const t=Wh(),{isAuthenticated:e,user:n}=du(),[r,i]=ue.useState([]),[s,l]=ue.useState(!0),[u,c]=ue.useState(""),[h,p]=ue.useState(!1),[y,v]=ue.useState(!1),[g,_]=ue.useState(null),[S,E]=ue.useState(0),[A,N]=ue.useState({}),[x,L]=ue.useState({}),D="https://daisy.wisoft.io/kimbanana/app/api",W=r.filter(X=>X.title.includes(u)),re=5,U=Math.ceil(W.length/re),M=S*re,V=W.slice(M,M+re),F=async X=>{if(!X)return"/kimbanana/ui/assets/default-thumbnail.png";if(A[X])return A[X];try{const ce=localStorage.getItem("accessToken"),ae={};ce&&(ae.Authorization=`Bearer ${ce}`);const J=await fetch(X,{method:"GET",headers:ae,credentials:"include"});if(!J.ok)return"/assets/default-thumbnail.png";const ge=await J.blob(),_e=URL.createObjectURL(ge);return N(Se=>({...Se,[X]:_e})),_e}catch{return"/kimbanana/ui/assets/default-thumbnail.png"}},H=async()=>{try{l(!0),_(null);const X={Accept:"*/*"},ce=localStorage.getItem("accessToken");ce&&(X.Authorization=`Bearer ${ce}`);const ae=`${D}/workspace/presentations/list`;console.log("  :",{url:ae,method:"GET",hasToken:!!ce,headers:X});const J=await fetch(ae,{method:"GET",headers:X});if(!J.ok){let Se="",Re="";try{Se=await J.text();try{const Ue=JSON.parse(Se);Re=Ue.message||Ue.error||Se,console.error(" :",{status:J.status,statusText:J.statusText,error:Ue})}catch{Re=Se,console.error("  ():",{status:J.status,statusText:J.statusText,body:Se})}}catch(Ue){console.error("   :",Ue),Re=J.statusText}throw J.status===403?new Error("  . ."):new Error(`HTTP error! status: ${J.status} - ${Re||J.statusText}`)}const ge=await J.json(),_e=ge.map(Se=>({id:Se.presentation.presentation_id,title:Se.presentation.presentation_title,thumbnail:fD(Se.thumbnail_url),createdAt:Se.presentation.last_revision_date,updatedAt:Se.presentation.last_revision_date,userId:Se.presentation.user_id,isShared:!1,shareUrl:void 0}));i(_e),_e.forEach(async Se=>{var Ue;const Re=(Ue=ge.find(Ve=>Ve.presentation.presentation_id===Se.id))==null?void 0:Ue.thumbnail_url;if(Re&&Re.includes("daisy.wisoft.io")){const Ve=Re.replace(/^https?:\/\/daisy\.wisoft\.io\/kimbanana\/app/,"/api"),Be=await F(Ve);i(ye=>ye.map(Fe=>Fe.id===Se.id?{...Fe,thumbnail:Be}:Fe))}})}catch(X){console.error("   :",X),_("  .")}finally{l(!1)}},Z=async()=>{try{const X={user_id:(n==null?void 0:n.id)||"anonymous"},ce={"Content-Type":"application/json",Accept:"text/plain"},ae=localStorage.getItem("accessToken");ae&&(ce.Authorization=`Bearer ${ae}`);const J=await fetch(`${D}/workspace/presentations`,{method:"POST",headers:ce,body:JSON.stringify(X),credentials:"include"});if(!J.ok)throw new Error(`HTTP error! status: ${J.status}`);return await J.text()}catch(X){return console.error("  :",X),_("  ."),null}},ne=async X=>{try{const ce={Accept:"application/json"},ae=localStorage.getItem("accessToken");ae&&(ce.Authorization=`Bearer ${ae}`);const J=await fetch(`${D}/workspace/presentations/${X}`,{method:"DELETE",headers:ce,credentials:"include"});if(!J.ok)throw new Error(`HTTP error! status: ${J.status}`);return!0}catch(ce){return console.error("  :",ce),_("  ."),!1}};ue.useEffect(()=>{e?H():l(!1)},[e]),ue.useEffect(()=>{E(0)},[u]);const le=async()=>{try{const X=await Z();console.log("handleCreatePresentation"+X),X&&t(`/editor/${X}`)}catch(X){console.error("   :",X)}},xe=X=>{t(`/editor/${X}`)},B=(X,ce)=>{X.stopPropagation(),ce.shareUrl&&(navigator.clipboard.writeText(ce.shareUrl),alert("   !"))},G=async(X,ce)=>{X.stopPropagation(),window.confirm("  ?")&&await Q(ce.id)},Q=async X=>{try{await ne(X)&&(i(ae=>ae.filter(J=>J.id!==X)),alert(" ."))}catch(ce){console.error("   :",ce)}},ee=X=>new Date(X).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}),$=()=>{v(!1),p(!0)},j=()=>{p(!1),v(!0)},K=(X,ce)=>{L(ae=>({...ae,[X]:ce}))};return s?fe.jsxs("div",{className:"workspace-loading",children:[fe.jsx("div",{className:"loading-spinner"}),fe.jsx("p",{children:" ..."})]}):g?fe.jsxs("div",{className:"workspace",children:[fe.jsx(mh,{variant:"workspace",onLoginClick:$,onRegisterClick:j}),fe.jsxs("div",{className:"workspace-error",children:[fe.jsx("p",{children:g}),fe.jsx("button",{onClick:H,children:" "})]})]}):e?fe.jsxs("div",{className:"workspace",children:[fe.jsx(mh,{variant:"workspace",onLoginClick:$,onRegisterClick:j}),fe.jsxs("div",{className:"workspace-hero",children:[fe.jsx("div",{className:"hero-left",children:fe.jsxs("h2",{className:"hero-title",children:["   ,",fe.jsx("br",{}),"    "]})}),fe.jsx("div",{className:"hero-right",children:fe.jsxs("button",{className:"create-presentation-btn",onClick:le,children:[fe.jsx(yi,{icon:"material-symbols:add",width:"24"})," "]})})]}),fe.jsx("div",{className:"workspace-footer-bg",children:fe.jsxs("div",{className:"workspace-main",children:[fe.jsxs("div",{className:"workspace-topbar",children:[fe.jsx("h2",{className:"workspace-main-title",children:"Workspace"}),fe.jsxs("div",{className:"workspace-search",children:[fe.jsx(yi,{icon:"material-symbols:search",width:"22"}),fe.jsx("input",{type:"text",placeholder:" ",value:u,onChange:X=>c(X.target.value)})]})]}),fe.jsx("div",{className:"presentations-row",children:V.map(X=>fe.jsxs("div",{className:"presentation-card",onClick:()=>xe(X.id),children:[fe.jsxs("div",{className:"card-thumbnail",children:[fe.jsx("img",{src:X.thumbnail||"/kimbanana/ui/assets/default-thumbnail.png",alt:X.title,onError:ce=>{ce.currentTarget.src="/kimbanana/ui/assets/default-thumbnail.png"}}),fe.jsx("div",{className:"card-overlay",children:fe.jsxs("div",{className:"card-actions",children:[X.isShared&&fe.jsx("button",{className:"action-btn share-btn",onClick:ce=>B(ce,X),title:"",children:fe.jsx(yi,{icon:"material-symbols:share",width:"20"})}),fe.jsx("button",{className:"action-btn more-btn",onClick:ce=>G(ce,X),title:"",children:fe.jsx(yi,{icon:"material-symbols:more-vert",width:"20"})})]})})]}),fe.jsxs("div",{className:"card-content",children:[fe.jsx("h3",{className:"card-title",children:X.title}),fe.jsx("p",{className:"card-date",children:ee(X.updatedAt)})]})]},X.id))}),U>1&&fe.jsxs("div",{className:"slide-navigation",children:[fe.jsx("button",{onClick:()=>E(X=>Math.max(0,X-1)),disabled:S===0,className:"nav-btn prev-btn",children:fe.jsx(yi,{icon:"material-symbols:chevron-left",width:"24"})}),fe.jsx("div",{className:"slide-indicators",children:Array.from({length:U},(X,ce)=>fe.jsx("button",{onClick:()=>E(ce),className:`indicator ${ce===S?"active":""}`},ce))}),fe.jsx("button",{onClick:()=>E(X=>Math.min(U-1,X+1)),disabled:S===U-1,className:"nav-btn next-btn",children:fe.jsx(yi,{icon:"material-symbols:chevron-right",width:"24"})})]})]})}),h&&fe.jsx(E4,{onClose:()=>p(!1),onSwitchToRegister:j}),y&&fe.jsx(A4,{onClose:()=>v(!1),onSwitchToLogin:$})]}):fe.jsxs("div",{className:"workspace",children:[fe.jsx(mh,{variant:"workspace",onLoginClick:$,onRegisterClick:j}),fe.jsxs("div",{className:"workspace-hero",children:[fe.jsxs("div",{className:"hero-left",children:[fe.jsxs("h2",{className:"hero-title",children:["   ,",fe.jsx("br",{}),"    "]}),fe.jsx("p",{className:"hero-subtitle",children:"   "})]}),fe.jsx("div",{className:"hero-right",children:fe.jsxs("button",{className:"create-presentation-btn",onClick:$,children:[fe.jsx(yi,{icon:"material-symbols:add",width:"24"})," "]})})]}),fe.jsx("div",{className:"workspace-footer-bg",children:fe.jsxs("div",{className:"workspace-main",children:[fe.jsxs("div",{className:"workspace-features",children:[fe.jsx("h2",{className:"features-title",children:"KimBanana  "}),fe.jsxs("div",{className:"features-grid",children:[fe.jsxs("div",{className:"feature-card",children:[fe.jsx("div",{className:"feature-icon",children:fe.jsx(yi,{icon:"material-symbols:history",width:"48"})}),fe.jsx("h3",{className:"feature-title",children:" "}),fe.jsx("p",{className:"feature-description",children:"     ,      ."})]}),fe.jsxs("div",{className:"feature-card",children:[fe.jsx("div",{className:"feature-icon",children:fe.jsx(yi,{icon:"material-symbols:group",width:"48"})}),fe.jsx("h3",{className:"feature-title",children:" "}),fe.jsx("p",{className:"feature-description",children:"   ,     ."})]}),fe.jsxs("div",{className:"feature-card",children:[fe.jsx("div",{className:"feature-icon",children:fe.jsx(yi,{icon:"material-symbols:draw",width:"48"})}),fe.jsx("h3",{className:"feature-title",children:" "}),fe.jsx("p",{className:"feature-description",children:"     ,     ."})]})]})]}),fe.jsxs("div",{className:"demo-section",children:[fe.jsx("h2",{className:"demo-title",children:"  "}),fe.jsxs("div",{className:"demo-presentations",children:[fe.jsxs("div",{className:"demo-card",onClick:()=>t("/editor/demo-1"),children:[fe.jsx("div",{className:"demo-thumbnail",children:fe.jsx("img",{src:x["demo-1"]||"/kimbanana/ui/assets/default-thumbnail.png",alt:" ",onError:X=>{X.currentTarget.src="/kimbanana/ui/assets/default-thumbnail.png"}})}),fe.jsxs("div",{className:"demo-content",children:[fe.jsx("h3",{className:"demo-card-title",children:" "}),fe.jsx("p",{className:"demo-description",children:"   "}),fe.jsx("span",{className:"demo-badge",children:""})]})]}),fe.jsxs("div",{className:"demo-card",onClick:()=>t("/editor/demo-2"),children:[fe.jsx("div",{className:"demo-thumbnail",children:fe.jsx("img",{src:x["demo-2"]||"/kimbanana/ui/assets/default-thumbnail.png",alt:" ",onError:X=>{X.currentTarget.src="/kimbanana/ui/assets/default-thumbnail.png"}})}),fe.jsxs("div",{className:"demo-content",children:[fe.jsx("h3",{className:"demo-card-title",children:" "}),fe.jsx("p",{className:"demo-description",children:"    "}),fe.jsx("span",{className:"demo-badge",children:""})]})]}),fe.jsxs("div",{className:"demo-card",onClick:()=>t("/editor/demo-3"),children:[fe.jsx("div",{className:"demo-thumbnail",children:fe.jsx("img",{src:x["demo-3"]||"/kimbanana/ui/assets/default-thumbnail.png",alt:" ",onError:X=>{X.currentTarget.src="/kimbanana/ui/assets/default-thumbnail.png"}})}),fe.jsxs("div",{className:"demo-content",children:[fe.jsx("h3",{className:"demo-card-title",children:" "}),fe.jsx("p",{className:"demo-description",children:"   "}),fe.jsx("span",{className:"demo-badge",children:""})]})]})]}),fe.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px"},children:Object.entries(v2).map(([X,ce])=>fe.jsx(E0,{slideId:X,slideData:ce.slides[0].data,onRendered:K},X))})]})]})}),h&&fe.jsx(E4,{onClose:()=>p(!1),onSwitchToRegister:j}),y&&fe.jsx(A4,{onClose:()=>v(!1),onSwitchToLogin:$})]})},pD=()=>fe.jsx(Cx,{children:fe.jsx(dx,{basename:"/kimbanana/ui",children:fe.jsxs(z_,{children:[fe.jsx(Wp,{path:"/",element:fe.jsx(hD,{})}),fe.jsx(Wp,{path:"/editor/:id",element:fe.jsx(iD,{})}),fe.jsx(Wp,{path:"/history/:presentationId",element:fe.jsx(cD,{})})]})})});P4.createRoot(document.getElementById("root")).render(fe.jsx(ue.StrictMode,{children:fe.jsx(pD,{})}));export{Dr as _,a5 as c,sd as g};
